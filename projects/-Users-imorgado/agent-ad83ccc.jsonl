{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","type":"user","message":{"role":"user","content":"Research how Discord-style forums are implemented in web applications. Use the mcp__grep__searchGitHub tool to find real-world examples.\n\nSearch for:\n1. Discord clone implementations with channels and threads\n2. Real-time messaging with channel organization\n3. Pinned messages/posts implementations\n4. Channel-based forum structures\n\nLook for patterns like:\n- 'channel' with TypeScript/React\n- 'discord clone' implementations\n- 'pinned message' components\n\nProvide a summary of the best patterns found for implementing Discord-style features."},"uuid":"21d00758-e61d-4787-a004-fb6eb2526180","timestamp":"2025-12-24T03:12:18.930Z"}
{"parentUuid":"21d00758-e61d-4787-a004-fb6eb2526180","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","message":{"model":"claude-opus-4-5-20251101","id":"msg_01JgzqX4h52dwADDZQvoco4x","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01MuRb1ARF5VxdVDxuD5TpsL","name":"mcp__grep__searchGitHub","input":{"query":"discord clone channel","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12218,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":12218,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnFQzVhKXXeoFta5dPH","type":"assistant","uuid":"327473b8-0da5-4501-9323-d1718a143e60","timestamp":"2025-12-24T03:12:21.601Z"}
{"parentUuid":"327473b8-0da5-4501-9323-d1718a143e60","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","message":{"model":"claude-opus-4-5-20251101","id":"msg_01JgzqX4h52dwADDZQvoco4x","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Gyo9fc64J65RysgT7dgrka","name":"mcp__grep__searchGitHub","input":{"query":"interface Channel {","language":["TypeScript"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12218,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":12218,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnFQzVhKXXeoFta5dPH","type":"assistant","uuid":"d08f69e5-3702-4ff4-ade4-bcf5856a1f6d","timestamp":"2025-12-24T03:12:22.392Z"}
{"parentUuid":"d08f69e5-3702-4ff4-ade4-bcf5856a1f6d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","message":{"model":"claude-opus-4-5-20251101","id":"msg_01JgzqX4h52dwADDZQvoco4x","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Cc2Z8vRQYp1PUokif9Xqmn","name":"mcp__grep__searchGitHub","input":{"query":"pinnedMessages","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12218,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":12218,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnFQzVhKXXeoFta5dPH","type":"assistant","uuid":"36a0d109-49f8-4025-80e3-ccc0ffc4e286","timestamp":"2025-12-24T03:12:23.121Z"}
{"parentUuid":"36a0d109-49f8-4025-80e3-ccc0ffc4e286","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","message":{"model":"claude-opus-4-5-20251101","id":"msg_01JgzqX4h52dwADDZQvoco4x","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01TXF4soaki6E17J4Wejt1W4","name":"mcp__grep__searchGitHub","input":{"query":"(?s)type Thread = {.*channelId","language":["TypeScript"],"useRegexp":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12218,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":12218,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnFQzVhKXXeoFta5dPH","type":"assistant","uuid":"37e5e773-6df3-4ae9-af75-0fa5e90f61a9","timestamp":"2025-12-24T03:12:24.371Z"}
{"parentUuid":"37e5e773-6df3-4ae9-af75-0fa5e90f61a9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"No results found for your query.\n\nIMPORTANT: This tool searches for literal code patterns that would appear in files, not keywords or natural language queries. For example:\n- Instead of 'react hook state', search for 'useState('\n- Instead of 'error handling', search 'catch ('","is_error":true,"tool_use_id":"toolu_01MuRb1ARF5VxdVDxuD5TpsL"}]},"uuid":"28ddd23f-00cb-4c7b-a8ef-0add94954830","timestamp":"2025-12-24T03:12:24.852Z","toolUseResult":"Error: No results found for your query.\n\nIMPORTANT: This tool searches for literal code patterns that would appear in files, not keywords or natural language queries. For example:\n- Instead of 'react hook state', search for 'useState('\n- Instead of 'error handling', search 'catch ('"}
{"parentUuid":"28ddd23f-00cb-4c7b-a8ef-0add94954830","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Gyo9fc64J65RysgT7dgrka","type":"tool_result","content":[{"type":"text","text":"Repository: DIYgod/RSSHub\nPath: lib/routes/dingshao/types.ts\nURL: https://github.com/DIYgod/RSSHub/blob/master/lib/routes/dingshao/types.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 11) ---\n    users: User[];\n    channelMessages: ChannelMessage[];\n    channelMessageInteractions: any[];\n}\n\ninterface Channel {\n    id: string;\n    owner: string;\n    profile: Profile;\n    tags: string[];\n    script: Script;\n"},{"type":"text","text":"Repository: ApolloAuto/apollo\nPath: modules/dreamview_plus/frontend/packages/dreamview-core/src/services/WebSocketManager/type.ts\nURL: https://github.com/ApolloAuto/apollo/blob/master/modules/dreamview_plus/frontend/packages/dreamview-core/src/services/WebSocketManager/type.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 6) ---\nimport { StreamDataNames } from '@dreamview/dreamview-core/src/services/api/types';\n\n/**\n * channel\n */\nexport interface Channel {\n    channelName: string;\n    msgType: string;\n    protoPath: string;\n}\n\n"},{"type":"text","text":"Repository: PipedreamHQ/pipedream\nPath: components/mattermost/common/types.ts\nURL: https://github.com/PipedreamHQ/pipedream/blob/master/components/mattermost/common/types.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 23) ---\n\nexport interface PostMessageResponse {\n  id: string;\n}\n\nexport interface Channel {\n  id: string;\n  name: string;\n  display_name: string;\n}\n\n"},{"type":"text","text":"Repository: mattermost-community/focalboard\nPath: webapp/src/store/channels.ts\nURL: https://github.com/mattermost-community/focalboard/blob/main/webapp/src/store/channels.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 10) ---\nexport const ChannelTypeDirectMessage = 'D'\nexport const ChannelTypeGroupMessage = 'G'\nconst channelTypes = [ChannelTypeOpen, ChannelTypePrivate, ChannelTypeDirectMessage, ChannelTypeGroupMessage]\ntype ChannelType = typeof channelTypes[number]\n\nexport interface Channel {\n    id: string\n    name: string\n    display_name: string\n    type: ChannelType\n}\n"},{"type":"text","text":"Repository: unionlabs/union\nPath: ts-sdk-sui/src/Sui.ts\nURL: https://github.com/unionlabs/union/blob/main/ts-sdk-sui/src/Sui.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 35) ---\n\n  /**\n   * @category models\n   * @since 0.0.0\n   */\n  export interface Channel {\n    readonly ucs03address: Address\n    readonly channelId: number\n  }\n}\n\n"},{"type":"text","text":"Repository: nocobase/nocobase\nPath: packages/plugins/@nocobase/plugin-notification-in-app-message/src/types/index.ts\nURL: https://github.com/nocobase/nocobase/blob/main/packages/plugins/%40nocobase/plugin-notification-in-app-message/src/types/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 4) ---\n * Authors: NocoBase Team.\n *\n * This project is dual-licensed under AGPL-3.0 and NocoBase Commercial License.\n * For more information, please refer to: https://www.nocobase.com/agreement.\n */\nexport interface Channel {\n  name: string;\n  title: string;\n  userId: string;\n  unreadMsgCnt: number;\n  totalMsgCnt: number;\n"},{"type":"text","text":"Repository: unionlabs/union\nPath: ts-sdk/src/Sui.ts\nURL: https://github.com/unionlabs/union/blob/main/ts-sdk/src/Sui.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 41) ---\n\n  /**\n   * @category models\n   * @since 2.0.0\n   */\n  export interface Channel {\n    readonly ucs03address: Address\n    readonly channelId: number\n  }\n}\n\n"},{"type":"text","text":"Repository: unionlabs/union\nPath: ts-sdk-cosmos/src/Cosmos.ts\nURL: https://github.com/unionlabs/union/blob/main/ts-sdk-cosmos/src/Cosmos.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 35) ---\n\n  /**\n   * @category models\n   * @since 2.0.0\n   */\n  export interface Channel {\n    readonly ucs03address: Ucs05.CosmosDisplay\n    readonly channelId: number\n  }\n}\n\n"},{"type":"text","text":"Repository: unionlabs/union\nPath: ts-sdk-evm/src/Evm.ts\nURL: https://github.com/unionlabs/union/blob/main/ts-sdk-evm/src/Evm.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 64) ---\n\n  /**\n   * @category models\n   * @since 0.0.0\n   */\n  export interface Channel {\n    readonly ucs03address: Address\n    readonly channelId: number\n  }\n}\n\n"},{"type":"text","text":"Repository: SigNoz/signoz\nPath: frontend/src/container/CreateAlertChannels/config.ts\nURL: https://github.com/SigNoz/signoz/blob/main/frontend/src/container/CreateAlertChannels/config.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport interface Channel {\n\tsend_resolved?: boolean;\n\tname: string;\n\tfilter?: Partial<Array<LabelFilterStatement>>;\n}\n\n"}]}]},"uuid":"05778978-8347-4cf4-b363-363566eb4c11","timestamp":"2025-12-24T03:12:25.102Z","toolUseResult":[{"type":"text","text":"Repository: DIYgod/RSSHub\nPath: lib/routes/dingshao/types.ts\nURL: https://github.com/DIYgod/RSSHub/blob/master/lib/routes/dingshao/types.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 11) ---\n    users: User[];\n    channelMessages: ChannelMessage[];\n    channelMessageInteractions: any[];\n}\n\ninterface Channel {\n    id: string;\n    owner: string;\n    profile: Profile;\n    tags: string[];\n    script: Script;\n"},{"type":"text","text":"Repository: ApolloAuto/apollo\nPath: modules/dreamview_plus/frontend/packages/dreamview-core/src/services/WebSocketManager/type.ts\nURL: https://github.com/ApolloAuto/apollo/blob/master/modules/dreamview_plus/frontend/packages/dreamview-core/src/services/WebSocketManager/type.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 6) ---\nimport { StreamDataNames } from '@dreamview/dreamview-core/src/services/api/types';\n\n/**\n * channel\n */\nexport interface Channel {\n    channelName: string;\n    msgType: string;\n    protoPath: string;\n}\n\n"},{"type":"text","text":"Repository: PipedreamHQ/pipedream\nPath: components/mattermost/common/types.ts\nURL: https://github.com/PipedreamHQ/pipedream/blob/master/components/mattermost/common/types.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 23) ---\n\nexport interface PostMessageResponse {\n  id: string;\n}\n\nexport interface Channel {\n  id: string;\n  name: string;\n  display_name: string;\n}\n\n"},{"type":"text","text":"Repository: mattermost-community/focalboard\nPath: webapp/src/store/channels.ts\nURL: https://github.com/mattermost-community/focalboard/blob/main/webapp/src/store/channels.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 10) ---\nexport const ChannelTypeDirectMessage = 'D'\nexport const ChannelTypeGroupMessage = 'G'\nconst channelTypes = [ChannelTypeOpen, ChannelTypePrivate, ChannelTypeDirectMessage, ChannelTypeGroupMessage]\ntype ChannelType = typeof channelTypes[number]\n\nexport interface Channel {\n    id: string\n    name: string\n    display_name: string\n    type: ChannelType\n}\n"},{"type":"text","text":"Repository: unionlabs/union\nPath: ts-sdk-sui/src/Sui.ts\nURL: https://github.com/unionlabs/union/blob/main/ts-sdk-sui/src/Sui.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 35) ---\n\n  /**\n   * @category models\n   * @since 0.0.0\n   */\n  export interface Channel {\n    readonly ucs03address: Address\n    readonly channelId: number\n  }\n}\n\n"},{"type":"text","text":"Repository: nocobase/nocobase\nPath: packages/plugins/@nocobase/plugin-notification-in-app-message/src/types/index.ts\nURL: https://github.com/nocobase/nocobase/blob/main/packages/plugins/%40nocobase/plugin-notification-in-app-message/src/types/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 4) ---\n * Authors: NocoBase Team.\n *\n * This project is dual-licensed under AGPL-3.0 and NocoBase Commercial License.\n * For more information, please refer to: https://www.nocobase.com/agreement.\n */\nexport interface Channel {\n  name: string;\n  title: string;\n  userId: string;\n  unreadMsgCnt: number;\n  totalMsgCnt: number;\n"},{"type":"text","text":"Repository: unionlabs/union\nPath: ts-sdk/src/Sui.ts\nURL: https://github.com/unionlabs/union/blob/main/ts-sdk/src/Sui.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 41) ---\n\n  /**\n   * @category models\n   * @since 2.0.0\n   */\n  export interface Channel {\n    readonly ucs03address: Address\n    readonly channelId: number\n  }\n}\n\n"},{"type":"text","text":"Repository: unionlabs/union\nPath: ts-sdk-cosmos/src/Cosmos.ts\nURL: https://github.com/unionlabs/union/blob/main/ts-sdk-cosmos/src/Cosmos.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 35) ---\n\n  /**\n   * @category models\n   * @since 2.0.0\n   */\n  export interface Channel {\n    readonly ucs03address: Ucs05.CosmosDisplay\n    readonly channelId: number\n  }\n}\n\n"},{"type":"text","text":"Repository: unionlabs/union\nPath: ts-sdk-evm/src/Evm.ts\nURL: https://github.com/unionlabs/union/blob/main/ts-sdk-evm/src/Evm.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 64) ---\n\n  /**\n   * @category models\n   * @since 0.0.0\n   */\n  export interface Channel {\n    readonly ucs03address: Address\n    readonly channelId: number\n  }\n}\n\n"},{"type":"text","text":"Repository: SigNoz/signoz\nPath: frontend/src/container/CreateAlertChannels/config.ts\nURL: https://github.com/SigNoz/signoz/blob/main/frontend/src/container/CreateAlertChannels/config.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport interface Channel {\n\tsend_resolved?: boolean;\n\tname: string;\n\tfilter?: Partial<Array<LabelFilterStatement>>;\n}\n\n"}]}
{"parentUuid":"05778978-8347-4cf4-b363-363566eb4c11","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Cc2Z8vRQYp1PUokif9Xqmn","type":"tool_result","content":[{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/ducks/pinnedMessages.preload.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/ducks/pinnedMessages.preload.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 16) ---\nimport type { DurationInSeconds } from '../../util/durations/duration-in-seconds.std.js';\nimport {\n  conversationJobQueue,\n  conversationQueueJobEnum,\n} from '../../jobs/conversationJobQueue.preload.js';\nimport { getPinnedMessagesLimit } from '../../util/pinnedMessages.dom.js';\nimport { getPinnedMessageExpiresAt } from '../../util/pinnedMessages.std.js';\nimport { getSelectedConversationId } from '../selectors/conversations.dom.js';\nimport type {\n  AddPreloadDataActionType,\n  ConsumePreloadDataActionType,\n  ConversationUnloadedActionType,\n\n\n--- Snippet 2 (Line 37) ---\n  TARGETED_CONVERSATION_CHANGED,\n} from './conversations.preload.js';\nimport { pinnedMessagesCleanupService } from '../../services/expiring/pinnedMessagesCleanupService.preload.js';\nimport { drop } from '../../util/drop.std.js';\n\ntype PreloadData = ReadonlyDeep<{\n  conversationId: string;\n  pinnedMessages: ReadonlyArray<PinnedMessageRenderData>;\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/components/conversation/pinned-messages/PinnedMessagesBar.dom.tsx\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/components/conversation/pinned-messages/PinnedMessagesBar.dom.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 61) ---\n  id: PinnedMessageId;\n  sender: PinSender;\n  message: PinMessage;\n}>;\n\nexport type PinnedMessagesBarProps = Readonly<{\n  i18n: LocalizerType;\n  pins: ReadonlyArray<Pin>;\n  current: PinnedMessageId;\n  onCurrentChange: (current: PinnedMessageId) => void;\n  onPinGoTo: (messageId: string) => void;\n  onPinRemove: (messageId: string) => void;\n  onPinsShowAll: () => void;\n  canPinMessages: boolean;\n}>;\n\nexport const PinnedMessagesBar = memo(function PinnedMessagesBar(\n  props: PinnedMessagesBarProps\n) {\n  const { i18n, onCurrentChange } = props;\n\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/smart/PinnedMessagesPanel.preload.tsx\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/smart/PinnedMessagesPanel.preload.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 6) ---\nimport { getIntl } from '../selectors/user.std.js';\nimport { getConversationByIdSelector } from '../selectors/conversations.dom.js';\nimport { strictAssert } from '../../util/assert.std.js';\nimport { PinnedMessagesPanel } from '../../components/conversation/pinned-messages/PinnedMessagesPanel.dom.js';\nimport type { SmartTimelineItemProps } from './TimelineItem.preload.js';\nimport { SmartTimelineItem } from './TimelineItem.preload.js';\nimport { getPinnedMessages } from '../selectors/pinnedMessages.dom.js';\nimport { canPinMessages as getCanPinMessages } from '../selectors/message.preload.js';\nimport { usePinnedMessagesActions } from '../ducks/pinnedMessages.preload.js';\nimport { useConversationsActions } from '../ducks/conversations.preload.js';\n\nexport type SmartPinnedMessagesPanelProps = Readonly<{\n  conversationId: string;\n}>;\n\nfunction renderTimelineItem(props: SmartTimelineItemProps) {\n  return <SmartTimelineItem {...props} />;\n}\n\nexport const SmartPinnedMessagesPanel = memo(function SmartPinnedMessagesPanel(\n  props: SmartPinnedMessagesPanelProps\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/sql/server/pinnedMessages.std.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/sql/server/pinnedMessages.std.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 44) ---\n    `Missing message ${pinnedMessage.messageId} for pinned message ${pinnedMessage.id}`\n  );\n  return { pinnedMessage, message };\n}\n\nexport function getPinnedMessagesForConversation(\n  db: ReadableDB,\n  conversationId: string\n): ReadonlyArray<PinnedMessageRenderData> {\n  return db.transaction(() => {\n    const [query, params] = sql`\n      SELECT * FROM pinnedMessages\n      WHERE conversationId = ${conversationId}\n      ORDER BY pinnedAt DESC\n    `;\n\n    return db\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/selectors/message.preload.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/selectors/message.preload.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 166) ---\nimport { getCallIdFromEra } from '../../util/callDisposition.preload.js';\nimport { LONG_MESSAGE } from '../../types/MIME.std.js';\nimport type { MessageRequestResponseNotificationData } from '../../components/conversation/MessageRequestResponseNotification.dom.js';\nimport type { PinnedMessageNotificationData } from '../../components/conversation/pinned-messages/PinnedMessageNotification.dom.js';\nimport { canEditGroupInfo } from '../../util/canEditGroupInfo.preload.js';\nimport { getPinnedMessagesMessageIds } from './pinnedMessages.dom.js';\nimport { isPinnedMessagesSendEnabled } from '../../util/isPinnedMessagesEnabled.dom.js';\nimport { getPinnedMessagesLimit } from '../../util/pinnedMessages.dom.js';\n\nconst { groupBy, isEmpty, isNumber, isObject, map } = lodash;\n\nconst log = createLogger('message');\n\n\n\n--- Snippet 2 (Line 206) ---\n  ourNumber?: string;\n  ourAci: AciString | undefined;\n  ourPni: PniString | undefined;\n  targetedMessageId?: string;\n  targetedMessageCounter?: number;\n  pinnedMessagesMessageIds: ReadonlyArray<string> | null;\n  selectedMessageIds: ReadonlyArray<string> | undefined;\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/messageModifiers/PinnedMessages.preload.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/messageModifiers/PinnedMessages.preload.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport { findMessageModifierTarget } from './helpers/findMessageModifierTarget.preload.js';\nimport { isValidSenderAciForConversation } from './helpers/isValidSenderAciForConversation.preload.js';\nimport { isGroupV2 } from '../util/whatTypeOfConversation.dom.js';\nimport { SignalService as Proto } from '../protobuf/index.std.js';\nimport type { ConversationModel } from '../models/conversations.preload.js';\nimport { getPinnedMessagesLimit } from '../util/pinnedMessages.dom.js';\nimport { getPinnedMessageExpiresAt } from '../util/pinnedMessages.std.js';\nimport { pinnedMessagesCleanupService } from '../services/expiring/pinnedMessagesCleanupService.preload.js';\nimport { drop } from '../util/drop.std.js';\n\nconst { AccessRequired } = Proto.AccessControl;\nconst { Role } = Proto.Member;\n\nconst parentLog = createLogger('PinnedMessages');\n\nexport type PinnedMessageAddProps = Readonly<{\n  targetSentTimestamp: number;\n  targetAuthorAci: AciString;\n  pinDuration: DurationInSeconds | null;\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/smart/PinnedMessagesBar.preload.tsx\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/smart/PinnedMessagesBar.preload.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 24) ---\n  PinMessageAttachment,\n  PinMessageContact,\n  PinMessagePoll,\n  PinMessageText,\n  PinSender,\n} from '../../components/conversation/pinned-messages/PinnedMessagesBar.dom.js';\nimport { PinnedMessagesBar } from '../../components/conversation/pinned-messages/PinnedMessagesBar.dom.js';\nimport { PanelType } from '../../types/Panels.std.js';\nimport type { PinnedMessageId } from '../../types/PinnedMessage.std.js';\nimport {\n  canPinMessages as getCanPinMessages,\n  getMessagePropsSelector,\n\n\n--- Snippet 2 (Line 37) ---\n} from '../selectors/message.preload.js';\nimport * as Attachment from '../../util/Attachment.std.js';\nimport * as MIME from '../../types/MIME.std.js';\nimport * as EmbeddedContact from '../../types/EmbeddedContact.std.js';\nimport type { StateSelector } from '../types.std.js';\nimport { usePinnedMessagesActions } from '../ducks/pinnedMessages.preload.js';\nimport { getPinnedMessages } from '../selectors/pinnedMessages.dom.js';\n\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/components/conversation/pinned-messages/PinnedMessagesPanel.dom.tsx\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/components/conversation/pinned-messages/PinnedMessagesPanel.dom.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 27) ---\nimport { MessageInteractivity } from '../Message.dom.js';\nimport { tw } from '../../../axo/tw.dom.js';\nimport { AxoButton } from '../../../axo/AxoButton.dom.js';\nimport { AxoAlertDialog } from '../../../axo/AxoAlertDialog.dom.js';\n\nexport type PinnedMessagesPanelProps = Readonly<{\n  i18n: LocalizerType;\n  conversation: ConversationType;\n  pinnedMessages: ReadonlyArray<PinnedMessageRenderData>;\n  canPinMessages: boolean;\n  onPinnedMessageRemoveAll: () => void;\n  renderTimelineItem: (props: SmartTimelineItemProps) => JSX.Element;\n}>;\n\nexport const PinnedMessagesPanel = memo(function PinnedMessagesPanel(\n  props: PinnedMessagesPanelProps\n) {\n  const { i18n } = props;\n  const containerElementRef = useRef<HTMLDivElement>(null);\n  const [containerWidthBreakpoint, setContainerWidthBreakpoint] = useState(\n    WidthBreakpoint.Wide\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/selectors/pinnedMessages.dom.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/selectors/pinnedMessages.dom.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 6) ---\nimport type { PinnedMessagesState } from '../ducks/pinnedMessages.preload.js';\nimport type { StateType } from '../reducer.preload.js';\nimport type { StateSelector } from '../types.std.js';\nimport { getSelectedConversationId } from './conversations.dom.js';\nimport { softAssert } from '../../util/assert.std.js';\n\nexport function getPinnedMessagesState(state: StateType): PinnedMessagesState {\n  return state.pinnedMessages;\n}\n\nexport const getPinnedMessages: StateSelector<\n  ReadonlyArray<PinnedMessageRenderData>\n> = createSelector(\n  getPinnedMessagesState,\n  getSelectedConversationId,\n  (state, selectedConversationId) => {\n    const expectedConversationId = selectedConversationId ?? null;\n    if (expectedConversationId !== state.conversationId) {\n      softAssert(\n        false,\n        'getPinnedMessages: State is not in sync with the selected conversation'\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/smart/Timeline.preload.tsx\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/smart/Timeline.preload.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 45) ---\n  type SmartTimelineItemProps,\n} from './TimelineItem.preload.js';\nimport { SmartTypingBubble } from './TypingBubble.preload.js';\nimport { AttachmentDownloadManager } from '../../jobs/AttachmentDownloadManager.preload.js';\nimport { isInFullScreenCall as getIsInFullScreenCall } from '../selectors/calling.std.js';\nimport { SmartPinnedMessagesBar } from './PinnedMessagesBar.preload.js';\nimport { getPinnedMessages } from '../selectors/pinnedMessages.dom.js';\n\nconst { isEmpty } = lodash;\n\ntype ExternalProps = {\n  id: string;\n\n\n--- Snippet 2 (Line 102) ---\n  return <SmartHeroRow id={id} />;\n}\nfunction renderMiniPlayer(options: { shouldFlow: boolean }): JSX.Element {\n  return <SmartMiniPlayer {...options} />;\n}\nfunction renderPinnedMessagesBar(): JSX.Element {\n  return <SmartPinnedMessagesBar />;\n}\n"}]}]},"uuid":"02e8dcdf-b04f-4e88-b9a4-bd74fd550944","timestamp":"2025-12-24T03:12:25.444Z","toolUseResult":[{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/ducks/pinnedMessages.preload.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/ducks/pinnedMessages.preload.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 16) ---\nimport type { DurationInSeconds } from '../../util/durations/duration-in-seconds.std.js';\nimport {\n  conversationJobQueue,\n  conversationQueueJobEnum,\n} from '../../jobs/conversationJobQueue.preload.js';\nimport { getPinnedMessagesLimit } from '../../util/pinnedMessages.dom.js';\nimport { getPinnedMessageExpiresAt } from '../../util/pinnedMessages.std.js';\nimport { getSelectedConversationId } from '../selectors/conversations.dom.js';\nimport type {\n  AddPreloadDataActionType,\n  ConsumePreloadDataActionType,\n  ConversationUnloadedActionType,\n\n\n--- Snippet 2 (Line 37) ---\n  TARGETED_CONVERSATION_CHANGED,\n} from './conversations.preload.js';\nimport { pinnedMessagesCleanupService } from '../../services/expiring/pinnedMessagesCleanupService.preload.js';\nimport { drop } from '../../util/drop.std.js';\n\ntype PreloadData = ReadonlyDeep<{\n  conversationId: string;\n  pinnedMessages: ReadonlyArray<PinnedMessageRenderData>;\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/components/conversation/pinned-messages/PinnedMessagesBar.dom.tsx\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/components/conversation/pinned-messages/PinnedMessagesBar.dom.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 61) ---\n  id: PinnedMessageId;\n  sender: PinSender;\n  message: PinMessage;\n}>;\n\nexport type PinnedMessagesBarProps = Readonly<{\n  i18n: LocalizerType;\n  pins: ReadonlyArray<Pin>;\n  current: PinnedMessageId;\n  onCurrentChange: (current: PinnedMessageId) => void;\n  onPinGoTo: (messageId: string) => void;\n  onPinRemove: (messageId: string) => void;\n  onPinsShowAll: () => void;\n  canPinMessages: boolean;\n}>;\n\nexport const PinnedMessagesBar = memo(function PinnedMessagesBar(\n  props: PinnedMessagesBarProps\n) {\n  const { i18n, onCurrentChange } = props;\n\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/smart/PinnedMessagesPanel.preload.tsx\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/smart/PinnedMessagesPanel.preload.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 6) ---\nimport { getIntl } from '../selectors/user.std.js';\nimport { getConversationByIdSelector } from '../selectors/conversations.dom.js';\nimport { strictAssert } from '../../util/assert.std.js';\nimport { PinnedMessagesPanel } from '../../components/conversation/pinned-messages/PinnedMessagesPanel.dom.js';\nimport type { SmartTimelineItemProps } from './TimelineItem.preload.js';\nimport { SmartTimelineItem } from './TimelineItem.preload.js';\nimport { getPinnedMessages } from '../selectors/pinnedMessages.dom.js';\nimport { canPinMessages as getCanPinMessages } from '../selectors/message.preload.js';\nimport { usePinnedMessagesActions } from '../ducks/pinnedMessages.preload.js';\nimport { useConversationsActions } from '../ducks/conversations.preload.js';\n\nexport type SmartPinnedMessagesPanelProps = Readonly<{\n  conversationId: string;\n}>;\n\nfunction renderTimelineItem(props: SmartTimelineItemProps) {\n  return <SmartTimelineItem {...props} />;\n}\n\nexport const SmartPinnedMessagesPanel = memo(function SmartPinnedMessagesPanel(\n  props: SmartPinnedMessagesPanelProps\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/sql/server/pinnedMessages.std.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/sql/server/pinnedMessages.std.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 44) ---\n    `Missing message ${pinnedMessage.messageId} for pinned message ${pinnedMessage.id}`\n  );\n  return { pinnedMessage, message };\n}\n\nexport function getPinnedMessagesForConversation(\n  db: ReadableDB,\n  conversationId: string\n): ReadonlyArray<PinnedMessageRenderData> {\n  return db.transaction(() => {\n    const [query, params] = sql`\n      SELECT * FROM pinnedMessages\n      WHERE conversationId = ${conversationId}\n      ORDER BY pinnedAt DESC\n    `;\n\n    return db\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/selectors/message.preload.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/selectors/message.preload.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 166) ---\nimport { getCallIdFromEra } from '../../util/callDisposition.preload.js';\nimport { LONG_MESSAGE } from '../../types/MIME.std.js';\nimport type { MessageRequestResponseNotificationData } from '../../components/conversation/MessageRequestResponseNotification.dom.js';\nimport type { PinnedMessageNotificationData } from '../../components/conversation/pinned-messages/PinnedMessageNotification.dom.js';\nimport { canEditGroupInfo } from '../../util/canEditGroupInfo.preload.js';\nimport { getPinnedMessagesMessageIds } from './pinnedMessages.dom.js';\nimport { isPinnedMessagesSendEnabled } from '../../util/isPinnedMessagesEnabled.dom.js';\nimport { getPinnedMessagesLimit } from '../../util/pinnedMessages.dom.js';\n\nconst { groupBy, isEmpty, isNumber, isObject, map } = lodash;\n\nconst log = createLogger('message');\n\n\n\n--- Snippet 2 (Line 206) ---\n  ourNumber?: string;\n  ourAci: AciString | undefined;\n  ourPni: PniString | undefined;\n  targetedMessageId?: string;\n  targetedMessageCounter?: number;\n  pinnedMessagesMessageIds: ReadonlyArray<string> | null;\n  selectedMessageIds: ReadonlyArray<string> | undefined;\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/messageModifiers/PinnedMessages.preload.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/messageModifiers/PinnedMessages.preload.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport { findMessageModifierTarget } from './helpers/findMessageModifierTarget.preload.js';\nimport { isValidSenderAciForConversation } from './helpers/isValidSenderAciForConversation.preload.js';\nimport { isGroupV2 } from '../util/whatTypeOfConversation.dom.js';\nimport { SignalService as Proto } from '../protobuf/index.std.js';\nimport type { ConversationModel } from '../models/conversations.preload.js';\nimport { getPinnedMessagesLimit } from '../util/pinnedMessages.dom.js';\nimport { getPinnedMessageExpiresAt } from '../util/pinnedMessages.std.js';\nimport { pinnedMessagesCleanupService } from '../services/expiring/pinnedMessagesCleanupService.preload.js';\nimport { drop } from '../util/drop.std.js';\n\nconst { AccessRequired } = Proto.AccessControl;\nconst { Role } = Proto.Member;\n\nconst parentLog = createLogger('PinnedMessages');\n\nexport type PinnedMessageAddProps = Readonly<{\n  targetSentTimestamp: number;\n  targetAuthorAci: AciString;\n  pinDuration: DurationInSeconds | null;\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/smart/PinnedMessagesBar.preload.tsx\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/smart/PinnedMessagesBar.preload.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 24) ---\n  PinMessageAttachment,\n  PinMessageContact,\n  PinMessagePoll,\n  PinMessageText,\n  PinSender,\n} from '../../components/conversation/pinned-messages/PinnedMessagesBar.dom.js';\nimport { PinnedMessagesBar } from '../../components/conversation/pinned-messages/PinnedMessagesBar.dom.js';\nimport { PanelType } from '../../types/Panels.std.js';\nimport type { PinnedMessageId } from '../../types/PinnedMessage.std.js';\nimport {\n  canPinMessages as getCanPinMessages,\n  getMessagePropsSelector,\n\n\n--- Snippet 2 (Line 37) ---\n} from '../selectors/message.preload.js';\nimport * as Attachment from '../../util/Attachment.std.js';\nimport * as MIME from '../../types/MIME.std.js';\nimport * as EmbeddedContact from '../../types/EmbeddedContact.std.js';\nimport type { StateSelector } from '../types.std.js';\nimport { usePinnedMessagesActions } from '../ducks/pinnedMessages.preload.js';\nimport { getPinnedMessages } from '../selectors/pinnedMessages.dom.js';\n\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/components/conversation/pinned-messages/PinnedMessagesPanel.dom.tsx\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/components/conversation/pinned-messages/PinnedMessagesPanel.dom.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 27) ---\nimport { MessageInteractivity } from '../Message.dom.js';\nimport { tw } from '../../../axo/tw.dom.js';\nimport { AxoButton } from '../../../axo/AxoButton.dom.js';\nimport { AxoAlertDialog } from '../../../axo/AxoAlertDialog.dom.js';\n\nexport type PinnedMessagesPanelProps = Readonly<{\n  i18n: LocalizerType;\n  conversation: ConversationType;\n  pinnedMessages: ReadonlyArray<PinnedMessageRenderData>;\n  canPinMessages: boolean;\n  onPinnedMessageRemoveAll: () => void;\n  renderTimelineItem: (props: SmartTimelineItemProps) => JSX.Element;\n}>;\n\nexport const PinnedMessagesPanel = memo(function PinnedMessagesPanel(\n  props: PinnedMessagesPanelProps\n) {\n  const { i18n } = props;\n  const containerElementRef = useRef<HTMLDivElement>(null);\n  const [containerWidthBreakpoint, setContainerWidthBreakpoint] = useState(\n    WidthBreakpoint.Wide\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/selectors/pinnedMessages.dom.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/selectors/pinnedMessages.dom.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 6) ---\nimport type { PinnedMessagesState } from '../ducks/pinnedMessages.preload.js';\nimport type { StateType } from '../reducer.preload.js';\nimport type { StateSelector } from '../types.std.js';\nimport { getSelectedConversationId } from './conversations.dom.js';\nimport { softAssert } from '../../util/assert.std.js';\n\nexport function getPinnedMessagesState(state: StateType): PinnedMessagesState {\n  return state.pinnedMessages;\n}\n\nexport const getPinnedMessages: StateSelector<\n  ReadonlyArray<PinnedMessageRenderData>\n> = createSelector(\n  getPinnedMessagesState,\n  getSelectedConversationId,\n  (state, selectedConversationId) => {\n    const expectedConversationId = selectedConversationId ?? null;\n    if (expectedConversationId !== state.conversationId) {\n      softAssert(\n        false,\n        'getPinnedMessages: State is not in sync with the selected conversation'\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/state/smart/Timeline.preload.tsx\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/state/smart/Timeline.preload.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 45) ---\n  type SmartTimelineItemProps,\n} from './TimelineItem.preload.js';\nimport { SmartTypingBubble } from './TypingBubble.preload.js';\nimport { AttachmentDownloadManager } from '../../jobs/AttachmentDownloadManager.preload.js';\nimport { isInFullScreenCall as getIsInFullScreenCall } from '../selectors/calling.std.js';\nimport { SmartPinnedMessagesBar } from './PinnedMessagesBar.preload.js';\nimport { getPinnedMessages } from '../selectors/pinnedMessages.dom.js';\n\nconst { isEmpty } = lodash;\n\ntype ExternalProps = {\n  id: string;\n\n\n--- Snippet 2 (Line 102) ---\n  return <SmartHeroRow id={id} />;\n}\nfunction renderMiniPlayer(options: { shouldFlow: boolean }): JSX.Element {\n  return <SmartMiniPlayer {...options} />;\n}\nfunction renderPinnedMessagesBar(): JSX.Element {\n  return <SmartPinnedMessagesBar />;\n}\n"}]}
{"parentUuid":"02e8dcdf-b04f-4e88-b9a4-bd74fd550944","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TXF4soaki6E17J4Wejt1W4","type":"tool_result","content":[{"type":"text","text":"Repository: CrowdDotDev/crowd.dev\nPath: backend/src/serverless/integrations/types/iteratorTypes.ts\nURL: https://github.com/CrowdDotDev/crowd.dev/blob/main/backend/src/serverless/integrations/types/iteratorTypes.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 31) ---\n  users: Object\n}\n\nexport interface DevtoOutput extends BaseOutput {}\n\nexport type Thread = {\n  threadId: string\n  channelId: string\n  placeholder: string\n  channel: string\n  new: boolean\n"},{"type":"text","text":"Repository: imagineapi/imagineapi\nPath: bot/src/bot/actions.ts\nURL: https://github.com/imagineapi/imagineapi/blob/main/bot/src/bot/actions.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 43) ---\ntype Thread = { type: number; id: string; name: string };\n\nasync function createThread(\n  token: string,\n  channelId: string,\n  threadName: string,\n  autoArchiveDuration: number\n): Promise<Thread> {\n  const body = JSON.stringify({\n    name: threadName,\n    auto_archive_duration: autoArchiveDuration,\n    type: 11, // Use 11 for a public thread, 12 for a private thread, or 10 for a news thread\n  });\n\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: token,\n  };\n\n  const response = await fetch(\n    `https://discord.com/api/v9/channels/${channelId}/threads`,\n"}]}]},"uuid":"f7c9e89b-743a-43ac-b9cc-f932327ee616","timestamp":"2025-12-24T03:12:25.731Z","toolUseResult":[{"type":"text","text":"Repository: CrowdDotDev/crowd.dev\nPath: backend/src/serverless/integrations/types/iteratorTypes.ts\nURL: https://github.com/CrowdDotDev/crowd.dev/blob/main/backend/src/serverless/integrations/types/iteratorTypes.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 31) ---\n  users: Object\n}\n\nexport interface DevtoOutput extends BaseOutput {}\n\nexport type Thread = {\n  threadId: string\n  channelId: string\n  placeholder: string\n  channel: string\n  new: boolean\n"},{"type":"text","text":"Repository: imagineapi/imagineapi\nPath: bot/src/bot/actions.ts\nURL: https://github.com/imagineapi/imagineapi/blob/main/bot/src/bot/actions.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 43) ---\ntype Thread = { type: number; id: string; name: string };\n\nasync function createThread(\n  token: string,\n  channelId: string,\n  threadName: string,\n  autoArchiveDuration: number\n): Promise<Thread> {\n  const body = JSON.stringify({\n    name: threadName,\n    auto_archive_duration: autoArchiveDuration,\n    type: 11, // Use 11 for a public thread, 12 for a private thread, or 10 for a news thread\n  });\n\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: token,\n  };\n\n  const response = await fetch(\n    `https://discord.com/api/v9/channels/${channelId}/threads`,\n"}]}
{"parentUuid":"f7c9e89b-743a-43ac-b9cc-f932327ee616","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01818LT4UJF54HQipS7k1WvF","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011kmmbDsBaBvzvJHzZXKMxf","name":"mcp__grep__searchGitHub","input":{"query":"(?s)const Channel.*=.*{.*messages","language":["TypeScript","TSX"],"useRegexp":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":6195,"cache_read_input_tokens":12218,"cache_creation":{"ephemeral_5m_input_tokens":6195,"ephemeral_1h_input_tokens":0},"output_tokens":27,"service_tier":"standard"}},"requestId":"req_011CWQnFuzG9sQnYeswsYog8","type":"assistant","uuid":"3b5a8fd1-cac9-4bf8-827a-0e747a989d1a","timestamp":"2025-12-24T03:12:31.499Z"}
{"parentUuid":"3b5a8fd1-cac9-4bf8-827a-0e747a989d1a","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01818LT4UJF54HQipS7k1WvF","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01GrYrBa1pvnccGsCLzRZXUL","name":"mcp__grep__searchGitHub","input":{"query":"ChannelList","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":6195,"cache_read_input_tokens":12218,"cache_creation":{"ephemeral_5m_input_tokens":6195,"ephemeral_1h_input_tokens":0},"output_tokens":27,"service_tier":"standard"}},"requestId":"req_011CWQnFuzG9sQnYeswsYog8","type":"assistant","uuid":"31d1da95-665e-4968-9c73-02fb94821b3b","timestamp":"2025-12-24T03:12:32.345Z"}
{"parentUuid":"31d1da95-665e-4968-9c73-02fb94821b3b","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01818LT4UJF54HQipS7k1WvF","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01VdnZAmsEXm2WVobrF8JvzT","name":"mcp__grep__searchGitHub","input":{"query":"useChannel","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":6195,"cache_read_input_tokens":12218,"cache_creation":{"ephemeral_5m_input_tokens":6195,"ephemeral_1h_input_tokens":0},"output_tokens":27,"service_tier":"standard"}},"requestId":"req_011CWQnFuzG9sQnYeswsYog8","type":"assistant","uuid":"b02527fd-c21c-4000-86e0-39daae2846bd","timestamp":"2025-12-24T03:12:33.152Z"}
{"parentUuid":"b02527fd-c21c-4000-86e0-39daae2846bd","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01818LT4UJF54HQipS7k1WvF","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01XyzHGk4mReTzUtEEbgRyFS","name":"mcp__grep__searchGitHub","input":{"query":"createChannel(","language":["TypeScript"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":6195,"cache_read_input_tokens":12218,"cache_creation":{"ephemeral_5m_input_tokens":6195,"ephemeral_1h_input_tokens":0},"output_tokens":27,"service_tier":"standard"}},"requestId":"req_011CWQnFuzG9sQnYeswsYog8","type":"assistant","uuid":"27e0666f-3d37-4264-bf3e-de5f7b569b5c","timestamp":"2025-12-24T03:12:33.741Z"}
{"parentUuid":"27e0666f-3d37-4264-bf3e-de5f7b569b5c","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011kmmbDsBaBvzvJHzZXKMxf","type":"tool_result","content":[{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Microsoft/Teams/v2/helpers/utils-trigger.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Microsoft/Teams/v2/helpers/utils-trigger.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 96) ---\n\t\t\t\tconst teamChannels = await Promise.all(\n\t\t\t\t\tteams.map(async (team) => {\n\t\t\t\t\t\tconst channels = await fetchAllChannels.call(this, team.id);\n\t\t\t\t\t\treturn channels.map((channel) => `/teams/${team.id}/channels/${channel.id}/messages`);\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t\treturn teamChannels.flat();\n\t\t\t} else {\n\t\t\t\tconst teamId = this.getNodeParameter('teamId', undefined, { extractValue: true }) as string;\n\t\t\t\tconst watchAllChannels = this.getNodeParameter('watchAllChannels', false, {\n\t\t\t\t\textractValue: true,\n\t\t\t\t}) as boolean;\n\n\t\t\t\tif (watchAllChannels) {\n\t\t\t\t\tconst channels = await fetchAllChannels.call(this, teamId);\n\t\t\t\t\treturn channels.map((channel) => `/teams/${teamId}/channels/${channel.id}/messages`);\n\t\t\t\t} else {\n\t\t\t\t\tconst channelId = this.getNodeParameter('channelId', undefined, {\n\t\t\t\t\t\textractValue: true,\n\t\t\t\t\t}) as string;\n\t\t\t\t\treturn `/teams/${teamId}/channels/${decodeURIComponent(channelId)}/messages`;\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/sidebar/hooks/useRoomList.ts\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/sidebar/hooks/useRoomList.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 72) ---\n\t\t\tconst channels = new Set();\n\t\t\tconst direct = new Set();\n\t\t\tconst discussion = new Set();\n\t\t\tconst conversation = new Set();\n\t\t\tconst onHold = new Set();\n\n\t\t\trooms.forEach((room) => {\n\t\t\t\tif (room.archived) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (incomingCalls.find((call) => call.rid === room.rid)) {\n\t\t\t\t\treturn incomingCall.add(room);\n\t\t\t\t}\n\n\t\t\t\tif (sidebarShowUnread && (room.alert || room.unread) && !room.hideUnreadStatus) {\n\t\t\t\t\treturn unread.add(room);\n\t\t\t\t}\n\n\t\t\t\tif (favoritesEnabled && room.f) {\n\t\t\t\t\treturn favorite.add(room);\n"},{"type":"text","text":"Repository: socketio/socket.io\nPath: packages/socket.io-cluster-engine/lib/redis.ts\nURL: https://github.com/socketio/socket.io/blob/main/packages/socket.io-cluster-engine/lib/redis.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 38) ---\n  const channels = [channelName(prefix), channelName(prefix, primaryId)];\n\n  debug(\"subscribing to redis channels: %s\", channels);\n  SUBSCRIBE(subClient, channels, (buffer: Buffer) => {\n    let message: Message & { _source?: string; _primaryId?: string };\n    try {\n      message = decode(buffer) as Message;\n    } catch (e) {\n      debug(\"ignore malformed buffer\");\n      return;\n    }\n\n    if (message._source !== MESSAGE_SOURCE) {\n      debug(\"ignore message from unknown source\");\n      return;\n    }\n\n    if (message._primaryId === primaryId) {\n      debug(\"ignore message from self\");\n      return;\n    }\n"},{"type":"text","text":"Repository: DIYgod/RSSHub\nPath: lib/routes/discord/channel.ts\nURL: https://github.com/DIYgod/RSSHub/blob/master/lib/routes/discord/channel.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 44) ---\n    const channelId = ctx.req.param('channelId');\n\n    const channelInfo = await getChannel(channelId, authorization);\n    const messagesRaw = await getChannelMessages(channelId, authorization, ctx.req.query('limit') ?? 100);\n    const { name: channelName, topic: channelTopic, guild_id: guildId } = channelInfo;\n\n    const guildInfo = await getGuild(guildId, authorization);\n    const { name: guildName, icon: guidIcon } = guildInfo;\n\n    const messages = messagesRaw.map((message) => ({\n        title: message.content.split('\\n')[0],\n        description: art(path.join(__dirname, 'templates/message.art'), { message, guildInfo }),\n        author: `${message.author.global_name ?? message.author.username}(${message.author.username})`,\n        pubDate: parseDate(message.timestamp),\n        updated: message.edited_timestamp ? parseDate(message.edited_timestamp) : undefined,\n        category: `#${channelName}`,\n        link: `${baseUrl}/channels/${guildId}/${channelId}/${message.id}`,\n    }));\n\n    return {\n        title: `#${channelName} - ${guildName} - Discord`,\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/views/admin/import/PrepareImportPage.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/views/admin/import/PrepareImportPage.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 56) ---\n\tconst channelsCount = useMemo(() => channels.filter(({ do_import }) => do_import).length, [channels]);\n\tconst contactsCount = useMemo(() => contacts.filter(({ do_import }) => do_import).length, [contacts]);\n\n\tconst router = useRouter();\n\n\tconst getImportFileData = useEndpoint('GET', '/v1/getImportFileData');\n\tconst getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\n\tconst startImport = useEndpoint('POST', '/v1/startImport');\n\n\tconst streamer = useStream('importers');\n\n\tuseEffect(\n\t\t() =>\n\t\t\tstreamer('progress', (progress) => {\n\t\t\t\t// Ignore any update without the rate since we're not showing any other info anyway\n\t\t\t\tif ('rate' in progress) {\n\t\t\t\t\tsetProgressRate(progress.rate);\n\t\t\t\t}\n\t\t\t}),\n\t\t[streamer, setProgressRate],\n\t);\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/toast_wrapper/index.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/toast_wrapper/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 87) ---\n    const getRootPosts = makeGetRootPosts();\n    const preparePostIdsForPostList = makePreparePostIdsForPostList();\n    return function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n        let newRecentMessagesCount = 0;\n        const channelMarkedAsUnread = isManuallyUnread(state, ownProps.channelId);\n        const lastViewedAt = state.views.channel.lastChannelViewTime[ownProps.channelId];\n        const unreadScrollPosition = getUnreadScrollPositionPreference(state);\n        if (!ownProps.atLatestPost) {\n            let postIds = getPostIdsInChannel(state, ownProps.channelId) || [];\n            if (postIds) {\n                postIds = preparePostIdsForPostList(state, {postIds, lastViewedAt});\n            }\n            newRecentMessagesCount = countUnreadsBelow(state, postIds, lastViewedAt);\n        }\n        return {\n            rootPosts: getRootPosts(state),\n            lastViewedAt,\n            newRecentMessagesCount,\n            unreadScrollPosition,\n            isCollapsedThreadsEnabled: isCollapsedThreadsEnabled(state),\n            unreadCountInChannel: countCurrentChannelUnreadMessages(state),\n"},{"type":"text","text":"Repository: DIYgod/RSSHub\nPath: lib/routes/gov/moa/moa.ts\nURL: https://github.com/DIYgod/RSSHub/blob/master/lib/routes/gov/moa/moa.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 83) ---\n    const channelTitle = channelTitleText ?? $(channelTitleSelector).text();\n\n    const pageInfos = $(listSelector)\n        .toArray()\n        .map((e) => {\n            const element = $(e);\n            const titleElement = element.find(titleSelector);\n\n            const title = titleElement.text();\n            const [link, pageType] = dealLink(titleElement, url);\n            const dateraw = element.find(dateSelector).text().trim();\n\n            return {\n                pageType,\n                title,\n                link,\n                // \n                // \n                // \n                pubDate: parseRelativeDate(dateraw),\n            };\n"},{"type":"text","text":"Repository: socketio/socket.io\nPath: packages/socket.io-postgres-emitter/lib/index.ts\nURL: https://github.com/socketio/socket.io/blob/main/packages/socket.io-postgres-emitter/lib/index.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 97) ---\n    const channelPrefix = opts.channelPrefix || \"socket.io\";\n    this.channel = `${channelPrefix}#${nsp}`;\n    this.tableName = opts.tableName || \"socket_io_attachments\";\n    this.payloadThreshold = opts.payloadThreshold || 8000;\n  }\n\n  /**\n   * Return a new emitter for the given namespace.\n   *\n   * @param nsp - namespace\n   * @public\n   */\n  public of(nsp: string): Emitter {\n    return new Emitter(this.pool, (nsp[0] !== \"/\" ? \"/\" : \"\") + nsp);\n  }\n\n  /**\n   * Emits to all clients.\n   *\n   * @return Always true\n   * @public\n"},{"type":"text","text":"Repository: activepieces/activepieces\nPath: packages/pieces/community/rabbitmq/src/lib/triggers/message-received.ts\nURL: https://github.com/activepieces/activepieces/blob/main/packages/pieces/community/rabbitmq/src/lib/triggers/message-received.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 20) ---\n    const channel = await connection.createChannel();\n    const messages = [];\n\n    try {\n      const queueInfo = await channel.checkQueue(propsValue.queue);\n\n      if (queueInfo.messageCount === 0) {\n        return [];\n      }\n\n      for (let i = 0; i < propsValue.maxMessagesPerPoll; i++) {\n        const message = await channel.get(propsValue.queue);\n        if (!message) {\n          break;\n        }\n        messages.push({\n          id: dayjs().toISOString(),\n          data: JSON.parse(message.content.toString()),\n        });\n        channel.ack(message);\n      }\n"},{"type":"text","text":"Repository: activepieces/activepieces\nPath: packages/pieces/community/slack/src/lib/triggers/new-mention.ts\nURL: https://github.com/activepieces/activepieces/blob/main/packages/pieces/community/slack/src/lib/triggers/new-mention.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 35) ---\n        const channels = await getChannels(accessToken);\n        return {\n          disabled: false,\n          placeholder: 'Select channel',\n          options: channels,\n        };\n      },\n    }),\n    ignoreBots: Property.Checkbox({\n      displayName: 'Ignore Bot Messages ?',\n      required: true,\n      defaultValue: false,\n    }),\n  },\n  type: TriggerStrategy.APP_WEBHOOK,\n  sampleData: undefined,\n  onEnable: async (context) => {\n    // Older OAuth2 has team_id, newer has team.id\n    const teamId =\n      context.auth.data['team_id'] ?? context.auth.data['team']['id'];\n    context.app.createListeners({\n"}]}]},"uuid":"9b612354-75f1-450b-b595-d3c4375d5b55","timestamp":"2025-12-24T03:12:34.123Z","toolUseResult":[{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Microsoft/Teams/v2/helpers/utils-trigger.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Microsoft/Teams/v2/helpers/utils-trigger.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 96) ---\n\t\t\t\tconst teamChannels = await Promise.all(\n\t\t\t\t\tteams.map(async (team) => {\n\t\t\t\t\t\tconst channels = await fetchAllChannels.call(this, team.id);\n\t\t\t\t\t\treturn channels.map((channel) => `/teams/${team.id}/channels/${channel.id}/messages`);\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t\treturn teamChannels.flat();\n\t\t\t} else {\n\t\t\t\tconst teamId = this.getNodeParameter('teamId', undefined, { extractValue: true }) as string;\n\t\t\t\tconst watchAllChannels = this.getNodeParameter('watchAllChannels', false, {\n\t\t\t\t\textractValue: true,\n\t\t\t\t}) as boolean;\n\n\t\t\t\tif (watchAllChannels) {\n\t\t\t\t\tconst channels = await fetchAllChannels.call(this, teamId);\n\t\t\t\t\treturn channels.map((channel) => `/teams/${teamId}/channels/${channel.id}/messages`);\n\t\t\t\t} else {\n\t\t\t\t\tconst channelId = this.getNodeParameter('channelId', undefined, {\n\t\t\t\t\t\textractValue: true,\n\t\t\t\t\t}) as string;\n\t\t\t\t\treturn `/teams/${teamId}/channels/${decodeURIComponent(channelId)}/messages`;\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/sidebar/hooks/useRoomList.ts\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/sidebar/hooks/useRoomList.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 72) ---\n\t\t\tconst channels = new Set();\n\t\t\tconst direct = new Set();\n\t\t\tconst discussion = new Set();\n\t\t\tconst conversation = new Set();\n\t\t\tconst onHold = new Set();\n\n\t\t\trooms.forEach((room) => {\n\t\t\t\tif (room.archived) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (incomingCalls.find((call) => call.rid === room.rid)) {\n\t\t\t\t\treturn incomingCall.add(room);\n\t\t\t\t}\n\n\t\t\t\tif (sidebarShowUnread && (room.alert || room.unread) && !room.hideUnreadStatus) {\n\t\t\t\t\treturn unread.add(room);\n\t\t\t\t}\n\n\t\t\t\tif (favoritesEnabled && room.f) {\n\t\t\t\t\treturn favorite.add(room);\n"},{"type":"text","text":"Repository: socketio/socket.io\nPath: packages/socket.io-cluster-engine/lib/redis.ts\nURL: https://github.com/socketio/socket.io/blob/main/packages/socket.io-cluster-engine/lib/redis.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 38) ---\n  const channels = [channelName(prefix), channelName(prefix, primaryId)];\n\n  debug(\"subscribing to redis channels: %s\", channels);\n  SUBSCRIBE(subClient, channels, (buffer: Buffer) => {\n    let message: Message & { _source?: string; _primaryId?: string };\n    try {\n      message = decode(buffer) as Message;\n    } catch (e) {\n      debug(\"ignore malformed buffer\");\n      return;\n    }\n\n    if (message._source !== MESSAGE_SOURCE) {\n      debug(\"ignore message from unknown source\");\n      return;\n    }\n\n    if (message._primaryId === primaryId) {\n      debug(\"ignore message from self\");\n      return;\n    }\n"},{"type":"text","text":"Repository: DIYgod/RSSHub\nPath: lib/routes/discord/channel.ts\nURL: https://github.com/DIYgod/RSSHub/blob/master/lib/routes/discord/channel.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 44) ---\n    const channelId = ctx.req.param('channelId');\n\n    const channelInfo = await getChannel(channelId, authorization);\n    const messagesRaw = await getChannelMessages(channelId, authorization, ctx.req.query('limit') ?? 100);\n    const { name: channelName, topic: channelTopic, guild_id: guildId } = channelInfo;\n\n    const guildInfo = await getGuild(guildId, authorization);\n    const { name: guildName, icon: guidIcon } = guildInfo;\n\n    const messages = messagesRaw.map((message) => ({\n        title: message.content.split('\\n')[0],\n        description: art(path.join(__dirname, 'templates/message.art'), { message, guildInfo }),\n        author: `${message.author.global_name ?? message.author.username}(${message.author.username})`,\n        pubDate: parseDate(message.timestamp),\n        updated: message.edited_timestamp ? parseDate(message.edited_timestamp) : undefined,\n        category: `#${channelName}`,\n        link: `${baseUrl}/channels/${guildId}/${channelId}/${message.id}`,\n    }));\n\n    return {\n        title: `#${channelName} - ${guildName} - Discord`,\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/views/admin/import/PrepareImportPage.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/views/admin/import/PrepareImportPage.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 56) ---\n\tconst channelsCount = useMemo(() => channels.filter(({ do_import }) => do_import).length, [channels]);\n\tconst contactsCount = useMemo(() => contacts.filter(({ do_import }) => do_import).length, [contacts]);\n\n\tconst router = useRouter();\n\n\tconst getImportFileData = useEndpoint('GET', '/v1/getImportFileData');\n\tconst getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\n\tconst startImport = useEndpoint('POST', '/v1/startImport');\n\n\tconst streamer = useStream('importers');\n\n\tuseEffect(\n\t\t() =>\n\t\t\tstreamer('progress', (progress) => {\n\t\t\t\t// Ignore any update without the rate since we're not showing any other info anyway\n\t\t\t\tif ('rate' in progress) {\n\t\t\t\t\tsetProgressRate(progress.rate);\n\t\t\t\t}\n\t\t\t}),\n\t\t[streamer, setProgressRate],\n\t);\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/toast_wrapper/index.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/toast_wrapper/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 87) ---\n    const getRootPosts = makeGetRootPosts();\n    const preparePostIdsForPostList = makePreparePostIdsForPostList();\n    return function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n        let newRecentMessagesCount = 0;\n        const channelMarkedAsUnread = isManuallyUnread(state, ownProps.channelId);\n        const lastViewedAt = state.views.channel.lastChannelViewTime[ownProps.channelId];\n        const unreadScrollPosition = getUnreadScrollPositionPreference(state);\n        if (!ownProps.atLatestPost) {\n            let postIds = getPostIdsInChannel(state, ownProps.channelId) || [];\n            if (postIds) {\n                postIds = preparePostIdsForPostList(state, {postIds, lastViewedAt});\n            }\n            newRecentMessagesCount = countUnreadsBelow(state, postIds, lastViewedAt);\n        }\n        return {\n            rootPosts: getRootPosts(state),\n            lastViewedAt,\n            newRecentMessagesCount,\n            unreadScrollPosition,\n            isCollapsedThreadsEnabled: isCollapsedThreadsEnabled(state),\n            unreadCountInChannel: countCurrentChannelUnreadMessages(state),\n"},{"type":"text","text":"Repository: DIYgod/RSSHub\nPath: lib/routes/gov/moa/moa.ts\nURL: https://github.com/DIYgod/RSSHub/blob/master/lib/routes/gov/moa/moa.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 83) ---\n    const channelTitle = channelTitleText ?? $(channelTitleSelector).text();\n\n    const pageInfos = $(listSelector)\n        .toArray()\n        .map((e) => {\n            const element = $(e);\n            const titleElement = element.find(titleSelector);\n\n            const title = titleElement.text();\n            const [link, pageType] = dealLink(titleElement, url);\n            const dateraw = element.find(dateSelector).text().trim();\n\n            return {\n                pageType,\n                title,\n                link,\n                // \n                // \n                // \n                pubDate: parseRelativeDate(dateraw),\n            };\n"},{"type":"text","text":"Repository: socketio/socket.io\nPath: packages/socket.io-postgres-emitter/lib/index.ts\nURL: https://github.com/socketio/socket.io/blob/main/packages/socket.io-postgres-emitter/lib/index.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 97) ---\n    const channelPrefix = opts.channelPrefix || \"socket.io\";\n    this.channel = `${channelPrefix}#${nsp}`;\n    this.tableName = opts.tableName || \"socket_io_attachments\";\n    this.payloadThreshold = opts.payloadThreshold || 8000;\n  }\n\n  /**\n   * Return a new emitter for the given namespace.\n   *\n   * @param nsp - namespace\n   * @public\n   */\n  public of(nsp: string): Emitter {\n    return new Emitter(this.pool, (nsp[0] !== \"/\" ? \"/\" : \"\") + nsp);\n  }\n\n  /**\n   * Emits to all clients.\n   *\n   * @return Always true\n   * @public\n"},{"type":"text","text":"Repository: activepieces/activepieces\nPath: packages/pieces/community/rabbitmq/src/lib/triggers/message-received.ts\nURL: https://github.com/activepieces/activepieces/blob/main/packages/pieces/community/rabbitmq/src/lib/triggers/message-received.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 20) ---\n    const channel = await connection.createChannel();\n    const messages = [];\n\n    try {\n      const queueInfo = await channel.checkQueue(propsValue.queue);\n\n      if (queueInfo.messageCount === 0) {\n        return [];\n      }\n\n      for (let i = 0; i < propsValue.maxMessagesPerPoll; i++) {\n        const message = await channel.get(propsValue.queue);\n        if (!message) {\n          break;\n        }\n        messages.push({\n          id: dayjs().toISOString(),\n          data: JSON.parse(message.content.toString()),\n        });\n        channel.ack(message);\n      }\n"},{"type":"text","text":"Repository: activepieces/activepieces\nPath: packages/pieces/community/slack/src/lib/triggers/new-mention.ts\nURL: https://github.com/activepieces/activepieces/blob/main/packages/pieces/community/slack/src/lib/triggers/new-mention.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 35) ---\n        const channels = await getChannels(accessToken);\n        return {\n          disabled: false,\n          placeholder: 'Select channel',\n          options: channels,\n        };\n      },\n    }),\n    ignoreBots: Property.Checkbox({\n      displayName: 'Ignore Bot Messages ?',\n      required: true,\n      defaultValue: false,\n    }),\n  },\n  type: TriggerStrategy.APP_WEBHOOK,\n  sampleData: undefined,\n  onEnable: async (context) => {\n    // Older OAuth2 has team_id, newer has team.id\n    const teamId =\n      context.auth.data['team_id'] ?? context.auth.data['team']['id'];\n    context.app.createListeners({\n"}]}
{"parentUuid":"9b612354-75f1-450b-b595-d3c4375d5b55","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01GrYrBa1pvnccGsCLzRZXUL","type":"tool_result","content":[{"type":"text","text":"Repository: ApolloAuto/apollo\nPath: modules/dreamview_plus/frontend/packages/dreamview-core/src/components/panels/Charts/ChartLine.tsx\nURL: https://github.com/ApolloAuto/apollo/blob/master/modules/dreamview_plus/frontend/packages/dreamview-core/src/components/panels/Charts/ChartLine.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 7) ---\nimport { useTranslation } from 'react-i18next';\nimport { ProtoLoader } from '@dreamview/dreamview-core/src/util/ProtoLoader';\nimport jsonDescribeToJson from '@dreamview/dreamview-core/src/util/jsonDescribeToJson';\nimport lodashGet from 'lodash/get';\nimport CustomPopover from '../../CustomPopover';\nimport { KEY, HIDDEL_OPTION, LINE_WIDTH, IChannelList, IChannelListItem, IChartListItem } from './const';\n\nconst useStyle = makeStyles((theme) => ({\n    'chart-line-collapse': {\n        position: 'relative',\n        marginBottom: theme.tokens.margin.speace2,\n\n\n--- Snippet 2 (Line 107) ---\ninterface ChartLineProps {\n    filed: FormListFieldData;\n    add: () => void;\n    remove: (name: number | number[]) => void;\n    index: number;\n    channelList: IChannelList;\n    activeChartConfig: IChartListItem;\n}\n\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/admin_console/access_control/policy_details/channel_list/index.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/admin_console/access_control/policy_details/channel_list/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 8) ---\n\nimport type {Channel, ChannelSearchOpts, ChannelWithTeamData} from '@mattermost/types/channels';\n\nimport {searchAccessControlPolicyChannels as searchChannels} from 'mattermost-redux/actions/access_control';\nimport {searchChannelsInheritsPolicy, makeGetChannelsInAccessControlPolicy} from 'mattermost-redux/selectors/entities/access_control';\nimport {filterChannelList} from 'mattermost-redux/selectors/entities/channels';\nimport {filterChannelsMatchingTerm, channelListToMap} from 'mattermost-redux/utils/channel_utils';\n\nimport {setChannelListSearch, setChannelListFilters} from 'actions/views/search';\n\nimport type {GlobalState} from 'types/store';\n\nimport ChannelList from './channel_list';\n\ntype OwnProps = {\n    policyId?: string;\n    channelsToAdd: Record<string, ChannelWithTeamData>;\n}\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/admin_console/data_retention_settings/channel_list/index.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/admin_console/data_retention_settings/channel_list/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 10) ---\n\nimport {getDataRetentionCustomPolicyChannels, searchDataRetentionCustomPolicyChannels as searchChannels} from 'mattermost-redux/actions/admin';\nimport {getDataRetentionCustomPolicy} from 'mattermost-redux/selectors/entities/admin';\nimport {filterChannelList, getChannelsInPolicy, searchChannelsInPolicy} from 'mattermost-redux/selectors/entities/channels';\nimport {filterChannelsMatchingTerm, channelListToMap} from 'mattermost-redux/utils/channel_utils';\n\nimport {setChannelListSearch, setChannelListFilters} from 'actions/views/search';\n\nimport type {GlobalState} from 'types/store';\n\nimport ChannelList from './channel_list';\n\ntype OwnProps = {\n    policyId?: string;\n    channelsToAdd: Record<string, ChannelWithTeamData>;\n}\n\nfunction searchChannelsToAdd(channels: Record<string, Channel>, term: string, filters: ChannelSearchOpts): Record<string, Channel> {\n    let filteredTeams = filterChannelsMatchingTerm(Object.keys(channels).map((key) => channels[key]), term);\n    filteredTeams = filterChannelList(filteredTeams, filters);\n    return channelListToMap(filteredTeams);\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/views/teams/contextualBar/channels/hooks/useTeamsChannelList.ts\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/views/teams/contextualBar/channels/hooks/useTeamsChannelList.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 7) ---\nimport { RecordList } from '../../../../../lib/lists/RecordList';\nimport { getConfig } from '../../../../../lib/utils/getConfig';\nimport { mapMessageFromApi } from '../../../../../lib/utils/mapMessageFromApi';\n\ntype TeamsChannelListOptions = {\n\tteamId: string;\n\ttype: 'all' | 'autoJoin';\n\ttext: string;\n};\n\nexport const useTeamsChannelList = (\n\toptions: TeamsChannelListOptions,\n): {\n\tteamsChannelList: RecordList<IRoom>;\n\tinitialItemCount: number;\n\treload: () => void;\n\tloadMoreItems: (start: number, end: number) => void;\n} => {\n\tconst apiEndPoint = useEndpoint('GET', '/v1/teams.listRooms');\n\tconst [teamsChannelList, setTeamsChannelList] = useState(() => new RecordList<IRoom>());\n\tconst reload = useCallback(() => setTeamsChannelList(new RecordList<IRoom>()), []);\n"},{"type":"text","text":"Repository: redis/node-redis\nPath: packages/client/lib/client/index.spec.ts\nURL: https://github.com/redis/node-redis/blob/master/packages/client/lib/client/index.spec.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 751) ---\n      try {\n        const channelListener1 = spy(assertBufferListener),\n          channelListener2 = spy(assertStringListener),\n          patternListener = spy(assertStringListener);\n\n        await Promise.all([\n          subscriber.subscribe('channel', channelListener1, true),\n          subscriber.subscribe('channel', channelListener2),\n          subscriber.pSubscribe('channel*', patternListener)\n        ]);\n        await Promise.all([\n          waitTillBeenCalled(channelListener1),\n          waitTillBeenCalled(channelListener2),\n          waitTillBeenCalled(patternListener),\n          publisher.publish(Buffer.from('channel'), Buffer.from('message'))\n        ]);\n        assert.ok(channelListener1.calledOnceWithExactly(Buffer.from('message'), Buffer.from('channel')));\n        assert.ok(channelListener2.calledOnceWithExactly('message', 'channel'));\n        assert.ok(patternListener.calledOnceWithExactly('message', 'channel'));\n\n        await subscriber.unsubscribe('channel', channelListener1, true);\n"},{"type":"text","text":"Repository: labring/FastGPT\nPath: projects/app/src/pageComponents/account/model/Channel/index.tsx\nURL: https://github.com/labring/FastGPT/blob/main/projects/app/src/pageComponents/account/model/Channel/index.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport {\n  deleteChannel,\n  getChannelList,\n  getChannelProviders,\n  putChannel,\n  putChannelStatus\n} from '@/web/core/ai/channel';\nimport { useRequest2 } from '@fastgpt/web/hooks/useRequest';\n\n\n--- Snippet 2 (Line 47) ---\n  const { aiproxyIdMap, getModelProvider } = useSystemStore();\n\n  const isRoot = userInfo?.username === 'root';\n\n  const {\n    data: channelList = [],\n    runAsync: refreshChannelList,\n    loading: loadingChannelList\n  } = useRequest2(getChannelList, {\n    manual: false\n  });\n\n"},{"type":"text","text":"Repository: redis/node-redis\nPath: packages/client/lib/client/pub-sub.ts\nURL: https://github.com/redis/node-redis/blob/master/packages/client/lib/client/pub-sub.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 31) ---\n\nexport type PubSubListener<\n  RETURN_BUFFERS extends boolean = false\n> = <T extends RETURN_BUFFERS extends true ? Buffer : string>(message: T, channel: T) => unknown;\n\nexport interface ChannelListeners {\n  unsubscribing: boolean;\n  buffers: Set<PubSubListener<true>>;\n  strings: Set<PubSubListener<false>>;\n}\n\nexport type PubSubTypeListeners = Map<string, ChannelListeners>;\n\nexport type PubSubListeners = Record<PubSubType, PubSubTypeListeners>;\n\nexport type PubSubCommand = (\n  Required<Pick<CommandToWrite, 'args' | 'channelsCounter' | 'resolve'>> & {\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/admin_console/access_control/policy_details/channel_list/channel_list.tsx\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/admin_console/access_control/policy_details/channel_list/channel_list.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 42) ---\n    policyActiveStatusChanges?: PolicyActiveStatus[];\n    onPolicyActiveStatusChange?: (changes: PolicyActiveStatus[]) => void;\n    saving?: boolean;\n    actions: {\n        searchChannels: (id: string, term: string, opts: ChannelSearchOpts) => Promise<ActionResult>;\n        setChannelListSearch: (term: string) => void;\n        setChannelListFilters: (filters: ChannelSearchOpts) => void;\n    };\n}\n\ntype State = {\n    loading: boolean;\n\n\n--- Snippet 2 (Line 56) ---\n    cursorHistory: string[];\n}\n\nconst PAGE_SIZE = 10;\n\nclass ChannelList extends React.PureComponent<Props, State> {\n    private mounted = false;\n    private searchDebounced;\n"},{"type":"text","text":"Repository: saleor/saleor-dashboard\nPath: src/products/fixtures.ts\nURL: https://github.com/saleor/saleor-dashboard/blob/main/src/products/fixtures.ts\nLicense: BSD-3-Clause\n\nSnippets:\n--- Snippet 1 (Line 237) ---\n  category: {\n    __typename: \"Category\",\n    id: \"Q2F0ZWdvcnk6MQ==\",\n    name: \"Apparel\",\n  },\n  channelListings: [\n    {\n      __typename: \"ProductChannelListing\",\n      id: \"UHJvZHVjdENoYW5uZWxMaXN0aW5nOjI1Mw==\",\n      availableForPurchaseAt: null,\n      channel: channelsList[0],\n      isAvailableForPurchase: false,\n      isPublished: true,\n      publishedAt: \"2020-07-14\",\n      visibleInListings: true,\n    },\n    {\n      __typename: \"ProductChannelListing\",\n      id: \"UHJvZHVjdENoYW5uZWxMaXN0aW5nOjI1Mw==\",\n      availableForPurchaseAt: null,\n      channel: channelsList[1],\n"},{"type":"text","text":"Repository: saleor/saleor-dashboard\nPath: src/discounts/components/DiscountRules/componenets/RuleForm/components/RuleConditionValues/hooks/options/mocks.ts\nURL: https://github.com/saleor/saleor-dashboard/blob/main/src/discounts/components/DiscountRules/componenets/RuleForm/components/RuleConditionValues/hooks/options/mocks.ts\nLicense: BSD-3-Clause\n\nSnippets:\n--- Snippet 1 (Line 166) ---\n              name: \"Apple Juice\",\n              thumbnail: {\n                url: \"https://feature-checkout-and-order-promotions.api.saleor.rocks/thumbnail/UHJvZHVjdE1lZGlhOjc=/256/\",\n                __typename: \"Image\",\n              },\n              channelListings: [],\n              productType: {\n                id: \"1\",\n                name: \"Bear\",\n                __typename: \"ProductType\",\n              },\n\n\n--- Snippet 2 (Line 190) ---\n                      id: \"1\",\n                      name: \"Bear\",\n                      __typename: \"ProductType\",\n                    },\n                  },\n                  channelListings: [\n                    {\n                      channel: {\n                        id: \"Q2hhbm5lbDox\",\n"}]}]},"uuid":"3005420f-8580-4e27-8d3b-0a693ca8063c","timestamp":"2025-12-24T03:12:34.411Z","toolUseResult":[{"type":"text","text":"Repository: ApolloAuto/apollo\nPath: modules/dreamview_plus/frontend/packages/dreamview-core/src/components/panels/Charts/ChartLine.tsx\nURL: https://github.com/ApolloAuto/apollo/blob/master/modules/dreamview_plus/frontend/packages/dreamview-core/src/components/panels/Charts/ChartLine.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 7) ---\nimport { useTranslation } from 'react-i18next';\nimport { ProtoLoader } from '@dreamview/dreamview-core/src/util/ProtoLoader';\nimport jsonDescribeToJson from '@dreamview/dreamview-core/src/util/jsonDescribeToJson';\nimport lodashGet from 'lodash/get';\nimport CustomPopover from '../../CustomPopover';\nimport { KEY, HIDDEL_OPTION, LINE_WIDTH, IChannelList, IChannelListItem, IChartListItem } from './const';\n\nconst useStyle = makeStyles((theme) => ({\n    'chart-line-collapse': {\n        position: 'relative',\n        marginBottom: theme.tokens.margin.speace2,\n\n\n--- Snippet 2 (Line 107) ---\ninterface ChartLineProps {\n    filed: FormListFieldData;\n    add: () => void;\n    remove: (name: number | number[]) => void;\n    index: number;\n    channelList: IChannelList;\n    activeChartConfig: IChartListItem;\n}\n\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/admin_console/access_control/policy_details/channel_list/index.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/admin_console/access_control/policy_details/channel_list/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 8) ---\n\nimport type {Channel, ChannelSearchOpts, ChannelWithTeamData} from '@mattermost/types/channels';\n\nimport {searchAccessControlPolicyChannels as searchChannels} from 'mattermost-redux/actions/access_control';\nimport {searchChannelsInheritsPolicy, makeGetChannelsInAccessControlPolicy} from 'mattermost-redux/selectors/entities/access_control';\nimport {filterChannelList} from 'mattermost-redux/selectors/entities/channels';\nimport {filterChannelsMatchingTerm, channelListToMap} from 'mattermost-redux/utils/channel_utils';\n\nimport {setChannelListSearch, setChannelListFilters} from 'actions/views/search';\n\nimport type {GlobalState} from 'types/store';\n\nimport ChannelList from './channel_list';\n\ntype OwnProps = {\n    policyId?: string;\n    channelsToAdd: Record<string, ChannelWithTeamData>;\n}\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/admin_console/data_retention_settings/channel_list/index.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/admin_console/data_retention_settings/channel_list/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 10) ---\n\nimport {getDataRetentionCustomPolicyChannels, searchDataRetentionCustomPolicyChannels as searchChannels} from 'mattermost-redux/actions/admin';\nimport {getDataRetentionCustomPolicy} from 'mattermost-redux/selectors/entities/admin';\nimport {filterChannelList, getChannelsInPolicy, searchChannelsInPolicy} from 'mattermost-redux/selectors/entities/channels';\nimport {filterChannelsMatchingTerm, channelListToMap} from 'mattermost-redux/utils/channel_utils';\n\nimport {setChannelListSearch, setChannelListFilters} from 'actions/views/search';\n\nimport type {GlobalState} from 'types/store';\n\nimport ChannelList from './channel_list';\n\ntype OwnProps = {\n    policyId?: string;\n    channelsToAdd: Record<string, ChannelWithTeamData>;\n}\n\nfunction searchChannelsToAdd(channels: Record<string, Channel>, term: string, filters: ChannelSearchOpts): Record<string, Channel> {\n    let filteredTeams = filterChannelsMatchingTerm(Object.keys(channels).map((key) => channels[key]), term);\n    filteredTeams = filterChannelList(filteredTeams, filters);\n    return channelListToMap(filteredTeams);\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/views/teams/contextualBar/channels/hooks/useTeamsChannelList.ts\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/views/teams/contextualBar/channels/hooks/useTeamsChannelList.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 7) ---\nimport { RecordList } from '../../../../../lib/lists/RecordList';\nimport { getConfig } from '../../../../../lib/utils/getConfig';\nimport { mapMessageFromApi } from '../../../../../lib/utils/mapMessageFromApi';\n\ntype TeamsChannelListOptions = {\n\tteamId: string;\n\ttype: 'all' | 'autoJoin';\n\ttext: string;\n};\n\nexport const useTeamsChannelList = (\n\toptions: TeamsChannelListOptions,\n): {\n\tteamsChannelList: RecordList<IRoom>;\n\tinitialItemCount: number;\n\treload: () => void;\n\tloadMoreItems: (start: number, end: number) => void;\n} => {\n\tconst apiEndPoint = useEndpoint('GET', '/v1/teams.listRooms');\n\tconst [teamsChannelList, setTeamsChannelList] = useState(() => new RecordList<IRoom>());\n\tconst reload = useCallback(() => setTeamsChannelList(new RecordList<IRoom>()), []);\n"},{"type":"text","text":"Repository: redis/node-redis\nPath: packages/client/lib/client/index.spec.ts\nURL: https://github.com/redis/node-redis/blob/master/packages/client/lib/client/index.spec.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 751) ---\n      try {\n        const channelListener1 = spy(assertBufferListener),\n          channelListener2 = spy(assertStringListener),\n          patternListener = spy(assertStringListener);\n\n        await Promise.all([\n          subscriber.subscribe('channel', channelListener1, true),\n          subscriber.subscribe('channel', channelListener2),\n          subscriber.pSubscribe('channel*', patternListener)\n        ]);\n        await Promise.all([\n          waitTillBeenCalled(channelListener1),\n          waitTillBeenCalled(channelListener2),\n          waitTillBeenCalled(patternListener),\n          publisher.publish(Buffer.from('channel'), Buffer.from('message'))\n        ]);\n        assert.ok(channelListener1.calledOnceWithExactly(Buffer.from('message'), Buffer.from('channel')));\n        assert.ok(channelListener2.calledOnceWithExactly('message', 'channel'));\n        assert.ok(patternListener.calledOnceWithExactly('message', 'channel'));\n\n        await subscriber.unsubscribe('channel', channelListener1, true);\n"},{"type":"text","text":"Repository: labring/FastGPT\nPath: projects/app/src/pageComponents/account/model/Channel/index.tsx\nURL: https://github.com/labring/FastGPT/blob/main/projects/app/src/pageComponents/account/model/Channel/index.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport {\n  deleteChannel,\n  getChannelList,\n  getChannelProviders,\n  putChannel,\n  putChannelStatus\n} from '@/web/core/ai/channel';\nimport { useRequest2 } from '@fastgpt/web/hooks/useRequest';\n\n\n--- Snippet 2 (Line 47) ---\n  const { aiproxyIdMap, getModelProvider } = useSystemStore();\n\n  const isRoot = userInfo?.username === 'root';\n\n  const {\n    data: channelList = [],\n    runAsync: refreshChannelList,\n    loading: loadingChannelList\n  } = useRequest2(getChannelList, {\n    manual: false\n  });\n\n"},{"type":"text","text":"Repository: redis/node-redis\nPath: packages/client/lib/client/pub-sub.ts\nURL: https://github.com/redis/node-redis/blob/master/packages/client/lib/client/pub-sub.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 31) ---\n\nexport type PubSubListener<\n  RETURN_BUFFERS extends boolean = false\n> = <T extends RETURN_BUFFERS extends true ? Buffer : string>(message: T, channel: T) => unknown;\n\nexport interface ChannelListeners {\n  unsubscribing: boolean;\n  buffers: Set<PubSubListener<true>>;\n  strings: Set<PubSubListener<false>>;\n}\n\nexport type PubSubTypeListeners = Map<string, ChannelListeners>;\n\nexport type PubSubListeners = Record<PubSubType, PubSubTypeListeners>;\n\nexport type PubSubCommand = (\n  Required<Pick<CommandToWrite, 'args' | 'channelsCounter' | 'resolve'>> & {\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/admin_console/access_control/policy_details/channel_list/channel_list.tsx\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/admin_console/access_control/policy_details/channel_list/channel_list.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 42) ---\n    policyActiveStatusChanges?: PolicyActiveStatus[];\n    onPolicyActiveStatusChange?: (changes: PolicyActiveStatus[]) => void;\n    saving?: boolean;\n    actions: {\n        searchChannels: (id: string, term: string, opts: ChannelSearchOpts) => Promise<ActionResult>;\n        setChannelListSearch: (term: string) => void;\n        setChannelListFilters: (filters: ChannelSearchOpts) => void;\n    };\n}\n\ntype State = {\n    loading: boolean;\n\n\n--- Snippet 2 (Line 56) ---\n    cursorHistory: string[];\n}\n\nconst PAGE_SIZE = 10;\n\nclass ChannelList extends React.PureComponent<Props, State> {\n    private mounted = false;\n    private searchDebounced;\n"},{"type":"text","text":"Repository: saleor/saleor-dashboard\nPath: src/products/fixtures.ts\nURL: https://github.com/saleor/saleor-dashboard/blob/main/src/products/fixtures.ts\nLicense: BSD-3-Clause\n\nSnippets:\n--- Snippet 1 (Line 237) ---\n  category: {\n    __typename: \"Category\",\n    id: \"Q2F0ZWdvcnk6MQ==\",\n    name: \"Apparel\",\n  },\n  channelListings: [\n    {\n      __typename: \"ProductChannelListing\",\n      id: \"UHJvZHVjdENoYW5uZWxMaXN0aW5nOjI1Mw==\",\n      availableForPurchaseAt: null,\n      channel: channelsList[0],\n      isAvailableForPurchase: false,\n      isPublished: true,\n      publishedAt: \"2020-07-14\",\n      visibleInListings: true,\n    },\n    {\n      __typename: \"ProductChannelListing\",\n      id: \"UHJvZHVjdENoYW5uZWxMaXN0aW5nOjI1Mw==\",\n      availableForPurchaseAt: null,\n      channel: channelsList[1],\n"},{"type":"text","text":"Repository: saleor/saleor-dashboard\nPath: src/discounts/components/DiscountRules/componenets/RuleForm/components/RuleConditionValues/hooks/options/mocks.ts\nURL: https://github.com/saleor/saleor-dashboard/blob/main/src/discounts/components/DiscountRules/componenets/RuleForm/components/RuleConditionValues/hooks/options/mocks.ts\nLicense: BSD-3-Clause\n\nSnippets:\n--- Snippet 1 (Line 166) ---\n              name: \"Apple Juice\",\n              thumbnail: {\n                url: \"https://feature-checkout-and-order-promotions.api.saleor.rocks/thumbnail/UHJvZHVjdE1lZGlhOjc=/256/\",\n                __typename: \"Image\",\n              },\n              channelListings: [],\n              productType: {\n                id: \"1\",\n                name: \"Bear\",\n                __typename: \"ProductType\",\n              },\n\n\n--- Snippet 2 (Line 190) ---\n                      id: \"1\",\n                      name: \"Bear\",\n                      __typename: \"ProductType\",\n                    },\n                  },\n                  channelListings: [\n                    {\n                      channel: {\n                        id: \"Q2hhbm5lbDox\",\n"}]}
{"parentUuid":"3005420f-8580-4e27-8d3b-0a693ca8063c","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01VdnZAmsEXm2WVobrF8JvzT","type":"tool_result","content":[{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/views/navigation/sidepanel/hooks/useChannelsChildrenList.spec.ts\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/views/navigation/sidepanel/hooks/useChannelsChildrenList.spec.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 56) ---\n\t\tSubscriptions: createMockGlobalStore(subscriptionsMock),\n\t};\n});\n\nit('should return all subscriptions parent of fakeChannel', async () => {\n\tconst { useChannelsChildrenList } = await import('./useChannelsChildrenList');\n\n\tconst { result } = renderHook(() => useChannelsChildrenList(fakeChannel.rid, false), {\n\t\twrapper: mockAppRoot().withSubscriptions(subscriptionsMock).build(),\n\t});\n\n\texpect(result.current).toHaveLength(channelsSubscriptions.length);\n\texpect(result.current[0].rid).toBe(fakeChannel.rid);\n\n\n--- Snippet 2 (Line 71) ---\n\texpect(result.current[0].prid).toBe(fakeChannel.rid);\n});\n\nit('should return unread subscriptions after parent but before read ones for channels', async () => {\n\tconst { useChannelsChildrenList } = await import('./useChannelsChildrenList');\n\n\tconst { result } = renderHook(() => useChannelsChildrenList(fakeChannel.rid, true), {\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/suggestion/at_mention_provider/at_mention_provider.tsx\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/suggestion/at_mention_provider/at_mention_provider.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 40) ---\n\nexport type Props = {\n    currentUserId: string;\n    channelId: string;\n    autocompleteUsersInChannel: (prefix: string) => Promise<ActionResult>;\n    useChannelMentions: boolean;\n    autocompleteGroups: Group[] | null;\n    searchAssociatedGroupsForReference: (prefix: string) => Promise<{data: any}>;\n    priorityProfiles: UserProfile[] | undefined;\n}\n\n\n\n--- Snippet 2 (Line 53) ---\n// store with results fetched from the server.\nexport default class AtMentionProvider extends Provider {\n    public currentUserId: string;\n    public channelId: string;\n    public autocompleteUsersInChannel: (prefix: string) => Promise<ActionResult>;\n    public useChannelMentions: boolean;\n    public autocompleteGroups: Group[] | null;\n    public searchAssociatedGroupsForReference: (prefix: string) => Promise<{data: any}>;\n    public priorityProfiles: UserProfile[] | undefined;\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: packages/fuselage-ui-kit/src/elements/ChannelsSelectElement/ChannelsSelectElement.spec.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/packages/fuselage-ui-kit/src/elements/ChannelsSelectElement/ChannelsSelectElement.spec.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 5) ---\nimport { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\nimport ChannelsSelectElement from './ChannelsSelectElement';\nimport { contextualBarParser } from '../../surfaces';\nimport { useChannelsData } from './hooks/useChannelsData';\n\nconst channelsBlock: ChannelsSelectElementType = {\n\ttype: 'channels_select',\n\tappId: 'test',\n\tblockId: 'test',\n\tactionId: 'test',\n};\n\njest.mock('./hooks/useChannelsData');\n\nconst mockedOptions: ReturnType<typeof useChannelsData> = [\n\t{\n\t\tvalue: 'channel1_id',\n\t\tlabel: {\n\t\t\tname: 'Channel 1',\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: packages/fuselage-ui-kit/src/elements/ChannelsSelectElement/MultiChannelsSelectElement.spec.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/packages/fuselage-ui-kit/src/elements/ChannelsSelectElement/MultiChannelsSelectElement.spec.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 4) ---\nimport { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\nimport MultiChannelsSelectElement from './MultiChannelsSelectElement';\nimport { contextualBarParser } from '../../surfaces';\nimport { useChannelsData } from './hooks/useChannelsData';\n\nconst channelsBlock: MultiChannelsSelectElementType = {\n\ttype: 'multi_channels_select',\n\tappId: 'test',\n\tblockId: 'test',\n\tactionId: 'test',\n};\n\njest.mock('./hooks/useChannelsData');\n\nconst mockedOptions: ReturnType<typeof useChannelsData> = [\n\t{\n\t\tvalue: 'channel1_id',\n\t\tlabel: {\n\t\t\tname: 'Channel 1',\n"},{"type":"text","text":"Repository: saleor/saleor-dashboard\nPath: src/graphql/hooksStaging.generated.ts\nURL: https://github.com/saleor/saleor-dashboard/blob/main/src/graphql/hooksStaging.generated.ts\nLicense: BSD-3-Clause\n\nSnippets:\n--- Snippet 1 (Line 121) ---\n * __useChannelCreateMutation__\n *\n * To run a mutation, you first call `useChannelCreateMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useChannelCreateMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [channelCreateMutation, { data, loading, error }] = useChannelCreateMutation({\n *   variables: {\n *      input: // value for 'input'\n *   },\n * });\n */\nexport function useChannelCreateMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<Types.ChannelCreateMutation, Types.ChannelCreateMutationVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return ApolloReactHooks.useMutation<Types.ChannelCreateMutation, Types.ChannelCreateMutationVariables>(ChannelCreateStaging, options);\n      }\nexport type ChannelCreateMutationHookResult = ReturnType<typeof useChannelCreateMutation>;\n"},{"type":"text","text":"Repository: saleor/saleor-dashboard\nPath: src/channels/views/ChannelDetails/ChannelDetails.tsx\nURL: https://github.com/saleor/saleor-dashboard/blob/main/src/channels/views/ChannelDetails/ChannelDetails.tsx\nLicense: BSD-3-Clause\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nimport { FormData } from \"@dashboard/channels/components/ChannelForm/ChannelForm\";\nimport { getChannelsCurrencyChoices } from \"@dashboard/channels/utils\";\nimport { useChannelWarehousesReorder } from \"@dashboard/channels/views/ChannelDetails/useChannelWarehouseReorder\";\nimport { WindowTitle } from \"@dashboard/components/WindowTitle\";\nimport {\n  ChannelDeleteMutation,\n  ChannelErrorFragment,\n  ChannelUpdateMutation,\n  isMainSchema,\n  isStagingSchema,\n  useChannelActivateMutation,\n  useChannelDeactivateMutation,\n  useChannelDeleteMutation,\n  useChannelQuery,\n  useChannelsQuery,\n  useChannelUpdateMutation,\n} from \"@dashboard/graphql\";\nimport {\n  useChannelQuery as useChannelQueryStaging,\n  useChannelsQuery as useChannelsQueryStaging,\n  useChannelUpdateMutation as useChannelUpdateMutationStaging,\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/textbox/textbox.tsx\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/textbox/textbox.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 63) ---\n    actions: {\n        autocompleteUsersInChannel: (prefix: string, channelId: string) => Promise<ActionResult>;\n        autocompleteChannels: (term: string, success: (channels: Channel[]) => void, error: () => void) => Promise<ActionResult>;\n        searchAssociatedGroupsForReference: (prefix: string, teamId: string, channelId: string | undefined) => Promise<{ data: any }>;\n    };\n    useChannelMentions: boolean;\n    inputComponent?: ElementType;\n    openWhenEmpty?: boolean;\n    priorityProfiles?: UserProfile[];\n    hasLabels?: boolean;\n    hasError?: boolean;\n\n\n--- Snippet 2 (Line 105) ---\n        this.suggestionProviders.push(\n            new AtMentionProvider({\n                currentUserId: this.props.currentUserId,\n                channelId: this.props.channelId,\n                autocompleteUsersInChannel: (prefix: string) => this.props.actions.autocompleteUsersInChannel(prefix, this.props.channelId),\n                useChannelMentions: this.props.useChannelMentions,\n                autocompleteGroups: this.props.autocompleteGroups,\n                searchAssociatedGroupsForReference: (prefix: string) => this.props.actions.searchAssociatedGroupsForReference(prefix, this.props.currentTeamId, this.props.channelId),\n                priorityProfiles: this.props.priorityProfiles,\n"},{"type":"text","text":"Repository: elizaOS/eliza\nPath: packages/client/src/hooks/use-query-hooks.ts\nURL: https://github.com/elizaOS/eliza/blob/develop/packages/client/src/hooks/use-query-hooks.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 354) ---\n * Custom hook to manage fetching and loading messages for a specific channel.\n * @param {UUID | undefined} channelId - The GLOBAL ID of the channel.\n * @returns {{...\n}} An object containing messages data, loading states, etc.\n */\nexport function useChannelMessages(\n  channelId: UUID | undefined, // Changed from UUID | null\n  initialMessageServerId?: UUID | undefined // Changed from UUID (optional was already undefined)\n): {\n  data: UiMessage[] | undefined;\n  isLoading: boolean;\n\n\n--- Snippet 2 (Line 508) ---\n      clientLogger.info(\n        `[useChannelMessages] ChannelId changed or became available: ${channelId}. Clearing messages and fetching initial set.`\n      );\n      setMessages([]); // Clear previous messages\n      setOldestMessageTimestamp(null);\n      setHasMoreMessages(true);\n      fetchMessages(); // This will set internalIsLoading to true\n    } else {\n      clientLogger.info('[useChannelMessages] ChannelId is undefined. Clearing messages.');\n"},{"type":"text","text":"Repository: nocobase/nocobase\nPath: packages/plugins/@nocobase/plugin-workflow/src/client/components/NotificationFieldset.tsx\nURL: https://github.com/nocobase/nocobase/blob/main/packages/plugins/%40nocobase/plugin-workflow/src/client/components/NotificationFieldset.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 21) ---\n\nfunction NotificationAddition() {\n  const disabled = useWorkflowExecuted();\n  const array = ArrayItems.useArray();\n  const { values } = useForm();\n  const data = useChannelsContext() ?? [];\n  const onAddSelect = useCallback(\n    (value) => {\n      array.field.push({ channel: value });\n    },\n    [array.field],\n\n\n--- Snippet 2 (Line 66) ---\n  return <ChannelsContext.Provider value={options}>{props.children}</ChannelsContext.Provider>;\n}\n\nfunction useChannelsContext() {\n  return useContext(ChannelsContext);\n}\n\nfunction useChannelType() {\n  const allChannels = useChannelsContext();\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/common/hooks/usePropertyCardViewChannelLoader.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/common/hooks/usePropertyCardViewChannelLoader.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 5) ---\n\nimport type {Channel} from '@mattermost/types/channels';\n\nimport {useChannel} from 'components/common/hooks/useChannel';\n\nexport function usePropertyCardViewChannelLoader(channelId?: string, getChannel?: (channelId: string) => Promise<Channel>) {\n    const channelLoaded = useRef(false);\n    const [channel, setChannel] = useState<Channel>();\n\n    const channelFromStore = useChannel(channelId || '');\n\n    useEffect(() => {\n        if (channel && channel.id !== channelId) {\n            setChannel(undefined);\n            channelLoaded.current = false;\n        }\n    }, [channel, channelId]);\n\n    useEffect(() => {\n        const useChannelFromStore = Boolean(!getChannel && channelFromStore);\n        if (useChannelFromStore) {\n"}]}]},"uuid":"d3e72f5c-9721-4ac0-b56c-d91f02502781","timestamp":"2025-12-24T03:12:34.639Z","toolUseResult":[{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/views/navigation/sidepanel/hooks/useChannelsChildrenList.spec.ts\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/views/navigation/sidepanel/hooks/useChannelsChildrenList.spec.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 56) ---\n\t\tSubscriptions: createMockGlobalStore(subscriptionsMock),\n\t};\n});\n\nit('should return all subscriptions parent of fakeChannel', async () => {\n\tconst { useChannelsChildrenList } = await import('./useChannelsChildrenList');\n\n\tconst { result } = renderHook(() => useChannelsChildrenList(fakeChannel.rid, false), {\n\t\twrapper: mockAppRoot().withSubscriptions(subscriptionsMock).build(),\n\t});\n\n\texpect(result.current).toHaveLength(channelsSubscriptions.length);\n\texpect(result.current[0].rid).toBe(fakeChannel.rid);\n\n\n--- Snippet 2 (Line 71) ---\n\texpect(result.current[0].prid).toBe(fakeChannel.rid);\n});\n\nit('should return unread subscriptions after parent but before read ones for channels', async () => {\n\tconst { useChannelsChildrenList } = await import('./useChannelsChildrenList');\n\n\tconst { result } = renderHook(() => useChannelsChildrenList(fakeChannel.rid, true), {\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/suggestion/at_mention_provider/at_mention_provider.tsx\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/suggestion/at_mention_provider/at_mention_provider.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 40) ---\n\nexport type Props = {\n    currentUserId: string;\n    channelId: string;\n    autocompleteUsersInChannel: (prefix: string) => Promise<ActionResult>;\n    useChannelMentions: boolean;\n    autocompleteGroups: Group[] | null;\n    searchAssociatedGroupsForReference: (prefix: string) => Promise<{data: any}>;\n    priorityProfiles: UserProfile[] | undefined;\n}\n\n\n\n--- Snippet 2 (Line 53) ---\n// store with results fetched from the server.\nexport default class AtMentionProvider extends Provider {\n    public currentUserId: string;\n    public channelId: string;\n    public autocompleteUsersInChannel: (prefix: string) => Promise<ActionResult>;\n    public useChannelMentions: boolean;\n    public autocompleteGroups: Group[] | null;\n    public searchAssociatedGroupsForReference: (prefix: string) => Promise<{data: any}>;\n    public priorityProfiles: UserProfile[] | undefined;\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: packages/fuselage-ui-kit/src/elements/ChannelsSelectElement/ChannelsSelectElement.spec.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/packages/fuselage-ui-kit/src/elements/ChannelsSelectElement/ChannelsSelectElement.spec.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 5) ---\nimport { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\nimport ChannelsSelectElement from './ChannelsSelectElement';\nimport { contextualBarParser } from '../../surfaces';\nimport { useChannelsData } from './hooks/useChannelsData';\n\nconst channelsBlock: ChannelsSelectElementType = {\n\ttype: 'channels_select',\n\tappId: 'test',\n\tblockId: 'test',\n\tactionId: 'test',\n};\n\njest.mock('./hooks/useChannelsData');\n\nconst mockedOptions: ReturnType<typeof useChannelsData> = [\n\t{\n\t\tvalue: 'channel1_id',\n\t\tlabel: {\n\t\t\tname: 'Channel 1',\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: packages/fuselage-ui-kit/src/elements/ChannelsSelectElement/MultiChannelsSelectElement.spec.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/packages/fuselage-ui-kit/src/elements/ChannelsSelectElement/MultiChannelsSelectElement.spec.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 4) ---\nimport { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\nimport MultiChannelsSelectElement from './MultiChannelsSelectElement';\nimport { contextualBarParser } from '../../surfaces';\nimport { useChannelsData } from './hooks/useChannelsData';\n\nconst channelsBlock: MultiChannelsSelectElementType = {\n\ttype: 'multi_channels_select',\n\tappId: 'test',\n\tblockId: 'test',\n\tactionId: 'test',\n};\n\njest.mock('./hooks/useChannelsData');\n\nconst mockedOptions: ReturnType<typeof useChannelsData> = [\n\t{\n\t\tvalue: 'channel1_id',\n\t\tlabel: {\n\t\t\tname: 'Channel 1',\n"},{"type":"text","text":"Repository: saleor/saleor-dashboard\nPath: src/graphql/hooksStaging.generated.ts\nURL: https://github.com/saleor/saleor-dashboard/blob/main/src/graphql/hooksStaging.generated.ts\nLicense: BSD-3-Clause\n\nSnippets:\n--- Snippet 1 (Line 121) ---\n * __useChannelCreateMutation__\n *\n * To run a mutation, you first call `useChannelCreateMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useChannelCreateMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [channelCreateMutation, { data, loading, error }] = useChannelCreateMutation({\n *   variables: {\n *      input: // value for 'input'\n *   },\n * });\n */\nexport function useChannelCreateMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<Types.ChannelCreateMutation, Types.ChannelCreateMutationVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return ApolloReactHooks.useMutation<Types.ChannelCreateMutation, Types.ChannelCreateMutationVariables>(ChannelCreateStaging, options);\n      }\nexport type ChannelCreateMutationHookResult = ReturnType<typeof useChannelCreateMutation>;\n"},{"type":"text","text":"Repository: saleor/saleor-dashboard\nPath: src/channels/views/ChannelDetails/ChannelDetails.tsx\nURL: https://github.com/saleor/saleor-dashboard/blob/main/src/channels/views/ChannelDetails/ChannelDetails.tsx\nLicense: BSD-3-Clause\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nimport { FormData } from \"@dashboard/channels/components/ChannelForm/ChannelForm\";\nimport { getChannelsCurrencyChoices } from \"@dashboard/channels/utils\";\nimport { useChannelWarehousesReorder } from \"@dashboard/channels/views/ChannelDetails/useChannelWarehouseReorder\";\nimport { WindowTitle } from \"@dashboard/components/WindowTitle\";\nimport {\n  ChannelDeleteMutation,\n  ChannelErrorFragment,\n  ChannelUpdateMutation,\n  isMainSchema,\n  isStagingSchema,\n  useChannelActivateMutation,\n  useChannelDeactivateMutation,\n  useChannelDeleteMutation,\n  useChannelQuery,\n  useChannelsQuery,\n  useChannelUpdateMutation,\n} from \"@dashboard/graphql\";\nimport {\n  useChannelQuery as useChannelQueryStaging,\n  useChannelsQuery as useChannelsQueryStaging,\n  useChannelUpdateMutation as useChannelUpdateMutationStaging,\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/textbox/textbox.tsx\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/textbox/textbox.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 63) ---\n    actions: {\n        autocompleteUsersInChannel: (prefix: string, channelId: string) => Promise<ActionResult>;\n        autocompleteChannels: (term: string, success: (channels: Channel[]) => void, error: () => void) => Promise<ActionResult>;\n        searchAssociatedGroupsForReference: (prefix: string, teamId: string, channelId: string | undefined) => Promise<{ data: any }>;\n    };\n    useChannelMentions: boolean;\n    inputComponent?: ElementType;\n    openWhenEmpty?: boolean;\n    priorityProfiles?: UserProfile[];\n    hasLabels?: boolean;\n    hasError?: boolean;\n\n\n--- Snippet 2 (Line 105) ---\n        this.suggestionProviders.push(\n            new AtMentionProvider({\n                currentUserId: this.props.currentUserId,\n                channelId: this.props.channelId,\n                autocompleteUsersInChannel: (prefix: string) => this.props.actions.autocompleteUsersInChannel(prefix, this.props.channelId),\n                useChannelMentions: this.props.useChannelMentions,\n                autocompleteGroups: this.props.autocompleteGroups,\n                searchAssociatedGroupsForReference: (prefix: string) => this.props.actions.searchAssociatedGroupsForReference(prefix, this.props.currentTeamId, this.props.channelId),\n                priorityProfiles: this.props.priorityProfiles,\n"},{"type":"text","text":"Repository: elizaOS/eliza\nPath: packages/client/src/hooks/use-query-hooks.ts\nURL: https://github.com/elizaOS/eliza/blob/develop/packages/client/src/hooks/use-query-hooks.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 354) ---\n * Custom hook to manage fetching and loading messages for a specific channel.\n * @param {UUID | undefined} channelId - The GLOBAL ID of the channel.\n * @returns {{...\n}} An object containing messages data, loading states, etc.\n */\nexport function useChannelMessages(\n  channelId: UUID | undefined, // Changed from UUID | null\n  initialMessageServerId?: UUID | undefined // Changed from UUID (optional was already undefined)\n): {\n  data: UiMessage[] | undefined;\n  isLoading: boolean;\n\n\n--- Snippet 2 (Line 508) ---\n      clientLogger.info(\n        `[useChannelMessages] ChannelId changed or became available: ${channelId}. Clearing messages and fetching initial set.`\n      );\n      setMessages([]); // Clear previous messages\n      setOldestMessageTimestamp(null);\n      setHasMoreMessages(true);\n      fetchMessages(); // This will set internalIsLoading to true\n    } else {\n      clientLogger.info('[useChannelMessages] ChannelId is undefined. Clearing messages.');\n"},{"type":"text","text":"Repository: nocobase/nocobase\nPath: packages/plugins/@nocobase/plugin-workflow/src/client/components/NotificationFieldset.tsx\nURL: https://github.com/nocobase/nocobase/blob/main/packages/plugins/%40nocobase/plugin-workflow/src/client/components/NotificationFieldset.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 21) ---\n\nfunction NotificationAddition() {\n  const disabled = useWorkflowExecuted();\n  const array = ArrayItems.useArray();\n  const { values } = useForm();\n  const data = useChannelsContext() ?? [];\n  const onAddSelect = useCallback(\n    (value) => {\n      array.field.push({ channel: value });\n    },\n    [array.field],\n\n\n--- Snippet 2 (Line 66) ---\n  return <ChannelsContext.Provider value={options}>{props.children}</ChannelsContext.Provider>;\n}\n\nfunction useChannelsContext() {\n  return useContext(ChannelsContext);\n}\n\nfunction useChannelType() {\n  const allChannels = useChannelsContext();\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/components/common/hooks/usePropertyCardViewChannelLoader.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/components/common/hooks/usePropertyCardViewChannelLoader.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 5) ---\n\nimport type {Channel} from '@mattermost/types/channels';\n\nimport {useChannel} from 'components/common/hooks/useChannel';\n\nexport function usePropertyCardViewChannelLoader(channelId?: string, getChannel?: (channelId: string) => Promise<Channel>) {\n    const channelLoaded = useRef(false);\n    const [channel, setChannel] = useState<Channel>();\n\n    const channelFromStore = useChannel(channelId || '');\n\n    useEffect(() => {\n        if (channel && channel.id !== channelId) {\n            setChannel(undefined);\n            channelLoaded.current = false;\n        }\n    }, [channel, channelId]);\n\n    useEffect(() => {\n        const useChannelFromStore = Boolean(!getChannel && channelFromStore);\n        if (useChannelFromStore) {\n"}]}
{"parentUuid":"d3e72f5c-9721-4ac0-b56c-d91f02502781","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XyzHGk4mReTzUtEEbgRyFS","type":"tool_result","content":[{"type":"text","text":"Repository: ruvnet/claude-flow\nPath: src/hive-mind/core/Communication.ts\nURL: https://github.com/ruvnet/claude-flow/blob/main/src/hive-mind/core/Communication.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 222) ---\n  }\n\n  /**\n   * Create a new communication channel\n   */\n  createChannel(name: string, description: string, type: 'public' | 'private' = 'public'): void {\n    if (this.channels.has(name)) {\n      throw new Error(`Channel ${name} already exists`);\n    }\n\n    const channel: CommunicationChannel = {\n\n\n--- Snippet 2 (Line 323) ---\n    this.createChannel('system', 'System-wide notifications and alerts');\n    this.createChannel('coordination', 'Task coordination messages');\n    this.createChannel('consensus', 'Consensus voting and decisions');\n    this.createChannel('monitoring', 'Performance and health monitoring');\n\n    // Agent type channels\n    this.createChannel('coordinators', 'Coordinator agent communications');\n    this.createChannel('researchers', 'Researcher agent communications');\n    this.createChannel('coders', 'Coder agent communications');\n"},{"type":"text","text":"Repository: nestjs/nest\nPath: packages/microservices/client/client-rmq.ts\nURL: https://github.com/nestjs/nest/blob/master/packages/microservices/client/client-rmq.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 123) ---\n\n    const connect$ = this.connect$(this.client);\n    const withDisconnect$ = this.mergeDisconnectEvent(\n      this.client,\n      connect$,\n    ).pipe(switchMap(() => this.createChannel()));\n\n    const withReconnect$ = fromEvent(this.client, RmqEventsMap.CONNECT).pipe(\n      skip(1),\n    );\n    const source$ = merge(withDisconnect$, withReconnect$);\n\n\n--- Snippet 2 (Line 137) ---\n    this.connectionPromise = this.convertConnectionToPromise();\n\n    return this.connectionPromise;\n  }\n\n  public createChannel(): Promise<void> {\n    return new Promise(resolve => {\n      this.channel = this.client!.createChannel({\n        json: false,\n"},{"type":"text","text":"Repository: misskey-dev/misskey\nPath: packages/backend/test/e2e/timelines.ts\nURL: https://github.com/misskey-dev/misskey/blob/develop/packages/backend/test/e2e/timelines.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 25) ---\n\nasync function renote(noteId: string, user: UserToken): Promise<entities.Note> {\n\treturn await api('notes/create', { renoteId: noteId }, user).then(it => it.body.createdNote);\n}\n\nasync function createChannel(name: string, user: UserToken): Promise<entities.ChannelsCreateResponse> {\n\treturn (await api('channels/create', { name }, user)).body;\n}\n\nasync function followChannel(channelId: string, user: UserToken) {\n\treturn await api('channels/follow', { channelId }, user);\n\n\n--- Snippet 2 (Line 676) ---\n\n\t\t\tdescribe('Channel', () => {\n\t\t\t\ttest('TL', async () => {\n\t\t\t\t\tconst [alice, bob] = await Promise.all([signup(), signup()]);\n\n\t\t\t\t\tconst channel = await createChannel('channel', bob);\n\n\t\t\t\t\tconst aliceNote = await post(alice, { text: 'hi' });\n\t\t\t\t\tconst bobNote = await post(bob, { text: 'ok', channelId: channel.id });\n"},{"type":"text","text":"Repository: eclipse-sprotty/sprotty\nPath: examples/multicore/src/multicore.ts\nURL: https://github.com/eclipse-sprotty/sprotty/blob/master/examples/multicore/src/multicore.ts\nLicense: EPL-2.0\n\nSnippets:\n--- Snippet 1 (Line 55) ---\n                    id: 'nr_' + pos,\n                    type: 'label:heading',\n                    text: '' + pos\n                } as SLabel]\n            });\n            channels.push(createChannel(i, j, Direction.up));\n            channels.push(createChannel(i, j, Direction.down));\n            channels.push(createChannel(i, j, Direction.left));\n            channels.push(createChannel(i, j, Direction.right));\n        }\n        channels.push(createChannel(dim, i, Direction.up));\n        channels.push(createChannel(dim, i, Direction.down));\n        channels.push(createChannel(i, dim, Direction.left));\n        channels.push(createChannel(i, dim, Direction.right));\n    }\n\n    function createChannel(row: number, column: number, direction: Direction): ChannelSchema {\n        const pos = row + '_' + column;\n        return {\n            id: 'channel_' + direction + '_' + pos,\n            type: 'channel',\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: e2e-tests/cypress/tests/integration/channels/channel/archived_channels_1_spec.ts\nURL: https://github.com/mattermost/mattermost/blob/master/e2e-tests/cypress/tests/integration/channels/channel/archived_channels_1_spec.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 38) ---\n    it('MM-T1680 Open archived channel from search results with permalink view in another channel is open', () => {\n        // # Visit the test team\n        cy.visit(`/${testTeam.name}`);\n\n        // # Create a new channel\n        cy.uiCreateChannel({isNewSidebar: true});\n\n        // # Make a post\n        const archivedPostText = `archived${getRandomId()}`;\n        cy.postMessage(archivedPostText);\n        cy.getLastPostId().as('archivedPostId');\n\n\n--- Snippet 2 (Line 85) ---\n        cy.apiCreateChannel(testTeam.id, 'channel', 'channel').then(({channel}) => {\n            // # Visit the channel\n            cy.visit(`/${testTeam.name}/channels/${channel.name}`);\n\n            // # Archive the channel\n            cy.uiArchiveChannel();\n\n            // # Click on browse channels\n            cy.uiBrowseOrCreateChannel('Browse channels');\n"},{"type":"text","text":"Repository: jwalton/node-amqp-connection-manager\nPath: test/integrationTest.ts\nURL: https://github.com/jwalton/node-amqp-connection-manager/blob/master/test/integrationTest.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 89) ---\n        // Create a new connection manager\n        connection = amqp.connect(['amqp://localhost']);\n\n        // Ask the connection manager for a ChannelWrapper.  Specify a setup function to\n        // run every time we reconnect to the broker.\n        const sendChannel = connection.createChannel({\n            setup: async (channel: ConfirmChannel) => {\n                await channel.assertQueue(queueName, { durable: false, autoDelete: true });\n            },\n        });\n\n        const rxPromise = defer<ConsumeMessage>();\n\n        const receiveWrapper = connection.createChannel({\n            setup: async (channel: ConfirmChannel) => {\n                // `channel` here is a regular amqplib `ConfirmChannel`.\n                // Note that `this` here is the channelWrapper instance.\n                await channel.assertQueue(queueName, { durable: false, autoDelete: true });\n                await channel.consume(\n"},{"type":"text","text":"Repository: ruvnet/claude-flow\nPath: src/coordination/hive-protocol.ts\nURL: https://github.com/ruvnet/claude-flow/blob/main/src/coordination/hive-protocol.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 52) ---\n  /**\n   * Initialize default communication channels\n   */\n  private initializeChannels() {\n    // Broadcast channel for all agents\n    this.createChannel('broadcast', 'broadcast', 'General announcements and updates');\n\n    // Consensus channel for voting\n    this.createChannel('consensus', 'consensus', 'Voting and decision making');\n\n    // Coordination channel for task management\n    this.createChannel('coordination', 'coordination', 'Task assignment and progress');\n\n    // Knowledge channel for sharing insights\n    this.createChannel('knowledge', 'knowledge', 'Knowledge sharing and learning');\n  }\n\n  /**\n   * Create a new communication channel\n   */\n  createChannel(name: string, type: HiveChannel['type'], description: string): HiveChannel {\n"},{"type":"text","text":"Repository: PapillonApp/Papillon\nPath: src/background/Notifications.ts\nURL: https://github.com/PapillonApp/Papillon/blob/main/src/background/Notifications.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 30) ---\n\nconst createChannelNotification = async () => {\n  const notifee = (await import(\"@notifee/react-native\")).default;\n  const AndroidImportance = (await import(\"@notifee/react-native\")).AndroidImportance;\n\n  await notifee.createChannel({\n    id: \"Test\",\n    name: \"Test\",\n    description: \"Permet de tester les notifications\",\n    sound: \"default\",\n  });\n\n  if (__DEV__) {\n    await notifee.createChannel({\n      id: \"Status\",\n      name: \"Statut du background\",\n      description: \"Affiche quand le background est actuellement actif\",\n      vibration: false,\n      importance: AndroidImportance.MIN,\n"},{"type":"text","text":"Repository: eclipse-theia/theia\nPath: packages/core/src/common/message-rpc/channel.ts\nURL: https://github.com/eclipse-theia/theia/blob/master/packages/core/src/common/message-rpc/channel.ts\nLicense: EPL-2.0\n\nSnippets:\n--- Snippet 1 (Line 213) ---\n\n    protected handleAckOpen(id: string): void {\n        // edge case: both side try to open a channel at the same time.\n        const resolve = this.pendingOpen.get(id);\n        if (resolve) {\n            const channel = this.createChannel(id);\n            this.pendingOpen.delete(id);\n            this.openChannels.set(id, channel);\n            resolve(channel);\n            this.onOpenChannelEmitter.fire({ id, channel });\n        } else {\n\n\n--- Snippet 2 (Line 225) ---\n        }\n    }\n\n    protected handleOpen(id: string): void {\n        if (!this.openChannels.has(id)) {\n            const channel = this.createChannel(id);\n            this.openChannels.set(id, channel);\n            const resolve = this.pendingOpen.get(id);\n            if (resolve) {\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: e2e-tests/cypress/tests/integration/channels/channel_sidebar/unread_filter_spec.ts\nURL: https://github.com/mattermost/mattermost/blob/master/e2e-tests/cypress/tests/integration/channels/channel_sidebar/unread_filter_spec.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 90) ---\n        cy.get('.SidebarChannelGroupHeader:contains(CHANNELS)').should('be.visible');\n\n        // # Create a couple of new channels, one of which is unread and one of which is not\n        const readChannelName = `read${randomId}`;\n        const unreadChannelName = `unread${randomId}`;\n        createChannel(teamId, readChannelName);\n        createChannel(teamId, unreadChannelName, 'test');\n\n        // * Verify that the channels are correctly read and unread\n        cy.get(`#sidebarItem_${readChannelName}`).should(beRead);\n        cy.get(`#sidebarItem_${unreadChannelName}`).should(beUnread);\n\n\n\n--- Snippet 2 (Line 137) ---\n        cy.get('.SidebarChannelGroupHeader:contains(CHANNELS)').should('be.visible');\n\n        // # Create a couple of new channels, both of which are unread\n        const channelName1 = `channel1${randomId}`;\n        const channelName2 = `channel2${randomId}`;\n        createChannel(teamId, channelName1, 'test');\n        createChannel(teamId, channelName2, 'test');\n\n"}]}]},"uuid":"8ab8ce1c-c465-4175-b3a9-4bf9733cbeca","timestamp":"2025-12-24T03:12:34.958Z","toolUseResult":[{"type":"text","text":"Repository: ruvnet/claude-flow\nPath: src/hive-mind/core/Communication.ts\nURL: https://github.com/ruvnet/claude-flow/blob/main/src/hive-mind/core/Communication.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 222) ---\n  }\n\n  /**\n   * Create a new communication channel\n   */\n  createChannel(name: string, description: string, type: 'public' | 'private' = 'public'): void {\n    if (this.channels.has(name)) {\n      throw new Error(`Channel ${name} already exists`);\n    }\n\n    const channel: CommunicationChannel = {\n\n\n--- Snippet 2 (Line 323) ---\n    this.createChannel('system', 'System-wide notifications and alerts');\n    this.createChannel('coordination', 'Task coordination messages');\n    this.createChannel('consensus', 'Consensus voting and decisions');\n    this.createChannel('monitoring', 'Performance and health monitoring');\n\n    // Agent type channels\n    this.createChannel('coordinators', 'Coordinator agent communications');\n    this.createChannel('researchers', 'Researcher agent communications');\n    this.createChannel('coders', 'Coder agent communications');\n"},{"type":"text","text":"Repository: nestjs/nest\nPath: packages/microservices/client/client-rmq.ts\nURL: https://github.com/nestjs/nest/blob/master/packages/microservices/client/client-rmq.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 123) ---\n\n    const connect$ = this.connect$(this.client);\n    const withDisconnect$ = this.mergeDisconnectEvent(\n      this.client,\n      connect$,\n    ).pipe(switchMap(() => this.createChannel()));\n\n    const withReconnect$ = fromEvent(this.client, RmqEventsMap.CONNECT).pipe(\n      skip(1),\n    );\n    const source$ = merge(withDisconnect$, withReconnect$);\n\n\n--- Snippet 2 (Line 137) ---\n    this.connectionPromise = this.convertConnectionToPromise();\n\n    return this.connectionPromise;\n  }\n\n  public createChannel(): Promise<void> {\n    return new Promise(resolve => {\n      this.channel = this.client!.createChannel({\n        json: false,\n"},{"type":"text","text":"Repository: misskey-dev/misskey\nPath: packages/backend/test/e2e/timelines.ts\nURL: https://github.com/misskey-dev/misskey/blob/develop/packages/backend/test/e2e/timelines.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 25) ---\n\nasync function renote(noteId: string, user: UserToken): Promise<entities.Note> {\n\treturn await api('notes/create', { renoteId: noteId }, user).then(it => it.body.createdNote);\n}\n\nasync function createChannel(name: string, user: UserToken): Promise<entities.ChannelsCreateResponse> {\n\treturn (await api('channels/create', { name }, user)).body;\n}\n\nasync function followChannel(channelId: string, user: UserToken) {\n\treturn await api('channels/follow', { channelId }, user);\n\n\n--- Snippet 2 (Line 676) ---\n\n\t\t\tdescribe('Channel', () => {\n\t\t\t\ttest('TL', async () => {\n\t\t\t\t\tconst [alice, bob] = await Promise.all([signup(), signup()]);\n\n\t\t\t\t\tconst channel = await createChannel('channel', bob);\n\n\t\t\t\t\tconst aliceNote = await post(alice, { text: 'hi' });\n\t\t\t\t\tconst bobNote = await post(bob, { text: 'ok', channelId: channel.id });\n"},{"type":"text","text":"Repository: eclipse-sprotty/sprotty\nPath: examples/multicore/src/multicore.ts\nURL: https://github.com/eclipse-sprotty/sprotty/blob/master/examples/multicore/src/multicore.ts\nLicense: EPL-2.0\n\nSnippets:\n--- Snippet 1 (Line 55) ---\n                    id: 'nr_' + pos,\n                    type: 'label:heading',\n                    text: '' + pos\n                } as SLabel]\n            });\n            channels.push(createChannel(i, j, Direction.up));\n            channels.push(createChannel(i, j, Direction.down));\n            channels.push(createChannel(i, j, Direction.left));\n            channels.push(createChannel(i, j, Direction.right));\n        }\n        channels.push(createChannel(dim, i, Direction.up));\n        channels.push(createChannel(dim, i, Direction.down));\n        channels.push(createChannel(i, dim, Direction.left));\n        channels.push(createChannel(i, dim, Direction.right));\n    }\n\n    function createChannel(row: number, column: number, direction: Direction): ChannelSchema {\n        const pos = row + '_' + column;\n        return {\n            id: 'channel_' + direction + '_' + pos,\n            type: 'channel',\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: e2e-tests/cypress/tests/integration/channels/channel/archived_channels_1_spec.ts\nURL: https://github.com/mattermost/mattermost/blob/master/e2e-tests/cypress/tests/integration/channels/channel/archived_channels_1_spec.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 38) ---\n    it('MM-T1680 Open archived channel from search results with permalink view in another channel is open', () => {\n        // # Visit the test team\n        cy.visit(`/${testTeam.name}`);\n\n        // # Create a new channel\n        cy.uiCreateChannel({isNewSidebar: true});\n\n        // # Make a post\n        const archivedPostText = `archived${getRandomId()}`;\n        cy.postMessage(archivedPostText);\n        cy.getLastPostId().as('archivedPostId');\n\n\n--- Snippet 2 (Line 85) ---\n        cy.apiCreateChannel(testTeam.id, 'channel', 'channel').then(({channel}) => {\n            // # Visit the channel\n            cy.visit(`/${testTeam.name}/channels/${channel.name}`);\n\n            // # Archive the channel\n            cy.uiArchiveChannel();\n\n            // # Click on browse channels\n            cy.uiBrowseOrCreateChannel('Browse channels');\n"},{"type":"text","text":"Repository: jwalton/node-amqp-connection-manager\nPath: test/integrationTest.ts\nURL: https://github.com/jwalton/node-amqp-connection-manager/blob/master/test/integrationTest.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 89) ---\n        // Create a new connection manager\n        connection = amqp.connect(['amqp://localhost']);\n\n        // Ask the connection manager for a ChannelWrapper.  Specify a setup function to\n        // run every time we reconnect to the broker.\n        const sendChannel = connection.createChannel({\n            setup: async (channel: ConfirmChannel) => {\n                await channel.assertQueue(queueName, { durable: false, autoDelete: true });\n            },\n        });\n\n        const rxPromise = defer<ConsumeMessage>();\n\n        const receiveWrapper = connection.createChannel({\n            setup: async (channel: ConfirmChannel) => {\n                // `channel` here is a regular amqplib `ConfirmChannel`.\n                // Note that `this` here is the channelWrapper instance.\n                await channel.assertQueue(queueName, { durable: false, autoDelete: true });\n                await channel.consume(\n"},{"type":"text","text":"Repository: ruvnet/claude-flow\nPath: src/coordination/hive-protocol.ts\nURL: https://github.com/ruvnet/claude-flow/blob/main/src/coordination/hive-protocol.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 52) ---\n  /**\n   * Initialize default communication channels\n   */\n  private initializeChannels() {\n    // Broadcast channel for all agents\n    this.createChannel('broadcast', 'broadcast', 'General announcements and updates');\n\n    // Consensus channel for voting\n    this.createChannel('consensus', 'consensus', 'Voting and decision making');\n\n    // Coordination channel for task management\n    this.createChannel('coordination', 'coordination', 'Task assignment and progress');\n\n    // Knowledge channel for sharing insights\n    this.createChannel('knowledge', 'knowledge', 'Knowledge sharing and learning');\n  }\n\n  /**\n   * Create a new communication channel\n   */\n  createChannel(name: string, type: HiveChannel['type'], description: string): HiveChannel {\n"},{"type":"text","text":"Repository: PapillonApp/Papillon\nPath: src/background/Notifications.ts\nURL: https://github.com/PapillonApp/Papillon/blob/main/src/background/Notifications.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 30) ---\n\nconst createChannelNotification = async () => {\n  const notifee = (await import(\"@notifee/react-native\")).default;\n  const AndroidImportance = (await import(\"@notifee/react-native\")).AndroidImportance;\n\n  await notifee.createChannel({\n    id: \"Test\",\n    name: \"Test\",\n    description: \"Permet de tester les notifications\",\n    sound: \"default\",\n  });\n\n  if (__DEV__) {\n    await notifee.createChannel({\n      id: \"Status\",\n      name: \"Statut du background\",\n      description: \"Affiche quand le background est actuellement actif\",\n      vibration: false,\n      importance: AndroidImportance.MIN,\n"},{"type":"text","text":"Repository: eclipse-theia/theia\nPath: packages/core/src/common/message-rpc/channel.ts\nURL: https://github.com/eclipse-theia/theia/blob/master/packages/core/src/common/message-rpc/channel.ts\nLicense: EPL-2.0\n\nSnippets:\n--- Snippet 1 (Line 213) ---\n\n    protected handleAckOpen(id: string): void {\n        // edge case: both side try to open a channel at the same time.\n        const resolve = this.pendingOpen.get(id);\n        if (resolve) {\n            const channel = this.createChannel(id);\n            this.pendingOpen.delete(id);\n            this.openChannels.set(id, channel);\n            resolve(channel);\n            this.onOpenChannelEmitter.fire({ id, channel });\n        } else {\n\n\n--- Snippet 2 (Line 225) ---\n        }\n    }\n\n    protected handleOpen(id: string): void {\n        if (!this.openChannels.has(id)) {\n            const channel = this.createChannel(id);\n            this.openChannels.set(id, channel);\n            const resolve = this.pendingOpen.get(id);\n            if (resolve) {\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: e2e-tests/cypress/tests/integration/channels/channel_sidebar/unread_filter_spec.ts\nURL: https://github.com/mattermost/mattermost/blob/master/e2e-tests/cypress/tests/integration/channels/channel_sidebar/unread_filter_spec.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 90) ---\n        cy.get('.SidebarChannelGroupHeader:contains(CHANNELS)').should('be.visible');\n\n        // # Create a couple of new channels, one of which is unread and one of which is not\n        const readChannelName = `read${randomId}`;\n        const unreadChannelName = `unread${randomId}`;\n        createChannel(teamId, readChannelName);\n        createChannel(teamId, unreadChannelName, 'test');\n\n        // * Verify that the channels are correctly read and unread\n        cy.get(`#sidebarItem_${readChannelName}`).should(beRead);\n        cy.get(`#sidebarItem_${unreadChannelName}`).should(beUnread);\n\n\n\n--- Snippet 2 (Line 137) ---\n        cy.get('.SidebarChannelGroupHeader:contains(CHANNELS)').should('be.visible');\n\n        // # Create a couple of new channels, both of which are unread\n        const channelName1 = `channel1${randomId}`;\n        const channelName2 = `channel2${randomId}`;\n        createChannel(teamId, channelName1, 'test');\n        createChannel(teamId, channelName2, 'test');\n\n"}]}
{"parentUuid":"8ab8ce1c-c465-4175-b3a9-4bf9733cbeca","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01VykWc1QznWQziPbTTEP8Qc","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Wuu6sKezoa8TZjv98hkcFN","name":"mcp__grep__searchGitHub","input":{"query":"MessageList","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":14006,"cache_read_input_tokens":18413,"cache_creation":{"ephemeral_5m_input_tokens":14006,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnGbU4Q4yfKQ1Q2Zh3U","type":"assistant","uuid":"ba6d1f5a-d101-4047-a136-9c423263a975","timestamp":"2025-12-24T03:12:40.924Z"}
{"parentUuid":"ba6d1f5a-d101-4047-a136-9c423263a975","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01VykWc1QznWQziPbTTEP8Qc","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01B8s79pZsmnQjJkPkvMrJm4","name":"mcp__grep__searchGitHub","input":{"query":"(?s)socket.on\\(.*message","language":["TypeScript","TSX"],"useRegexp":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":14006,"cache_read_input_tokens":18413,"cache_creation":{"ephemeral_5m_input_tokens":14006,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnGbU4Q4yfKQ1Q2Zh3U","type":"assistant","uuid":"2ecbcd4a-65b2-489d-8e88-8d2a9c075b0d","timestamp":"2025-12-24T03:12:42.601Z"}
{"parentUuid":"2ecbcd4a-65b2-489d-8e88-8d2a9c075b0d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01VykWc1QznWQziPbTTEP8Qc","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01LPu9GzNaAeGVEYSRaCQGfB","name":"mcp__grep__searchGitHub","input":{"query":"ThreadList","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":14006,"cache_read_input_tokens":18413,"cache_creation":{"ephemeral_5m_input_tokens":14006,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnGbU4Q4yfKQ1Q2Zh3U","type":"assistant","uuid":"444a5c76-8a28-489e-afdf-dc44595cd9c4","timestamp":"2025-12-24T03:12:43.124Z"}
{"parentUuid":"444a5c76-8a28-489e-afdf-dc44595cd9c4","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01VykWc1QznWQziPbTTEP8Qc","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01ACHsxA9bvioyx6tcmsKmn8","name":"mcp__grep__searchGitHub","input":{"query":"ServerSidebar","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":14006,"cache_read_input_tokens":18413,"cache_creation":{"ephemeral_5m_input_tokens":14006,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnGbU4Q4yfKQ1Q2Zh3U","type":"assistant","uuid":"659012a1-10be-4c3e-acfc-30665cb6f2a5","timestamp":"2025-12-24T03:12:43.861Z"}
{"parentUuid":"659012a1-10be-4c3e-acfc-30665cb6f2a5","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Wuu6sKezoa8TZjv98hkcFN","type":"tool_result","content":[{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/components/message/list/MessageListContext.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/components/message/list/MessageListContext.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 4) ---\n\nimport type { useFormatDate } from '../../../hooks/useFormatDate';\nimport type { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\nimport type { useFormatTime } from '../../../hooks/useFormatTime';\n\nexport type MessageListContextValue = {\n\tautoTranslate: {\n\t\tshowAutoTranslate: (message: IMessage) => boolean;\n\t\tautoTranslateLanguage?: string;\n\t\tautoTranslateEnabled: boolean;\n\t};\n\n\n--- Snippet 2 (Line 40) ---\n\t\tstoreUsers: boolean;\n\t};\n\tformatDateAndTime: ReturnType<typeof useFormatDateAndTime>;\n\tformatTime: ReturnType<typeof useFormatTime>;\n\tformatDate: ReturnType<typeof useFormatDate>;\n\tmessageListRef?: RefCallback<HTMLElement | undefined>;\n};\n\nexport const messageListContextDefaultValue: MessageListContextValue = {\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/views/room/contextualBar/Threads/components/ThreadMessageList.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/views/room/contextualBar/Threads/components/ThreadMessageList.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 10) ---\nimport { useTranslation } from 'react-i18next';\n\nimport { ThreadMessageItem } from './ThreadMessageItem';\nimport { isTruthy } from '../../../../../../lib/isTruthy';\nimport { BubbleDate } from '../../../BubbleDate';\nimport { useJumpToMessageImperative } from '../../../MessageList/hooks/useJumpToMessage';\nimport { isMessageNewDay } from '../../../MessageList/lib/isMessageNewDay';\nimport MessageListProvider from '../../../MessageList/providers/MessageListProvider';\nimport LoadingMessagesIndicator from '../../../body/LoadingMessagesIndicator';\nimport { useDateScroll } from '../../../hooks/useDateScroll';\nimport { useFirstUnreadMessageId } from '../../../hooks/useFirstUnreadMessageId';\nimport { useMessageListNavigation } from '../../../hooks/useMessageListNavigation';\nimport { useLegacyThreadMessageListScrolling } from '../hooks/useLegacyThreadMessageListScrolling';\nimport { useLegacyThreadMessages } from '../hooks/useLegacyThreadMessages';\nimport './threads.css';\n\nconst isMessageSequential = (current: IMessage, previous: IMessage | undefined, groupingRange: number): boolean => {\n\tif (!previous) {\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/platform/client/src/websocket.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/platform/client/src/websocket.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nconst WEBSOCKET_HELLO = 'hello';\n\nexport type MessageListener = (msg: WebSocketMessage) => void;\nexport type FirstConnectListener = () => void;\nexport type ReconnectListener = () => void;\nexport type MissedMessageListener = () => void;\nexport type ErrorListener = (event: Event) => void;\nexport type CloseListener = (connectFailCount: number) => void;\n\nexport type WebSocketClientConfig = {\n    maxWebSocketFails: number;\n\n\n--- Snippet 2 (Line 52) ---\n    private lastErrCode: string | null;\n\n    /**\n     * @deprecated Use messageListeners instead\n     */\n    private eventCallback: MessageListener | null = null;\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/editor/contrib/message/browser/messageController.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/message/browser/messageController.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 34) ---\n\t}\n\n\tprivate readonly _editor: ICodeEditor;\n\tprivate readonly _visible: IContextKey<boolean>;\n\tprivate readonly _messageWidget = new MutableDisposable<MessageWidget>();\n\tprivate readonly _messageListeners = new DisposableStore();\n\tprivate _mouseOverMessage: boolean = false;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\n\n--- Snippet 2 (Line 48) ---\n\t\tthis._editor = editor;\n\t\tthis._visible = MessageController.MESSAGE_VISIBLE.bindTo(contextKeyService);\n\t}\n\n\tdispose(): void {\n\t\tthis._messageListeners.dispose();\n\t\tthis._messageWidget.dispose();\n\t\tthis._visible.reset();\n\t}\n"},{"type":"text","text":"Repository: chatboxai/chatbox\nPath: src/renderer/components/MessageList.tsx\nURL: https://github.com/chatboxai/chatbox/blob/main/src/renderer/components/MessageList.tsx\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 40) ---\n  moveThreadToConversations,\n  removeThread,\n  switchFork,\n  switchThread,\n} from '@/stores/sessionActions'\nimport { getAllMessageList, getCurrentThreadHistoryHash } from '@/stores/sessionHelpers'\nimport { settingsStore } from '@/stores/settingsStore'\nimport { useUIStore } from '@/stores/uiStore'\nimport ActionMenu from './ActionMenu'\nimport { ErrorBoundary } from './ErrorBoundary'\nimport { BlockCodeCollapsedStateProvider } from './Markdown'\n\n\n--- Snippet 2 (Line 54) ---\n\nconst sessionScrollPositionCache = new Map<string, StateSnapshot>()\n\nexport interface MessageListRef {\n  scrollToTop: (behavior?: ScrollBehavior) => void\n  scrollToBottom: (behavior?: ScrollBehavior) => void\n}\n\nexport interface MessageListProps {\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/components/GazzodownText.spec.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/components/GazzodownText.spec.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 5) ---\nimport GazzodownText from './GazzodownText';\nimport { useMessageListHighlights } from './message/list/MessageListContext';\n\njest.mock('@rocket.chat/ui-client', () => ({\n\tuseFeaturePreview: () => false,\n}));\njest.mock('@rocket.chat/fuselage-hooks', () => ({\n\tuseLocalStorage: () => ['en', jest.fn()],\n}));\njest.mock('./message/list/MessageListContext', () => ({\n\tuseMessageListHighlights: jest.fn(),\n\tuseMessageListShowRealName: jest.fn(() => false),\n}));\njest.mock('../lib/utils/fireGlobalEvent', () => ({\n\tfireGlobalEvent: jest.fn(),\n}));\njest.mock('../views/room/hooks/useGoToRoom', () => ({\n\tuseGoToRoom: jest.fn(),\n}));\n\nconst mockUseMessageListHighlights = useMessageListHighlights as jest.MockedFunction<typeof useMessageListHighlights>;\n"},{"type":"text","text":"Repository: mastra-ai/mastra\nPath: packages/core/src/processors/runner.ts\nURL: https://github.com/mastra-ai/mastra/blob/main/packages/core/src/processors/runner.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport type { MastraDBMessage } from '../agent/message-list';\nimport { MessageList } from '../agent/message-list';\nimport { TripWire } from '../agent/trip-wire';\nimport type { TripWireOptions } from '../agent/trip-wire';\nimport { isSupportedLanguageModel, supportedLanguageModelSpecifications } from '../agent/utils';\nimport { MastraError } from '../error';\nimport { resolveModelConfig } from '../llm';\n\n\n--- Snippet 2 (Line 152) ---\n      // No output means no changes - return input unchanged\n      return input;\n    }\n\n    // Validate it has the expected ProcessorStepOutput shape\n    if (!('phase' in output) || !('messages' in output || 'part' in output || 'messageList' in output)) {\n      throw new MastraError({\n        category: 'USER',\n        domain: 'AGENT',\n        id: 'PROCESSOR_WORKFLOW_INVALID_OUTPUT',\n        text: `Processor workflow ${workflow.id} returned invalid output format. Expected ProcessorStepOutput.`,\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/utils/desktop_api.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/utils/desktop_api.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 21) ---\n    private isAbleToPopout?: boolean;\n\n    /**\n     * @deprecated\n     */\n    private postMessageListeners?: Map<string, Set<(message: unknown) => void>>;\n\n    constructor() {\n        // Check the user agent string first\n        if (!isDesktopApp()) {\n            return;\n\n\n--- Snippet 2 (Line 48) ---\n        window.desktopAPI?.canPopout?.().then((canPopout) => {\n            this.isAbleToPopout = canPopout;\n        });\n\n        // Legacy code - to be removed\n        this.postMessageListeners = new Map();\n        window.addEventListener('message', this.postMessageListener);\n        window.addEventListener('beforeunload', () => {\n            window.removeEventListener('message', this.postMessageListener);\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/views/room/MessageList/MessageList.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/views/room/MessageList/MessageList.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nimport { MessageTypes } from '@rocket.chat/message-types';\nimport { useSetting, useUserPreference } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps } from 'react';\nimport { Fragment } from 'react';\n\nimport { MessageListItem } from './MessageListItem';\nimport { useRoomSubscription } from '../contexts/RoomContext';\nimport { useFirstUnreadMessageId } from '../hooks/useFirstUnreadMessageId';\nimport { SelectedMessagesProvider } from '../providers/SelectedMessagesProvider';\nimport { useMessages } from './hooks/useMessages';\nimport { isMessageSequential } from './lib/isMessageSequential';\nimport MessageListProvider from './providers/MessageListProvider';\n\ntype MessageListProps = {\n\trid: IRoom['_id'];\n\tmessageListRef: ComponentProps<typeof MessageListProvider>['messageListRef'];\n};\n\nexport const MessageList = function MessageList({ rid, messageListRef }: MessageListProps) {\n\tconst messages = useMessages({ rid });\n\tconst subscription = useRoomSubscription();\n"},{"type":"text","text":"Repository: coze-dev/coze-studio\nPath: frontend/packages/studio/open-platform/open-chat/src/components/studio-open-chat/provider/coz-sdk/api-adapter/use-message-list.ts\nURL: https://github.com/coze-dev/coze-studio/blob/main/frontend/packages/studio/open-platform/open-chat/src/components/studio-open-chat/provider/coz-sdk/api-adapter/use-message-list.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 21) ---\n\nimport { useChatCozeSdk } from '../context';\nimport { useChatAppProps } from '../../../store';\nimport { messageConverterToCoze } from './message';\n\ntype ChatMessageList = MixInitResponse['messageList'];\nexport const useMessageList = (): SceneConfig => {\n  const getMessageListByPairs = useGetMessageListByPairs();\n  const { chatConfig } = useChatAppProps();\n  const { bot_id: botId } = chatConfig || {};\n  const { refMessageListLeft } = useChatCozeSdk();\n  return useMemo(() => {\n    const onAfterResponse = [\n      response => {\n        const { data } = response;\n        const conversationId = response.config?.params?.conversation_id;\n        const lastMessageList =\n          (refMessageListLeft?.current?.[conversationId] as ChatMessageList) ||\n          [];\n        const lastAnswerChatId =\n          lastMessageList[lastMessageList.length - 1]?.reply_id;\n"}]}]},"uuid":"56e7c864-13d6-4720-84cb-1d5dede626bd","timestamp":"2025-12-24T03:12:44.329Z","toolUseResult":[{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/components/message/list/MessageListContext.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/components/message/list/MessageListContext.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 4) ---\n\nimport type { useFormatDate } from '../../../hooks/useFormatDate';\nimport type { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\nimport type { useFormatTime } from '../../../hooks/useFormatTime';\n\nexport type MessageListContextValue = {\n\tautoTranslate: {\n\t\tshowAutoTranslate: (message: IMessage) => boolean;\n\t\tautoTranslateLanguage?: string;\n\t\tautoTranslateEnabled: boolean;\n\t};\n\n\n--- Snippet 2 (Line 40) ---\n\t\tstoreUsers: boolean;\n\t};\n\tformatDateAndTime: ReturnType<typeof useFormatDateAndTime>;\n\tformatTime: ReturnType<typeof useFormatTime>;\n\tformatDate: ReturnType<typeof useFormatDate>;\n\tmessageListRef?: RefCallback<HTMLElement | undefined>;\n};\n\nexport const messageListContextDefaultValue: MessageListContextValue = {\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/views/room/contextualBar/Threads/components/ThreadMessageList.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/views/room/contextualBar/Threads/components/ThreadMessageList.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 10) ---\nimport { useTranslation } from 'react-i18next';\n\nimport { ThreadMessageItem } from './ThreadMessageItem';\nimport { isTruthy } from '../../../../../../lib/isTruthy';\nimport { BubbleDate } from '../../../BubbleDate';\nimport { useJumpToMessageImperative } from '../../../MessageList/hooks/useJumpToMessage';\nimport { isMessageNewDay } from '../../../MessageList/lib/isMessageNewDay';\nimport MessageListProvider from '../../../MessageList/providers/MessageListProvider';\nimport LoadingMessagesIndicator from '../../../body/LoadingMessagesIndicator';\nimport { useDateScroll } from '../../../hooks/useDateScroll';\nimport { useFirstUnreadMessageId } from '../../../hooks/useFirstUnreadMessageId';\nimport { useMessageListNavigation } from '../../../hooks/useMessageListNavigation';\nimport { useLegacyThreadMessageListScrolling } from '../hooks/useLegacyThreadMessageListScrolling';\nimport { useLegacyThreadMessages } from '../hooks/useLegacyThreadMessages';\nimport './threads.css';\n\nconst isMessageSequential = (current: IMessage, previous: IMessage | undefined, groupingRange: number): boolean => {\n\tif (!previous) {\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/platform/client/src/websocket.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/platform/client/src/websocket.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\n// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nconst WEBSOCKET_HELLO = 'hello';\n\nexport type MessageListener = (msg: WebSocketMessage) => void;\nexport type FirstConnectListener = () => void;\nexport type ReconnectListener = () => void;\nexport type MissedMessageListener = () => void;\nexport type ErrorListener = (event: Event) => void;\nexport type CloseListener = (connectFailCount: number) => void;\n\nexport type WebSocketClientConfig = {\n    maxWebSocketFails: number;\n\n\n--- Snippet 2 (Line 52) ---\n    private lastErrCode: string | null;\n\n    /**\n     * @deprecated Use messageListeners instead\n     */\n    private eventCallback: MessageListener | null = null;\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/editor/contrib/message/browser/messageController.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/message/browser/messageController.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 34) ---\n\t}\n\n\tprivate readonly _editor: ICodeEditor;\n\tprivate readonly _visible: IContextKey<boolean>;\n\tprivate readonly _messageWidget = new MutableDisposable<MessageWidget>();\n\tprivate readonly _messageListeners = new DisposableStore();\n\tprivate _mouseOverMessage: boolean = false;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\n\n--- Snippet 2 (Line 48) ---\n\t\tthis._editor = editor;\n\t\tthis._visible = MessageController.MESSAGE_VISIBLE.bindTo(contextKeyService);\n\t}\n\n\tdispose(): void {\n\t\tthis._messageListeners.dispose();\n\t\tthis._messageWidget.dispose();\n\t\tthis._visible.reset();\n\t}\n"},{"type":"text","text":"Repository: chatboxai/chatbox\nPath: src/renderer/components/MessageList.tsx\nURL: https://github.com/chatboxai/chatbox/blob/main/src/renderer/components/MessageList.tsx\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 40) ---\n  moveThreadToConversations,\n  removeThread,\n  switchFork,\n  switchThread,\n} from '@/stores/sessionActions'\nimport { getAllMessageList, getCurrentThreadHistoryHash } from '@/stores/sessionHelpers'\nimport { settingsStore } from '@/stores/settingsStore'\nimport { useUIStore } from '@/stores/uiStore'\nimport ActionMenu from './ActionMenu'\nimport { ErrorBoundary } from './ErrorBoundary'\nimport { BlockCodeCollapsedStateProvider } from './Markdown'\n\n\n--- Snippet 2 (Line 54) ---\n\nconst sessionScrollPositionCache = new Map<string, StateSnapshot>()\n\nexport interface MessageListRef {\n  scrollToTop: (behavior?: ScrollBehavior) => void\n  scrollToBottom: (behavior?: ScrollBehavior) => void\n}\n\nexport interface MessageListProps {\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/components/GazzodownText.spec.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/components/GazzodownText.spec.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 5) ---\nimport GazzodownText from './GazzodownText';\nimport { useMessageListHighlights } from './message/list/MessageListContext';\n\njest.mock('@rocket.chat/ui-client', () => ({\n\tuseFeaturePreview: () => false,\n}));\njest.mock('@rocket.chat/fuselage-hooks', () => ({\n\tuseLocalStorage: () => ['en', jest.fn()],\n}));\njest.mock('./message/list/MessageListContext', () => ({\n\tuseMessageListHighlights: jest.fn(),\n\tuseMessageListShowRealName: jest.fn(() => false),\n}));\njest.mock('../lib/utils/fireGlobalEvent', () => ({\n\tfireGlobalEvent: jest.fn(),\n}));\njest.mock('../views/room/hooks/useGoToRoom', () => ({\n\tuseGoToRoom: jest.fn(),\n}));\n\nconst mockUseMessageListHighlights = useMessageListHighlights as jest.MockedFunction<typeof useMessageListHighlights>;\n"},{"type":"text","text":"Repository: mastra-ai/mastra\nPath: packages/core/src/processors/runner.ts\nURL: https://github.com/mastra-ai/mastra/blob/main/packages/core/src/processors/runner.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport type { MastraDBMessage } from '../agent/message-list';\nimport { MessageList } from '../agent/message-list';\nimport { TripWire } from '../agent/trip-wire';\nimport type { TripWireOptions } from '../agent/trip-wire';\nimport { isSupportedLanguageModel, supportedLanguageModelSpecifications } from '../agent/utils';\nimport { MastraError } from '../error';\nimport { resolveModelConfig } from '../llm';\n\n\n--- Snippet 2 (Line 152) ---\n      // No output means no changes - return input unchanged\n      return input;\n    }\n\n    // Validate it has the expected ProcessorStepOutput shape\n    if (!('phase' in output) || !('messages' in output || 'part' in output || 'messageList' in output)) {\n      throw new MastraError({\n        category: 'USER',\n        domain: 'AGENT',\n        id: 'PROCESSOR_WORKFLOW_INVALID_OUTPUT',\n        text: `Processor workflow ${workflow.id} returned invalid output format. Expected ProcessorStepOutput.`,\n"},{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/utils/desktop_api.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/utils/desktop_api.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 21) ---\n    private isAbleToPopout?: boolean;\n\n    /**\n     * @deprecated\n     */\n    private postMessageListeners?: Map<string, Set<(message: unknown) => void>>;\n\n    constructor() {\n        // Check the user agent string first\n        if (!isDesktopApp()) {\n            return;\n\n\n--- Snippet 2 (Line 48) ---\n        window.desktopAPI?.canPopout?.().then((canPopout) => {\n            this.isAbleToPopout = canPopout;\n        });\n\n        // Legacy code - to be removed\n        this.postMessageListeners = new Map();\n        window.addEventListener('message', this.postMessageListener);\n        window.addEventListener('beforeunload', () => {\n            window.removeEventListener('message', this.postMessageListener);\n"},{"type":"text","text":"Repository: RocketChat/Rocket.Chat\nPath: apps/meteor/client/views/room/MessageList/MessageList.tsx\nURL: https://github.com/RocketChat/Rocket.Chat/blob/develop/apps/meteor/client/views/room/MessageList/MessageList.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nimport { MessageTypes } from '@rocket.chat/message-types';\nimport { useSetting, useUserPreference } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps } from 'react';\nimport { Fragment } from 'react';\n\nimport { MessageListItem } from './MessageListItem';\nimport { useRoomSubscription } from '../contexts/RoomContext';\nimport { useFirstUnreadMessageId } from '../hooks/useFirstUnreadMessageId';\nimport { SelectedMessagesProvider } from '../providers/SelectedMessagesProvider';\nimport { useMessages } from './hooks/useMessages';\nimport { isMessageSequential } from './lib/isMessageSequential';\nimport MessageListProvider from './providers/MessageListProvider';\n\ntype MessageListProps = {\n\trid: IRoom['_id'];\n\tmessageListRef: ComponentProps<typeof MessageListProvider>['messageListRef'];\n};\n\nexport const MessageList = function MessageList({ rid, messageListRef }: MessageListProps) {\n\tconst messages = useMessages({ rid });\n\tconst subscription = useRoomSubscription();\n"},{"type":"text","text":"Repository: coze-dev/coze-studio\nPath: frontend/packages/studio/open-platform/open-chat/src/components/studio-open-chat/provider/coz-sdk/api-adapter/use-message-list.ts\nURL: https://github.com/coze-dev/coze-studio/blob/main/frontend/packages/studio/open-platform/open-chat/src/components/studio-open-chat/provider/coz-sdk/api-adapter/use-message-list.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 21) ---\n\nimport { useChatCozeSdk } from '../context';\nimport { useChatAppProps } from '../../../store';\nimport { messageConverterToCoze } from './message';\n\ntype ChatMessageList = MixInitResponse['messageList'];\nexport const useMessageList = (): SceneConfig => {\n  const getMessageListByPairs = useGetMessageListByPairs();\n  const { chatConfig } = useChatAppProps();\n  const { bot_id: botId } = chatConfig || {};\n  const { refMessageListLeft } = useChatCozeSdk();\n  return useMemo(() => {\n    const onAfterResponse = [\n      response => {\n        const { data } = response;\n        const conversationId = response.config?.params?.conversation_id;\n        const lastMessageList =\n          (refMessageListLeft?.current?.[conversationId] as ChatMessageList) ||\n          [];\n        const lastAnswerChatId =\n          lastMessageList[lastMessageList.length - 1]?.reply_id;\n"}]}
{"parentUuid":"56e7c864-13d6-4720-84cb-1d5dede626bd","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01B8s79pZsmnQjJkPkvMrJm4","type":"tool_result","content":[{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/api/node/extensionHostProcess.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/api/node/extensionHostProcess.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 286) ---\n\t\t\tsocket.on('close', () => {\n\t\t\t\tonTerminate('renderer closed the socket');\n\t\t\t});\n\t\t});\n\t}\n}\n\nasync function createExtHostProtocol(): Promise<IMessagePassingProtocol> {\n\n\tconst protocol = await _createExtHostProtocol();\n\n\treturn new class implements IMessagePassingProtocol {\n\n\t\tprivate readonly _onMessage = new BufferedEmitter<VSBuffer>();\n\t\treadonly onMessage: Event<VSBuffer> = this._onMessage.event;\n\n\t\tprivate _terminating: boolean;\n\t\tprivate _protocolListener: IDisposable;\n\n\t\tconstructor() {\n\t\t\tthis._terminating = false;\n"},{"type":"text","text":"Repository: expo/expo\nPath: packages/@expo/cli/src/start/server/metro/debugging/createDebugMiddleware.ts\nURL: https://github.com/expo/expo/blob/main/packages/%40expo/cli/src/start/server/metro/debugging/createDebugMiddleware.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 85) ---\n    // well-behaved and the debugger is prepared to handle large messages.\n    maxPayload: 0,\n  });\n\n  wss.on('connection', (networkSocket) => {\n    networkSocket.on('message', (data) => {\n      try {\n        // Parse the network message, to determine how the message should be handled\n        const message = JSON.parse(data.toString());\n\n        if (message.method === 'Expo(Network.receivedResponseBody)' && message.params) {\n          // If its a response body, write it to the global storage\n          const { requestId, ...requestInfo } = message.params;\n          NETWORK_RESPONSE_STORAGE.set(requestId, requestInfo);\n        } else {\n          // Otherwise, directly re-broadcast the Network events to all connected debuggers\n          debuggerWebsocket.clients.forEach((debuggerSocket) => {\n            if (debuggerSocket.readyState === debuggerSocket.OPEN) {\n"},{"type":"text","text":"Repository: juice-shop/juice-shop\nPath: test/api/socketSpec.ts\nURL: https://github.com/juice-shop/juice-shop/blob/master/test/api/socketSpec.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 16) ---\n    socket.on('connect', () => {\n      done()\n    })\n  })\n\n  afterEach(done => {\n    if (socket.connected) {\n      socket.disconnect()\n    }\n    done()\n  })\n\n  it('server handles confirmation messages for emitted challenge resolutions', done => {\n    socket.emit('notification received', 'Find the carefully hidden \\'Score Board\\' page.')\n    socket.emit('notification received', 'Provoke an error that is not very gracefully handled.')\n    socket.emit('notification received', 'Log in with the administrator\\'s user account.')\n    socket.emit('notification received', 'Retrieve a list of all user credentials via SQL Injection')\n    socket.emit('notification received', 'Post some feedback in another user\\'s name.')\n    socket.emit('notification received', 'Wherever you go, there you are.')\n    socket.emit('notification received', 'Place an order that makes you rich.')\n    socket.emit('notification received', 'Access a confidential document.')\n"},{"type":"text","text":"Repository: slidevjs/slidev\nPath: packages/slidev/node/vite/monacoWrite.ts\nURL: https://github.com/slidevjs/slidev/blob/main/packages/slidev/node/vite/monacoWrite.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 10) ---\n    name: 'slidev:monaco-write',\n    apply: 'serve',\n\n    configureServer(server) {\n      server.ws.on('connection', (socket) => {\n        socket.on('message', async (data) => {\n          let json\n          try {\n            json = JSON.parse(data.toString())\n          }\n          catch {\n"},{"type":"text","text":"Repository: activepieces/activepieces\nPath: packages/server/worker/src/lib/app-socket.ts\nURL: https://github.com/activepieces/activepieces/blob/main/packages/server/worker/src/lib/app-socket.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 30) ---\n        socket.on('connect', async () => {\n            log.info({\n                message: 'Connected to server',\n                workerId: workerMachine.getWorkerId(),\n                socketId: socket.id,\n            })\n            await params.onConnect(socket)\n        })\n\n        socket.io.on('reconnect_attempt', (attempt: number) => {\n            log.info({\n                message: 'Socket reconnect attempt',\n                attempt,\n            })\n        })\n        \n        socket.on('connect_error', (error) => {\n            log.error({\n                message: 'Socket connection error',\n                error: error.message,\n            })\n"},{"type":"text","text":"Repository: nrwl/nx\nPath: packages/nx/src/tasks-runner/pseudo-ipc.ts\nURL: https://github.com/nrwl/nx/blob/master/packages/nx/src/tasks-runner/pseudo-ipc.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 50) ---\n        socket.on('close', () => {\n          this.sockets.delete(socket);\n        });\n      });\n      this.server.listen(this.path, () => {\n        res();\n      });\n    });\n  }\n\n  private childReadyMap = new Map<string, () => void>();\n\n  async waitForChildReady(childId: string) {\n    return new Promise<void>((res) => {\n      this.childReadyMap.set(childId, res);\n    });\n  }\n\n  private registerChildMessages(socket: Socket) {\n    socket.on(\n      'data',\n"},{"type":"text","text":"Repository: pavlobu/deskreen\nPath: src/renderer/src/features/PeerConnection/handleSocket.ts\nURL: https://github.com/pavlobu/deskreen/blob/master/src/renderer/src/features/PeerConnection/handleSocket.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 7) ---\n\tpeerConnection.socket.on('disconnect', () => {\n\t\tpeerConnection.selfDestroy();\n\t});\n\n\tpeerConnection.socket.on('error', (error: Error) => {\n\t\tconsole.error('peerConnection socket error', error);\n\t\tpeerConnection.selfDestroy();\n\t});\n\n\tpeerConnection.socket.on('connect', () => {\n\t\tpeerConnection.emitUserEnter();\n\t});\n\n\tpeerConnection.socket.on(\n\t\t'USER_ENTER',\n\t\t(payload: { users: PartnerPeerUser[] }) => {\n\t\t\thandleSocketUserEnter(peerConnection, payload);\n\t\t},\n\t);\n\n\tpeerConnection.socket.on('USER_EXIT', () => {\n"},{"type":"text","text":"Repository: ether/etherpad-lite\nPath: src/static/js/timeslider.ts\nURL: https://github.com/ether/etherpad-lite/blob/develop/src/static/js/timeslider.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 60) ---\n    socket.on('connect', () => {\n      sendSocketMsg('CLIENT_READY', {});\n    });\n\n    socket.on('disconnect', (reason) => {\n      BroadcastSlider.showReconnectUI();\n      // The socket.io client will automatically try to reconnect for all reasons other than \"io\n      // server disconnect\".\n      if (reason === 'io server disconnect') socket.connect();\n    });\n\n    // route the incoming messages\n    socket.on('message', (message) => {\n      if (message.type === 'CLIENT_VARS') {\n        handleClientVars(message);\n      } else if (message.accessStatus) {\n        $('body').html('<h2>You have no permission to access this pad</h2>');\n      } else if (message.type === 'CHANGESET_REQ' || message.type === 'COLLABROOM') {\n        changesetLoader.handleMessageFromServer(message);\n      }\n    });\n"},{"type":"text","text":"Repository: microsoft/playwright\nPath: packages/playwright-core/src/server/android/android.ts\nURL: https://github.com/microsoft/playwright/blob/main/packages/playwright-core/src/server/android/android.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 334) ---\n      socket.on('close', async () => {\n        gracefullyCloseSet.delete(cleanupArtifactsDir);\n        cleanupArtifactsDir().catch(e => debug('pw:android')(`could not cleanup artifacts dir: ${e}`));\n      });\n      const browserOptions: BrowserOptions = {\n        name: 'clank',\n        isChromium: true,\n        slowMo: 0,\n        persistent: { ...options, noDefaultViewport: true },\n        artifactsDir,\n        downloadsPath: artifactsDir,\n        tracesDir: artifactsDir,\n        browserProcess: new ClankBrowserProcess(androidBrowser),\n        proxy: options.proxy,\n        protocolLogger: helper.debugProtocolLogger(),\n        browserLogsCollector: new RecentLogsCollector(),\n        originalLaunchOptions: {},\n      };\n      validateBrowserContextOptions(options, browserOptions);\n\n      const browser = await progress.race(CRBrowser.connect(this.attribution.playwright, androidBrowser, browserOptions));\n"},{"type":"text","text":"Repository: RooCodeInc/Roo-Code\nPath: packages/cloud/src/bridge/SocketTransport.ts\nURL: https://github.com/RooCodeInc/Roo-Code/blob/main/packages/cloud/src/bridge/SocketTransport.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 116) ---\n\t\t\tthis.socket.on(\"connect\", async () => {\n\t\t\t\tconsole.log(\n\t\t\t\t\t`[SocketTransport#_connect] on(connect): isPreviouslyConnected = ${this.isPreviouslyConnected}`,\n\t\t\t\t)\n\n\t\t\t\tif (connectionTimeout) {\n\t\t\t\t\tclearTimeout(connectionTimeout)\n\t\t\t\t\tconnectionTimeout = null\n\t\t\t\t}\n\n\t\t\t\tthis.connectionState = ConnectionState.CONNECTED\n\n\t\t\t\tif (this.isPreviouslyConnected) {\n\t\t\t\t\tif (this.options.onReconnect) {\n\t\t\t\t\t\tawait this.options.onReconnect()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (this.options.onConnect) {\n\t\t\t\t\t\tawait this.options.onConnect()\n\t\t\t\t\t}\n\t\t\t\t}\n"}]}]},"uuid":"b8f5297b-6b4c-4d59-8416-7e8705c4d711","timestamp":"2025-12-24T03:12:44.699Z","toolUseResult":[{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/api/node/extensionHostProcess.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/api/node/extensionHostProcess.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 286) ---\n\t\t\tsocket.on('close', () => {\n\t\t\t\tonTerminate('renderer closed the socket');\n\t\t\t});\n\t\t});\n\t}\n}\n\nasync function createExtHostProtocol(): Promise<IMessagePassingProtocol> {\n\n\tconst protocol = await _createExtHostProtocol();\n\n\treturn new class implements IMessagePassingProtocol {\n\n\t\tprivate readonly _onMessage = new BufferedEmitter<VSBuffer>();\n\t\treadonly onMessage: Event<VSBuffer> = this._onMessage.event;\n\n\t\tprivate _terminating: boolean;\n\t\tprivate _protocolListener: IDisposable;\n\n\t\tconstructor() {\n\t\t\tthis._terminating = false;\n"},{"type":"text","text":"Repository: expo/expo\nPath: packages/@expo/cli/src/start/server/metro/debugging/createDebugMiddleware.ts\nURL: https://github.com/expo/expo/blob/main/packages/%40expo/cli/src/start/server/metro/debugging/createDebugMiddleware.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 85) ---\n    // well-behaved and the debugger is prepared to handle large messages.\n    maxPayload: 0,\n  });\n\n  wss.on('connection', (networkSocket) => {\n    networkSocket.on('message', (data) => {\n      try {\n        // Parse the network message, to determine how the message should be handled\n        const message = JSON.parse(data.toString());\n\n        if (message.method === 'Expo(Network.receivedResponseBody)' && message.params) {\n          // If its a response body, write it to the global storage\n          const { requestId, ...requestInfo } = message.params;\n          NETWORK_RESPONSE_STORAGE.set(requestId, requestInfo);\n        } else {\n          // Otherwise, directly re-broadcast the Network events to all connected debuggers\n          debuggerWebsocket.clients.forEach((debuggerSocket) => {\n            if (debuggerSocket.readyState === debuggerSocket.OPEN) {\n"},{"type":"text","text":"Repository: juice-shop/juice-shop\nPath: test/api/socketSpec.ts\nURL: https://github.com/juice-shop/juice-shop/blob/master/test/api/socketSpec.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 16) ---\n    socket.on('connect', () => {\n      done()\n    })\n  })\n\n  afterEach(done => {\n    if (socket.connected) {\n      socket.disconnect()\n    }\n    done()\n  })\n\n  it('server handles confirmation messages for emitted challenge resolutions', done => {\n    socket.emit('notification received', 'Find the carefully hidden \\'Score Board\\' page.')\n    socket.emit('notification received', 'Provoke an error that is not very gracefully handled.')\n    socket.emit('notification received', 'Log in with the administrator\\'s user account.')\n    socket.emit('notification received', 'Retrieve a list of all user credentials via SQL Injection')\n    socket.emit('notification received', 'Post some feedback in another user\\'s name.')\n    socket.emit('notification received', 'Wherever you go, there you are.')\n    socket.emit('notification received', 'Place an order that makes you rich.')\n    socket.emit('notification received', 'Access a confidential document.')\n"},{"type":"text","text":"Repository: slidevjs/slidev\nPath: packages/slidev/node/vite/monacoWrite.ts\nURL: https://github.com/slidevjs/slidev/blob/main/packages/slidev/node/vite/monacoWrite.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 10) ---\n    name: 'slidev:monaco-write',\n    apply: 'serve',\n\n    configureServer(server) {\n      server.ws.on('connection', (socket) => {\n        socket.on('message', async (data) => {\n          let json\n          try {\n            json = JSON.parse(data.toString())\n          }\n          catch {\n"},{"type":"text","text":"Repository: activepieces/activepieces\nPath: packages/server/worker/src/lib/app-socket.ts\nURL: https://github.com/activepieces/activepieces/blob/main/packages/server/worker/src/lib/app-socket.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 30) ---\n        socket.on('connect', async () => {\n            log.info({\n                message: 'Connected to server',\n                workerId: workerMachine.getWorkerId(),\n                socketId: socket.id,\n            })\n            await params.onConnect(socket)\n        })\n\n        socket.io.on('reconnect_attempt', (attempt: number) => {\n            log.info({\n                message: 'Socket reconnect attempt',\n                attempt,\n            })\n        })\n        \n        socket.on('connect_error', (error) => {\n            log.error({\n                message: 'Socket connection error',\n                error: error.message,\n            })\n"},{"type":"text","text":"Repository: nrwl/nx\nPath: packages/nx/src/tasks-runner/pseudo-ipc.ts\nURL: https://github.com/nrwl/nx/blob/master/packages/nx/src/tasks-runner/pseudo-ipc.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 50) ---\n        socket.on('close', () => {\n          this.sockets.delete(socket);\n        });\n      });\n      this.server.listen(this.path, () => {\n        res();\n      });\n    });\n  }\n\n  private childReadyMap = new Map<string, () => void>();\n\n  async waitForChildReady(childId: string) {\n    return new Promise<void>((res) => {\n      this.childReadyMap.set(childId, res);\n    });\n  }\n\n  private registerChildMessages(socket: Socket) {\n    socket.on(\n      'data',\n"},{"type":"text","text":"Repository: pavlobu/deskreen\nPath: src/renderer/src/features/PeerConnection/handleSocket.ts\nURL: https://github.com/pavlobu/deskreen/blob/master/src/renderer/src/features/PeerConnection/handleSocket.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 7) ---\n\tpeerConnection.socket.on('disconnect', () => {\n\t\tpeerConnection.selfDestroy();\n\t});\n\n\tpeerConnection.socket.on('error', (error: Error) => {\n\t\tconsole.error('peerConnection socket error', error);\n\t\tpeerConnection.selfDestroy();\n\t});\n\n\tpeerConnection.socket.on('connect', () => {\n\t\tpeerConnection.emitUserEnter();\n\t});\n\n\tpeerConnection.socket.on(\n\t\t'USER_ENTER',\n\t\t(payload: { users: PartnerPeerUser[] }) => {\n\t\t\thandleSocketUserEnter(peerConnection, payload);\n\t\t},\n\t);\n\n\tpeerConnection.socket.on('USER_EXIT', () => {\n"},{"type":"text","text":"Repository: ether/etherpad-lite\nPath: src/static/js/timeslider.ts\nURL: https://github.com/ether/etherpad-lite/blob/develop/src/static/js/timeslider.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 60) ---\n    socket.on('connect', () => {\n      sendSocketMsg('CLIENT_READY', {});\n    });\n\n    socket.on('disconnect', (reason) => {\n      BroadcastSlider.showReconnectUI();\n      // The socket.io client will automatically try to reconnect for all reasons other than \"io\n      // server disconnect\".\n      if (reason === 'io server disconnect') socket.connect();\n    });\n\n    // route the incoming messages\n    socket.on('message', (message) => {\n      if (message.type === 'CLIENT_VARS') {\n        handleClientVars(message);\n      } else if (message.accessStatus) {\n        $('body').html('<h2>You have no permission to access this pad</h2>');\n      } else if (message.type === 'CHANGESET_REQ' || message.type === 'COLLABROOM') {\n        changesetLoader.handleMessageFromServer(message);\n      }\n    });\n"},{"type":"text","text":"Repository: microsoft/playwright\nPath: packages/playwright-core/src/server/android/android.ts\nURL: https://github.com/microsoft/playwright/blob/main/packages/playwright-core/src/server/android/android.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 334) ---\n      socket.on('close', async () => {\n        gracefullyCloseSet.delete(cleanupArtifactsDir);\n        cleanupArtifactsDir().catch(e => debug('pw:android')(`could not cleanup artifacts dir: ${e}`));\n      });\n      const browserOptions: BrowserOptions = {\n        name: 'clank',\n        isChromium: true,\n        slowMo: 0,\n        persistent: { ...options, noDefaultViewport: true },\n        artifactsDir,\n        downloadsPath: artifactsDir,\n        tracesDir: artifactsDir,\n        browserProcess: new ClankBrowserProcess(androidBrowser),\n        proxy: options.proxy,\n        protocolLogger: helper.debugProtocolLogger(),\n        browserLogsCollector: new RecentLogsCollector(),\n        originalLaunchOptions: {},\n      };\n      validateBrowserContextOptions(options, browserOptions);\n\n      const browser = await progress.race(CRBrowser.connect(this.attribution.playwright, androidBrowser, browserOptions));\n"},{"type":"text","text":"Repository: RooCodeInc/Roo-Code\nPath: packages/cloud/src/bridge/SocketTransport.ts\nURL: https://github.com/RooCodeInc/Roo-Code/blob/main/packages/cloud/src/bridge/SocketTransport.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 116) ---\n\t\t\tthis.socket.on(\"connect\", async () => {\n\t\t\t\tconsole.log(\n\t\t\t\t\t`[SocketTransport#_connect] on(connect): isPreviouslyConnected = ${this.isPreviouslyConnected}`,\n\t\t\t\t)\n\n\t\t\t\tif (connectionTimeout) {\n\t\t\t\t\tclearTimeout(connectionTimeout)\n\t\t\t\t\tconnectionTimeout = null\n\t\t\t\t}\n\n\t\t\t\tthis.connectionState = ConnectionState.CONNECTED\n\n\t\t\t\tif (this.isPreviouslyConnected) {\n\t\t\t\t\tif (this.options.onReconnect) {\n\t\t\t\t\t\tawait this.options.onReconnect()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (this.options.onConnect) {\n\t\t\t\t\t\tawait this.options.onConnect()\n\t\t\t\t\t}\n\t\t\t\t}\n"}]}
{"parentUuid":"b8f5297b-6b4c-4d59-8416-7e8705c4d711","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01LPu9GzNaAeGVEYSRaCQGfB","type":"tool_result","content":[{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/packages/mattermost-redux/src/actions/threads.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/packages/mattermost-redux/src/actions/threads.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 3) ---\n\nimport uniq from 'lodash/uniq';\nimport {batchActions} from 'redux-batched-actions';\n\nimport type {Post} from '@mattermost/types/posts';\nimport type {UserThread, UserThreadList} from '@mattermost/types/threads';\n\nimport {ThreadTypes, PostTypes, UserTypes} from 'mattermost-redux/action_types';\nimport {getMissingFilesByPosts} from 'mattermost-redux/actions/files';\nimport {getMissingProfilesByIds} from 'mattermost-redux/actions/users';\nimport {Client4} from 'mattermost-redux/client';\n\n\n--- Snippet 2 (Line 25) ---\nimport {getPostThread} from './posts';\nimport {getMyTeamUnreads} from './teams';\n\ntype ExtendedPost = Post & { system_post_ids?: string[] };\n\nexport function fetchThreads(userId: string, teamId: string, {before = '', after = '', perPage = ThreadConstants.THREADS_CHUNK_SIZE, unread = false, totalsOnly = false, threadsOnly = false, extended = false, since = 0} = {}): ActionFuncAsync<UserThreadList> {\n    return async (dispatch, getState) => {\n        let data: undefined | UserThreadList;\n\n"},{"type":"text","text":"Repository: mem0ai/mem0\nPath: examples/mem0-demo/components/assistant-ui/thread-list.tsx\nURL: https://github.com/mem0ai/mem0/blob/main/examples/mem0-demo/components/assistant-ui/thread-list.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport type { FC } from \"react\";\nimport {\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@assistant-ui/react\";\nimport { ArchiveIcon, PlusIcon, RefreshCwIcon } from \"lucide-react\";\nimport { useState } from \"react\";\n\nimport { Button } from \"@/components/ui/button\";\n\n\n--- Snippet 2 (Line 24) ---\ninterface ThreadListProps {\n  onResetUserId?: () => void;\n  isDarkMode: boolean;\n}\n\nexport const ThreadList: FC<ThreadListProps> = ({ onResetUserId }) => {\n  const [open, setOpen] = useState(false);\n  \n  return (\n    <div className=\"flex-col h-full border-r border-[#e2e8f0] bg-white dark:bg-zinc-900 dark:border-zinc-800 p-3 overflow-y-auto hidden md:flex\">\n      <ThreadListPrimitive.Root className=\"flex flex-col justify-between h-full items-stretch gap-1.5\">\n"},{"type":"text","text":"Repository: assistant-ui/assistant-ui\nPath: packages/react/src/legacy-runtime/runtime/ThreadListRuntime.ts\nURL: https://github.com/assistant-ui/assistant-ui/blob/main/packages/react/src/legacy-runtime/runtime/ThreadListRuntime.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { LazyMemoizeSubject } from \"./subscribable/LazyMemoizeSubject\";\nimport { ThreadListRuntimeCore } from \"../runtime-cores/core/ThreadListRuntimeCore\";\nimport { Unsubscribe } from \"../../types\";\nimport {\n  ThreadListItemRuntime,\n  ThreadListItemRuntimeImpl,\n  ThreadListItemState,\n} from \"./ThreadListItemRuntime\";\nimport { SKIP_UPDATE } from \"./subscribable/SKIP_UPDATE\";\nimport { ShallowMemoizeSubject } from \"./subscribable/ShallowMemoizeSubject\";\nimport {\n  ThreadListItemRuntimeBinding,\n  ThreadRuntime,\n  ThreadRuntimeCoreBinding,\n  ThreadRuntimeImpl,\n} from \"./ThreadRuntime\";\nimport { NestedSubscriptionSubject } from \"./subscribable/NestedSubscriptionSubject\";\n\nexport type ThreadListState = {\n  readonly mainThreadId: string;\n  readonly newThread: string | undefined;\n"},{"type":"text","text":"Repository: mediar-ai/screenpipe\nPath: pipes/assistant-ui-ollama-openai-screenpipe/components/assistant-ui/thread-list.tsx\nURL: https://github.com/mediar-ai/screenpipe/blob/main/pipes/assistant-ui-ollama-openai-screenpipe/components/assistant-ui/thread-list.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 2) ---\nimport {\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@assistant-ui/react\";\nimport { ArchiveIcon, PlusIcon } from \"lucide-react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { TooltipIconButton } from \"@/components/assistant-ui/tooltip-icon-button\";\n\nexport const ThreadList: FC = () => {\n  return (\n    <ThreadListPrimitive.Root className=\"flex flex-col items-stretch gap-1.5\">\n      <ThreadListNew />\n      <ThreadListItems />\n    </ThreadListPrimitive.Root>\n  );\n};\n\nconst ThreadListNew: FC = () => {\n  return (\n    <ThreadListPrimitive.New asChild>\n"},{"type":"text","text":"Repository: mediar-ai/screenpipe\nPath: pipes/hello-world-computer-use/components/assistant-ui/thread-list.tsx\nURL: https://github.com/mediar-ai/screenpipe/blob/main/pipes/hello-world-computer-use/components/assistant-ui/thread-list.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 2) ---\nimport {\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@assistant-ui/react\";\nimport { ArchiveIcon, PlusIcon } from \"lucide-react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { TooltipIconButton } from \"@/components/assistant-ui/tooltip-icon-button\";\n\nexport const ThreadList: FC = () => {\n  return (\n    <ThreadListPrimitive.Root className=\"flex flex-col items-stretch gap-1.5\">\n      <ThreadListNew />\n      <ThreadListItems />\n    </ThreadListPrimitive.Root>\n  );\n};\n\nconst ThreadListNew: FC = () => {\n  return (\n    <ThreadListPrimitive.New asChild>\n"},{"type":"text","text":"Repository: Foundry376/Mailspring\nPath: app/internal_packages/thread-list/lib/thread-list.tsx\nURL: https://github.com/Foundry376/Mailspring/blob/master/app/internal_packages/thread-list/lib/thread-list.tsx\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 25) ---\n  FolderSyncProgressStore,\n  Thread,\n  TaskFactory,\n} from 'mailspring-exports';\n\nimport * as ThreadListColumns from './thread-list-columns';\nimport ThreadListScrollTooltip from './thread-list-scroll-tooltip';\nimport ThreadListStore from './thread-list-store';\nimport ThreadListContextMenu from './thread-list-context-menu';\n\nclass ThreadList extends React.Component<\n  Record<string, unknown>,\n  { style: string; syncing: boolean }\n> {\n  static displayName = 'ThreadList';\n\n  static containerStyles = {\n    minWidth: DOMUtils.getWorkspaceCssNumberProperty('thread-list-min-width', 100),\n    maxWidth: DOMUtils.getWorkspaceCssNumberProperty('thread-list-max-width', 3000),\n  };\n"},{"type":"text","text":"Repository: assistant-ui/assistant-ui\nPath: packages/react/src/legacy-runtime/runtime/ThreadListItemRuntime.ts\nURL: https://github.com/assistant-ui/assistant-ui/blob/main/packages/react/src/legacy-runtime/runtime/ThreadListItemRuntime.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { Unsubscribe } from \"../../types\";\nimport { ThreadListItemRuntimePath } from \"./RuntimePathTypes\";\nimport { SubscribableWithState } from \"./subscribable/Subscribable\";\nimport { ThreadListRuntimeCoreBinding } from \"./ThreadListRuntime\";\n\nexport type ThreadListItemEventType = \"switched-to\" | \"switched-away\";\n\nimport type {\n  ThreadListItemState,\n  ThreadListItemStatus,\n} from \"./RuntimeBindings\";\n\nexport type { ThreadListItemState, ThreadListItemStatus };\n\nexport type ThreadListItemRuntime = {\n  readonly path: ThreadListItemRuntimePath;\n  getState(): ThreadListItemState;\n\n  initialize(): Promise<{ remoteId: string; externalId: string | undefined }>;\n  generateTitle(): Promise<void>;\n\n"},{"type":"text","text":"Repository: mem0ai/mem0\nPath: examples/mem0-demo/components/assistant-ui/thread.tsx\nURL: https://github.com/mem0ai/mem0/blob/main/examples/mem0-demo/components/assistant-ui/thread.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 4) ---\n  ActionBarPrimitive,\n  BranchPickerPrimitive,\n  ComposerPrimitive,\n  MessagePrimitive,\n  ThreadPrimitive,\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n  useMessage,\n} from \"@assistant-ui/react\";\nimport type { FC } from \"react\";\nimport {\n  ArrowDownIcon,\n\n\n--- Snippet 2 (Line 142) ---\n              </Button>\n            </div>\n          </div>\n          <div className=\"flex-1 overflow-y-auto p-3\">\n            <div className=\"flex flex-col justify-between items-stretch gap-1.5 h-full dark:text-white\">\n              <ThreadListPrimitive.Root className=\"flex flex-col items-stretch gap-1.5 h-full dark:text-white\">\n                <ThreadListPrimitive.New asChild>\n                  <div className=\"flex items-center flex-col gap-2 w-full\">\n"},{"type":"text","text":"Repository: assistant-ui/assistant-ui\nPath: examples/with-langgraph/components/assistant-ui/thread-list.tsx\nURL: https://github.com/assistant-ui/assistant-ui/blob/main/examples/with-langgraph/components/assistant-ui/thread-list.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 6) ---\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@assistant-ui/react\";\nimport { ArchiveIcon, PlusIcon } from \"lucide-react\";\nimport type { FC } from \"react\";\n\nexport const ThreadList: FC = () => {\n  return (\n    <ThreadListPrimitive.Root className=\"aui-root aui-thread-list-root flex flex-col gap-1\">\n      <ThreadListNew />\n      <AssistantIf condition={({ threads }) => threads.isLoading}>\n        <ThreadListSkeleton />\n      </AssistantIf>\n      <AssistantIf condition={({ threads }) => !threads.isLoading}>\n        <ThreadListPrimitive.Items components={{ ThreadListItem }} />\n      </AssistantIf>\n    </ThreadListPrimitive.Root>\n  );\n};\n\nconst ThreadListNew: FC = () => {\n"},{"type":"text","text":"Repository: assistant-ui/assistant-ui\nPath: apps/docs/components/assistant-ui/thread-list.tsx\nURL: https://github.com/assistant-ui/assistant-ui/blob/main/apps/docs/components/assistant-ui/thread-list.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 6) ---\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@assistant-ui/react\";\nimport { ArchiveIcon, PlusIcon } from \"lucide-react\";\nimport type { FC } from \"react\";\n\nexport const ThreadList: FC = () => {\n  return (\n    <ThreadListPrimitive.Root className=\"aui-root aui-thread-list-root flex flex-col gap-1\">\n      <ThreadListNew />\n      <AssistantIf condition={({ threads }) => threads.isLoading}>\n        <ThreadListSkeleton />\n      </AssistantIf>\n      <AssistantIf condition={({ threads }) => !threads.isLoading}>\n        <ThreadListPrimitive.Items components={{ ThreadListItem }} />\n      </AssistantIf>\n    </ThreadListPrimitive.Root>\n  );\n};\n\nconst ThreadListNew: FC = () => {\n"}]}]},"uuid":"5d8adee8-0aee-4997-ada4-9e2e91f381c6","timestamp":"2025-12-24T03:12:45.067Z","toolUseResult":[{"type":"text","text":"Repository: mattermost/mattermost\nPath: webapp/channels/src/packages/mattermost-redux/src/actions/threads.ts\nURL: https://github.com/mattermost/mattermost/blob/master/webapp/channels/src/packages/mattermost-redux/src/actions/threads.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 3) ---\n\nimport uniq from 'lodash/uniq';\nimport {batchActions} from 'redux-batched-actions';\n\nimport type {Post} from '@mattermost/types/posts';\nimport type {UserThread, UserThreadList} from '@mattermost/types/threads';\n\nimport {ThreadTypes, PostTypes, UserTypes} from 'mattermost-redux/action_types';\nimport {getMissingFilesByPosts} from 'mattermost-redux/actions/files';\nimport {getMissingProfilesByIds} from 'mattermost-redux/actions/users';\nimport {Client4} from 'mattermost-redux/client';\n\n\n--- Snippet 2 (Line 25) ---\nimport {getPostThread} from './posts';\nimport {getMyTeamUnreads} from './teams';\n\ntype ExtendedPost = Post & { system_post_ids?: string[] };\n\nexport function fetchThreads(userId: string, teamId: string, {before = '', after = '', perPage = ThreadConstants.THREADS_CHUNK_SIZE, unread = false, totalsOnly = false, threadsOnly = false, extended = false, since = 0} = {}): ActionFuncAsync<UserThreadList> {\n    return async (dispatch, getState) => {\n        let data: undefined | UserThreadList;\n\n"},{"type":"text","text":"Repository: mem0ai/mem0\nPath: examples/mem0-demo/components/assistant-ui/thread-list.tsx\nURL: https://github.com/mem0ai/mem0/blob/main/examples/mem0-demo/components/assistant-ui/thread-list.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport type { FC } from \"react\";\nimport {\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@assistant-ui/react\";\nimport { ArchiveIcon, PlusIcon, RefreshCwIcon } from \"lucide-react\";\nimport { useState } from \"react\";\n\nimport { Button } from \"@/components/ui/button\";\n\n\n--- Snippet 2 (Line 24) ---\ninterface ThreadListProps {\n  onResetUserId?: () => void;\n  isDarkMode: boolean;\n}\n\nexport const ThreadList: FC<ThreadListProps> = ({ onResetUserId }) => {\n  const [open, setOpen] = useState(false);\n  \n  return (\n    <div className=\"flex-col h-full border-r border-[#e2e8f0] bg-white dark:bg-zinc-900 dark:border-zinc-800 p-3 overflow-y-auto hidden md:flex\">\n      <ThreadListPrimitive.Root className=\"flex flex-col justify-between h-full items-stretch gap-1.5\">\n"},{"type":"text","text":"Repository: assistant-ui/assistant-ui\nPath: packages/react/src/legacy-runtime/runtime/ThreadListRuntime.ts\nURL: https://github.com/assistant-ui/assistant-ui/blob/main/packages/react/src/legacy-runtime/runtime/ThreadListRuntime.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { LazyMemoizeSubject } from \"./subscribable/LazyMemoizeSubject\";\nimport { ThreadListRuntimeCore } from \"../runtime-cores/core/ThreadListRuntimeCore\";\nimport { Unsubscribe } from \"../../types\";\nimport {\n  ThreadListItemRuntime,\n  ThreadListItemRuntimeImpl,\n  ThreadListItemState,\n} from \"./ThreadListItemRuntime\";\nimport { SKIP_UPDATE } from \"./subscribable/SKIP_UPDATE\";\nimport { ShallowMemoizeSubject } from \"./subscribable/ShallowMemoizeSubject\";\nimport {\n  ThreadListItemRuntimeBinding,\n  ThreadRuntime,\n  ThreadRuntimeCoreBinding,\n  ThreadRuntimeImpl,\n} from \"./ThreadRuntime\";\nimport { NestedSubscriptionSubject } from \"./subscribable/NestedSubscriptionSubject\";\n\nexport type ThreadListState = {\n  readonly mainThreadId: string;\n  readonly newThread: string | undefined;\n"},{"type":"text","text":"Repository: mediar-ai/screenpipe\nPath: pipes/assistant-ui-ollama-openai-screenpipe/components/assistant-ui/thread-list.tsx\nURL: https://github.com/mediar-ai/screenpipe/blob/main/pipes/assistant-ui-ollama-openai-screenpipe/components/assistant-ui/thread-list.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 2) ---\nimport {\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@assistant-ui/react\";\nimport { ArchiveIcon, PlusIcon } from \"lucide-react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { TooltipIconButton } from \"@/components/assistant-ui/tooltip-icon-button\";\n\nexport const ThreadList: FC = () => {\n  return (\n    <ThreadListPrimitive.Root className=\"flex flex-col items-stretch gap-1.5\">\n      <ThreadListNew />\n      <ThreadListItems />\n    </ThreadListPrimitive.Root>\n  );\n};\n\nconst ThreadListNew: FC = () => {\n  return (\n    <ThreadListPrimitive.New asChild>\n"},{"type":"text","text":"Repository: mediar-ai/screenpipe\nPath: pipes/hello-world-computer-use/components/assistant-ui/thread-list.tsx\nURL: https://github.com/mediar-ai/screenpipe/blob/main/pipes/hello-world-computer-use/components/assistant-ui/thread-list.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 2) ---\nimport {\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@assistant-ui/react\";\nimport { ArchiveIcon, PlusIcon } from \"lucide-react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { TooltipIconButton } from \"@/components/assistant-ui/tooltip-icon-button\";\n\nexport const ThreadList: FC = () => {\n  return (\n    <ThreadListPrimitive.Root className=\"flex flex-col items-stretch gap-1.5\">\n      <ThreadListNew />\n      <ThreadListItems />\n    </ThreadListPrimitive.Root>\n  );\n};\n\nconst ThreadListNew: FC = () => {\n  return (\n    <ThreadListPrimitive.New asChild>\n"},{"type":"text","text":"Repository: Foundry376/Mailspring\nPath: app/internal_packages/thread-list/lib/thread-list.tsx\nURL: https://github.com/Foundry376/Mailspring/blob/master/app/internal_packages/thread-list/lib/thread-list.tsx\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 25) ---\n  FolderSyncProgressStore,\n  Thread,\n  TaskFactory,\n} from 'mailspring-exports';\n\nimport * as ThreadListColumns from './thread-list-columns';\nimport ThreadListScrollTooltip from './thread-list-scroll-tooltip';\nimport ThreadListStore from './thread-list-store';\nimport ThreadListContextMenu from './thread-list-context-menu';\n\nclass ThreadList extends React.Component<\n  Record<string, unknown>,\n  { style: string; syncing: boolean }\n> {\n  static displayName = 'ThreadList';\n\n  static containerStyles = {\n    minWidth: DOMUtils.getWorkspaceCssNumberProperty('thread-list-min-width', 100),\n    maxWidth: DOMUtils.getWorkspaceCssNumberProperty('thread-list-max-width', 3000),\n  };\n"},{"type":"text","text":"Repository: assistant-ui/assistant-ui\nPath: packages/react/src/legacy-runtime/runtime/ThreadListItemRuntime.ts\nURL: https://github.com/assistant-ui/assistant-ui/blob/main/packages/react/src/legacy-runtime/runtime/ThreadListItemRuntime.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { Unsubscribe } from \"../../types\";\nimport { ThreadListItemRuntimePath } from \"./RuntimePathTypes\";\nimport { SubscribableWithState } from \"./subscribable/Subscribable\";\nimport { ThreadListRuntimeCoreBinding } from \"./ThreadListRuntime\";\n\nexport type ThreadListItemEventType = \"switched-to\" | \"switched-away\";\n\nimport type {\n  ThreadListItemState,\n  ThreadListItemStatus,\n} from \"./RuntimeBindings\";\n\nexport type { ThreadListItemState, ThreadListItemStatus };\n\nexport type ThreadListItemRuntime = {\n  readonly path: ThreadListItemRuntimePath;\n  getState(): ThreadListItemState;\n\n  initialize(): Promise<{ remoteId: string; externalId: string | undefined }>;\n  generateTitle(): Promise<void>;\n\n"},{"type":"text","text":"Repository: mem0ai/mem0\nPath: examples/mem0-demo/components/assistant-ui/thread.tsx\nURL: https://github.com/mem0ai/mem0/blob/main/examples/mem0-demo/components/assistant-ui/thread.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 4) ---\n  ActionBarPrimitive,\n  BranchPickerPrimitive,\n  ComposerPrimitive,\n  MessagePrimitive,\n  ThreadPrimitive,\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n  useMessage,\n} from \"@assistant-ui/react\";\nimport type { FC } from \"react\";\nimport {\n  ArrowDownIcon,\n\n\n--- Snippet 2 (Line 142) ---\n              </Button>\n            </div>\n          </div>\n          <div className=\"flex-1 overflow-y-auto p-3\">\n            <div className=\"flex flex-col justify-between items-stretch gap-1.5 h-full dark:text-white\">\n              <ThreadListPrimitive.Root className=\"flex flex-col items-stretch gap-1.5 h-full dark:text-white\">\n                <ThreadListPrimitive.New asChild>\n                  <div className=\"flex items-center flex-col gap-2 w-full\">\n"},{"type":"text","text":"Repository: assistant-ui/assistant-ui\nPath: examples/with-langgraph/components/assistant-ui/thread-list.tsx\nURL: https://github.com/assistant-ui/assistant-ui/blob/main/examples/with-langgraph/components/assistant-ui/thread-list.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 6) ---\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@assistant-ui/react\";\nimport { ArchiveIcon, PlusIcon } from \"lucide-react\";\nimport type { FC } from \"react\";\n\nexport const ThreadList: FC = () => {\n  return (\n    <ThreadListPrimitive.Root className=\"aui-root aui-thread-list-root flex flex-col gap-1\">\n      <ThreadListNew />\n      <AssistantIf condition={({ threads }) => threads.isLoading}>\n        <ThreadListSkeleton />\n      </AssistantIf>\n      <AssistantIf condition={({ threads }) => !threads.isLoading}>\n        <ThreadListPrimitive.Items components={{ ThreadListItem }} />\n      </AssistantIf>\n    </ThreadListPrimitive.Root>\n  );\n};\n\nconst ThreadListNew: FC = () => {\n"},{"type":"text","text":"Repository: assistant-ui/assistant-ui\nPath: apps/docs/components/assistant-ui/thread-list.tsx\nURL: https://github.com/assistant-ui/assistant-ui/blob/main/apps/docs/components/assistant-ui/thread-list.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 6) ---\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@assistant-ui/react\";\nimport { ArchiveIcon, PlusIcon } from \"lucide-react\";\nimport type { FC } from \"react\";\n\nexport const ThreadList: FC = () => {\n  return (\n    <ThreadListPrimitive.Root className=\"aui-root aui-thread-list-root flex flex-col gap-1\">\n      <ThreadListNew />\n      <AssistantIf condition={({ threads }) => threads.isLoading}>\n        <ThreadListSkeleton />\n      </AssistantIf>\n      <AssistantIf condition={({ threads }) => !threads.isLoading}>\n        <ThreadListPrimitive.Items components={{ ThreadListItem }} />\n      </AssistantIf>\n    </ThreadListPrimitive.Root>\n  );\n};\n\nconst ThreadListNew: FC = () => {\n"}]}
{"parentUuid":"5d8adee8-0aee-4997-ada4-9e2e91f381c6","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01ACHsxA9bvioyx6tcmsKmn8","type":"tool_result","content":[{"type":"text","text":"Repository: tabarra/txAdmin\nPath: panel/src/layout/MainSheets.tsx\nURL: https://github.com/tabarra/txAdmin/blob/master/panel/src/layout/MainSheets.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from \"@/components/ui/sheet\";\nimport { ServerSidebar } from \"./ServerSidebar/ServerSidebar\";\nimport { useGlobalMenuSheet, usePlayerlistSheet, useServerSheet } from \"@/hooks/sheets\";\nimport { MenuNavLink, NavLink } from \"@/components/MainPageLink\";\nimport { ClipboardCheckIcon, DoorOpenIcon, ListIcon, PieChartIcon, ScrollIcon, SettingsIcon, UserSquare2Icon, UsersIcon, ZapIcon } from 'lucide-react';\nimport { PlayerlistSidebar } from \"./PlayerlistSidebar/PlayerlistSidebar\";\nimport { useAdminPerms } from \"@/hooks/auth\";\n\n\n--- Snippet 2 (Line 81) ---\n\nexport function ServerSidebarSheet() {\n    const { isSheetOpen, setIsSheetOpen } = useServerSheet();\n    return (\n        <Sheet open={isSheetOpen} onOpenChange={setIsSheetOpen}>\n            <SheetContent\n                side='left'\n                className=\"w-full xs:w-3/4 p-0\"\n                onOpenAutoFocus={(e) => e.preventDefault()}\n            >\n                <ScrollArea className=\"h-full\">\n                    <ServerSidebar isSheet />\n"},{"type":"text","text":"Repository: tabarra/txAdmin\nPath: panel/src/layout/MainShell.tsx\nURL: https://github.com/tabarra/txAdmin/blob/master/panel/src/layout/MainShell.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { useEventListener } from 'usehooks-ts';\nimport MainRouter from \"./MainRouter\";\nimport { useExpireAuthData } from '../hooks/auth';\nimport { Header } from './Header';\nimport { ServerSidebar } from './ServerSidebar/ServerSidebar';\nimport { PlayerlistSidebar } from './PlayerlistSidebar/PlayerlistSidebar';\nimport MainSheets from './MainSheets';\nimport WarningBar from './WarningBar';\nimport ConfirmDialog from '@/components/ConfirmDialog';\nimport PromptDialog from '@/components/PromptDialog';\n\n\n--- Snippet 2 (Line 78) ---\n\n    return <>\n        <TooltipProvider delayDuration={300} disableHoverableContent={true}>\n            <Header />\n            <div className=\"md:px-3 min-h-full pt-[var(--page-pt)] pb-[var(--page-pb)] w-full max-w-[1920px] mx-auto flex flex-row gap-4\">\n                <ServerSidebar />\n                <main className=\"flex flex-1 min-h-contentvh min-w-[360px]\">\n                    <MainRouter />\n                </main>\n                {window.txConsts.isWebInterface && <PlayerlistSidebar />}\n"},{"type":"text","text":"Repository: revoltchat/revite\nPath: src/components/navigation/LeftSidebar.tsx\nURL: https://github.com/revoltchat/revite/blob/master/src/components/navigation/LeftSidebar.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport { SIDEBAR_CHANNELS } from \"../../mobx/stores/Layout\";\n\nimport SidebarBase from \"./SidebarBase\";\nimport HomeSidebar from \"./left/HomeSidebar\";\nimport ServerListSidebar from \"./left/ServerListSidebar\";\nimport ServerSidebar from \"./left/ServerSidebar\";\n\nexport default observer(() => {\n    const layout = useApplicationState().layout;\n    const { pathname } = useLocation();\n    const isOpen =\n\n\n--- Snippet 2 (Line 24) ---\n            <Switch>\n                <Route path=\"/settings\" />\n                <Route path=\"/server/:server/channel/:channel\">\n                    <ServerListSidebar />\n                    {isOpen && <ServerSidebar />}\n                </Route>\n                <Route path=\"/server/:server\">\n                    <ServerListSidebar />\n                    {isOpen && <ServerSidebar />}\n"},{"type":"text","text":"Repository: tabarra/txAdmin\nPath: panel/src/layout/ServerSidebar/ServerSidebar.tsx\nURL: https://github.com/tabarra/txAdmin/blob/master/panel/src/layout/ServerSidebar/ServerSidebar.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 4) ---\nimport ServerControls from './ServerControls';\nimport ServerStatus from './ServerStatus';\nimport ServerSchedule from './ServerSchedule';\n\n\ntype ServerSidebarProps = {\n    isSheet?: boolean;\n};\nexport function ServerSidebar({ isSheet }: ServerSidebarProps) {\n    return (\n        <aside\n            className={cn(\n                'flex flex-col gap-4 z-10',\n                isSheet ? 'px-4 py-6' : 'tx-sidebar hidden lg:flex',\n"},{"type":"text","text":"Repository: stoatchat/for-web\nPath: packages/client/src/interface/Sidebar.tsx\nURL: https://github.com/stoatchat/for-web/blob/main/packages/client/src/interface/Sidebar.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nimport { Channel, Server as ServerI } from \"stoat.js\";\n\nimport {\n  CategoryContextMenu,\n  ChannelContextMenu,\n  ServerSidebarContextMenu,\n} from \"@revolt/app\";\nimport { useClient, useUser } from \"@revolt/client\";\nimport { useModals } from \"@revolt/modal\";\nimport { useLocation, useParams, useSmartParams } from \"@revolt/routing\";\nimport { useState } from \"@revolt/state\";\nimport { LAYOUT_SECTIONS } from \"@revolt/state/stores/Layout\";\n\nimport { HomeSidebar, ServerList, ServerSidebar } from \"./navigation\";\n\n/**\n * Left-most channel navigation sidebar\n */\nexport const Sidebar = (props: {\n"},{"type":"text","text":"Repository: Yeasir0032/Discord-Clone\nPath: components/server/server-sidebar.tsx\nURL: https://github.com/Yeasir0032/Discord-Clone/blob/main/components/server/server-sidebar.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 13) ---\nimport ServerSection from \"./server-section\";\nimport ServerChannels from \"./server-channel\";\nimport MemberView from \"../member-view\";\nimport { useRouter } from \"next/navigation\";\n\ninterface ServerSidebarProps {\n  serverId: string;\n  profile: any;\n  server: any;\n}\n\n\n\n--- Snippet 2 (Line 32) ---\n  MODERATOR: <ShieldCheck className=\"h-4 w-4 text-indigo-500 mr-2\" />,\n  ADMIN: <ShieldAlert className=\"h-4 w-4 text-rose-500 mr-2\" />,\n};\n\nconst ServerSidebar = async ({\n  serverId,\n  profile,\n  server,\n}: ServerSidebarProps) => {\n"},{"type":"text","text":"Repository: KawishAli6578/next13-discord-clone\nPath: components/server/server-sidebar.tsx\nURL: https://github.com/KawishAli6578/next13-discord-clone/blob/master/components/server/server-sidebar.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 11) ---\nimport { ServerSearch } from \"./server-search\";\nimport { ServerSection } from \"./server-section\";\nimport { ServerChannel } from \"./server-channel\";\nimport { ServerMember } from \"./server-member\";\n\ninterface ServerSidebarProps {\n  serverId: string;\n}\n\nconst iconMap = {\n  [ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n\n\n--- Snippet 2 (Line 27) ---\n  [MemberRole.GUEST]: null,\n  [MemberRole.MODERATOR]: <ShieldCheck className=\"h-4 w-4 mr-2 text-indigo-500\" />,\n  [MemberRole.ADMIN]: <ShieldAlert className=\"h-4 w-4 mr-2 text-rose-500\" />\n}\n\nexport const ServerSidebar = async ({\n  serverId\n}: ServerSidebarProps) => {\n  const profile = await currentProfile();\n"},{"type":"text","text":"Repository: stoatchat/for-web\nPath: packages/client/components/app/menus/index.tsx\nURL: https://github.com/stoatchat/for-web/blob/main/packages/client/components/app/menus/index.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport { CategoryContextMenu } from \"./CategoryContextMenu\";\nexport { ChannelContextMenu } from \"./ChannelContextMenu\";\nexport { MessageContextMenu } from \"./MessageContextMenu\";\nexport { ServerContextMenu } from \"./ServerContextMenu\";\nexport { ServerSidebarContextMenu } from \"./ServerSidebarContextMenu\";\n"},{"type":"text","text":"Repository: stoatchat/for-web\nPath: packages/client/src/interface/navigation/channels/index.ts\nURL: https://github.com/stoatchat/for-web/blob/main/packages/client/src/interface/navigation/channels/index.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport { HomeSidebar } from \"./HomeSidebar\";\nexport { ServerSidebar } from \"./ServerSidebar\";\n"},{"type":"text","text":"Repository: KawishAli6578/next13-discord-clone\nPath: components/mobile-toggle.tsx\nURL: https://github.com/KawishAli6578/next13-discord-clone/blob/master/components/mobile-toggle.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 5) ---\n  SheetContent,\n  SheetTrigger,\n} from \"@/components/ui/sheet\";\nimport { Button } from \"@/components/ui/button\";\nimport { NavigationSidebar } from \"@/components/navigation/navigation-sidebar\";\nimport { ServerSidebar } from \"@/components/server/server-sidebar\";\n\nexport const MobileToggle = ({\n  serverId\n}: {\n  serverId: string;\n\n\n--- Snippet 2 (Line 23) ---\n      </SheetTrigger>\n      <SheetContent side=\"left\" className=\"p-0 flex gap-0\">\n        <div className=\"w-[72px]\">\n          <NavigationSidebar />\n        </div>\n        <ServerSidebar serverId={serverId} />\n      </SheetContent>\n    </Sheet>\n  )\n"}]}]},"uuid":"60f3bd46-0939-492f-b49c-a0e3fc8ac038","timestamp":"2025-12-24T03:12:45.416Z","toolUseResult":[{"type":"text","text":"Repository: tabarra/txAdmin\nPath: panel/src/layout/MainSheets.tsx\nURL: https://github.com/tabarra/txAdmin/blob/master/panel/src/layout/MainSheets.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from \"@/components/ui/sheet\";\nimport { ServerSidebar } from \"./ServerSidebar/ServerSidebar\";\nimport { useGlobalMenuSheet, usePlayerlistSheet, useServerSheet } from \"@/hooks/sheets\";\nimport { MenuNavLink, NavLink } from \"@/components/MainPageLink\";\nimport { ClipboardCheckIcon, DoorOpenIcon, ListIcon, PieChartIcon, ScrollIcon, SettingsIcon, UserSquare2Icon, UsersIcon, ZapIcon } from 'lucide-react';\nimport { PlayerlistSidebar } from \"./PlayerlistSidebar/PlayerlistSidebar\";\nimport { useAdminPerms } from \"@/hooks/auth\";\n\n\n--- Snippet 2 (Line 81) ---\n\nexport function ServerSidebarSheet() {\n    const { isSheetOpen, setIsSheetOpen } = useServerSheet();\n    return (\n        <Sheet open={isSheetOpen} onOpenChange={setIsSheetOpen}>\n            <SheetContent\n                side='left'\n                className=\"w-full xs:w-3/4 p-0\"\n                onOpenAutoFocus={(e) => e.preventDefault()}\n            >\n                <ScrollArea className=\"h-full\">\n                    <ServerSidebar isSheet />\n"},{"type":"text","text":"Repository: tabarra/txAdmin\nPath: panel/src/layout/MainShell.tsx\nURL: https://github.com/tabarra/txAdmin/blob/master/panel/src/layout/MainShell.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { useEventListener } from 'usehooks-ts';\nimport MainRouter from \"./MainRouter\";\nimport { useExpireAuthData } from '../hooks/auth';\nimport { Header } from './Header';\nimport { ServerSidebar } from './ServerSidebar/ServerSidebar';\nimport { PlayerlistSidebar } from './PlayerlistSidebar/PlayerlistSidebar';\nimport MainSheets from './MainSheets';\nimport WarningBar from './WarningBar';\nimport ConfirmDialog from '@/components/ConfirmDialog';\nimport PromptDialog from '@/components/PromptDialog';\n\n\n--- Snippet 2 (Line 78) ---\n\n    return <>\n        <TooltipProvider delayDuration={300} disableHoverableContent={true}>\n            <Header />\n            <div className=\"md:px-3 min-h-full pt-[var(--page-pt)] pb-[var(--page-pb)] w-full max-w-[1920px] mx-auto flex flex-row gap-4\">\n                <ServerSidebar />\n                <main className=\"flex flex-1 min-h-contentvh min-w-[360px]\">\n                    <MainRouter />\n                </main>\n                {window.txConsts.isWebInterface && <PlayerlistSidebar />}\n"},{"type":"text","text":"Repository: revoltchat/revite\nPath: src/components/navigation/LeftSidebar.tsx\nURL: https://github.com/revoltchat/revite/blob/master/src/components/navigation/LeftSidebar.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport { SIDEBAR_CHANNELS } from \"../../mobx/stores/Layout\";\n\nimport SidebarBase from \"./SidebarBase\";\nimport HomeSidebar from \"./left/HomeSidebar\";\nimport ServerListSidebar from \"./left/ServerListSidebar\";\nimport ServerSidebar from \"./left/ServerSidebar\";\n\nexport default observer(() => {\n    const layout = useApplicationState().layout;\n    const { pathname } = useLocation();\n    const isOpen =\n\n\n--- Snippet 2 (Line 24) ---\n            <Switch>\n                <Route path=\"/settings\" />\n                <Route path=\"/server/:server/channel/:channel\">\n                    <ServerListSidebar />\n                    {isOpen && <ServerSidebar />}\n                </Route>\n                <Route path=\"/server/:server\">\n                    <ServerListSidebar />\n                    {isOpen && <ServerSidebar />}\n"},{"type":"text","text":"Repository: tabarra/txAdmin\nPath: panel/src/layout/ServerSidebar/ServerSidebar.tsx\nURL: https://github.com/tabarra/txAdmin/blob/master/panel/src/layout/ServerSidebar/ServerSidebar.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 4) ---\nimport ServerControls from './ServerControls';\nimport ServerStatus from './ServerStatus';\nimport ServerSchedule from './ServerSchedule';\n\n\ntype ServerSidebarProps = {\n    isSheet?: boolean;\n};\nexport function ServerSidebar({ isSheet }: ServerSidebarProps) {\n    return (\n        <aside\n            className={cn(\n                'flex flex-col gap-4 z-10',\n                isSheet ? 'px-4 py-6' : 'tx-sidebar hidden lg:flex',\n"},{"type":"text","text":"Repository: stoatchat/for-web\nPath: packages/client/src/interface/Sidebar.tsx\nURL: https://github.com/stoatchat/for-web/blob/main/packages/client/src/interface/Sidebar.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nimport { Channel, Server as ServerI } from \"stoat.js\";\n\nimport {\n  CategoryContextMenu,\n  ChannelContextMenu,\n  ServerSidebarContextMenu,\n} from \"@revolt/app\";\nimport { useClient, useUser } from \"@revolt/client\";\nimport { useModals } from \"@revolt/modal\";\nimport { useLocation, useParams, useSmartParams } from \"@revolt/routing\";\nimport { useState } from \"@revolt/state\";\nimport { LAYOUT_SECTIONS } from \"@revolt/state/stores/Layout\";\n\nimport { HomeSidebar, ServerList, ServerSidebar } from \"./navigation\";\n\n/**\n * Left-most channel navigation sidebar\n */\nexport const Sidebar = (props: {\n"},{"type":"text","text":"Repository: Yeasir0032/Discord-Clone\nPath: components/server/server-sidebar.tsx\nURL: https://github.com/Yeasir0032/Discord-Clone/blob/main/components/server/server-sidebar.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 13) ---\nimport ServerSection from \"./server-section\";\nimport ServerChannels from \"./server-channel\";\nimport MemberView from \"../member-view\";\nimport { useRouter } from \"next/navigation\";\n\ninterface ServerSidebarProps {\n  serverId: string;\n  profile: any;\n  server: any;\n}\n\n\n\n--- Snippet 2 (Line 32) ---\n  MODERATOR: <ShieldCheck className=\"h-4 w-4 text-indigo-500 mr-2\" />,\n  ADMIN: <ShieldAlert className=\"h-4 w-4 text-rose-500 mr-2\" />,\n};\n\nconst ServerSidebar = async ({\n  serverId,\n  profile,\n  server,\n}: ServerSidebarProps) => {\n"},{"type":"text","text":"Repository: KawishAli6578/next13-discord-clone\nPath: components/server/server-sidebar.tsx\nURL: https://github.com/KawishAli6578/next13-discord-clone/blob/master/components/server/server-sidebar.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 11) ---\nimport { ServerSearch } from \"./server-search\";\nimport { ServerSection } from \"./server-section\";\nimport { ServerChannel } from \"./server-channel\";\nimport { ServerMember } from \"./server-member\";\n\ninterface ServerSidebarProps {\n  serverId: string;\n}\n\nconst iconMap = {\n  [ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n\n\n--- Snippet 2 (Line 27) ---\n  [MemberRole.GUEST]: null,\n  [MemberRole.MODERATOR]: <ShieldCheck className=\"h-4 w-4 mr-2 text-indigo-500\" />,\n  [MemberRole.ADMIN]: <ShieldAlert className=\"h-4 w-4 mr-2 text-rose-500\" />\n}\n\nexport const ServerSidebar = async ({\n  serverId\n}: ServerSidebarProps) => {\n  const profile = await currentProfile();\n"},{"type":"text","text":"Repository: stoatchat/for-web\nPath: packages/client/components/app/menus/index.tsx\nURL: https://github.com/stoatchat/for-web/blob/main/packages/client/components/app/menus/index.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport { CategoryContextMenu } from \"./CategoryContextMenu\";\nexport { ChannelContextMenu } from \"./ChannelContextMenu\";\nexport { MessageContextMenu } from \"./MessageContextMenu\";\nexport { ServerContextMenu } from \"./ServerContextMenu\";\nexport { ServerSidebarContextMenu } from \"./ServerSidebarContextMenu\";\n"},{"type":"text","text":"Repository: stoatchat/for-web\nPath: packages/client/src/interface/navigation/channels/index.ts\nURL: https://github.com/stoatchat/for-web/blob/main/packages/client/src/interface/navigation/channels/index.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport { HomeSidebar } from \"./HomeSidebar\";\nexport { ServerSidebar } from \"./ServerSidebar\";\n"},{"type":"text","text":"Repository: KawishAli6578/next13-discord-clone\nPath: components/mobile-toggle.tsx\nURL: https://github.com/KawishAli6578/next13-discord-clone/blob/master/components/mobile-toggle.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 5) ---\n  SheetContent,\n  SheetTrigger,\n} from \"@/components/ui/sheet\";\nimport { Button } from \"@/components/ui/button\";\nimport { NavigationSidebar } from \"@/components/navigation/navigation-sidebar\";\nimport { ServerSidebar } from \"@/components/server/server-sidebar\";\n\nexport const MobileToggle = ({\n  serverId\n}: {\n  serverId: string;\n\n\n--- Snippet 2 (Line 23) ---\n      </SheetTrigger>\n      <SheetContent side=\"left\" className=\"p-0 flex gap-0\">\n        <div className=\"w-[72px]\">\n          <NavigationSidebar />\n        </div>\n        <ServerSidebar serverId={serverId} />\n      </SheetContent>\n    </Sheet>\n  )\n"}]}
{"parentUuid":"60f3bd46-0939-492f-b49c-a0e3fc8ac038","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_012cMEgAxpHCwSwo7c3siHJW","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01EqSuzRKkSKbLzQ56Wzzmtf","name":"mcp__grep__searchGitHub","input":{"query":"prisma model Channel","language":["TypeScript"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12733,"cache_read_input_tokens":32419,"cache_creation":{"ephemeral_5m_input_tokens":12733,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnHNGLpHP77wWpNZNx3","type":"assistant","uuid":"60d3331b-9bcd-42c7-a881-840756a361df","timestamp":"2025-12-24T03:12:51.282Z"}
{"parentUuid":"60d3331b-9bcd-42c7-a881-840756a361df","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_012cMEgAxpHCwSwo7c3siHJW","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01PnMQVTxyqTC7jTQUsKQLrU","name":"mcp__grep__searchGitHub","input":{"query":"model Channel {","path":"schema.prisma"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12733,"cache_read_input_tokens":32419,"cache_creation":{"ephemeral_5m_input_tokens":12733,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnHNGLpHP77wWpNZNx3","type":"assistant","uuid":"727e5361-4c87-40ec-96c2-4b8a521301cc","timestamp":"2025-12-24T03:12:52.133Z"}
{"parentUuid":"727e5361-4c87-40ec-96c2-4b8a521301cc","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_012cMEgAxpHCwSwo7c3siHJW","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FTNy2u2dh2BMjSk9L51yHt","name":"mcp__grep__searchGitHub","input":{"query":"ChannelType.TEXT","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12733,"cache_read_input_tokens":32419,"cache_creation":{"ephemeral_5m_input_tokens":12733,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnHNGLpHP77wWpNZNx3","type":"assistant","uuid":"3abdf250-ef75-4681-9dc9-8a25581655b9","timestamp":"2025-12-24T03:12:53.110Z"}
{"parentUuid":"3abdf250-ef75-4681-9dc9-8a25581655b9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_012cMEgAxpHCwSwo7c3siHJW","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0191Jwhys3t2ckjvhmpn1a2m","name":"mcp__grep__searchGitHub","input":{"query":"enum ChannelType","language":["TypeScript"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12733,"cache_read_input_tokens":32419,"cache_creation":{"ephemeral_5m_input_tokens":12733,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnHNGLpHP77wWpNZNx3","type":"assistant","uuid":"b7a9c8de-d621-4c7f-9e2c-f2fed24693d4","timestamp":"2025-12-24T03:12:53.749Z"}
{"parentUuid":"b7a9c8de-d621-4c7f-9e2c-f2fed24693d4","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"No results found for your query.\n\nIMPORTANT: This tool searches for literal code patterns that would appear in files, not keywords or natural language queries. For example:\n- Instead of 'react hook state', search for 'useState('\n- Instead of 'error handling', search 'catch ('","is_error":true,"tool_use_id":"toolu_01EqSuzRKkSKbLzQ56Wzzmtf"}]},"uuid":"4a00d8bf-008c-46f0-81f0-d13cc92b32d8","timestamp":"2025-12-24T03:12:54.073Z","toolUseResult":"Error: No results found for your query.\n\nIMPORTANT: This tool searches for literal code patterns that would appear in files, not keywords or natural language queries. For example:\n- Instead of 'react hook state', search for 'useState('\n- Instead of 'error handling', search 'catch ('"}
{"parentUuid":"4a00d8bf-008c-46f0-81f0-d13cc92b32d8","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01PnMQVTxyqTC7jTQUsKQLrU","type":"tool_result","content":[{"type":"text","text":"Repository: chronark/highstorm\nPath: apps/web/prisma/schema.prisma\nURL: https://github.com/chronark/highstorm/blob/main/apps/web/prisma/schema.prisma\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 44) ---\n  apikeys       ApiKey[]\n\n  @@index([slug])\n}\n\nmodel Channel {\n  id          String  @id\n  // no spaces or special characters\n  name        String\n  description String?\n\n"},{"type":"text","text":"Repository: RobertCraigie/prisma-client-py\nPath: examples/discord-message-counter/schema.prisma\nURL: https://github.com/RobertCraigie/prisma-client-py/blob/main/examples/discord-message-counter/schema.prisma\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 7) ---\n  provider             = \"prisma-client-py\"\n  interface            = \"asyncio\"\n  recursive_type_depth = 5\n}\n\nmodel Channel {\n  id    BigInt @id\n  total Int    @default(0)\n"},{"type":"text","text":"Repository: openshiporg/openship\nPath: schema.prisma\nURL: https://github.com/openshiporg/openship/blob/main/schema.prisma\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 165) ---\n\n  @@index([platformId])\n  @@index([userId])\n}\n\nmodel Channel {\n  id             String           @id @default(cuid())\n  name           String           @default(\"\")\n  domain         String           @default(\"\")\n  accessToken    String           @default(\"\")\n  refreshToken   String           @default(\"\")\n"},{"type":"text","text":"Repository: KawishAli6578/next13-discord-clone\nPath: prisma/schema.prisma\nURL: https://github.com/KawishAli6578/next13-discord-clone/blob/master/prisma/schema.prisma\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 74) ---\n  TEXT\n  AUDIO\n  VIDEO\n}\n\nmodel Channel {\n  id String @id @default(uuid())\n  name String\n  type ChannelType @default(TEXT)\n\n  profileId String\n"},{"type":"text","text":"Repository: firebase-studio/templates\nPath: prisma/app-sqlite/prisma/schema.prisma\nURL: https://github.com/firebase-studio/templates/blob/main/prisma/app-sqlite/prisma/schema.prisma\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 20) ---\n  thumbnailHighres String?\n\n  channel Channel @relation(fields: [channelId], references: [id])\n}\n\nmodel Channel {\n  id    String  @id @default(cuid())\n  title String\n  videos Video[]\n"},{"type":"text","text":"Repository: member-counter/bot\nPath: packages/db/prisma/schema.prisma\nURL: https://github.com/member-counter/bot/blob/dev/packages/db/prisma/schema.prisma\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 35) ---\n  id             String @id @default(auto()) @map(\"_id\") @db.ObjectId\n  discordGuildId String @unique\n  reason         String\n}\n\nmodel Channel {\n  id                String  @id @default(auto()) @map(\"_id\") @db.ObjectId\n  discordChannelId  String  @unique\n  template          String  @default(\"\")\n  isTemplateEnabled Boolean @default(false)\n  discordGuildId    String\n"},{"type":"text","text":"Repository: Codehagen/Dingify\nPath: packages/db/prisma/schema.prisma\nURL: https://github.com/Codehagen/Dingify/blob/main/packages/db/prisma/schema.prisma\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 92) ---\n  createdAt DateTime @default(now())\n\n  @@map(name: \"projects\")\n}\n\nmodel Channel {\n  id        String   @id @default(cuid())\n  name      String\n  projectId String\n  project   Project  @relation(fields: [projectId], references: [id])\n  events    Event[]\n"},{"type":"text","text":"Repository: MarconLP/loggl\nPath: packages/db/prisma/schema.prisma\nURL: https://github.com/MarconLP/loggl/blob/main/packages/db/prisma/schema.prisma\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 34) ---\n  channels     Channel[]\n  Notification Notification[]\n  userId       String\n}\n\nmodel Channel {\n  id           String         @id @default(cuid())\n  name         String\n  Notification Notification[]\n  project      Project        @relation(fields: [projectId], references: [id], onDelete: Cascade)\n  projectId    String\n"},{"type":"text","text":"Repository: falkomerr/falkchat\nPath: prisma/schema.prisma\nURL: https://github.com/falkomerr/falkchat/blob/master/prisma/schema.prisma\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 75) ---\n  TEXT\n  AUDIO\n  VIDEO\n}\n\nmodel Channel {\n  id String @id @default(uuid())\n\n  name String\n  type ChannelType @default(TEXT)\n\n"},{"type":"text","text":"Repository: hackclub/slacker\nPath: prisma/schema.prisma\nURL: https://github.com/hackclub/slacker/blob/main/prisma/schema.prisma\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 153) ---\n  @@index([id])\n  @@index([assigneeId])\n}\n\n// Slack channels that are being monitored\nmodel Channel {\n  id       String         @id @default(cuid())\n  name     String\n  slackId  String         @unique\n  messages SlackMessage[]\n\n"}]}]},"uuid":"9fe83d75-dc9d-49a1-9cd6-0444952d4752","timestamp":"2025-12-24T03:12:54.381Z","toolUseResult":[{"type":"text","text":"Repository: chronark/highstorm\nPath: apps/web/prisma/schema.prisma\nURL: https://github.com/chronark/highstorm/blob/main/apps/web/prisma/schema.prisma\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 44) ---\n  apikeys       ApiKey[]\n\n  @@index([slug])\n}\n\nmodel Channel {\n  id          String  @id\n  // no spaces or special characters\n  name        String\n  description String?\n\n"},{"type":"text","text":"Repository: RobertCraigie/prisma-client-py\nPath: examples/discord-message-counter/schema.prisma\nURL: https://github.com/RobertCraigie/prisma-client-py/blob/main/examples/discord-message-counter/schema.prisma\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 7) ---\n  provider             = \"prisma-client-py\"\n  interface            = \"asyncio\"\n  recursive_type_depth = 5\n}\n\nmodel Channel {\n  id    BigInt @id\n  total Int    @default(0)\n"},{"type":"text","text":"Repository: openshiporg/openship\nPath: schema.prisma\nURL: https://github.com/openshiporg/openship/blob/main/schema.prisma\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 165) ---\n\n  @@index([platformId])\n  @@index([userId])\n}\n\nmodel Channel {\n  id             String           @id @default(cuid())\n  name           String           @default(\"\")\n  domain         String           @default(\"\")\n  accessToken    String           @default(\"\")\n  refreshToken   String           @default(\"\")\n"},{"type":"text","text":"Repository: KawishAli6578/next13-discord-clone\nPath: prisma/schema.prisma\nURL: https://github.com/KawishAli6578/next13-discord-clone/blob/master/prisma/schema.prisma\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 74) ---\n  TEXT\n  AUDIO\n  VIDEO\n}\n\nmodel Channel {\n  id String @id @default(uuid())\n  name String\n  type ChannelType @default(TEXT)\n\n  profileId String\n"},{"type":"text","text":"Repository: firebase-studio/templates\nPath: prisma/app-sqlite/prisma/schema.prisma\nURL: https://github.com/firebase-studio/templates/blob/main/prisma/app-sqlite/prisma/schema.prisma\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 20) ---\n  thumbnailHighres String?\n\n  channel Channel @relation(fields: [channelId], references: [id])\n}\n\nmodel Channel {\n  id    String  @id @default(cuid())\n  title String\n  videos Video[]\n"},{"type":"text","text":"Repository: member-counter/bot\nPath: packages/db/prisma/schema.prisma\nURL: https://github.com/member-counter/bot/blob/dev/packages/db/prisma/schema.prisma\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 35) ---\n  id             String @id @default(auto()) @map(\"_id\") @db.ObjectId\n  discordGuildId String @unique\n  reason         String\n}\n\nmodel Channel {\n  id                String  @id @default(auto()) @map(\"_id\") @db.ObjectId\n  discordChannelId  String  @unique\n  template          String  @default(\"\")\n  isTemplateEnabled Boolean @default(false)\n  discordGuildId    String\n"},{"type":"text","text":"Repository: Codehagen/Dingify\nPath: packages/db/prisma/schema.prisma\nURL: https://github.com/Codehagen/Dingify/blob/main/packages/db/prisma/schema.prisma\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 92) ---\n  createdAt DateTime @default(now())\n\n  @@map(name: \"projects\")\n}\n\nmodel Channel {\n  id        String   @id @default(cuid())\n  name      String\n  projectId String\n  project   Project  @relation(fields: [projectId], references: [id])\n  events    Event[]\n"},{"type":"text","text":"Repository: MarconLP/loggl\nPath: packages/db/prisma/schema.prisma\nURL: https://github.com/MarconLP/loggl/blob/main/packages/db/prisma/schema.prisma\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 34) ---\n  channels     Channel[]\n  Notification Notification[]\n  userId       String\n}\n\nmodel Channel {\n  id           String         @id @default(cuid())\n  name         String\n  Notification Notification[]\n  project      Project        @relation(fields: [projectId], references: [id], onDelete: Cascade)\n  projectId    String\n"},{"type":"text","text":"Repository: falkomerr/falkchat\nPath: prisma/schema.prisma\nURL: https://github.com/falkomerr/falkchat/blob/master/prisma/schema.prisma\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 75) ---\n  TEXT\n  AUDIO\n  VIDEO\n}\n\nmodel Channel {\n  id String @id @default(uuid())\n\n  name String\n  type ChannelType @default(TEXT)\n\n"},{"type":"text","text":"Repository: hackclub/slacker\nPath: prisma/schema.prisma\nURL: https://github.com/hackclub/slacker/blob/main/prisma/schema.prisma\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 153) ---\n  @@index([id])\n  @@index([assigneeId])\n}\n\n// Slack channels that are being monitored\nmodel Channel {\n  id       String         @id @default(cuid())\n  name     String\n  slackId  String         @unique\n  messages SlackMessage[]\n\n"}]}
{"parentUuid":"9fe83d75-dc9d-49a1-9cd6-0444952d4752","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FTNy2u2dh2BMjSk9L51yHt","type":"tool_result","content":[{"type":"text","text":"Repository: KawishAli6578/next13-discord-clone\nPath: components/server/server-sidebar.tsx\nURL: https://github.com/KawishAli6578/next13-discord-clone/blob/master/components/server/server-sidebar.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 16) ---\ninterface ServerSidebarProps {\n  serverId: string;\n}\n\nconst iconMap = {\n  [ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.AUDIO]: <Mic className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.VIDEO]: <Video className=\"mr-2 h-4 w-4\" />\n};\n\nconst roleIconMap = {\n\n\n--- Snippet 2 (Line 57) ---\n        }\n      }\n    }\n  });\n\n  const textChannels = server?.channels.filter((channel) => channel.type === ChannelType.TEXT)\n  const audioChannels = server?.channels.filter((channel) => channel.type === ChannelType.AUDIO)\n  const videoChannels = server?.channels.filter((channel) => channel.type === ChannelType.VIDEO)\n  const members = server?.members.filter((member) => member.profileId !== profile.id)\n"},{"type":"text","text":"Repository: falkomerr/falkchat\nPath: src/widgets/sidebar/ui/server-sidebar/server-sidebar.tsx\nURL: https://github.com/falkomerr/falkchat/blob/master/src/widgets/sidebar/ui/server-sidebar/server-sidebar.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 22) ---\n  ),\n  [MemberRole.ADMIN]: <ShieldAlert className=\"mr-2 h-4 w-4 text-rose-500\" />,\n};\n\nconst iconMap = {\n  [ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.AUDIO]: <Mic className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.VIDEO]: <Video className=\"mr-2 h-4 w-4\" />,\n};\n\nexport const ServerSidebar = async ({ serverId }: props) => {\n\n\n--- Snippet 2 (Line 94) ---\n        <Separator className=\"my-2 rounded-md bg-zinc-200 dark:bg-zinc-700\" />\n        {!!textChannels?.length && (\n          <div className=\"mb-2\">\n            <ServerSection\n              sectionType=\"channels\"\n              channelType={ChannelType.TEXT}\n              role={role}\n              label=\"Text Channels\"\n            />\n"},{"type":"text","text":"Repository: satorijs/satori\nPath: adapters/qq/src/bot/guild.ts\nURL: https://github.com/satorijs/satori/blob/main/adapters/qq/src/bot/guild.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 61) ---\n  }\n\n  async createChannel(guildId: string, data: Partial<Universal.Channel>) {\n    const channel = await this.internal.createGuildChannel(guildId, {\n      name: data.name,\n      type: data.type === Universal.Channel.Type.TEXT ? QQ.ChannelType.TEXT\n        : data.type === Universal.Channel.Type.CATEGORY ? QQ.ChannelType.GROUP\n          : data.type === Universal.Channel.Type.VOICE ? QQ.ChannelType.VOICE\n            : QQ.ChannelType.TEXT,\n      parent_id: data.parentId,\n      position: data.position,\n      sub_type: 0,\n      private_type: 0,\n      speak_permission: 1,\n"},{"type":"text","text":"Repository: KawishAli6578/next13-discord-clone\nPath: components/modals/create-channel-modal.tsx\nURL: https://github.com/KawishAli6578/next13-discord-clone/blob/master/components/modals/create-channel-modal.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 57) ---\n \n  const form = useForm({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      name: \"\",\n      type: channelType || ChannelType.TEXT,\n    }\n  });\n\n  useEffect(() => {\n    if (channelType) {\n      form.setValue(\"type\", channelType);\n    } else {\n      form.setValue(\"type\", ChannelType.TEXT);\n    }\n  }, [channelType, form]);\n\n  const isLoading = form.formState.isSubmitting;\n\n"},{"type":"text","text":"Repository: synzen/MonitoRSS\nPath: services/backend-api/client/src/features/feedConnections/hooks/useDiscordChannelForumTags.tsx\nURL: https://github.com/synzen/MonitoRSS/blob/main/services/backend-api/client/src/features/feedConnections/hooks/useDiscordChannelForumTags.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 6) ---\n}\n\nexport const useDiscordChannelForumTags = ({ serverId, channelId }: Props) => {\n  const { data, error, status } = useDiscordServerChannels({\n    serverId,\n    types: [GetDiscordChannelType.Forum, GetDiscordChannelType.Text],\n  });\n\n  return {\n    status,\n    error,\n"},{"type":"text","text":"Repository: Linen-dev/linen.dev\nPath: apps/web/services/discord/channels.ts\nURL: https://github.com/Linen-dev/linen.dev/blob/main/apps/web/services/discord/channels.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 34) ---\n    return;\n  }\n  try {\n    const channelPromises: channels[] = [];\n    const filteredChannels = channels.filter((c) =>\n      [DiscordChannelType.TEXT, DiscordChannelType.FORUM].includes(c.type)\n    );\n    for (const channel of filteredChannels) {\n      try {\n        const newChannel = await ChannelsService.findOrCreateChannel(\n          parseChannel({ channel, accountId, hidden: hideChannels })\n"},{"type":"text","text":"Repository: synzen/MonitoRSS\nPath: services/backend-api/client/src/features/discordServers/components/DiscordChannelDropdown/index.tsx\nURL: https://github.com/synzen/MonitoRSS/blob/main/services/backend-api/client/src/features/discordServers/components/DiscordChannelDropdown/index.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 39) ---\n  const options =\n    data?.results.map((channel) => ({\n      label: `${channel.category ? `[${channel.category.name}] ` : \"\"}${channel.name}`,\n      value: channel.id,\n      data: channel,\n      icon: channel.type ? iconsByChannelType[channel.type] : iconsByChannelType.text,\n    })) || [];\n\n  return (\n    <Box>\n      <ThemedSelect\n"},{"type":"text","text":"Repository: issam-seghir/discord-clone\nPath: src/components/layout/server-side-bar.tsx\nURL: https://github.com/issam-seghir/discord-clone/blob/main/src/components/layout/server-side-bar.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 14) ---\ninterface ServerSideBarProps {\n\tserverId: string;\n}\n\nconst iconMap = {\n\t[ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n\t[ChannelType.AUDIO]: <Mic className=\"mr-2 h-4 w-4\" />,\n\t[ChannelType.VIDEO]: <Video className=\"mr-2 h-4 w-4\" />,\n};\n\nconst roleIconMap = {\n\n\n--- Snippet 2 (Line 33) ---\n\t\treturn redirect(\"/\");\n\t}\n\n\tconst server = await getServer(serverId, profile.id);\n\n\tconst textChannels = server?.channels.filter((channel) => channel.type === ChannelType.TEXT);\n\tconst audioChannels = server?.channels.filter((channel) => channel.type === ChannelType.AUDIO);\n\tconst videoChannels = server?.channels.filter((channel) => channel.type === ChannelType.VIDEO);\n\tconst members = server?.members.filter((member) => member.profileId !== profile.id);\n"},{"type":"text","text":"Repository: synzen/MonitoRSS\nPath: services/backend-api/client/src/features/discordServers/components/DiscordChannelName/index.tsx\nURL: https://github.com/synzen/MonitoRSS/blob/main/services/backend-api/client/src/features/discordServers/components/DiscordChannelName/index.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 36) ---\n  const { data, status, error } = useDiscordServerChannels({\n    serverId,\n    types: [\n      GetDiscordChannelType.Forum,\n      GetDiscordChannelType.Announcement,\n      GetDiscordChannelType.Text,\n    ],\n  });\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const channelNamesById = useMemo(() => {\n    const map = new Map<string, string>();\n"},{"type":"text","text":"Repository: nayak-nirmalya/discord-clone\nPath: components/server/server-sidebar.tsx\nURL: https://github.com/nayak-nirmalya/discord-clone/blob/master/components/server/server-sidebar.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 13) ---\nimport { ServerSection } from \"@/components/server/server-section\";\nimport { ServerChannel } from \"@/components/server/server-channel\";\nimport { ServerMember } from \"@/components/server/server-member\";\n\nconst iconMap = {\n  [ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.AUDIO]: <Mic className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.VIDEO]: <Video className=\"mr-2 h-4 w-4\" />\n};\n\nconst roleIconMap = {\n\n\n--- Snippet 2 (Line 53) ---\n      }\n    }\n  });\n\n  const textChannels = server?.channels.filter(\n    (channel) => channel.type === ChannelType.TEXT\n  );\n  const audioChannels = server?.channels.filter(\n    (channel) => channel.type === ChannelType.AUDIO\n"}]}]},"uuid":"b867e27f-49c5-4683-905d-69866a449212","timestamp":"2025-12-24T03:12:54.717Z","toolUseResult":[{"type":"text","text":"Repository: KawishAli6578/next13-discord-clone\nPath: components/server/server-sidebar.tsx\nURL: https://github.com/KawishAli6578/next13-discord-clone/blob/master/components/server/server-sidebar.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 16) ---\ninterface ServerSidebarProps {\n  serverId: string;\n}\n\nconst iconMap = {\n  [ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.AUDIO]: <Mic className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.VIDEO]: <Video className=\"mr-2 h-4 w-4\" />\n};\n\nconst roleIconMap = {\n\n\n--- Snippet 2 (Line 57) ---\n        }\n      }\n    }\n  });\n\n  const textChannels = server?.channels.filter((channel) => channel.type === ChannelType.TEXT)\n  const audioChannels = server?.channels.filter((channel) => channel.type === ChannelType.AUDIO)\n  const videoChannels = server?.channels.filter((channel) => channel.type === ChannelType.VIDEO)\n  const members = server?.members.filter((member) => member.profileId !== profile.id)\n"},{"type":"text","text":"Repository: falkomerr/falkchat\nPath: src/widgets/sidebar/ui/server-sidebar/server-sidebar.tsx\nURL: https://github.com/falkomerr/falkchat/blob/master/src/widgets/sidebar/ui/server-sidebar/server-sidebar.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 22) ---\n  ),\n  [MemberRole.ADMIN]: <ShieldAlert className=\"mr-2 h-4 w-4 text-rose-500\" />,\n};\n\nconst iconMap = {\n  [ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.AUDIO]: <Mic className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.VIDEO]: <Video className=\"mr-2 h-4 w-4\" />,\n};\n\nexport const ServerSidebar = async ({ serverId }: props) => {\n\n\n--- Snippet 2 (Line 94) ---\n        <Separator className=\"my-2 rounded-md bg-zinc-200 dark:bg-zinc-700\" />\n        {!!textChannels?.length && (\n          <div className=\"mb-2\">\n            <ServerSection\n              sectionType=\"channels\"\n              channelType={ChannelType.TEXT}\n              role={role}\n              label=\"Text Channels\"\n            />\n"},{"type":"text","text":"Repository: satorijs/satori\nPath: adapters/qq/src/bot/guild.ts\nURL: https://github.com/satorijs/satori/blob/main/adapters/qq/src/bot/guild.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 61) ---\n  }\n\n  async createChannel(guildId: string, data: Partial<Universal.Channel>) {\n    const channel = await this.internal.createGuildChannel(guildId, {\n      name: data.name,\n      type: data.type === Universal.Channel.Type.TEXT ? QQ.ChannelType.TEXT\n        : data.type === Universal.Channel.Type.CATEGORY ? QQ.ChannelType.GROUP\n          : data.type === Universal.Channel.Type.VOICE ? QQ.ChannelType.VOICE\n            : QQ.ChannelType.TEXT,\n      parent_id: data.parentId,\n      position: data.position,\n      sub_type: 0,\n      private_type: 0,\n      speak_permission: 1,\n"},{"type":"text","text":"Repository: KawishAli6578/next13-discord-clone\nPath: components/modals/create-channel-modal.tsx\nURL: https://github.com/KawishAli6578/next13-discord-clone/blob/master/components/modals/create-channel-modal.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 57) ---\n \n  const form = useForm({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      name: \"\",\n      type: channelType || ChannelType.TEXT,\n    }\n  });\n\n  useEffect(() => {\n    if (channelType) {\n      form.setValue(\"type\", channelType);\n    } else {\n      form.setValue(\"type\", ChannelType.TEXT);\n    }\n  }, [channelType, form]);\n\n  const isLoading = form.formState.isSubmitting;\n\n"},{"type":"text","text":"Repository: synzen/MonitoRSS\nPath: services/backend-api/client/src/features/feedConnections/hooks/useDiscordChannelForumTags.tsx\nURL: https://github.com/synzen/MonitoRSS/blob/main/services/backend-api/client/src/features/feedConnections/hooks/useDiscordChannelForumTags.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 6) ---\n}\n\nexport const useDiscordChannelForumTags = ({ serverId, channelId }: Props) => {\n  const { data, error, status } = useDiscordServerChannels({\n    serverId,\n    types: [GetDiscordChannelType.Forum, GetDiscordChannelType.Text],\n  });\n\n  return {\n    status,\n    error,\n"},{"type":"text","text":"Repository: Linen-dev/linen.dev\nPath: apps/web/services/discord/channels.ts\nURL: https://github.com/Linen-dev/linen.dev/blob/main/apps/web/services/discord/channels.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 34) ---\n    return;\n  }\n  try {\n    const channelPromises: channels[] = [];\n    const filteredChannels = channels.filter((c) =>\n      [DiscordChannelType.TEXT, DiscordChannelType.FORUM].includes(c.type)\n    );\n    for (const channel of filteredChannels) {\n      try {\n        const newChannel = await ChannelsService.findOrCreateChannel(\n          parseChannel({ channel, accountId, hidden: hideChannels })\n"},{"type":"text","text":"Repository: synzen/MonitoRSS\nPath: services/backend-api/client/src/features/discordServers/components/DiscordChannelDropdown/index.tsx\nURL: https://github.com/synzen/MonitoRSS/blob/main/services/backend-api/client/src/features/discordServers/components/DiscordChannelDropdown/index.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 39) ---\n  const options =\n    data?.results.map((channel) => ({\n      label: `${channel.category ? `[${channel.category.name}] ` : \"\"}${channel.name}`,\n      value: channel.id,\n      data: channel,\n      icon: channel.type ? iconsByChannelType[channel.type] : iconsByChannelType.text,\n    })) || [];\n\n  return (\n    <Box>\n      <ThemedSelect\n"},{"type":"text","text":"Repository: issam-seghir/discord-clone\nPath: src/components/layout/server-side-bar.tsx\nURL: https://github.com/issam-seghir/discord-clone/blob/main/src/components/layout/server-side-bar.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 14) ---\ninterface ServerSideBarProps {\n\tserverId: string;\n}\n\nconst iconMap = {\n\t[ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n\t[ChannelType.AUDIO]: <Mic className=\"mr-2 h-4 w-4\" />,\n\t[ChannelType.VIDEO]: <Video className=\"mr-2 h-4 w-4\" />,\n};\n\nconst roleIconMap = {\n\n\n--- Snippet 2 (Line 33) ---\n\t\treturn redirect(\"/\");\n\t}\n\n\tconst server = await getServer(serverId, profile.id);\n\n\tconst textChannels = server?.channels.filter((channel) => channel.type === ChannelType.TEXT);\n\tconst audioChannels = server?.channels.filter((channel) => channel.type === ChannelType.AUDIO);\n\tconst videoChannels = server?.channels.filter((channel) => channel.type === ChannelType.VIDEO);\n\tconst members = server?.members.filter((member) => member.profileId !== profile.id);\n"},{"type":"text","text":"Repository: synzen/MonitoRSS\nPath: services/backend-api/client/src/features/discordServers/components/DiscordChannelName/index.tsx\nURL: https://github.com/synzen/MonitoRSS/blob/main/services/backend-api/client/src/features/discordServers/components/DiscordChannelName/index.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 36) ---\n  const { data, status, error } = useDiscordServerChannels({\n    serverId,\n    types: [\n      GetDiscordChannelType.Forum,\n      GetDiscordChannelType.Announcement,\n      GetDiscordChannelType.Text,\n    ],\n  });\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const channelNamesById = useMemo(() => {\n    const map = new Map<string, string>();\n"},{"type":"text","text":"Repository: nayak-nirmalya/discord-clone\nPath: components/server/server-sidebar.tsx\nURL: https://github.com/nayak-nirmalya/discord-clone/blob/master/components/server/server-sidebar.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 13) ---\nimport { ServerSection } from \"@/components/server/server-section\";\nimport { ServerChannel } from \"@/components/server/server-channel\";\nimport { ServerMember } from \"@/components/server/server-member\";\n\nconst iconMap = {\n  [ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.AUDIO]: <Mic className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.VIDEO]: <Video className=\"mr-2 h-4 w-4\" />\n};\n\nconst roleIconMap = {\n\n\n--- Snippet 2 (Line 53) ---\n      }\n    }\n  });\n\n  const textChannels = server?.channels.filter(\n    (channel) => channel.type === ChannelType.TEXT\n  );\n  const audioChannels = server?.channels.filter(\n    (channel) => channel.type === ChannelType.AUDIO\n"}]}
{"parentUuid":"b867e27f-49c5-4683-905d-69866a449212","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0191Jwhys3t2ckjvhmpn1a2m","type":"tool_result","content":[{"type":"text","text":"Repository: novuhq/novu\nPath: packages/shared/src/types/channel.ts\nURL: https://github.com/novuhq/novu/blob/next/packages/shared/src/types/channel.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport enum ChannelTypeEnum {\n  IN_APP = 'in_app',\n  EMAIL = 'email',\n  SMS = 'sms',\n  CHAT = 'chat',\n  PUSH = 'push',\n"},{"type":"text","text":"Repository: novuhq/novu\nPath: packages/stateless/src/lib/template/template.interface.ts\nURL: https://github.com/novuhq/novu/blob/next/packages/stateless/src/lib/template/template.interface.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 21) ---\n  textTemplate?: string | ((payload: ITriggerPayload) => Promise<string> | string);\n  active?: boolean | ((payload: ITriggerPayload) => Promise<boolean> | boolean);\n  validator?: IMessageValidator;\n}\n\nexport enum ChannelTypeEnum {\n  EMAIL = 'email',\n  SMS = 'sms',\n  CHAT = 'chat',\n  PUSH = 'push',\n}\n"},{"type":"text","text":"Repository: elizaOS/eliza\nPath: packages/core/src/types/environment.ts\nURL: https://github.com/elizaOS/eliza/blob/develop/packages/core/src/types/environment.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 63) ---\n    };\n    [key: string]: unknown;\n  };\n};\n\nexport enum ChannelType {\n  SELF = 'SELF', // Messages to self\n  DM = 'DM', // Direct messages between two participants\n  GROUP = 'GROUP', // Group messages with multiple participants\n  VOICE_DM = 'VOICE_DM', // Voice direct messages\n  VOICE_GROUP = 'VOICE_GROUP', // Voice channels with multiple participants\n"},{"type":"text","text":"Repository: novuhq/novu\nPath: packages/js/src/types.ts\nURL: https://github.com/novuhq/novu/blob/next/packages/js/src/types.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 40) ---\nexport enum PreferenceLevel {\n  GLOBAL = 'global',\n  TEMPLATE = 'template',\n}\n\nexport enum ChannelType {\n  IN_APP = 'in_app',\n  EMAIL = 'email',\n  SMS = 'sms',\n  CHAT = 'chat',\n  PUSH = 'push',\n"},{"type":"text","text":"Repository: novuhq/novu\nPath: packages/framework/src/shared.ts\nURL: https://github.com/novuhq/novu/blob/next/packages/framework/src/shared.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 25) ---\n */\nexport function checkIsResponseError(err: unknown): err is IResponseError {\n  return !!err && typeof err === 'object' && 'error' in err && 'message' in err && 'statusCode' in err;\n}\n\nexport enum ChannelTypeEnum {\n  IN_APP = 'in_app',\n  EMAIL = 'email',\n  SMS = 'sms',\n  CHAT = 'chat',\n  PUSH = 'push',\n"},{"type":"text","text":"Repository: alibaba/lowcode-engine\nPath: modules/material-parser/src/types/ChannelType.ts\nURL: https://github.com/alibaba/lowcode-engine/blob/main/modules/material-parser/src/types/ChannelType.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 1) ---\n/**\n * \n */\nexport enum ChannelType {\n  /**  */\n  LOCAL = 'local',\n  /**  */\n  ONLINE = 'online',\n"},{"type":"text","text":"Repository: Vendicated/Vencord\nPath: packages/discord-types/enums/channel.ts\nURL: https://github.com/Vendicated/Vencord/blob/main/packages/discord-types/enums/channel.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport const enum ChannelType {\n    GUILD_TEXT = 0,\n    DM = 1,\n    GUILD_VOICE = 2,\n    GROUP_DM = 3,\n    GUILD_CATEGORY = 4,\n"},{"type":"text","text":"Repository: SigNoz/signoz\nPath: frontend/src/container/CreateAlertChannels/config.ts\nURL: https://github.com/SigNoz/signoz/blob/main/frontend/src/container/CreateAlertChannels/config.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 95) ---\n\t}\n\n\treturn '';\n};\n\nexport enum ChannelType {\n\tSlack = 'slack',\n\tEmail = 'email',\n\tWebhook = 'webhook',\n\tPagerduty = 'pagerduty',\n\tOpsgenie = 'opsgenie',\n"},{"type":"text","text":"Repository: coze-dev/coze-studio\nPath: frontend/packages/arch/idl/src/auto-generated/notify_api/namespaces/common.ts\nURL: https://github.com/coze-dev/coze-studio/blob/main/frontend/packages/arch/idl/src/auto-generated/notify_api/namespaces/common.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 20) ---\n// @ts-nocheck\n\nexport type Int64 = string | number;\n\n/**  */\nexport enum ChannelType {\n  SMS = 1,\n  Email = 2,\n  Inbox = 3,\n  HomeBot = 4,\n}\n"},{"type":"text","text":"Repository: coze-dev/coze-studio\nPath: frontend/packages/arch/idl/src/auto-generated/plugin_develop/namespaces/card.ts\nURL: https://github.com/coze-dev/coze-studio/blob/main/frontend/packages/arch/idl/src/auto-generated/plugin_develop/namespaces/card.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 128) ---\n  Success = 5,\n  /**  */\n  NeedPublish = 6,\n}\n\nexport enum ChannelType {\n  Default = 0,\n  Doubao = 100,\n  CiCi = 101,\n  Feishu = 200,\n  WhatsApp = 300,\n"}]}]},"uuid":"1abade33-7970-458a-be77-bc8386464f56","timestamp":"2025-12-24T03:12:55.019Z","toolUseResult":[{"type":"text","text":"Repository: novuhq/novu\nPath: packages/shared/src/types/channel.ts\nURL: https://github.com/novuhq/novu/blob/next/packages/shared/src/types/channel.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport enum ChannelTypeEnum {\n  IN_APP = 'in_app',\n  EMAIL = 'email',\n  SMS = 'sms',\n  CHAT = 'chat',\n  PUSH = 'push',\n"},{"type":"text","text":"Repository: novuhq/novu\nPath: packages/stateless/src/lib/template/template.interface.ts\nURL: https://github.com/novuhq/novu/blob/next/packages/stateless/src/lib/template/template.interface.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 21) ---\n  textTemplate?: string | ((payload: ITriggerPayload) => Promise<string> | string);\n  active?: boolean | ((payload: ITriggerPayload) => Promise<boolean> | boolean);\n  validator?: IMessageValidator;\n}\n\nexport enum ChannelTypeEnum {\n  EMAIL = 'email',\n  SMS = 'sms',\n  CHAT = 'chat',\n  PUSH = 'push',\n}\n"},{"type":"text","text":"Repository: elizaOS/eliza\nPath: packages/core/src/types/environment.ts\nURL: https://github.com/elizaOS/eliza/blob/develop/packages/core/src/types/environment.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 63) ---\n    };\n    [key: string]: unknown;\n  };\n};\n\nexport enum ChannelType {\n  SELF = 'SELF', // Messages to self\n  DM = 'DM', // Direct messages between two participants\n  GROUP = 'GROUP', // Group messages with multiple participants\n  VOICE_DM = 'VOICE_DM', // Voice direct messages\n  VOICE_GROUP = 'VOICE_GROUP', // Voice channels with multiple participants\n"},{"type":"text","text":"Repository: novuhq/novu\nPath: packages/js/src/types.ts\nURL: https://github.com/novuhq/novu/blob/next/packages/js/src/types.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 40) ---\nexport enum PreferenceLevel {\n  GLOBAL = 'global',\n  TEMPLATE = 'template',\n}\n\nexport enum ChannelType {\n  IN_APP = 'in_app',\n  EMAIL = 'email',\n  SMS = 'sms',\n  CHAT = 'chat',\n  PUSH = 'push',\n"},{"type":"text","text":"Repository: novuhq/novu\nPath: packages/framework/src/shared.ts\nURL: https://github.com/novuhq/novu/blob/next/packages/framework/src/shared.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 25) ---\n */\nexport function checkIsResponseError(err: unknown): err is IResponseError {\n  return !!err && typeof err === 'object' && 'error' in err && 'message' in err && 'statusCode' in err;\n}\n\nexport enum ChannelTypeEnum {\n  IN_APP = 'in_app',\n  EMAIL = 'email',\n  SMS = 'sms',\n  CHAT = 'chat',\n  PUSH = 'push',\n"},{"type":"text","text":"Repository: alibaba/lowcode-engine\nPath: modules/material-parser/src/types/ChannelType.ts\nURL: https://github.com/alibaba/lowcode-engine/blob/main/modules/material-parser/src/types/ChannelType.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 1) ---\n/**\n * \n */\nexport enum ChannelType {\n  /**  */\n  LOCAL = 'local',\n  /**  */\n  ONLINE = 'online',\n"},{"type":"text","text":"Repository: Vendicated/Vencord\nPath: packages/discord-types/enums/channel.ts\nURL: https://github.com/Vendicated/Vencord/blob/main/packages/discord-types/enums/channel.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport const enum ChannelType {\n    GUILD_TEXT = 0,\n    DM = 1,\n    GUILD_VOICE = 2,\n    GROUP_DM = 3,\n    GUILD_CATEGORY = 4,\n"},{"type":"text","text":"Repository: SigNoz/signoz\nPath: frontend/src/container/CreateAlertChannels/config.ts\nURL: https://github.com/SigNoz/signoz/blob/main/frontend/src/container/CreateAlertChannels/config.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 95) ---\n\t}\n\n\treturn '';\n};\n\nexport enum ChannelType {\n\tSlack = 'slack',\n\tEmail = 'email',\n\tWebhook = 'webhook',\n\tPagerduty = 'pagerduty',\n\tOpsgenie = 'opsgenie',\n"},{"type":"text","text":"Repository: coze-dev/coze-studio\nPath: frontend/packages/arch/idl/src/auto-generated/notify_api/namespaces/common.ts\nURL: https://github.com/coze-dev/coze-studio/blob/main/frontend/packages/arch/idl/src/auto-generated/notify_api/namespaces/common.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 20) ---\n// @ts-nocheck\n\nexport type Int64 = string | number;\n\n/**  */\nexport enum ChannelType {\n  SMS = 1,\n  Email = 2,\n  Inbox = 3,\n  HomeBot = 4,\n}\n"},{"type":"text","text":"Repository: coze-dev/coze-studio\nPath: frontend/packages/arch/idl/src/auto-generated/plugin_develop/namespaces/card.ts\nURL: https://github.com/coze-dev/coze-studio/blob/main/frontend/packages/arch/idl/src/auto-generated/plugin_develop/namespaces/card.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 128) ---\n  Success = 5,\n  /**  */\n  NeedPublish = 6,\n}\n\nexport enum ChannelType {\n  Default = 0,\n  Doubao = 100,\n  CiCi = 101,\n  Feishu = 200,\n  WhatsApp = 300,\n"}]}
{"parentUuid":"1abade33-7970-458a-be77-bc8386464f56","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"ad83ccc","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_014RGrxnaLWkjc229WZgxuWh","type":"message","role":"assistant","content":[{"type":"text","text":"Based on my research, here is a comprehensive summary of the best patterns found for implementing Discord-style forum features in web applications:\n\n---\n\n## Discord-Style Forum Implementation Patterns\n\n### 1. Data Models (Prisma Schema)\n\nThe most common pattern from Discord clones (found in repositories like `KawishAli6578/next13-discord-clone`, `falkomerr/falkchat`, `issam-seghir/discord-clone`):\n\n```prisma\n// From: prisma/schema.prisma (next13-discord-clone)\nenum ChannelType {\n  TEXT\n  AUDIO\n  VIDEO\n}\n\nmodel Channel {\n  id        String      @id @default(uuid())\n  name      String\n  type      ChannelType @default(TEXT)\n  profileId String\n  profile   Profile     @relation(fields: [profileId], references: [id], onDelete: Cascade)\n  serverId  String\n  server    Server      @relation(fields: [serverId], references: [id], onDelete: Cascade)\n  messages  Message[]\n  createdAt DateTime    @default(now())\n  updatedAt DateTime    @updatedAt\n\n  @@index([profileId])\n  @@index([serverId])\n}\n```\n\n### 2. Channel Type Icons Mapping\n\nStandard pattern for mapping channel types to icons (from `components/server/server-sidebar.tsx`):\n\n```typescript\n// From: KawishAli6578/next13-discord-clone\nconst iconMap = {\n  [ChannelType.TEXT]: <Hash className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.AUDIO]: <Mic className=\"mr-2 h-4 w-4\" />,\n  [ChannelType.VIDEO]: <Video className=\"mr-2 h-4 w-4\" />\n};\n\nconst roleIconMap = {\n  [MemberRole.GUEST]: null,\n  [MemberRole.MODERATOR]: <ShieldCheck className=\"h-4 w-4 mr-2 text-indigo-500\" />,\n  [MemberRole.ADMIN]: <ShieldAlert className=\"h-4 w-4 mr-2 text-rose-500\" />\n};\n```\n\n### 3. Server Sidebar Component Structure\n\nPattern for organizing channels by type (from multiple Discord clones):\n\n```typescript\n// From: components/server/server-sidebar.tsx\nconst textChannels = server?.channels.filter((channel) => channel.type === ChannelType.TEXT);\nconst audioChannels = server?.channels.filter((channel) => channel.type === ChannelType.AUDIO);\nconst videoChannels = server?.channels.filter((channel) => channel.type === ChannelType.VIDEO);\nconst members = server?.members.filter((member) => member.profileId !== profile.id);\n```\n\n### 4. Pinned Messages Implementation\n\nProduction-grade pattern from Signal Desktop (`signalapp/Signal-Desktop`):\n\n```typescript\n// From: ts/state/ducks/pinnedMessages.preload.ts\ntype PreloadData = ReadonlyDeep<{\n  conversationId: string;\n  pinnedMessages: ReadonlyArray<PinnedMessageRenderData>;\n}>;\n\n// From: ts/components/conversation/pinned-messages/PinnedMessagesBar.dom.tsx\nexport type PinnedMessagesBarProps = Readonly<{\n  i18n: LocalizerType;\n  pins: ReadonlyArray<Pin>;\n  current: PinnedMessageId;\n  onCurrentChange: (current: PinnedMessageId) => void;\n  onPinGoTo: (messageId: string) => void;\n  onPinRemove: (messageId: string) => void;\n  onPinsShowAll: () => void;\n  canPinMessages: boolean;\n}>;\n\n// SQL query pattern from: ts/sql/server/pinnedMessages.std.ts\nexport function getPinnedMessagesForConversation(\n  db: ReadableDB,\n  conversationId: string\n): ReadonlyArray<PinnedMessageRenderData> {\n  return db.transaction(() => {\n    const [query, params] = sql`\n      SELECT * FROM pinnedMessages\n      WHERE conversationId = ${conversationId}\n      ORDER BY pinnedAt DESC\n    `;\n    return db.prepare(query).all(params);\n  });\n}\n```\n\n### 5. Thread Implementation\n\nPattern from `crowd.dev` and `imagineapi`:\n\n```typescript\n// From: backend/src/serverless/integrations/types/iteratorTypes.ts\nexport type Thread = {\n  threadId: string;\n  channelId: string;\n  placeholder: string;\n  channel: string;\n  new: boolean;\n};\n\n// Discord API thread creation (imagineapi/imagineapi)\nasync function createThread(\n  token: string,\n  channelId: string,\n  threadName: string,\n  autoArchiveDuration: number\n): Promise<Thread> {\n  const body = JSON.stringify({\n    name: threadName,\n    auto_archive_duration: autoArchiveDuration,\n    type: 11, // 11 = public thread, 12 = private thread, 10 = news thread\n  });\n  \n  const response = await fetch(\n    `https://discord.com/api/v9/channels/${channelId}/threads`,\n    { method: 'POST', headers, body }\n  );\n}\n```\n\n### 6. Message List Component\n\nPattern from Rocket.Chat (`RocketChat/Rocket.Chat`):\n\n```typescript\n// From: apps/meteor/client/views/room/MessageList/MessageList.tsx\ntype MessageListProps = {\n  rid: IRoom['_id'];\n  messageListRef: ComponentProps<typeof MessageListProvider>['messageListRef'];\n};\n\nexport const MessageList = function MessageList({ rid, messageListRef }: MessageListProps) {\n  const messages = useMessages({ rid });\n  const subscription = useRoomSubscription();\n  // ... render messages with MessageListItem\n};\n\n// Context for message list features\nexport type MessageListContextValue = {\n  autoTranslate: {\n    showAutoTranslate: (message: IMessage) => boolean;\n    autoTranslateLanguage?: string;\n    autoTranslateEnabled: boolean;\n  };\n  formatDateAndTime: ReturnType<typeof useFormatDateAndTime>;\n  formatTime: ReturnType<typeof useFormatTime>;\n  formatDate: ReturnType<typeof useFormatDate>;\n  messageListRef?: RefCallback<HTMLElement | undefined>;\n};\n```\n\n### 7. Real-time Messaging with WebSockets\n\nPattern from Mattermost (`mattermost/mattermost`):\n\n```typescript\n// From: webapp/platform/client/src/websocket.ts\nexport type MessageListener = (msg: WebSocketMessage) => void;\nexport type FirstConnectListener = () => void;\nexport type ReconnectListener = () => void;\nexport type MissedMessageListener = () => void;\n\nexport type WebSocketClientConfig = {\n  maxWebSocketFails: number;\n  // ...\n};\n```\n\n### 8. Channel Hooks Pattern\n\nCustom hooks for channel management (from various sources):\n\n```typescript\n// From: mattermost - useChannel hook\nexport function usePropertyCardViewChannelLoader(\n  channelId?: string, \n  getChannel?: (channelId: string) => Promise<Channel>\n) {\n  const channelLoaded = useRef(false);\n  const [channel, setChannel] = useState<Channel>();\n  const channelFromStore = useChannel(channelId || '');\n  // ...\n}\n\n// From: elizaOS/eliza - useChannelMessages hook\nexport function useChannelMessages(\n  channelId: UUID | undefined,\n  initialMessageServerId?: UUID | undefined\n): {\n  data: UiMessage[] | undefined;\n  isLoading: boolean;\n  // ...\n}\n```\n\n### 9. Channel Types Enum (Discord API Standard)\n\nFrom Vencord Discord types:\n\n```typescript\n// From: packages/discord-types/enums/channel.ts\nexport const enum ChannelType {\n  GUILD_TEXT = 0,\n  DM = 1,\n  GUILD_VOICE = 2,\n  GROUP_DM = 3,\n  GUILD_CATEGORY = 4,\n  // ... more types\n}\n```\n\n---\n\n## Key Implementation Recommendations\n\n1. **Data Structure**: Use a hierarchical model with Server -> Channel -> Message/Thread relationships\n\n2. **Channel Organization**: Filter channels by type (TEXT, AUDIO, VIDEO) and render in separate sections\n\n3. **Role-based Access**: Implement role icons and permissions (GUEST, MODERATOR, ADMIN)\n\n4. **Pinned Messages**: Store pinned messages with conversationId, pinnedAt timestamp, and expiration support\n\n5. **Real-time Updates**: Use WebSocket connections with reconnection handling and message listeners\n\n6. **Thread Support**: Threads link to parent channels via channelId with auto-archive duration settings\n\n7. **Component Architecture**: \n   - `ServerSidebar` - Navigation with channel list\n   - `ChannelList` - Grouped channels by type\n   - `MessageList` - Virtual scrolling message display\n   - `ThreadList` - Conversation threads\n   - `PinnedMessagesBar` - Quick access to pinned content\n\n**Notable Open Source References**:\n- Discord Clone: `github.com/KawishAli6578/next13-discord-clone`\n- Chat Platform: `github.com/RocketChat/Rocket.Chat`\n- Team Communication: `github.com/mattermost/mattermost`\n- Pinned Messages: `github.com/signalapp/Signal-Desktop`\n- Revolt (Discord alternative): `github.com/revoltchat/revite`"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":6648,"cache_read_input_tokens":45152,"cache_creation":{"ephemeral_5m_input_tokens":6648,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnJ5HufcSH1A3mspa2M","type":"assistant","uuid":"2c0202d2-e939-4f90-8abe-ebc599eb7d84","timestamp":"2025-12-24T03:13:42.588Z"}
