{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":"Research and provide comprehensive architectural recommendations for integrating with Suno AI's music generation API. Focus on:\n\n1. **API Client Architecture**: Best patterns for Suno API client (based on gcui-art/suno-api, Malith-Rukshan/Suno-API patterns)\n2. **Authentication Flow**: Cookie-based auth, token refresh, session management\n3. **Generation Workflow**: Async job submission, polling strategies, webhook callbacks\n4. **Model Selection**: chirp-v3-5 and other available models, parameters for instrumental/copyright-free generation\n5. **Rate Limiting**: Handling rate limits, queue management, retry strategies with exponential backoff\n6. **Audio Output Handling**: Downloading generated audio, format conversion, metadata extraction\n7. **Error Handling**: Common failure modes, graceful degradation, user feedback\n\nKey patterns from GitHub research:\n- gcui-art/suno-api: TypeScript client with AudioInfo interface, pino logging\n- Malith-Rukshan/Suno-API: Python FastAPI wrapper, cookie-based auth\n- comfy-deploy: Poll-based completion with max_poll_seconds\n\nDesign for reliability and user experience in a production environment."},"uuid":"3a12964a-95a5-43e3-b0ab-11c9c5206465","timestamp":"2025-12-17T02:59:57.816Z"}
{"parentUuid":"3a12964a-95a5-43e3-b0ab-11c9c5206465","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_01EZe5noogiZV3ys9zMGhjz6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FSsHjzr6pFH6p6gBZW4usA","name":"WebSearch","input":{"query":"Suno AI API documentation official 2025"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":10914,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":10914,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWBWeNxw7Fzkpr31xFPwp","type":"assistant","uuid":"e77b4231-4a81-418d-9485-c230e505a62b","timestamp":"2025-12-17T03:00:01.104Z"}
{"parentUuid":"e77b4231-4a81-418d-9485-c230e505a62b","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_01EZe5noogiZV3ys9zMGhjz6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01AqovVHUTfFj9jkze2UHnn9","name":"WebSearch","input":{"query":"gcui-art/suno-api GitHub TypeScript client architecture"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":10914,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":10914,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWBWeNxw7Fzkpr31xFPwp","type":"assistant","uuid":"44c13416-33d1-4435-9225-1063d8a3c252","timestamp":"2025-12-17T03:00:01.658Z"}
{"parentUuid":"44c13416-33d1-4435-9225-1063d8a3c252","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_01EZe5noogiZV3ys9zMGhjz6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01QbGKim86R6oGQQxkLVmP2X","name":"WebSearch","input":{"query":"Malith-Rukshan/Suno-API GitHub Python FastAPI wrapper"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":10914,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":10914,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWBWeNxw7Fzkpr31xFPwp","type":"assistant","uuid":"f7f31b69-f7b3-41a1-ba0c-b1e73fea9c9f","timestamp":"2025-12-17T03:00:01.895Z"}
{"parentUuid":"9b6bd683-c29c-450c-b91b-29180368f9f5","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01QbGKim86R6oGQQxkLVmP2X","type":"tool_result","content":"Web search results for query: \"Malith-Rukshan/Suno-API GitHub Python FastAPI wrapper\"\n\nLinks: [{\"title\":\"GitHub - Malith-Rukshan/Suno-API: SunoAI Unofficial Python API Library and REST API for Suno.ai â€” Create Music with Generative AI ! âœ¨\",\"url\":\"https://github.com/Malith-Rukshan/Suno-API\"},{\"title\":\"GitHub - Arijit-Rakshit/Suno-API\",\"url\":\"https://github.com/Arijit-Rakshit/Suno-API\"},{\"title\":\"GitHub - better2025/Suno-APISuno.ai-SunoAI-Python-Chirp-v3-: SunoAI Unofficial Python API Library and REST API for Suno.ai â€” Create Music with Generative AI ! âœ¨\",\"url\":\"https://github.com/better2025/Suno-APISuno.ai-SunoAI-Python-Chirp-v3-\"},{\"title\":\"SunoAI Â· PyPI\",\"url\":\"https://pypi.org/project/SunoAI/\"},{\"title\":\"https://github.com/Malith-Rukshan/Suno-API | Ecosyste.ms: Awesome\",\"url\":\"https://awesome.ecosyste.ms/projects/github.com/Malith-Rukshan/Suno-API\"},{\"title\":\"GitHub - Zizwar/Awesome-Suno: A curated list of awesome open-source AI projects related to the Suno Ai project.\",\"url\":\"https://github.com/Zizwar/Awesome-Suno\"},{\"title\":\"Deploy Suno-API | Railway\",\"url\":\"https://railway.com/deploy/IdlBP8\"},{\"title\":\"Malith-Rukshan (Malith Rukshan) Â· GitHub\",\"url\":\"https://github.com/Malith-Rukshan\"},{\"title\":\"suno-ai-api Â· GitHub Topics Â· GitHub\",\"url\":\"https://github.com/topics/suno-ai-api?o=desc&s=stars\"},{\"title\":\"suno-ai Â· GitHub Topics Â· GitHub\",\"url\":\"https://github.com/topics/suno-ai?l=python&o=desc&s=stars\"}]\n\nBased on my search, here's what I found about the **Malith-Rukshan/Suno-API** project:\n\n## Malith-Rukshan/Suno-API\n\nðŸ“š SunoAI API Library is an unofficial Python client for interacting with Suno AI's music generator. This library facilitates generating music using Suno's Chirp v3 model and includes main functions of Suno AI with a built-in music downloader. It can be deployed as a REST API using FastAPI, Local, Docker, on a PaaS provider like Heroku.\n\n### Key Features\n\n- **Python Client ðŸ**: Easily interact with Suno AI.\n- **Song Generation ðŸŽ¶**: Utilize the Chirp v3 model for generating music.\n- **Retrieve Song Info by ID ðŸŽµ**: Access detailed information about any song on Suno AI.\n- **Music Downloader ðŸ“¥**: Built-in functionality to download any music on Suno AI directly.\n- **REST API Deployment ðŸŒ**: Deployable as a REST API on PaaS Platform, VPS or Local.\n- **Comprehensive Documentation ðŸ“š**: Includes detailed examples and usage guides.\n- **Docker Support ðŸ³**: Enables containerized deployment with Docker for flexibility.\n\n### Authentication\n\nThe authentication cookie for the Suno API is required. If not provided, it will use the cookie from the environment variable SUNO_COOKIE.\n\n### Available Models\n\nAvailable models: chirp-v3-5, chirp-v3-0, chirp-v2-0 â€” default is chirp-v3-5.\n\n### Usage Notes\n\nWhen setting `is_custom` to True, ensure that the prompt parameter contains the lyrics of the song you wish to generate. Conversely, if `is_custom` is set to False, provide a descriptive prompt detailing the essence of the song you want.(no content)When `wait_audio` is set to True, the request will take longer as it waits for the audio URLs to be ready. If not set, the response will return without audio_url but with audio IDs. In such cases, you'll need to call the `get_songs` or `get_song` method after a short interval to retrieve the response with the audio_url included, once the generation process is complete.\n\n### Package Availability\n\nThe package is authored by Malith Rukshan, requires Python >=3.7, and is licensed under MIT License. It's available on PyPI as the \"SunoAI\" package.\n\n### Links\n- **GitHub Repository**: https://github.com/Malith-Rukshan/Suno-API\n- **PyPI Package**: https://pypi.org/project/SunoAI/\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"4051c6c8-2ca5-4f3f-b876-696c6217b0fa","timestamp":"2025-12-17T03:00:20.533Z","toolUseResult":{"query":"Malith-Rukshan/Suno-API GitHub Python FastAPI wrapper","results":[{"tool_use_id":"srvtoolu_01VDtcqW9ijQe9PT4aTgX7aK","content":[{"title":"GitHub - Malith-Rukshan/Suno-API: SunoAI Unofficial Python API Library and REST API for Suno.ai â€” Create Music with Generative AI ! âœ¨","url":"https://github.com/Malith-Rukshan/Suno-API"},{"title":"GitHub - Arijit-Rakshit/Suno-API","url":"https://github.com/Arijit-Rakshit/Suno-API"},{"title":"GitHub - better2025/Suno-APISuno.ai-SunoAI-Python-Chirp-v3-: SunoAI Unofficial Python API Library and REST API for Suno.ai â€” Create Music with Generative AI ! âœ¨","url":"https://github.com/better2025/Suno-APISuno.ai-SunoAI-Python-Chirp-v3-"},{"title":"SunoAI Â· PyPI","url":"https://pypi.org/project/SunoAI/"},{"title":"https://github.com/Malith-Rukshan/Suno-API | Ecosyste.ms: Awesome","url":"https://awesome.ecosyste.ms/projects/github.com/Malith-Rukshan/Suno-API"},{"title":"GitHub - Zizwar/Awesome-Suno: A curated list of awesome open-source AI projects related to the Suno Ai project.","url":"https://github.com/Zizwar/Awesome-Suno"},{"title":"Deploy Suno-API | Railway","url":"https://railway.com/deploy/IdlBP8"},{"title":"Malith-Rukshan (Malith Rukshan) Â· GitHub","url":"https://github.com/Malith-Rukshan"},{"title":"suno-ai-api Â· GitHub Topics Â· GitHub","url":"https://github.com/topics/suno-ai-api?o=desc&s=stars"},{"title":"suno-ai Â· GitHub Topics Â· GitHub","url":"https://github.com/topics/suno-ai?l=python&o=desc&s=stars"}]},"Based on my search, here's what I found about the **Malith-Rukshan/Suno-API** project:\n\n## Malith-Rukshan/Suno-API\n\nðŸ“š SunoAI API Library is an unofficial Python client for interacting with Suno AI's music generator. This library facilitates generating music using Suno's Chirp v3 model and includes main functions of Suno AI with a built-in music downloader. It can be deployed as a REST API using FastAPI, Local, Docker, on a PaaS provider like Heroku.\n\n### Key Features\n\n- **Python Client ðŸ**: Easily interact with Suno AI.\n- **Song Generation ðŸŽ¶**: Utilize the Chirp v3 model for generating music.\n- **Retrieve Song Info by ID ðŸŽµ**: Access detailed information about any song on Suno AI.\n- **Music Downloader ðŸ“¥**: Built-in functionality to download any music on Suno AI directly.\n- **REST API Deployment ðŸŒ**: Deployable as a REST API on PaaS Platform, VPS or Local.\n- **Comprehensive Documentation ðŸ“š**: Includes detailed examples and usage guides.\n- **Docker Support ðŸ³**: Enables containerized deployment with Docker for flexibility.\n\n### Authentication\n\nThe authentication cookie for the Suno API is required. If not provided, it will use the cookie from the environment variable SUNO_COOKIE.\n\n### Available Models\n\nAvailable models: chirp-v3-5, chirp-v3-0, chirp-v2-0 â€” default is chirp-v3-5.\n\n### Usage Notes\n\nWhen setting `is_custom` to True, ensure that the prompt parameter contains the lyrics of the song you wish to generate. Conversely, if `is_custom` is set to False, provide a descriptive prompt detailing the essence of the song you want.(no content)When `wait_audio` is set to True, the request will take longer as it waits for the audio URLs to be ready. If not set, the response will return without audio_url but with audio IDs. In such cases, you'll need to call the `get_songs` or `get_song` method after a short interval to retrieve the response with the audio_url included, once the generation process is complete.\n\n### Package Availability\n\nThe package is authored by Malith Rukshan, requires Python >=3.7, and is licensed under MIT License. It's available on PyPI as the \"SunoAI\" package.\n\n### Links\n- **GitHub Repository**: https://github.com/Malith-Rukshan/Suno-API\n- **PyPI Package**: https://pypi.org/project/SunoAI/"],"durationSeconds":18.61373687500006}}
{"parentUuid":"4051c6c8-2ca5-4f3f-b876-696c6217b0fa","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FSsHjzr6pFH6p6gBZW4usA","type":"tool_result","content":"Web search results for query: \"Suno AI API documentation official 2025\"\n\nLinks: [{\"title\":\"Suno API Documentation - Suno API\",\"url\":\"https://docs.sunoapi.org/\"},{\"title\":\"GitHub - gcui-art/suno-api: Use API to call the music generation AI of suno.ai, and easily integrate it into agents like GPTs.\",\"url\":\"https://github.com/gcui-art/suno-api\"},{\"title\":\"Suno AI API | AI/ML API\",\"url\":\"https://aimlapi.com/suno-ai-api\"},{\"title\":\"Suno V5 API Complete Guide 2025: Revolutionary AI Music Generation Technology | Suno API | Professional AI Music Generation Service\",\"url\":\"https://suno-api.org/blog/2025/09-25-suno-v5-api\"},{\"title\":\"Most Stable and Pricing Affordable AI Music API\",\"url\":\"https://sunoapi.org/\"},{\"title\":\"suno api\",\"url\":\"https://suno.gcui.ai/docs\"},{\"title\":\"Suno v5 (chirp-crow) API: Revolutionary Breakthrough in AI Music Generation | Suno Wiki\",\"url\":\"https://sunoaiwiki.com/news/2025/09-25-suno-v5-chirp-crow-api/\"},{\"title\":\"Knowledge Base - Suno\",\"url\":\"https://help.suno.com/\"},{\"title\":\"GitHub - suno-ai-api/sunoapi: A simple and affordable solution for AI-powered music and lyrics generation, featuring fast response times, customizable options, and detailed API documentation. Perfect for developers building music-related applications.\",\"url\":\"https://github.com/suno-ai-api/sunoapi\"},{\"title\":\"Ultimate Guide to Suno API in 2025: 7 Ways to Build AI Music Applications â€“ LaoZhang-AI\",\"url\":\"https://blog.laozhang.ai/ai-tools/ultimate-guide-suno-api-2025/\"}]\n\nBased on my search results, here's what I found about Suno AI API documentation in 2025:\n\n## Suno AI API Documentation - Key Findings\n\n### Official Status\nFor developers interested in Suno V5 API integration, it's important to note that official programmatic API access is currently in development, though Suno has indicated plans for comprehensive expansion of developer tools and endpoints.(no content)Currently, Suno v5 is accessible through third-party API at defapi.org, with official API planned for future release.\n\n### Suno V5 (Latest Model)\nSuno v5 (chirp-crow) is the fifth-generation AI music generation model officially released by Suno AI on September 23, 2025, marking a revolutionary breakthrough in artificial intelligence music creation technology.(no content)With an impressive ELO benchmark score of 1,293 - significantly higher than its predecessor v4.5's score of 1,208 - the Suno V5 API has established itself as the industry leader in AI music generation technology.\n\n### Third-Party API Documentation Resources\n\n1. **Suno API Documentation (docs.sunoapi.org)**: This documentation provides comprehensive guides and references for integrating Suno API, a platform offering affordable and stable AI music API services. Suno API delivers advanced AI music capabilities through easy-to-integrate APIs, including music generation, lyrics creation, audio processing, and video production.(no content)They provide APIs for the latest AI music models, including Suno V5, V4.5 Plus, V4.5 All, V4.5, and V4, offering high-quality music generation.\n\n2. **GitHub - gcui-art/suno-api**: suno-api is an unofficial open source project, intended for learning and research purposes only.(no content)gcui-art/suno-api currently mainly implements the following APIs: `/api/generate` (Generate music), `/v1/chat/completions` (OpenAI-compatible format), `/api/custom_generate` (Custom Mode with support for setting lyrics, music style, title), `/api/generate_lyrics` (Generate lyrics based on prompt).\n\n3. **api.box Suno API**: The Suno API offered by api.box is an affordable platform for generating AI-powered music and lyrics. It features fast response times, high concurrency support, customizable song creation, and AI-generated lyrics with timestamps. Supporting both V3.5 and V4 versions.\n\n### Model Updates\nAccording to Suno's official help center (September 11, 2025): \"In 2-4 weeks, we'll be streamlining our model lineup to focus on delivering the best music generation experience,\" with v2 and v3 being deprecated.\n\n### Key Takeaway\nSuno AI does not currently have an official public API with documentation. Developers looking to integrate Suno's music generation capabilities typically use third-party API services or unofficial open-source solutions.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"5fe557db-7d02-46b2-a54a-405ebed00953","timestamp":"2025-12-17T03:00:23.302Z","toolUseResult":{"query":"Suno AI API documentation official 2025","results":[{"tool_use_id":"srvtoolu_01AxjJR7eRV1rimkKEGwb7cR","content":[{"title":"Suno API Documentation - Suno API","url":"https://docs.sunoapi.org/"},{"title":"GitHub - gcui-art/suno-api: Use API to call the music generation AI of suno.ai, and easily integrate it into agents like GPTs.","url":"https://github.com/gcui-art/suno-api"},{"title":"Suno AI API | AI/ML API","url":"https://aimlapi.com/suno-ai-api"},{"title":"Suno V5 API Complete Guide 2025: Revolutionary AI Music Generation Technology | Suno API | Professional AI Music Generation Service","url":"https://suno-api.org/blog/2025/09-25-suno-v5-api"},{"title":"Most Stable and Pricing Affordable AI Music API","url":"https://sunoapi.org/"},{"title":"suno api","url":"https://suno.gcui.ai/docs"},{"title":"Suno v5 (chirp-crow) API: Revolutionary Breakthrough in AI Music Generation | Suno Wiki","url":"https://sunoaiwiki.com/news/2025/09-25-suno-v5-chirp-crow-api/"},{"title":"Knowledge Base - Suno","url":"https://help.suno.com/"},{"title":"GitHub - suno-ai-api/sunoapi: A simple and affordable solution for AI-powered music and lyrics generation, featuring fast response times, customizable options, and detailed API documentation. Perfect for developers building music-related applications.","url":"https://github.com/suno-ai-api/sunoapi"},{"title":"Ultimate Guide to Suno API in 2025: 7 Ways to Build AI Music Applications â€“ LaoZhang-AI","url":"https://blog.laozhang.ai/ai-tools/ultimate-guide-suno-api-2025/"}]},"Based on my search results, here's what I found about Suno AI API documentation in 2025:\n\n## Suno AI API Documentation - Key Findings\n\n### Official Status\nFor developers interested in Suno V5 API integration, it's important to note that official programmatic API access is currently in development, though Suno has indicated plans for comprehensive expansion of developer tools and endpoints.(no content)Currently, Suno v5 is accessible through third-party API at defapi.org, with official API planned for future release.\n\n### Suno V5 (Latest Model)\nSuno v5 (chirp-crow) is the fifth-generation AI music generation model officially released by Suno AI on September 23, 2025, marking a revolutionary breakthrough in artificial intelligence music creation technology.(no content)With an impressive ELO benchmark score of 1,293 - significantly higher than its predecessor v4.5's score of 1,208 - the Suno V5 API has established itself as the industry leader in AI music generation technology.\n\n### Third-Party API Documentation Resources\n\n1. **Suno API Documentation (docs.sunoapi.org)**: This documentation provides comprehensive guides and references for integrating Suno API, a platform offering affordable and stable AI music API services. Suno API delivers advanced AI music capabilities through easy-to-integrate APIs, including music generation, lyrics creation, audio processing, and video production.(no content)They provide APIs for the latest AI music models, including Suno V5, V4.5 Plus, V4.5 All, V4.5, and V4, offering high-quality music generation.\n\n2. **GitHub - gcui-art/suno-api**: suno-api is an unofficial open source project, intended for learning and research purposes only.(no content)gcui-art/suno-api currently mainly implements the following APIs: `/api/generate` (Generate music), `/v1/chat/completions` (OpenAI-compatible format), `/api/custom_generate` (Custom Mode with support for setting lyrics, music style, title), `/api/generate_lyrics` (Generate lyrics based on prompt).\n\n3. **api.box Suno API**: The Suno API offered by api.box is an affordable platform for generating AI-powered music and lyrics. It features fast response times, high concurrency support, customizable song creation, and AI-generated lyrics with timestamps. Supporting both V3.5 and V4 versions.\n\n### Model Updates\nAccording to Suno's official help center (September 11, 2025): \"In 2-4 weeks, we'll be streamlining our model lineup to focus on delivering the best music generation experience,\" with v2 and v3 being deprecated.\n\n### Key Takeaway\nSuno AI does not currently have an official public API with documentation. Developers looking to integrate Suno's music generation capabilities typically use third-party API services or unofficial open-source solutions."],"durationSeconds":21.383552792000003}}
{"parentUuid":"5fe557db-7d02-46b2-a54a-405ebed00953","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01AqovVHUTfFj9jkze2UHnn9","type":"tool_result","content":"Web search results for query: \"gcui-art/suno-api GitHub TypeScript client architecture\"\n\nLinks: [{\"title\":\"https://github.com/gcui-art/suno-api | Ecosyste.ms: Awesome\",\"url\":\"https://awesome.ecosyste.ms/projects/github.com/gcui-art/suno-api\"},{\"title\":\"GitHub - gcui-art/suno-api: Use API to call the music generation AI of suno.ai, and easily integrate it into agents like GPTs.\",\"url\":\"https://github.com/gcui-art/suno-api\"},{\"title\":\"suno api\",\"url\":\"https://suno.gcui.ai/\"},{\"title\":\"System Architecture Overview | gcui-art/suno-api | DeepWiki\",\"url\":\"https://deepwiki.com/gcui-art/suno-api/1.2-system-architecture-overview\"},{\"title\":\"Activity Â· gcui-art/suno-api\",\"url\":\"https://github.com/gcui-art/suno-api/activity\"},{\"title\":\"gcui.ai Â· GitHub\",\"url\":\"https://github.com/gcui-art\"},{\"title\":\"Suno AI API: Revolutionizing Music Generation with Open-Source Integration | AIToolGo\",\"url\":\"https://www.aitoolgo.com/learning/detail/gcui-art-suno-api-use-api-to-call-the-music-generation-ai-of-github\"},{\"title\":\"gcui-art/suno-api\",\"url\":\"https://github.com/gcui-art/suno-api/issues\"},{\"title\":\"suno-ai-api Â· GitHub Topics Â· GitHub\",\"url\":\"https://github.com/topics/suno-ai-api\"},{\"title\":\"Suno API: A Deep Dive into the New Frontier of AI Music\",\"url\":\"https://skywork.ai/skypage/en/suno-api-ai-music/1977568238882582528\"}]\n\nBased on my search, here's what I found about the **gcui-art/suno-api** GitHub TypeScript client architecture:\n\n## Overview\n\nThe gcui-art/suno-api project uses API to call the music generation AI of suno.ai, and easily integrate it into agents like GPTs. It's written in TypeScript.(no content)The project is hosted on GitHub, licensed under LGPL-3.0, and was created on March 27, 2024. It has 1,955 stars and 478 forks.\n\n## System Architecture\n\nThe Suno API system acts as a middleware proxy between client applications (including AI agents like GPTs) and the Suno AI service. The system provides standardized API endpoints for music generation, audio manipulation, and information retrieval, handling the complexity of browser automation and CAPTCHA solving behind the scenes.(no content)The Suno API system exposes several API endpoints through Next.js API routes, organized by functionality. Each endpoint corresponds to a method in the SunoApi class, with some endpoints (like music generation) sharing common underlying implementation.\n\n## Key Features\n\nThe project perfectly implements the creation API from suno.ai, is compatible with the format of OpenAI's /v1/chat/completions API, supports Custom Mode, and offers one-click deployment to Vercel & Docker.(no content)It can solve CAPTCHAs automatically using 2Captcha and Playwright with rebrowser-patches.(no content)In addition to the standard API, it also adapts to the API Schema of Agent platforms like GPTs and Coze, so you can use it as a tool/plugin/Action for LLMs and integrate it into any AI Agent.\n\n## API Endpoints\n\nThe Suno AI API offers a comprehensive set of endpoints including: `/api/generate` for standard music generation, `/v1/chat/completions` for OpenAI-compatible music generation, `/api/custom_generate` for advanced music generation with custom settings, `/api/generate_lyrics` for lyric generation, `/api/get` to retrieve music information, `/api/get_limit` to check quota information, `/api/extend_audio` to increase audio length, `/api/clip` for clip information, and `/api/concat` to generate complete songs from extensions.\n\n## OpenAI Integration\n\nThe Suno API system is designed to be easily integrated with AI systems, particularly OpenAI's GPTs, through an OpenAI-compatible endpoint. The OpenAI-compatible endpoint (/v1/chat/completions) accepts requests in the same format as OpenAI's chat completions API, transforms them to the format expected by the standard /api/generate endpoint, and returns responses in a format compatible with OpenAI's API.\n\n## Architecture Summary\n\nThe Suno API system is a well-structured proxy service that bridges client applications and the Suno AI music generation service. Its modular architecture, with distinct components for API handling, authentication, CAPTCHA solving, and integration with AI systems, provides a robust and flexible solution. The system successfully handles the challenges of working with a service that does not provide an official API, using browser automation and CAPTCHA solving to enable programmatic access.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"36be282b-f304-4332-93fd-3776390aec23","timestamp":"2025-12-17T03:00:26.819Z","toolUseResult":{"query":"gcui-art/suno-api GitHub TypeScript client architecture","results":[{"tool_use_id":"srvtoolu_013p5c5gCvGwssVd5x7nWysS","content":[{"title":"https://github.com/gcui-art/suno-api | Ecosyste.ms: Awesome","url":"https://awesome.ecosyste.ms/projects/github.com/gcui-art/suno-api"},{"title":"GitHub - gcui-art/suno-api: Use API to call the music generation AI of suno.ai, and easily integrate it into agents like GPTs.","url":"https://github.com/gcui-art/suno-api"},{"title":"suno api","url":"https://suno.gcui.ai/"},{"title":"System Architecture Overview | gcui-art/suno-api | DeepWiki","url":"https://deepwiki.com/gcui-art/suno-api/1.2-system-architecture-overview"},{"title":"Activity Â· gcui-art/suno-api","url":"https://github.com/gcui-art/suno-api/activity"},{"title":"gcui.ai Â· GitHub","url":"https://github.com/gcui-art"},{"title":"Suno AI API: Revolutionizing Music Generation with Open-Source Integration | AIToolGo","url":"https://www.aitoolgo.com/learning/detail/gcui-art-suno-api-use-api-to-call-the-music-generation-ai-of-github"},{"title":"gcui-art/suno-api","url":"https://github.com/gcui-art/suno-api/issues"},{"title":"suno-ai-api Â· GitHub Topics Â· GitHub","url":"https://github.com/topics/suno-ai-api"},{"title":"Suno API: A Deep Dive into the New Frontier of AI Music","url":"https://skywork.ai/skypage/en/suno-api-ai-music/1977568238882582528"}]},"Based on my search, here's what I found about the **gcui-art/suno-api** GitHub TypeScript client architecture:\n\n## Overview\n\nThe gcui-art/suno-api project uses API to call the music generation AI of suno.ai, and easily integrate it into agents like GPTs. It's written in TypeScript.(no content)The project is hosted on GitHub, licensed under LGPL-3.0, and was created on March 27, 2024. It has 1,955 stars and 478 forks.\n\n## System Architecture\n\nThe Suno API system acts as a middleware proxy between client applications (including AI agents like GPTs) and the Suno AI service. The system provides standardized API endpoints for music generation, audio manipulation, and information retrieval, handling the complexity of browser automation and CAPTCHA solving behind the scenes.(no content)The Suno API system exposes several API endpoints through Next.js API routes, organized by functionality. Each endpoint corresponds to a method in the SunoApi class, with some endpoints (like music generation) sharing common underlying implementation.\n\n## Key Features\n\nThe project perfectly implements the creation API from suno.ai, is compatible with the format of OpenAI's /v1/chat/completions API, supports Custom Mode, and offers one-click deployment to Vercel & Docker.(no content)It can solve CAPTCHAs automatically using 2Captcha and Playwright with rebrowser-patches.(no content)In addition to the standard API, it also adapts to the API Schema of Agent platforms like GPTs and Coze, so you can use it as a tool/plugin/Action for LLMs and integrate it into any AI Agent.\n\n## API Endpoints\n\nThe Suno AI API offers a comprehensive set of endpoints including: `/api/generate` for standard music generation, `/v1/chat/completions` for OpenAI-compatible music generation, `/api/custom_generate` for advanced music generation with custom settings, `/api/generate_lyrics` for lyric generation, `/api/get` to retrieve music information, `/api/get_limit` to check quota information, `/api/extend_audio` to increase audio length, `/api/clip` for clip information, and `/api/concat` to generate complete songs from extensions.\n\n## OpenAI Integration\n\nThe Suno API system is designed to be easily integrated with AI systems, particularly OpenAI's GPTs, through an OpenAI-compatible endpoint. The OpenAI-compatible endpoint (/v1/chat/completions) accepts requests in the same format as OpenAI's chat completions API, transforms them to the format expected by the standard /api/generate endpoint, and returns responses in a format compatible with OpenAI's API.\n\n## Architecture Summary\n\nThe Suno API system is a well-structured proxy service that bridges client applications and the Suno AI music generation service. Its modular architecture, with distinct components for API handling, authentication, CAPTCHA solving, and integration with AI systems, provides a robust and flexible solution. The system successfully handles the challenges of working with a service that does not provide an official API, using browser automation and CAPTCHA solving to enable programmatic access."],"durationSeconds":24.90019679100008}}
{"parentUuid":"36be282b-f304-4332-93fd-3776390aec23","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_01LciLyYgvxpxnuMVM6amsK9","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01RxDbjK9YJhMT9a5yMEsahc","name":"WebFetch","input":{"url":"https://github.com/gcui-art/suno-api","prompt":"Extract the full README content including: 1) API endpoints and their parameters 2) Authentication/cookie setup 3) TypeScript interfaces and types 4) Rate limiting info 5) Error handling patterns 6) Code examples"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1240,"cache_creation_input_tokens":2570,"cache_read_input_tokens":10914,"cache_creation":{"ephemeral_5m_input_tokens":2570,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CWBWgWywNhoW47NagaQzK","type":"assistant","uuid":"24eb4620-b83d-4516-998e-1173aebb354e","timestamp":"2025-12-17T03:00:30.838Z"}
{"parentUuid":"24eb4620-b83d-4516-998e-1173aebb354e","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_01LciLyYgvxpxnuMVM6amsK9","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Er6gUmVadarfE1RsFFun4j","name":"WebFetch","input":{"url":"https://github.com/Malith-Rukshan/Suno-API","prompt":"Extract the full README content including: 1) Python client usage 2) Authentication flow 3) Available methods and parameters 4) FastAPI endpoints 5) Error handling 6) wait_audio and polling patterns 7) Model selection options"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1240,"cache_creation_input_tokens":2570,"cache_read_input_tokens":10914,"cache_creation":{"ephemeral_5m_input_tokens":2570,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CWBWgWywNhoW47NagaQzK","type":"assistant","uuid":"4a0ff470-8c1c-4cac-8b9b-f9a2407b0c60","timestamp":"2025-12-17T03:00:32.590Z"}
{"parentUuid":"4a0ff470-8c1c-4cac-8b9b-f9a2407b0c60","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_01LciLyYgvxpxnuMVM6amsK9","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_015pzsHqspsJZYNXxhXwNf4f","name":"WebFetch","input":{"url":"https://deepwiki.com/gcui-art/suno-api/1.2-system-architecture-overview","prompt":"Extract detailed system architecture information including: component diagram, authentication flow, request handling, error handling patterns, and integration details"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":1240,"cache_creation_input_tokens":2570,"cache_read_input_tokens":10914,"cache_creation":{"ephemeral_5m_input_tokens":2570,"ephemeral_1h_input_tokens":0},"output_tokens":352,"service_tier":"standard"}},"requestId":"req_011CWBWgWywNhoW47NagaQzK","type":"assistant","uuid":"fd78a58e-169e-46f6-822a-9a32a6329296","timestamp":"2025-12-17T03:00:33.468Z"}
{"parentUuid":"fd78a58e-169e-46f6-822a-9a32a6329296","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_015pzsHqspsJZYNXxhXwNf4f","type":"tool_result","content":"# Suno API System Architecture Overview\n\n## Core Components\n\nThe system operates as middleware between client applications and Suno AI's music generation service. Key components include:\n\n**SunoApi Client**: The central class handling authentication, session management, and API communication with standardized methods for music generation and audio manipulation.\n\n**Authentication Module**: Uses cookie-based authentication where users manually extract cookies from app.suno.ai and configure them as environment variables for session establishment.\n\n**CAPTCHA Handling**: Combines Playwright browser automation with 2Captcha service integration to automatically solve verification challenges presented during requests.\n\n## Request Processing Flow\n\n```\nClient Request â†’ Next.js API Route â†’ SunoApi Client â†’ Authentication Check\nâ†’ CAPTCHA Resolution (if needed) â†’ Suno AI Service â†’ Response Processing\nâ†’ Client Response\n```\n\nThe system follows this sequence: initialize the SunoApi client with cookies, refresh authentication tokens, check for CAPTCHA requirements, make authenticated requests to Suno AI, optionally poll for completion status, and return formatted responses.\n\n## Authentication Architecture\n\nAuthentication relies on cookie extraction from logged-in Suno sessions:\n\n1. User manually logs into app.suno.ai\n2. Browser stores authentication cookies\n3. User extracts cookie value via developer tools\n4. Cookie configured in `SUNO_COOKIE` environment variable\n5. SunoApi client uses cookie for all subsequent requests\n6. JWT tokens obtained from Clerk API for request authorization\n\n## Error Handling Patterns\n\nThe system implements consistent error management across endpoints:\n\n- **400 errors**: Invalid or missing request parameters\n- **402 errors**: Credit limit exceeded (payment required)\n- **500 errors**: Server-side processing failures\n- CORS headers automatically included in responses\n- Structured error responses with meaningful messages\n\n## Integration Architecture\n\nThe system supports multiple integration approaches:\n\n**Standard API**: Direct HTTP calls to specific endpoints for generation, audio management, and information retrieval.\n\n**OpenAI Compatibility Layer**: `/v1/chat/completions` endpoint accepts OpenAI-format requests, transforms them internally, and returns markdown-formatted responses containing song details.\n\n**Multiple Deployment Options**: Supports Vercel serverless, Docker containerization, and local Node.js deployment with consistent environment variable configuration across all options.\n\nThis modular design enables seamless integration with AI agents, GPTs, custom applications, and various deployment environments while abstracting CAPTCHA solving and browser automation complexity."}]},"uuid":"067ea34c-b752-49b1-af38-e44bd5b30b69","timestamp":"2025-12-17T03:00:42.582Z","toolUseResult":{"bytes":288555,"code":200,"codeText":"OK","result":"# Suno API System Architecture Overview\n\n## Core Components\n\nThe system operates as middleware between client applications and Suno AI's music generation service. Key components include:\n\n**SunoApi Client**: The central class handling authentication, session management, and API communication with standardized methods for music generation and audio manipulation.\n\n**Authentication Module**: Uses cookie-based authentication where users manually extract cookies from app.suno.ai and configure them as environment variables for session establishment.\n\n**CAPTCHA Handling**: Combines Playwright browser automation with 2Captcha service integration to automatically solve verification challenges presented during requests.\n\n## Request Processing Flow\n\n```\nClient Request â†’ Next.js API Route â†’ SunoApi Client â†’ Authentication Check\nâ†’ CAPTCHA Resolution (if needed) â†’ Suno AI Service â†’ Response Processing\nâ†’ Client Response\n```\n\nThe system follows this sequence: initialize the SunoApi client with cookies, refresh authentication tokens, check for CAPTCHA requirements, make authenticated requests to Suno AI, optionally poll for completion status, and return formatted responses.\n\n## Authentication Architecture\n\nAuthentication relies on cookie extraction from logged-in Suno sessions:\n\n1. User manually logs into app.suno.ai\n2. Browser stores authentication cookies\n3. User extracts cookie value via developer tools\n4. Cookie configured in `SUNO_COOKIE` environment variable\n5. SunoApi client uses cookie for all subsequent requests\n6. JWT tokens obtained from Clerk API for request authorization\n\n## Error Handling Patterns\n\nThe system implements consistent error management across endpoints:\n\n- **400 errors**: Invalid or missing request parameters\n- **402 errors**: Credit limit exceeded (payment required)\n- **500 errors**: Server-side processing failures\n- CORS headers automatically included in responses\n- Structured error responses with meaningful messages\n\n## Integration Architecture\n\nThe system supports multiple integration approaches:\n\n**Standard API**: Direct HTTP calls to specific endpoints for generation, audio management, and information retrieval.\n\n**OpenAI Compatibility Layer**: `/v1/chat/completions` endpoint accepts OpenAI-format requests, transforms them internally, and returns markdown-formatted responses containing song details.\n\n**Multiple Deployment Options**: Supports Vercel serverless, Docker containerization, and local Node.js deployment with consistent environment variable configuration across all options.\n\nThis modular design enables seamless integration with AI agents, GPTs, custom applications, and various deployment environments while abstracting CAPTCHA solving and browser automation complexity.","durationMs":9079,"url":"https://deepwiki.com/gcui-art/suno-api/1.2-system-architecture-overview"}}
{"parentUuid":"067ea34c-b752-49b1-af38-e44bd5b30b69","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01RxDbjK9YJhMT9a5yMEsahc","type":"tool_result","content":"# Suno API Extraction Summary\n\n## API Endpoints\n\nThe project implements these primary endpoints:\n\n- `/api/generate` - Generate music from prompts\n- `/api/custom_generate` - Generate with custom parameters (lyrics, style, title)\n- `/api/generate_lyrics` - Create lyrics from text prompts\n- `/api/get` - Retrieve music info by ID(s)\n- `/api/get_limit` - Check quota/credits remaining\n- `/api/extend_audio` - Lengthen generated tracks\n- `/api/generate_stems` - Separate vocal and instrumental tracks\n- `/api/get_aligned_lyrics` - Get word-level timing data\n- `/api/clip` - Fetch clip information\n- `/api/concat` - Assemble complete songs from extensions\n- `/v1/chat/completions` - OpenAI-compatible interface\n\n## Authentication Setup\n\nUsers must:\n1. Extract `Cookie` header from authenticated suno.com/create requests via browser DevTools\n2. Set `SUNO_COOKIE` environment variable with this value\n3. Optionally override per-request via `Cookie` header\n\n## Environment Configuration\n\nRequired variables:\n- `SUNO_COOKIE` - Suno session cookie\n- `TWOCAPTCHA_KEY` - 2Captcha API credentials\n- `BROWSER` - chromium or firefox\n- `BROWSER_LOCALE` - Language code (en/ru recommended)\n- `BROWSER_HEADLESS` - true/false for window display\n- `BROWSER_GHOST_CURSOR` - Simulate smooth cursor movement\n\n## Code Examples\n\n**Python pattern** (requests library):\n```python\nresponse = requests.post(f\"{base_url}/api/generate\", \n    json={\"prompt\": \"...\", \"make_instrumental\": False},\n    headers={'Content-Type': 'application/json'})\n```\n\n**JavaScript pattern** (axios):\n```javascript\nconst data = await axios.post(`${baseUrl}/api/generate`, payload,\n    { headers: { \"Content-Type\": \"application/json\" } });\n```\n\n## Rate Limiting & Quotas\n\nThe `/api/get_limit` endpoint returns:\n- `credits_left` - Available generation credits\n- `period` - Quota period (day/month)\n- `monthly_limit` - Total monthly allowance\n- `monthly_usage` - Currently consumed credits\n\n## Error Handling\n\nDocumentation references \"reasonable\" error patterns but specific error codes aren't detailed in the README. CAPTCHA-solving failures handled via 2Captcha integration with automatic retry logic.\n\n## Key Technical Details\n\n- TypeScript-based implementation\n- Uses Playwright for browser automation\n- Integrates 2Captcha for hCaptcha resolution\n- Supports multiple deployment: Vercel, Docker, local\n- LGPL-3.0 licensed\n- 2.5k GitHub stars, active community"}]},"uuid":"3e5df74f-09b3-427b-8bb6-20868d34c745","timestamp":"2025-12-17T03:00:44.713Z","toolUseResult":{"bytes":453850,"code":200,"codeText":"OK","result":"# Suno API Extraction Summary\n\n## API Endpoints\n\nThe project implements these primary endpoints:\n\n- `/api/generate` - Generate music from prompts\n- `/api/custom_generate` - Generate with custom parameters (lyrics, style, title)\n- `/api/generate_lyrics` - Create lyrics from text prompts\n- `/api/get` - Retrieve music info by ID(s)\n- `/api/get_limit` - Check quota/credits remaining\n- `/api/extend_audio` - Lengthen generated tracks\n- `/api/generate_stems` - Separate vocal and instrumental tracks\n- `/api/get_aligned_lyrics` - Get word-level timing data\n- `/api/clip` - Fetch clip information\n- `/api/concat` - Assemble complete songs from extensions\n- `/v1/chat/completions` - OpenAI-compatible interface\n\n## Authentication Setup\n\nUsers must:\n1. Extract `Cookie` header from authenticated suno.com/create requests via browser DevTools\n2. Set `SUNO_COOKIE` environment variable with this value\n3. Optionally override per-request via `Cookie` header\n\n## Environment Configuration\n\nRequired variables:\n- `SUNO_COOKIE` - Suno session cookie\n- `TWOCAPTCHA_KEY` - 2Captcha API credentials\n- `BROWSER` - chromium or firefox\n- `BROWSER_LOCALE` - Language code (en/ru recommended)\n- `BROWSER_HEADLESS` - true/false for window display\n- `BROWSER_GHOST_CURSOR` - Simulate smooth cursor movement\n\n## Code Examples\n\n**Python pattern** (requests library):\n```python\nresponse = requests.post(f\"{base_url}/api/generate\", \n    json={\"prompt\": \"...\", \"make_instrumental\": False},\n    headers={'Content-Type': 'application/json'})\n```\n\n**JavaScript pattern** (axios):\n```javascript\nconst data = await axios.post(`${baseUrl}/api/generate`, payload,\n    { headers: { \"Content-Type\": \"application/json\" } });\n```\n\n## Rate Limiting & Quotas\n\nThe `/api/get_limit` endpoint returns:\n- `credits_left` - Available generation credits\n- `period` - Quota period (day/month)\n- `monthly_limit` - Total monthly allowance\n- `monthly_usage` - Currently consumed credits\n\n## Error Handling\n\nDocumentation references \"reasonable\" error patterns but specific error codes aren't detailed in the README. CAPTCHA-solving failures handled via 2Captcha integration with automatic retry logic.\n\n## Key Technical Details\n\n- TypeScript-based implementation\n- Uses Playwright for browser automation\n- Integrates 2Captcha for hCaptcha resolution\n- Supports multiple deployment: Vercel, Docker, local\n- LGPL-3.0 licensed\n- 2.5k GitHub stars, active community","durationMs":11211,"url":"https://github.com/gcui-art/suno-api"}}
{"parentUuid":"3e5df74f-09b3-427b-8bb6-20868d34c745","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Er6gUmVadarfE1RsFFun4j","type":"tool_result","content":"# Suno AI API - Complete Reference Guide\n\n## 1. Python Client Usage\n\nThe library provides a straightforward initialization pattern. Users instantiate a client by passing authentication credentials and selecting a model version:\n\n```python\nfrom suno import Suno, ModelVersions\nclient = Suno(\n    cookie='YOUR_COOKIE_HERE',\n    model_version=ModelVersions.CHIRP_V3_5\n)\n```\n\nThe cookie parameter is optional if the `SUNO_COOKIE` environment variable is set.\n\n## 2. Authentication Flow\n\n**Prerequisites**: Users must register at suno.ai and extract their authentication cookie from browser developer tools (Network tab, filtering for `_clerk_js_version`). This cookie authenticates all subsequent API requests and is required before any music generation can occur.\n\n## 3. Available Methods and Parameters\n\n### Core Generation Method\nThe `generate()` function accepts:\n- `prompt` (str): Song description or lyrics\n- `is_custom` (bool): True for lyrics, False for description-based generation\n- `tags` (Optional[str]): Voice characteristics (\"English men voice\")\n- `title` (Optional[str]): Generated track title\n- `make_instrumental` (Optional[bool]): Instrumental-only flag\n- `wait_audio` (bool): Blocks until audio URLs are ready\n- `model_version` (Optional[str]): Overrides initialization setting\n\n**Returns**: List of Clip objects containing song metadata and identifiers.\n\n### Retrieval Methods\n- `get_songs(song_ids)`: Fetches multiple songs by comma-separated IDs\n- `get_song(song_id)`: Retrieves a single song's details\n- `get_credits()`: Returns current usage and credit balance\n\n### Utility Methods\n- `download(song, path)`: Accepts either song ID string or Clip object\n- `set_visibility(song_id, is_public)`: Controls song privacy status\n\n## 4. FastAPI Endpoints\n\n**POST /generate**\nRequest: JSON with prompt, is_custom, tags, title, make_instrumental, model_version, wait_audio\nResponse: Array of Clip objects with audio URLs (when wait_audio=True)\n\n**POST /songs**\nRequest: song_ids (comma-separated)\nResponse: Array of Clip objects\n\n**POST /get_song**\nRequest: single song_id\nResponse: Individual Clip object\n\n**POST /set_visibility**\nRequest: song_id, is_public boolean\nResponse: {\"is_public\": true/false}\n\n**GET /credits**\nResponse: CreditsInfo with credits_left, period, monthly_limit, monthly_usage\n\n## 5. Error Handling\n\nThe library raises:\n- `TypeError`: When download() receives invalid song argument (neither string ID nor Clip)\n- `Exception`: On network failures or invalid URLs during downloads\n\nResponses include error_type and error_message fields for failed generations.\n\n## 6. Wait_Audio and Polling Patterns\n\nWhen `wait_audio=True`, requests block until audio processing completes (may take several seconds). When False, responses return audio IDs but lack `audio_url` fields. Callers must subsequently invoke `get_songs()` or `get_song()` to retrieve completed URLs after a brief interval.\n\n## 7. Model Selection Options\n\nThree models are available:\n\n- **CHIRP_V3_5** (`chirp-v3-5`): Newest, enhanced structure, 4-minute maximum\n- **CHIRP_V3_0** (`chirp-v3-0`): Versatile, 2-minute maximum  \n- **CHIRP_V2_0** (`chirp-v2-0`): Legacy version, 1.3-minute maximum\n\nSelection occurs during client initialization or per-request via `generate(model_version=...)`.\n\n## Credit Consumption\n\nEach song generation consumes 5 credits; successful completion requires 10 credits total (two songs generated simultaneously)."}]},"uuid":"f70fc36f-3267-47cd-afe4-d6e8b743005f","timestamp":"2025-12-17T03:00:45.829Z","toolUseResult":{"bytes":388934,"code":200,"codeText":"OK","result":"# Suno AI API - Complete Reference Guide\n\n## 1. Python Client Usage\n\nThe library provides a straightforward initialization pattern. Users instantiate a client by passing authentication credentials and selecting a model version:\n\n```python\nfrom suno import Suno, ModelVersions\nclient = Suno(\n    cookie='YOUR_COOKIE_HERE',\n    model_version=ModelVersions.CHIRP_V3_5\n)\n```\n\nThe cookie parameter is optional if the `SUNO_COOKIE` environment variable is set.\n\n## 2. Authentication Flow\n\n**Prerequisites**: Users must register at suno.ai and extract their authentication cookie from browser developer tools (Network tab, filtering for `_clerk_js_version`). This cookie authenticates all subsequent API requests and is required before any music generation can occur.\n\n## 3. Available Methods and Parameters\n\n### Core Generation Method\nThe `generate()` function accepts:\n- `prompt` (str): Song description or lyrics\n- `is_custom` (bool): True for lyrics, False for description-based generation\n- `tags` (Optional[str]): Voice characteristics (\"English men voice\")\n- `title` (Optional[str]): Generated track title\n- `make_instrumental` (Optional[bool]): Instrumental-only flag\n- `wait_audio` (bool): Blocks until audio URLs are ready\n- `model_version` (Optional[str]): Overrides initialization setting\n\n**Returns**: List of Clip objects containing song metadata and identifiers.\n\n### Retrieval Methods\n- `get_songs(song_ids)`: Fetches multiple songs by comma-separated IDs\n- `get_song(song_id)`: Retrieves a single song's details\n- `get_credits()`: Returns current usage and credit balance\n\n### Utility Methods\n- `download(song, path)`: Accepts either song ID string or Clip object\n- `set_visibility(song_id, is_public)`: Controls song privacy status\n\n## 4. FastAPI Endpoints\n\n**POST /generate**\nRequest: JSON with prompt, is_custom, tags, title, make_instrumental, model_version, wait_audio\nResponse: Array of Clip objects with audio URLs (when wait_audio=True)\n\n**POST /songs**\nRequest: song_ids (comma-separated)\nResponse: Array of Clip objects\n\n**POST /get_song**\nRequest: single song_id\nResponse: Individual Clip object\n\n**POST /set_visibility**\nRequest: song_id, is_public boolean\nResponse: {\"is_public\": true/false}\n\n**GET /credits**\nResponse: CreditsInfo with credits_left, period, monthly_limit, monthly_usage\n\n## 5. Error Handling\n\nThe library raises:\n- `TypeError`: When download() receives invalid song argument (neither string ID nor Clip)\n- `Exception`: On network failures or invalid URLs during downloads\n\nResponses include error_type and error_message fields for failed generations.\n\n## 6. Wait_Audio and Polling Patterns\n\nWhen `wait_audio=True`, requests block until audio processing completes (may take several seconds). When False, responses return audio IDs but lack `audio_url` fields. Callers must subsequently invoke `get_songs()` or `get_song()` to retrieve completed URLs after a brief interval.\n\n## 7. Model Selection Options\n\nThree models are available:\n\n- **CHIRP_V3_5** (`chirp-v3-5`): Newest, enhanced structure, 4-minute maximum\n- **CHIRP_V3_0** (`chirp-v3-0`): Versatile, 2-minute maximum  \n- **CHIRP_V2_0** (`chirp-v2-0`): Legacy version, 1.3-minute maximum\n\nSelection occurs during client initialization or per-request via `generate(model_version=...)`.\n\n## Credit Consumption\n\nEach song generation consumes 5 credits; successful completion requires 10 credits total (two songs generated simultaneously).","durationMs":12325,"url":"https://github.com/Malith-Rukshan/Suno-API"}}
{"parentUuid":"f70fc36f-3267-47cd-afe4-d6e8b743005f","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_011RvRrdtXWFruk37h19Evx8","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013WzA55foifKGZbmUhuhAXj","name":"WebSearch","input":{"query":"Suno API rate limiting best practices retry exponential backoff 2024 2025"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":569,"cache_creation_input_tokens":3228,"cache_read_input_tokens":13484,"cache_creation":{"ephemeral_5m_input_tokens":3228,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CWBWhvAysJFvTuYwXGqEZ","type":"assistant","uuid":"82d47adb-7c6a-45e8-bb8e-2aa39197d3aa","timestamp":"2025-12-17T03:00:48.754Z"}
{"parentUuid":"82d47adb-7c6a-45e8-bb8e-2aa39197d3aa","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_011RvRrdtXWFruk37h19Evx8","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01EdQdseaRnwcjvVuvo7pPgJ","name":"WebSearch","input":{"query":"Suno chirp-v3-5 chirp-v4 model parameters instrumental generation tags"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":569,"cache_creation_input_tokens":3228,"cache_read_input_tokens":13484,"cache_creation":{"ephemeral_5m_input_tokens":3228,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CWBWhvAysJFvTuYwXGqEZ","type":"assistant","uuid":"b290fa2b-2735-4fee-8e28-1c3f6e69baa1","timestamp":"2025-12-17T03:00:49.531Z"}
{"parentUuid":"b290fa2b-2735-4fee-8e28-1c3f6e69baa1","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_011RvRrdtXWFruk37h19Evx8","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014k4sX9jDvVBcNbbtyKaTj1","name":"WebSearch","input":{"query":"Suno API webhook callback async job polling completion status"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":569,"cache_creation_input_tokens":3228,"cache_read_input_tokens":13484,"cache_creation":{"ephemeral_5m_input_tokens":3228,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CWBWhvAysJFvTuYwXGqEZ","type":"assistant","uuid":"61552f23-9c96-4030-9b6c-637f7cadd78b","timestamp":"2025-12-17T03:00:50.409Z"}
{"parentUuid":"6ba1a6f1-1d5d-4f7f-b7ca-359fcc895497","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013WzA55foifKGZbmUhuhAXj","type":"tool_result","content":"Web search results for query: \"Suno API rate limiting best practices retry exponential backoff 2024 2025\"\n\nWeb search error: unavailable\n\nI apologize, but I'm unable to complete the web search right now as the search tool is temporarily unavailable. \n\nHowever, I can share some general best practices for API rate limiting and exponential backoff that are commonly applicable:\n\n## General API Rate Limiting Best Practices\n\n### Exponential Backoff Strategy\n1. **Start with a small delay** - Begin with a short initial wait time (e.g., 1 second)\n2. **Double the delay** - After each failed attempt, multiply the wait time (1s â†’ 2s â†’ 4s â†’ 8s â†’ 16s...)\n3. **Add jitter** - Include random variation to prevent \"thundering herd\" problems where many clients retry simultaneously\n4. **Set a maximum delay cap** - Limit the maximum wait time (e.g., 60 seconds or 5 minutes)\n5. **Set maximum retry attempts** - Define a limit on total retries before failing completely\n\n### Example Implementation Pattern\n```python\nimport time\nimport random\n\ndef retry_with_exponential_backoff(func, max_retries=5, base_delay=1, max_delay=60):\n    for attempt in range(max_retries):\n        try:\n            return func()\n        except RateLimitError:\n            if attempt == max_retries - 1:\n                raise\n            delay = min(base_delay * (2 ** attempt) + random.uniform(0, 1), max_delay)\n            time.sleep(delay)\n```\n\n### Additional Best Practices\n- **Monitor rate limit headers** - Check `X-RateLimit-*` headers in responses\n- **Implement request queuing** - Queue requests to stay within limits\n- **Use caching** - Reduce API calls by caching responses when appropriate\n\nWould you like me to try the search again later, or would you like more details on any of these general concepts?\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"62dd5f00-6217-4e02-ac93-c1a33f0852a1","timestamp":"2025-12-17T03:01:07.474Z","toolUseResult":{"query":"Suno API rate limiting best practices retry exponential backoff 2024 2025","results":["Web search error: unavailable","I apologize, but I'm unable to complete the web search right now as the search tool is temporarily unavailable. \n\nHowever, I can share some general best practices for API rate limiting and exponential backoff that are commonly applicable:\n\n## General API Rate Limiting Best Practices\n\n### Exponential Backoff Strategy\n1. **Start with a small delay** - Begin with a short initial wait time (e.g., 1 second)\n2. **Double the delay** - After each failed attempt, multiply the wait time (1s â†’ 2s â†’ 4s â†’ 8s â†’ 16s...)\n3. **Add jitter** - Include random variation to prevent \"thundering herd\" problems where many clients retry simultaneously\n4. **Set a maximum delay cap** - Limit the maximum wait time (e.g., 60 seconds or 5 minutes)\n5. **Set maximum retry attempts** - Define a limit on total retries before failing completely\n\n### Example Implementation Pattern\n```python\nimport time\nimport random\n\ndef retry_with_exponential_backoff(func, max_retries=5, base_delay=1, max_delay=60):\n    for attempt in range(max_retries):\n        try:\n            return func()\n        except RateLimitError:\n            if attempt == max_retries - 1:\n                raise\n            delay = min(base_delay * (2 ** attempt) + random.uniform(0, 1), max_delay)\n            time.sleep(delay)\n```\n\n### Additional Best Practices\n- **Monitor rate limit headers** - Check `X-RateLimit-*` headers in responses\n- **Implement request queuing** - Queue requests to stay within limits\n- **Use caching** - Reduce API calls by caching responses when appropriate\n\nWould you like me to try the search again later, or would you like more details on any of these general concepts?"],"durationSeconds":17.027693207999924}}
{"parentUuid":"62dd5f00-6217-4e02-ac93-c1a33f0852a1","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01EdQdseaRnwcjvVuvo7pPgJ","type":"tool_result","content":"Web search results for query: \"Suno chirp-v3-5 chirp-v4 model parameters instrumental generation tags\"\n\nLinks: [{\"title\":\"GitHub - Malith-Rukshan/Suno-API: SunoAI Unofficial Python API Library and REST API for Suno.ai â€” Create Music with Generative AI ! âœ¨\",\"url\":\"https://github.com/Malith-Rukshan/Suno-API\"},{\"title\":\"Get Music Generation Details - Suno API\",\"url\":\"https://docs.sunoapi.org/suno-api/get-music-generation-details\"},{\"title\":\"GitHub - better2025/Suno-APISuno.ai-SunoAI-Python-Chirp-v3-: SunoAI Unofficial Python API Library and REST API for Suno.ai â€” Create Music with Generative AI ! âœ¨\",\"url\":\"https://github.com/better2025/Suno-APISuno.ai-SunoAI-Python-Chirp-v3-\"},{\"title\":\"suno-api/schemas.py at main Â· gochendong/suno-api\",\"url\":\"https://github.com/gochendong/suno-api/blob/main/schemas.py\"},{\"title\":\"Suno Music Generator MCP server for AI agents\",\"url\":\"https://playbooks.com/mcp/suno-music-generator\"},{\"title\":\"AI Music Generator Dashboard | Create Music with Suno V5 | Suno V5 App\",\"url\":\"https://sunov5.app/dashboard\"},{\"title\":\"Suno AI Music Generation API | Studio-Quality Tracks in 2 min\",\"url\":\"https://docs.sunoapi.com/suno-api-instructions\"},{\"title\":\"Suno-API/schemas.py at main Â· SunoAI-API/Suno-API\",\"url\":\"https://github.com/SunoAI-API/Suno-API/blob/main/schemas.py\"},{\"title\":\"Suno AI API | AI/ML API\",\"url\":\"https://aimlapi.com/suno-ai-api\"},{\"title\":\"Suno AI: Suno AI Prompts | Comprehensive Guide\",\"url\":\"https://sunnoai.com/prompt/\"}]\n\nBased on the search results, here's information about Suno's Chirp models, their parameters, instrumental generation, and tags:\n\n## Model Versions\n\nThe available model versions include \"chirp-v3-0\", \"chirp-v3-5\", and \"chirp-v4\" (with chirp-v4 being the default).(no content)Additionally, newer versions can be specified as chirp-v3-5, chirp-v4, chirp-v4-5, chirp-v4-5-plus, or chirp-v5.(no content)Multiple Chirp models are supported including v3.5, v4.5, and v4.5-plus, with each model having different capabilities, quality levels, and credit costs to suit various needs.\n\n## Key Parameters\n\nThe generate_music_suno tool accepts these parameters:\n- **prompt** (string): Lyrics content (required for custom mode)\n- **tags** (string): Comma-separated music style tags (required for custom mode)\n- **title** (string): Song title (required for custom mode)\n- **mv** (string, optional): Model version\n- **make_instrumental** (boolean, optional): Generate instrumental music only (default: false)\n- **gpt_description_prompt** (string, optional): Description for inspiration mode\n- **task_id** (string, optional): Previous song's task ID for continuation\n- **continue_at** (number, optional): Time point (seconds) to continue from\n- **continue_clip_id** (string, optional): Clip ID to continue(no content)Additional parameters include **negative_tags** for specifying unwanted styles of music.\n\n## Instrumental Generation\n\nUse the make_instrumental field to control whether to generate instrumental-only music.(no content)You can enable the 'Instrumental' option in the advanced settings to generate pure instrumental tracks without any vocals.\n\n## Tags Usage\n\nThe **tags** field is used to specify the \"style of music\" for the generation. Tags are comma-separated values that describe the musical style, such as \"relaxing, instrumental\" or \"electrifying, rock\" as shown in the API examples.\n\n## Character Limits\n\nFor v4.5+ and v4.5-plus and v5, lyrics should generally not exceed 5000 characters; for v4 and below, should generally not exceed 3000 characters. Style tags should generally not exceed 80 characters.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"ed36faad-dc04-4252-87ff-39448d949edb","timestamp":"2025-12-17T03:01:09.700Z","toolUseResult":{"query":"Suno chirp-v3-5 chirp-v4 model parameters instrumental generation tags","results":[{"tool_use_id":"srvtoolu_01BvHzZm5LP2pU6pQMoD64tp","content":[{"title":"GitHub - Malith-Rukshan/Suno-API: SunoAI Unofficial Python API Library and REST API for Suno.ai â€” Create Music with Generative AI ! âœ¨","url":"https://github.com/Malith-Rukshan/Suno-API"},{"title":"Get Music Generation Details - Suno API","url":"https://docs.sunoapi.org/suno-api/get-music-generation-details"},{"title":"GitHub - better2025/Suno-APISuno.ai-SunoAI-Python-Chirp-v3-: SunoAI Unofficial Python API Library and REST API for Suno.ai â€” Create Music with Generative AI ! âœ¨","url":"https://github.com/better2025/Suno-APISuno.ai-SunoAI-Python-Chirp-v3-"},{"title":"suno-api/schemas.py at main Â· gochendong/suno-api","url":"https://github.com/gochendong/suno-api/blob/main/schemas.py"},{"title":"Suno Music Generator MCP server for AI agents","url":"https://playbooks.com/mcp/suno-music-generator"},{"title":"AI Music Generator Dashboard | Create Music with Suno V5 | Suno V5 App","url":"https://sunov5.app/dashboard"},{"title":"Suno AI Music Generation API | Studio-Quality Tracks in 2 min","url":"https://docs.sunoapi.com/suno-api-instructions"},{"title":"Suno-API/schemas.py at main Â· SunoAI-API/Suno-API","url":"https://github.com/SunoAI-API/Suno-API/blob/main/schemas.py"},{"title":"Suno AI API | AI/ML API","url":"https://aimlapi.com/suno-ai-api"},{"title":"Suno AI: Suno AI Prompts | Comprehensive Guide","url":"https://sunnoai.com/prompt/"}]},"Based on the search results, here's information about Suno's Chirp models, their parameters, instrumental generation, and tags:\n\n## Model Versions\n\nThe available model versions include \"chirp-v3-0\", \"chirp-v3-5\", and \"chirp-v4\" (with chirp-v4 being the default).(no content)Additionally, newer versions can be specified as chirp-v3-5, chirp-v4, chirp-v4-5, chirp-v4-5-plus, or chirp-v5.(no content)Multiple Chirp models are supported including v3.5, v4.5, and v4.5-plus, with each model having different capabilities, quality levels, and credit costs to suit various needs.\n\n## Key Parameters\n\nThe generate_music_suno tool accepts these parameters:\n- **prompt** (string): Lyrics content (required for custom mode)\n- **tags** (string): Comma-separated music style tags (required for custom mode)\n- **title** (string): Song title (required for custom mode)\n- **mv** (string, optional): Model version\n- **make_instrumental** (boolean, optional): Generate instrumental music only (default: false)\n- **gpt_description_prompt** (string, optional): Description for inspiration mode\n- **task_id** (string, optional): Previous song's task ID for continuation\n- **continue_at** (number, optional): Time point (seconds) to continue from\n- **continue_clip_id** (string, optional): Clip ID to continue(no content)Additional parameters include **negative_tags** for specifying unwanted styles of music.\n\n## Instrumental Generation\n\nUse the make_instrumental field to control whether to generate instrumental-only music.(no content)You can enable the 'Instrumental' option in the advanced settings to generate pure instrumental tracks without any vocals.\n\n## Tags Usage\n\nThe **tags** field is used to specify the \"style of music\" for the generation. Tags are comma-separated values that describe the musical style, such as \"relaxing, instrumental\" or \"electrifying, rock\" as shown in the API examples.\n\n## Character Limits\n\nFor v4.5+ and v4.5-plus and v5, lyrics should generally not exceed 5000 characters; for v4 and below, should generally not exceed 3000 characters. Style tags should generally not exceed 80 characters."],"durationSeconds":19.253116500000004}}
{"parentUuid":"ed36faad-dc04-4252-87ff-39448d949edb","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014k4sX9jDvVBcNbbtyKaTj1","type":"tool_result","content":"Web search results for query: \"Suno API webhook callback async job polling completion status\"\n\nLinks: [{\"title\":\"Suno API Quick Start - Suno API\",\"url\":\"https://docs.sunoapi.org/suno-api/quickstart\"},{\"title\":\"Build Your Own Suno AI Music Generator in 30 Minutes Using Next.js and Windsurf | by Dr. Ernesto Lee | Medium\",\"url\":\"https://drlee.io/build-your-own-suno-ai-music-generator-in-30-minutes-using-next-js-and-windsurf-9272385b4f47\"},{\"title\":\"Knowledge Base - Suno\",\"url\":\"https://help.suno.com/\"},{\"title\":\"Suno API\",\"url\":\"https://sunoapi.org/\"},{\"title\":\"Asynchronous calls and webhooks\",\"url\":\"https://docs.truelayer.com/docs/asynchronous-calls-and-webhooks\"},{\"title\":\"GitHub - gcui-art/suno-api: Use API to call the music generation AI of suno.ai, and easily integrate it into agents like GPTs.\",\"url\":\"https://github.com/gcui-art/suno-api\"},{\"title\":\"Sora 2 API | Async Video Generation Docs, Pricing & Webhooks | SorAPI\",\"url\":\"https://sorapi.org/sora-2-api\"},{\"title\":\"suno api\",\"url\":\"https://suno.gcui.ai/\"}]\n\nBased on my search, here's what I found about Suno API webhook callbacks, async job polling, and completion status:\n\n## Suno API: Webhook Callbacks and Async Job Polling\n\n### Webhook Callbacks\n\nYou can set up webhook callbacks for automatic notifications when your music is ready. Your callback endpoint receives the response with a `code` and `data` object. If `code` equals 200, the music is ready and you can access track information including `title` and `audio_url`.(no content)When making a generation request, you can include a `callBackUrl` parameter to receive automatic callbacks. You pass this URL in your request body along with other parameters like `prompt`, `customMode`, `instrumental`, and `model`.\n\n### Async Job Polling\n\nThe API polls the status endpoint every few seconds until the song finishes generating, then returns the audio URL. This polling pattern is standard for async AI operations - the API doesn't block while generating, it queues your request.(no content)You can use the returned task ID to check generation status by calling the `GET /api/v1/generate/record-info?taskId=YOUR_TASK_ID` endpoint.\n\n### Completion Status\n\nWhen the job completes successfully, the response includes `\"status\": \"SUCCESS\"` along with the response data containing an array of generated tracks with their `id`, `audio_url`, `title`, `tags`, and `duration`.(no content)In your polling code, you check if `data.status === 'SUCCESS'` and `data.audioUrl` exists to determine when the song is ready.\n\n### Available API Endpoints\n\nThe Suno API provides several endpoints including `/api/generate` for music generation, `/api/custom_generate` for Custom Mode (supporting lyrics, music style, title settings), and `/api/generate_lyrics` for generating lyrics based on a prompt.(no content)The `/api/get` endpoint retrieves music information based on the id. You can use \",\" to separate multiple ids, and if no IDs are provided, all music will be returned.\n\n### Storage and Expiration\n\nGenerated audio files are stored for 15 days before automatic deletion, and download URLs may have limited validity periods.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"8d821762-8f91-4351-bd88-0cbf51cb0420","timestamp":"2025-12-17T03:01:10.491Z","toolUseResult":{"query":"Suno API webhook callback async job polling completion status","results":[{"tool_use_id":"srvtoolu_01BfTdoXS2zTD8Sp2Ey7LNAV","content":[{"title":"Suno API Quick Start - Suno API","url":"https://docs.sunoapi.org/suno-api/quickstart"},{"title":"Build Your Own Suno AI Music Generator in 30 Minutes Using Next.js and Windsurf | by Dr. Ernesto Lee | Medium","url":"https://drlee.io/build-your-own-suno-ai-music-generator-in-30-minutes-using-next-js-and-windsurf-9272385b4f47"},{"title":"Knowledge Base - Suno","url":"https://help.suno.com/"},{"title":"Suno API","url":"https://sunoapi.org/"},{"title":"Asynchronous calls and webhooks","url":"https://docs.truelayer.com/docs/asynchronous-calls-and-webhooks"},{"title":"GitHub - gcui-art/suno-api: Use API to call the music generation AI of suno.ai, and easily integrate it into agents like GPTs.","url":"https://github.com/gcui-art/suno-api"},{"title":"Sora 2 API | Async Video Generation Docs, Pricing & Webhooks | SorAPI","url":"https://sorapi.org/sora-2-api"},{"title":"suno api","url":"https://suno.gcui.ai/"}]},"Based on my search, here's what I found about Suno API webhook callbacks, async job polling, and completion status:\n\n## Suno API: Webhook Callbacks and Async Job Polling\n\n### Webhook Callbacks\n\nYou can set up webhook callbacks for automatic notifications when your music is ready. Your callback endpoint receives the response with a `code` and `data` object. If `code` equals 200, the music is ready and you can access track information including `title` and `audio_url`.(no content)When making a generation request, you can include a `callBackUrl` parameter to receive automatic callbacks. You pass this URL in your request body along with other parameters like `prompt`, `customMode`, `instrumental`, and `model`.\n\n### Async Job Polling\n\nThe API polls the status endpoint every few seconds until the song finishes generating, then returns the audio URL. This polling pattern is standard for async AI operations - the API doesn't block while generating, it queues your request.(no content)You can use the returned task ID to check generation status by calling the `GET /api/v1/generate/record-info?taskId=YOUR_TASK_ID` endpoint.\n\n### Completion Status\n\nWhen the job completes successfully, the response includes `\"status\": \"SUCCESS\"` along with the response data containing an array of generated tracks with their `id`, `audio_url`, `title`, `tags`, and `duration`.(no content)In your polling code, you check if `data.status === 'SUCCESS'` and `data.audioUrl` exists to determine when the song is ready.\n\n### Available API Endpoints\n\nThe Suno API provides several endpoints including `/api/generate` for music generation, `/api/custom_generate` for Custom Mode (supporting lyrics, music style, title settings), and `/api/generate_lyrics` for generating lyrics based on a prompt.(no content)The `/api/get` endpoint retrieves music information based on the id. You can use \",\" to separate multiple ids, and if no IDs are provided, all music will be returned.\n\n### Storage and Expiration\n\nGenerated audio files are stored for 15 days before automatic deletion, and download URLs may have limited validity periods."],"durationSeconds":20.04471295899991}}
{"parentUuid":"8d821762-8f91-4351-bd88-0cbf51cb0420","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_0131zbncEpjz5N4pMZNrUnf2","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014qQKRmdQsVJzCMeaabNSf6","name":"WebFetch","input":{"url":"https://docs.sunoapi.org/suno-api/quickstart","prompt":"Extract complete API documentation including: 1) All API endpoints and parameters 2) Request/response formats 3) Webhook callback setup 4) Polling patterns 5) Error codes and handling 6) Rate limiting details 7) Authentication"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":3378,"cache_read_input_tokens":16712,"cache_creation":{"ephemeral_5m_input_tokens":3378,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CWBWjjjUvgX1AzgWoR3N8","type":"assistant","uuid":"7eff6d91-be38-49f3-aea7-a60039cb777c","timestamp":"2025-12-17T03:01:14.510Z"}
{"parentUuid":"7eff6d91-be38-49f3-aea7-a60039cb777c","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_0131zbncEpjz5N4pMZNrUnf2","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01JRQ3pqBTfW2dEJAExd3x6r","name":"WebSearch","input":{"query":"Suno API audio download mp3 format metadata duration clip information"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":3378,"cache_read_input_tokens":16712,"cache_creation":{"ephemeral_5m_input_tokens":3378,"ephemeral_1h_input_tokens":0},"output_tokens":184,"service_tier":"standard"}},"requestId":"req_011CWBWjjjUvgX1AzgWoR3N8","type":"assistant","uuid":"4568cd28-f4fe-449c-9c35-290023351fd6","timestamp":"2025-12-17T03:01:15.110Z"}
{"parentUuid":"4568cd28-f4fe-449c-9c35-290023351fd6","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014qQKRmdQsVJzCMeaabNSf6","type":"tool_result","content":"Prompt is too long"}]},"uuid":"11f81035-dc91-4889-a25c-c179cd1caa5d","timestamp":"2025-12-17T03:01:16.390Z","toolUseResult":{"bytes":1713071,"code":200,"codeText":"OK","result":"Prompt is too long","durationMs":1245,"url":"https://docs.sunoapi.org/suno-api/quickstart"}}
{"parentUuid":"acdc0995-afa5-4d5b-b91a-5c8dc1412d4b","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01JRQ3pqBTfW2dEJAExd3x6r","type":"tool_result","content":"Web search results for query: \"Suno API audio download mp3 format metadata duration clip information\"\n\nWeb search error: unavailable\n\nI apologize, but the web search tool is currently unavailable. I'm unable to perform the search for information about the Suno API audio download, mp3 format, metadata, duration, and clip information at this time.\n\nHowever, I can share some general information based on my existing knowledge:\n\n**Suno** is an AI music generation platform that allows users to create music using artificial intelligence. Regarding their API:\n\n1. **Audio Downloads**: Suno typically allows users to download generated audio content, often in MP3 format.\n\n2. **API Access**: Suno has offered API access to developers, though the specifics of their API endpoints, authentication methods, and available features may have changed.\n\n3. **Metadata and Duration**: APIs for music generation services typically provide metadata about generated clips, including:\n   - Duration/length of the audio\n   - File format information\n   - Creation timestamps\n   - Generation parameters used\n\nFor the most accurate and up-to-date information about Suno's API capabilities, I would recommend:\n- Visiting Suno's official documentation\n- Checking their developer portal\n- Looking at their GitHub repositories if they have any public ones\n\nWould you like me to try the search again later, or is there anything else I can help you with?\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"be8ca55d-10d8-4b4e-9175-b159f1589399","timestamp":"2025-12-17T03:01:30.548Z","toolUseResult":{"query":"Suno API audio download mp3 format metadata duration clip information","results":["Web search error: unavailable","I apologize, but the web search tool is currently unavailable. I'm unable to perform the search for information about the Suno API audio download, mp3 format, metadata, duration, and clip information at this time.\n\nHowever, I can share some general information based on my existing knowledge:\n\n**Suno** is an AI music generation platform that allows users to create music using artificial intelligence. Regarding their API:\n\n1. **Audio Downloads**: Suno typically allows users to download generated audio content, often in MP3 format.\n\n2. **API Access**: Suno has offered API access to developers, though the specifics of their API endpoints, authentication methods, and available features may have changed.\n\n3. **Metadata and Duration**: APIs for music generation services typically provide metadata about generated clips, including:\n   - Duration/length of the audio\n   - File format information\n   - Creation timestamps\n   - Generation parameters used\n\nFor the most accurate and up-to-date information about Suno's API capabilities, I would recommend:\n- Visiting Suno's official documentation\n- Checking their developer portal\n- Looking at their GitHub repositories if they have any public ones\n\nWould you like me to try the search again later, or is there anything else I can help you with?"],"durationSeconds":15.407834124999935}}
{"parentUuid":"be8ca55d-10d8-4b4e-9175-b159f1589399","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_01PAR3LKH8xh14sfjrKfeVEd","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013PDrqoQFTHk73EffASAbXt","name":"WebFetch","input":{"url":"https://docs.sunoapi.org/","prompt":"Extract all API endpoints, parameters, authentication details, webhook setup, rate limits, and error handling documentation"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":580,"cache_read_input_tokens":20090,"cache_creation":{"ephemeral_5m_input_tokens":580,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CWBWmDQuLQo6uhnRjV7zz","type":"assistant","uuid":"701c0d69-1415-4c88-ac89-a72673f77a43","timestamp":"2025-12-17T03:01:34.268Z"}
{"parentUuid":"701c0d69-1415-4c88-ac89-a72673f77a43","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","message":{"model":"claude-opus-4-5-20251101","id":"msg_01PAR3LKH8xh14sfjrKfeVEd","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_019xjXdXnD6XdxnCRKDCLfDC","name":"WebFetch","input":{"url":"https://github.com/gochendong/suno-api/blob/main/schemas.py","prompt":"Extract all Python schemas, data models, types, and interfaces for the Suno API including Clip model fields and AudioInfo structure"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":580,"cache_read_input_tokens":20090,"cache_creation":{"ephemeral_5m_input_tokens":580,"ephemeral_1h_input_tokens":0},"output_tokens":199,"service_tier":"standard"}},"requestId":"req_011CWBWmDQuLQo6uhnRjV7zz","type":"assistant","uuid":"de152c0a-7484-430c-b9c8-30579f26e118","timestamp":"2025-12-17T03:01:35.573Z"}
{"parentUuid":"de152c0a-7484-430c-b9c8-30579f26e118","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_019xjXdXnD6XdxnCRKDCLfDC","type":"tool_result","content":"# Suno API Python Schemas\n\nBased on the `schemas.py` file from the gochendong/suno-api repository, here are the defined data models:\n\n## Core Models\n\n**Response** - Generic API response wrapper:\n- `code`: Optional integer (default: 0)\n- `msg`: Optional string (default: \"success\")\n- `data`: Optional Any type field\n\n**CustomModeGenerateParam** - For custom music generation:\n- `prompt`: Required string for lyrics\n- `mv`: Model version string (default: \"chirp-v5\")\n- `title`: Required string for song title\n- `tags`: Required string for music style specification\n- `continue_at`: Optional float for continuing from timestamp\n- `continue_clip_id`: Optional string identifier\n\n**DescriptionModeGenerateParam** - For description-based generation:\n- `gpt_description_prompt`: Required string\n- `make_instrumental`: Boolean flag (default: False)\n- `mv`: Model version (default: \"chirp-v5\")\n- `prompt`: Placeholder field (empty string, read-only)\n\n**ConcatParam** - For song concatenation:\n- `clip_id`: Required string identifier\n- `is_infill`: Boolean flag (default: False)\n\n**GenerateLyricsParam** - For lyrics generation:\n- `prompt`: Required string input\n\nThe file uses Pydantic's `BaseModel` and `Field` for schema validation and documentation."}]},"uuid":"ef6dc32d-8053-45e9-a88f-d058ed9ec98c","timestamp":"2025-12-17T03:01:40.857Z","toolUseResult":{"bytes":196841,"code":200,"codeText":"OK","result":"# Suno API Python Schemas\n\nBased on the `schemas.py` file from the gochendong/suno-api repository, here are the defined data models:\n\n## Core Models\n\n**Response** - Generic API response wrapper:\n- `code`: Optional integer (default: 0)\n- `msg`: Optional string (default: \"success\")\n- `data`: Optional Any type field\n\n**CustomModeGenerateParam** - For custom music generation:\n- `prompt`: Required string for lyrics\n- `mv`: Model version string (default: \"chirp-v5\")\n- `title`: Required string for song title\n- `tags`: Required string for music style specification\n- `continue_at`: Optional float for continuing from timestamp\n- `continue_clip_id`: Optional string identifier\n\n**DescriptionModeGenerateParam** - For description-based generation:\n- `gpt_description_prompt`: Required string\n- `make_instrumental`: Boolean flag (default: False)\n- `mv`: Model version (default: \"chirp-v5\")\n- `prompt`: Placeholder field (empty string, read-only)\n\n**ConcatParam** - For song concatenation:\n- `clip_id`: Required string identifier\n- `is_infill`: Boolean flag (default: False)\n\n**GenerateLyricsParam** - For lyrics generation:\n- `prompt`: Required string input\n\nThe file uses Pydantic's `BaseModel` and `Field` for schema validation and documentation.","durationMs":5255,"url":"https://github.com/gochendong/suno-api/blob/main/schemas.py"}}
{"parentUuid":"ef6dc32d-8053-45e9-a88f-d058ed9ec98c","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013PDrqoQFTHk73EffASAbXt","type":"tool_result","content":"# Suno API Documentation Summary\n\n## API Endpoints\n\nThe documentation references a comprehensive REST API with the following base URL:\n\n**Base URL:** `https://api.sunoapi.org`\n\n### Major Endpoint Categories\n\n1. **Music Generation**\n   - POST `/api/v1/generate` - Create music from text\n   - POST `/api/v1/generate/extend` - Extend existing tracks\n   - POST `/api/v1/generate/upload-cover` - Cover audio transformation\n   - POST `/api/v1/generate/upload-extend` - Extend uploaded audio\n   - POST `/api/v1/generate/add-instrumental` - Generate backing music\n   - POST `/api/v1/generate/add-vocals` - Generate vocal tracks\n   - POST `/api/v1/generate/replace-section` - Replace track segments\n   - POST `/api/v1/generate/generate-persona` - Create music personas\n\n2. **Lyrics APIs**\n   - POST `/api/v1/lyrics` - Generate lyrics\n   - POST `/api/v1/generate/get-timestamped-lyrics` - Retrieve synchronized lyrics\n\n3. **Audio Processing**\n   - POST `/api/v1/vocal-removal/generate` - Separate vocals and instruments\n   - POST `/api/v1/wav/generate` - Convert to WAV format\n   - POST `/api/v1/style/generate` - Enhance music styles\n\n4. **Music Video & Cover Generation**\n   - POST `/api/v1/mp4/generate` - Create music videos\n   - POST `/api/v1/suno/cover/generate` - Generate cover artwork\n\n5. **Status & Account**\n   - GET `/api/v1/generate/record-info` - Fetch generation details\n   - GET `/api/v1/lyrics/record-info` - Retrieve lyrics task status\n   - GET `/api/v1/vocal-removal/record-info` - Audio separation status\n   - GET `/api/v1/generate/credit` - Check remaining credits\n\n## Authentication\n\nAll requests require Bearer token authentication:\n\n```\nAuthorization: Bearer YOUR_API_KEY\n```\n\nCredentials are obtained from the \"API Key Management Page\" on the platform.\n\n## Webhook/Callback Support\n\nThe platform supports real-time webhooks for task completion notifications across major endpoints:\n- Music generation callbacks\n- Lyrics generation callbacks\n- Music extension callbacks\n- Audio processing callbacks\n- Music video generation callbacks\n- WAV conversion callbacks\n- Cover generation callbacks\n- Upload and extend callbacks\n- Vocal addition callbacks\n- Instrumental addition callbacks\n\n## Rate Limits & Performance Specifications\n\nThe documentation emphasizes:\n- **99.9% Uptime** reliability guarantee\n- **20-second streaming output** for rapid delivery\n- **High-concurrency architecture** supporting multiple simultaneous requests\n- Transparent, usage-based pricing model\n\n*Specific rate limit numbers are not detailed in the provided documentation.*\n\n## Error Handling\n\nNo explicit error codes or handling documentation appears in this excerpt. However, the platform advertises \"comprehensive developer support\" and maintains \"24/7 support\" via email at support@sunoapi.org.\n\n## AI Model Versions Available\n\n- V4 (up to 4 minutes)\n- V4.5 (up to 8 minutes)\n- V4.5PLUS (up to 8 minutes)\n- V4.5ALL (up to 8 minutes)\n- V5 (latest offering)"}]},"uuid":"3642b6f5-2bf2-40a3-b583-7922acec488d","timestamp":"2025-12-17T03:01:46.879Z","toolUseResult":{"bytes":352460,"code":200,"codeText":"OK","result":"# Suno API Documentation Summary\n\n## API Endpoints\n\nThe documentation references a comprehensive REST API with the following base URL:\n\n**Base URL:** `https://api.sunoapi.org`\n\n### Major Endpoint Categories\n\n1. **Music Generation**\n   - POST `/api/v1/generate` - Create music from text\n   - POST `/api/v1/generate/extend` - Extend existing tracks\n   - POST `/api/v1/generate/upload-cover` - Cover audio transformation\n   - POST `/api/v1/generate/upload-extend` - Extend uploaded audio\n   - POST `/api/v1/generate/add-instrumental` - Generate backing music\n   - POST `/api/v1/generate/add-vocals` - Generate vocal tracks\n   - POST `/api/v1/generate/replace-section` - Replace track segments\n   - POST `/api/v1/generate/generate-persona` - Create music personas\n\n2. **Lyrics APIs**\n   - POST `/api/v1/lyrics` - Generate lyrics\n   - POST `/api/v1/generate/get-timestamped-lyrics` - Retrieve synchronized lyrics\n\n3. **Audio Processing**\n   - POST `/api/v1/vocal-removal/generate` - Separate vocals and instruments\n   - POST `/api/v1/wav/generate` - Convert to WAV format\n   - POST `/api/v1/style/generate` - Enhance music styles\n\n4. **Music Video & Cover Generation**\n   - POST `/api/v1/mp4/generate` - Create music videos\n   - POST `/api/v1/suno/cover/generate` - Generate cover artwork\n\n5. **Status & Account**\n   - GET `/api/v1/generate/record-info` - Fetch generation details\n   - GET `/api/v1/lyrics/record-info` - Retrieve lyrics task status\n   - GET `/api/v1/vocal-removal/record-info` - Audio separation status\n   - GET `/api/v1/generate/credit` - Check remaining credits\n\n## Authentication\n\nAll requests require Bearer token authentication:\n\n```\nAuthorization: Bearer YOUR_API_KEY\n```\n\nCredentials are obtained from the \"API Key Management Page\" on the platform.\n\n## Webhook/Callback Support\n\nThe platform supports real-time webhooks for task completion notifications across major endpoints:\n- Music generation callbacks\n- Lyrics generation callbacks\n- Music extension callbacks\n- Audio processing callbacks\n- Music video generation callbacks\n- WAV conversion callbacks\n- Cover generation callbacks\n- Upload and extend callbacks\n- Vocal addition callbacks\n- Instrumental addition callbacks\n\n## Rate Limits & Performance Specifications\n\nThe documentation emphasizes:\n- **99.9% Uptime** reliability guarantee\n- **20-second streaming output** for rapid delivery\n- **High-concurrency architecture** supporting multiple simultaneous requests\n- Transparent, usage-based pricing model\n\n*Specific rate limit numbers are not detailed in the provided documentation.*\n\n## Error Handling\n\nNo explicit error codes or handling documentation appears in this excerpt. However, the platform advertises \"comprehensive developer support\" and maintains \"24/7 support\" via email at support@sunoapi.org.\n\n## AI Model Versions Available\n\n- V4 (up to 4 minutes)\n- V4.5 (up to 8 minutes)\n- V4.5PLUS (up to 8 minutes)\n- V4.5ALL (up to 8 minutes)\n- V5 (latest offering)","durationMs":11277,"url":"https://docs.sunoapi.org/"}}
{"parentUuid":"3642b6f5-2bf2-40a3-b583-7922acec488d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"6222972d-c708-4604-aca1-6bc43472c7df","version":"2.0.70","gitBranch":"","agentId":"a6332fe","slug":"quiet-skipping-rain","message":{"model":"claude-opus-4-5-20251101","id":"msg_01AXV9UwrfTADdae5Q588uiW","type":"message","role":"assistant","content":[{"type":"text","text":"Now I have comprehensive information. Let me compile the architectural recommendations.\n\n---\n\n# Suno AI API Integration - Comprehensive Architectural Recommendations\n\n## Executive Summary\n\nSuno AI does not provide an official public API. Integration requires using unofficial open-source projects that act as middleware proxies, handling browser automation and authentication. The two primary reference implementations are:\n\n- **[gcui-art/suno-api](https://github.com/gcui-art/suno-api)**: TypeScript/Next.js middleware with CAPTCHA solving\n- **[Malith-Rukshan/Suno-API](https://github.com/Malith-Rukshan/Suno-API)**: Python client library with FastAPI wrapper\n\n---\n\n## 1. API Client Architecture\n\n### Recommended Pattern: Middleware Proxy Architecture\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Your App       â”‚â”€â”€â”€â”€â–¶â”‚  Suno API Proxy  â”‚â”€â”€â”€â”€â–¶â”‚  Suno.ai        â”‚\nâ”‚  (Client)       â”‚â—€â”€â”€â”€â”€â”‚  (Middleware)    â”‚â—€â”€â”€â”€â”€â”‚  (Service)      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                               â”‚\n                        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”\n                        â”‚  2Captcha   â”‚\n                        â”‚  Service    â”‚\n                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### TypeScript Client Structure (gcui-art pattern)\n\n```typescript\n// Core interfaces\ninterface AudioInfo {\n  id: string;\n  title: string;\n  audio_url: string;\n  image_url: string;\n  video_url: string;\n  model_name: string;\n  status: 'pending' | 'processing' | 'complete' | 'error';\n  tags: string;\n  duration: number;\n  created_at: string;\n  error_type?: string;\n  error_message?: string;\n}\n\ninterface GenerateRequest {\n  prompt: string;\n  make_instrumental?: boolean;\n  model_version?: ModelVersion;\n  wait_audio?: boolean;\n}\n\ninterface CustomGenerateRequest {\n  prompt: string;           // Lyrics content\n  tags: string;             // Style tags (max 80 chars)\n  title: string;\n  make_instrumental?: boolean;\n  model_version?: ModelVersion;\n  negative_tags?: string;   // Unwanted styles\n}\n\ntype ModelVersion = \n  | 'chirp-v3-0' \n  | 'chirp-v3-5' \n  | 'chirp-v4' \n  | 'chirp-v4-5' \n  | 'chirp-v4-5-plus' \n  | 'chirp-v5';\n\n// Client class structure\nclass SunoApiClient {\n  private cookie: string;\n  private baseUrl: string;\n  private logger: pino.Logger;\n  \n  constructor(config: SunoClientConfig) {\n    this.cookie = config.cookie || process.env.SUNO_COOKIE;\n    this.baseUrl = config.baseUrl;\n    this.logger = pino({ level: config.logLevel || 'info' });\n  }\n  \n  async generate(request: GenerateRequest): Promise<AudioInfo[]>;\n  async customGenerate(request: CustomGenerateRequest): Promise<AudioInfo[]>;\n  async getSong(songId: string): Promise<AudioInfo>;\n  async getSongs(songIds: string[]): Promise<AudioInfo[]>;\n  async getCredits(): Promise<CreditsInfo>;\n  async extendAudio(clipId: string, continueAt: number): Promise<AudioInfo[]>;\n  async generateLyrics(prompt: string): Promise<LyricsResponse>;\n}\n```\n\n### Python Client Structure (Malith-Rukshan pattern)\n\n```python\nfrom enum import Enum\nfrom dataclasses import dataclass\nfrom typing import Optional, List\n\nclass ModelVersions(Enum):\n    CHIRP_V2_0 = \"chirp-v2-0\"    # Legacy: 1.3 min max\n    CHIRP_V3_0 = \"chirp-v3-0\"    # 2 min max\n    CHIRP_V3_5 = \"chirp-v3-5\"    # 4 min max\n    CHIRP_V4 = \"chirp-v4\"        # 4 min max\n    CHIRP_V4_5 = \"chirp-v4-5\"    # 8 min max\n    CHIRP_V4_5_PLUS = \"chirp-v4-5-plus\"  # 8 min max\n    CHIRP_V5 = \"chirp-v5\"        # Latest\n\n@dataclass\nclass Clip:\n    id: str\n    title: str\n    audio_url: Optional[str]\n    image_url: Optional[str]\n    video_url: Optional[str]\n    model_name: str\n    status: str\n    tags: str\n    duration: float\n    created_at: str\n    error_type: Optional[str] = None\n    error_message: Optional[str] = None\n\n@dataclass  \nclass CreditsInfo:\n    credits_left: int\n    period: str\n    monthly_limit: int\n    monthly_usage: int\n\nclass SunoClient:\n    def __init__(\n        self,\n        cookie: Optional[str] = None,\n        model_version: ModelVersions = ModelVersions.CHIRP_V3_5\n    ):\n        self.cookie = cookie or os.environ.get('SUNO_COOKIE')\n        self.model_version = model_version\n    \n    def generate(\n        self,\n        prompt: str,\n        is_custom: bool = False,\n        tags: Optional[str] = None,\n        title: Optional[str] = None,\n        make_instrumental: bool = False,\n        wait_audio: bool = True,\n        model_version: Optional[str] = None\n    ) -> List[Clip]: ...\n    \n    def get_song(self, song_id: str) -> Clip: ...\n    def get_songs(self, song_ids: str) -> List[Clip]: ...\n    def get_credits(self) -> CreditsInfo: ...\n    def download(self, song: Union[str, Clip], path: str) -> str: ...\n```\n\n---\n\n## 2. Authentication Flow\n\n### Cookie-Based Authentication Architecture\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                    Authentication Flow                          â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                 â”‚\nâ”‚  1. Manual Login                                                â”‚\nâ”‚     User logs into app.suno.ai via browser                      â”‚\nâ”‚                          â”‚                                      â”‚\nâ”‚                          â–¼                                      â”‚\nâ”‚  2. Cookie Extraction                                           â”‚\nâ”‚     DevTools â†’ Network â†’ Filter '_clerk_js_version'             â”‚\nâ”‚     Copy full Cookie header value                               â”‚\nâ”‚                          â”‚                                      â”‚\nâ”‚                          â–¼                                      â”‚\nâ”‚  3. Environment Configuration                                   â”‚\nâ”‚     Set SUNO_COOKIE environment variable                        â”‚\nâ”‚                          â”‚                                      â”‚\nâ”‚                          â–¼                                      â”‚\nâ”‚  4. Token Refresh (Automatic)                                   â”‚\nâ”‚     Client refreshes JWT via Clerk API                          â”‚\nâ”‚                          â”‚                                      â”‚\nâ”‚                          â–¼                                      â”‚\nâ”‚  5. Authenticated Requests                                      â”‚\nâ”‚     All API calls include refreshed auth headers                â”‚\nâ”‚                                                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Session Management Implementation\n\n```typescript\nclass AuthManager {\n  private cookie: string;\n  private jwtToken: string | null = null;\n  private tokenExpiry: number = 0;\n  \n  async ensureAuthenticated(): Promise<string> {\n    if (this.isTokenExpired()) {\n      await this.refreshToken();\n    }\n    return this.jwtToken!;\n  }\n  \n  private isTokenExpired(): boolean {\n    return Date.now() >= this.tokenExpiry - 60000; // 1 min buffer\n  }\n  \n  private async refreshToken(): Promise<void> {\n    // Clerk API token refresh endpoint\n    const response = await fetch('https://clerk.suno.ai/v1/client/sessions/{sessionId}/tokens', {\n      headers: { 'Cookie': this.cookie }\n    });\n    const data = await response.json();\n    this.jwtToken = data.jwt;\n    this.tokenExpiry = data.exp * 1000;\n  }\n}\n```\n\n### Cookie Extraction Instructions for Users\n\n```markdown\n1. Open app.suno.ai in browser\n2. Log in to your account\n3. Open Developer Tools (F12)\n4. Go to Network tab\n5. Filter requests containing '_clerk_js_version'\n6. Click any matching request\n7. In Headers section, find 'Cookie' under Request Headers\n8. Copy the entire cookie value\n9. Set as SUNO_COOKIE environment variable\n```\n\n---\n\n## 3. Generation Workflow\n\n### Async Job Submission with Polling\n\n```typescript\ninterface GenerationJob {\n  taskId: string;\n  status: 'queued' | 'processing' | 'complete' | 'failed';\n  clips: AudioInfo[];\n  createdAt: Date;\n  completedAt?: Date;\n}\n\nclass GenerationService {\n  private readonly MAX_POLL_SECONDS = 120;\n  private readonly POLL_INTERVAL_MS = 3000;\n  \n  async generateWithPolling(request: GenerateRequest): Promise<AudioInfo[]> {\n    // Submit job\n    const response = await this.client.generate({\n      ...request,\n      wait_audio: false  // Non-blocking\n    });\n    \n    const clipIds = response.map(clip => clip.id);\n    \n    // Poll for completion\n    return this.pollForCompletion(clipIds);\n  }\n  \n  private async pollForCompletion(clipIds: string[]): Promise<AudioInfo[]> {\n    const startTime = Date.now();\n    const maxTime = startTime + (this.MAX_POLL_SECONDS * 1000);\n    \n    while (Date.now() < maxTime) {\n      const clips = await this.client.getSongs(clipIds);\n      \n      const allComplete = clips.every(\n        clip => clip.status === 'complete' || clip.status === 'error'\n      );\n      \n      if (allComplete) {\n        const errors = clips.filter(c => c.status === 'error');\n        if (errors.length > 0) {\n          throw new GenerationError(errors[0].error_message);\n        }\n        return clips;\n      }\n      \n      await this.sleep(this.POLL_INTERVAL_MS);\n    }\n    \n    throw new TimeoutError(`Generation timeout after ${this.MAX_POLL_SECONDS}s`);\n  }\n}\n```\n\n### Webhook Callback Architecture\n\n```typescript\n// Webhook handler for third-party API services\ninterface WebhookPayload {\n  code: number;\n  data: {\n    taskId: string;\n    status: 'SUCCESS' | 'FAILED';\n    clips: AudioInfo[];\n  };\n}\n\n// Express webhook endpoint\napp.post('/webhooks/suno', async (req, res) => {\n  const payload: WebhookPayload = req.body;\n  \n  if (payload.code === 200 && payload.data.status === 'SUCCESS') {\n    await processCompletedGeneration(payload.data);\n  } else {\n    await handleGenerationFailure(payload.data);\n  }\n  \n  res.status(200).send('OK');\n});\n\n// Request with callback URL\nasync function generateWithCallback(request: GenerateRequest): Promise<string> {\n  const response = await fetch(`${API_BASE}/api/v1/generate`, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${API_KEY}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      ...request,\n      callBackUrl: 'https://your-app.com/webhooks/suno'\n    })\n  });\n  \n  const data = await response.json();\n  return data.taskId; // Return task ID for tracking\n}\n```\n\n---\n\n## 4. Model Selection\n\n### Available Models and Parameters\n\n| Model | Version String | Max Duration | Best For |\n|-------|---------------|--------------|----------|\n| Chirp V2 | `chirp-v2-0` | 1.3 min | Legacy (deprecated) |\n| Chirp V3 | `chirp-v3-0` | 2 min | Legacy |\n| Chirp V3.5 | `chirp-v3-5` | 4 min | Production stable |\n| Chirp V4 | `chirp-v4` | 4 min | Enhanced quality |\n| Chirp V4.5 | `chirp-v4-5` | 8 min | Extended tracks |\n| Chirp V4.5+ | `chirp-v4-5-plus` | 8 min | Premium quality |\n| Chirp V5 | `chirp-v5` | TBD | Latest features |\n\n### Generation Parameters\n\n```typescript\ninterface GenerationParams {\n  // Core parameters\n  prompt: string;                    // Description or lyrics\n  \n  // Mode selection\n  is_custom: boolean;                // true = lyrics mode, false = description mode\n  \n  // Custom mode parameters (when is_custom = true)\n  tags: string;                      // Style tags, max 80 chars\n  title: string;                     // Song title\n  \n  // Audio configuration\n  make_instrumental: boolean;        // Generate without vocals\n  negative_tags?: string;            // Styles to avoid\n  \n  // Model selection\n  model_version: ModelVersion;       // chirp-v3-5, chirp-v4, etc.\n  \n  // Continuation parameters\n  continue_clip_id?: string;         // Extend existing song\n  continue_at?: number;              // Timestamp (seconds) to continue from\n  \n  // Behavior\n  wait_audio: boolean;               // Block until complete\n}\n\n// Character limits by model\nconst LYRICS_CHAR_LIMITS = {\n  'chirp-v4': 3000,\n  'chirp-v4-5': 5000,\n  'chirp-v4-5-plus': 5000,\n  'chirp-v5': 5000\n};\n```\n\n### Instrumental/Copyright-Free Generation\n\n```typescript\n// Instrumental-only generation\nasync function generateInstrumental(style: string, title: string): Promise<AudioInfo[]> {\n  return client.customGenerate({\n    prompt: '',  // Empty lyrics for instrumental\n    tags: style,\n    title: title,\n    make_instrumental: true,\n    model_version: 'chirp-v4-5'\n  });\n}\n\n// Style tag examples for copyright-free generation\nconst SAFE_STYLE_TAGS = [\n  'ambient, electronic, atmospheric',\n  'acoustic guitar, folk, indie',\n  'orchestral, cinematic, epic',\n  'lo-fi, chill, relaxing',\n  'jazz fusion, smooth, instrumental'\n];\n```\n\n---\n\n## 5. Rate Limiting and Queue Management\n\n### Exponential Backoff Implementation\n\n```typescript\ninterface RetryConfig {\n  maxRetries: number;\n  baseDelayMs: number;\n  maxDelayMs: number;\n  jitterFactor: number;  // 0-1\n}\n\nclass RetryHandler {\n  private config: RetryConfig = {\n    maxRetries: 5,\n    baseDelayMs: 1000,\n    maxDelayMs: 60000,\n    jitterFactor: 0.2\n  };\n  \n  async withRetry<T>(\n    operation: () => Promise<T>,\n    isRetryable: (error: Error) => boolean\n  ): Promise<T> {\n    let lastError: Error;\n    \n    for (let attempt = 0; attempt < this.config.maxRetries; attempt++) {\n      try {\n        return await operation();\n      } catch (error) {\n        lastError = error as Error;\n        \n        if (!isRetryable(lastError) || attempt === this.config.maxRetries - 1) {\n          throw lastError;\n        }\n        \n        const delay = this.calculateDelay(attempt);\n        this.logger.warn({ attempt, delay, error: lastError.message }, 'Retrying after error');\n        await this.sleep(delay);\n      }\n    }\n    \n    throw lastError!;\n  }\n  \n  private calculateDelay(attempt: number): number {\n    const exponentialDelay = this.config.baseDelayMs * Math.pow(2, attempt);\n    const cappedDelay = Math.min(exponentialDelay, this.config.maxDelayMs);\n    const jitter = cappedDelay * this.config.jitterFactor * Math.random();\n    return cappedDelay + jitter;\n  }\n}\n\n// Retryable error detection\nfunction isRateLimitError(error: Error): boolean {\n  return error.message.includes('429') || \n         error.message.toLowerCase().includes('rate limit') ||\n         error.message.includes('too many requests');\n}\n\nfunction isCreditError(error: Error): boolean {\n  return error.message.includes('402') ||\n         error.message.toLowerCase().includes('credits');\n}\n```\n\n### Queue Management System\n\n```typescript\nimport PQueue from 'p-queue';\n\nclass GenerationQueue {\n  private queue: PQueue;\n  private creditLock: AsyncLock;\n  \n  constructor() {\n    this.queue = new PQueue({\n      concurrency: 2,           // Max concurrent generations\n      interval: 60000,          // Per minute\n      intervalCap: 10,          // Max 10 per minute\n      carryoverConcurrencyCount: true\n    });\n    this.creditLock = new AsyncLock();\n  }\n  \n  async enqueue(request: GenerateRequest): Promise<AudioInfo[]> {\n    return this.queue.add(async () => {\n      // Check credits before generation\n      await this.creditLock.acquire('credits', async () => {\n        const credits = await this.client.getCredits();\n        if (credits.credits_left < 10) {  // Each gen uses 10 credits (2 songs)\n          throw new InsufficientCreditsError(credits);\n        }\n      });\n      \n      return this.client.generate(request);\n    });\n  }\n  \n  getQueueSize(): number {\n    return this.queue.size;\n  }\n  \n  getPendingCount(): number {\n    return this.queue.pending;\n  }\n}\n```\n\n### Credit Monitoring\n\n```typescript\ninterface CreditsInfo {\n  credits_left: number;\n  period: string;\n  monthly_limit: number;\n  monthly_usage: number;\n}\n\nclass CreditMonitor {\n  private lowCreditThreshold = 50;\n  private criticalCreditThreshold = 10;\n  \n  async checkAndNotify(): Promise<void> {\n    const credits = await this.client.getCredits();\n    \n    if (credits.credits_left <= this.criticalCreditThreshold) {\n      await this.notifyCriticalCredits(credits);\n    } else if (credits.credits_left <= this.lowCreditThreshold) {\n      await this.notifyLowCredits(credits);\n    }\n  }\n}\n```\n\n---\n\n## 6. Audio Output Handling\n\n### Download and Storage\n\n```typescript\nimport axios from 'axios';\nimport * as fs from 'fs/promises';\nimport * as path from 'path';\n\nclass AudioDownloader {\n  async downloadClip(\n    clip: AudioInfo, \n    outputDir: string\n  ): Promise<DownloadResult> {\n    const filename = this.sanitizeFilename(`${clip.title}_${clip.id}`);\n    const outputPath = path.join(outputDir, `${filename}.mp3`);\n    \n    // Download audio\n    const response = await axios.get(clip.audio_url, {\n      responseType: 'arraybuffer',\n      timeout: 30000\n    });\n    \n    await fs.writeFile(outputPath, response.data);\n    \n    // Download cover image if available\n    let coverPath: string | undefined;\n    if (clip.image_url) {\n      coverPath = path.join(outputDir, `${filename}.jpg`);\n      const imageResponse = await axios.get(clip.image_url, {\n        responseType: 'arraybuffer'\n      });\n      await fs.writeFile(coverPath, imageResponse.data);\n    }\n    \n    return {\n      audioPath: outputPath,\n      coverPath,\n      metadata: this.extractMetadata(clip)\n    };\n  }\n  \n  private sanitizeFilename(name: string): string {\n    return name\n      .replace(/[<>:\"/\\\\|?*]/g, '_')\n      .replace(/\\s+/g, '_')\n      .substring(0, 200);\n  }\n  \n  private extractMetadata(clip: AudioInfo): AudioMetadata {\n    return {\n      id: clip.id,\n      title: clip.title,\n      duration: clip.duration,\n      model: clip.model_name,\n      tags: clip.tags,\n      createdAt: clip.created_at\n    };\n  }\n}\n```\n\n### Format Conversion (using FFmpeg)\n\n```typescript\nimport { exec } from 'child_process';\nimport { promisify } from 'util';\n\nconst execAsync = promisify(exec);\n\nclass AudioConverter {\n  async convertToFormat(\n    inputPath: string,\n    outputFormat: 'mp3' | 'wav' | 'ogg' | 'flac',\n    options?: ConversionOptions\n  ): Promise<string> {\n    const outputPath = inputPath.replace(/\\.[^/.]+$/, `.${outputFormat}`);\n    \n    const ffmpegArgs = [\n      '-i', `\"${inputPath}\"`,\n      '-y',  // Overwrite output\n      ...(options?.bitrate ? ['-b:a', options.bitrate] : []),\n      ...(options?.sampleRate ? ['-ar', options.sampleRate.toString()] : []),\n      `\"${outputPath}\"`\n    ];\n    \n    await execAsync(`ffmpeg ${ffmpegArgs.join(' ')}`);\n    return outputPath;\n  }\n  \n  async extractStemsTracks(\n    inputPath: string,\n    outputDir: string\n  ): Promise<StemsResult> {\n    // Use Suno's vocal removal endpoint or external tool\n    // Returns separate vocal and instrumental tracks\n    const response = await this.client.generateStems(inputPath);\n    return {\n      vocals: path.join(outputDir, 'vocals.mp3'),\n      instrumental: path.join(outputDir, 'instrumental.mp3')\n    };\n  }\n}\n```\n\n### Metadata Extraction\n\n```typescript\nimport * as mm from 'music-metadata';\n\nasync function extractAudioMetadata(filePath: string): Promise<AudioMetadata> {\n  const metadata = await mm.parseFile(filePath);\n  \n  return {\n    duration: metadata.format.duration,\n    bitrate: metadata.format.bitrate,\n    sampleRate: metadata.format.sampleRate,\n    channels: metadata.format.numberOfChannels,\n    codec: metadata.format.codec,\n    format: metadata.format.container\n  };\n}\n```\n\n---\n\n## 7. Error Handling\n\n### Error Classification\n\n```typescript\n// Custom error types\nclass SunoApiError extends Error {\n  constructor(\n    message: string,\n    public code: number,\n    public retryable: boolean\n  ) {\n    super(message);\n    this.name = 'SunoApiError';\n  }\n}\n\nclass AuthenticationError extends SunoApiError {\n  constructor(message: string) {\n    super(message, 401, false);\n    this.name = 'AuthenticationError';\n  }\n}\n\nclass InsufficientCreditsError extends SunoApiError {\n  constructor(public credits: CreditsInfo) {\n    super(`Insufficient credits: ${credits.credits_left} remaining`, 402, false);\n    this.name = 'InsufficientCreditsError';\n  }\n}\n\nclass RateLimitError extends SunoApiError {\n  constructor(public retryAfter?: number) {\n    super('Rate limit exceeded', 429, true);\n    this.name = 'RateLimitError';\n  }\n}\n\nclass GenerationError extends SunoApiError {\n  constructor(\n    message: string,\n    public errorType?: string\n  ) {\n    super(message, 500, true);\n    this.name = 'GenerationError';\n  }\n}\n\nclass CaptchaError extends SunoApiError {\n  constructor() {\n    super('CAPTCHA challenge failed', 403, true);\n    this.name = 'CaptchaError';\n  }\n}\n\nclass TimeoutError extends SunoApiError {\n  constructor(message: string) {\n    super(message, 504, true);\n    this.name = 'TimeoutError';\n  }\n}\n```\n\n### Comprehensive Error Handler\n\n```typescript\nclass ErrorHandler {\n  private logger: pino.Logger;\n  \n  handleApiError(error: unknown): SunoApiError {\n    if (error instanceof SunoApiError) {\n      return error;\n    }\n    \n    if (error instanceof Error) {\n      const message = error.message.toLowerCase();\n      \n      // Parse HTTP status codes\n      if (message.includes('401') || message.includes('unauthorized')) {\n        return new AuthenticationError('Session expired or invalid cookie');\n      }\n      \n      if (message.includes('402') || message.includes('payment')) {\n        return new InsufficientCreditsError({ \n          credits_left: 0, \n          period: 'unknown',\n          monthly_limit: 0,\n          monthly_usage: 0\n        });\n      }\n      \n      if (message.includes('429') || message.includes('rate limit')) {\n        return new RateLimitError();\n      }\n      \n      if (message.includes('captcha') || message.includes('challenge')) {\n        return new CaptchaError();\n      }\n      \n      if (message.includes('timeout')) {\n        return new TimeoutError(error.message);\n      }\n    }\n    \n    return new SunoApiError(String(error), 500, false);\n  }\n  \n  async withErrorHandling<T>(\n    operation: () => Promise<T>,\n    context: string\n  ): Promise<T> {\n    try {\n      return await operation();\n    } catch (error) {\n      const sunoError = this.handleApiError(error);\n      \n      this.logger.error({\n        context,\n        errorType: sunoError.name,\n        code: sunoError.code,\n        message: sunoError.message,\n        retryable: sunoError.retryable\n      }, 'API operation failed');\n      \n      throw sunoError;\n    }\n  }\n}\n```\n\n### Graceful Degradation Strategy\n\n```typescript\nclass ResilientGenerationService {\n  async generateWithFallback(\n    request: GenerateRequest\n  ): Promise<GenerationResult> {\n    const strategies = [\n      () => this.generatePrimary(request),\n      () => this.generateWithReducedQuality(request),\n      () => this.returnCachedSimilar(request),\n      () => this.queueForLaterProcessing(request)\n    ];\n    \n    for (const strategy of strategies) {\n      try {\n        return await strategy();\n      } catch (error) {\n        if (error instanceof InsufficientCreditsError) {\n          // No fallback for credit issues\n          throw error;\n        }\n        this.logger.warn({ error }, 'Strategy failed, trying fallback');\n      }\n    }\n    \n    return {\n      status: 'queued',\n      message: 'Generation queued for later processing',\n      estimatedCompletion: new Date(Date.now() + 3600000)\n    };\n  }\n  \n  private async generateWithReducedQuality(\n    request: GenerateRequest\n  ): Promise<GenerationResult> {\n    // Fall back to older, more reliable model\n    return this.client.generate({\n      ...request,\n      model_version: 'chirp-v3-5'\n    });\n  }\n}\n```\n\n### User Feedback System\n\n```typescript\ninterface UserFeedback {\n  status: 'success' | 'error' | 'pending' | 'queued';\n  message: string;\n  progress?: number;\n  estimatedTime?: number;\n  actionRequired?: UserAction;\n}\n\ntype UserAction = \n  | { type: 'wait'; message: string }\n  | { type: 'retry'; message: string }\n  | { type: 'contact_support'; message: string }\n  | { type: 'add_credits'; url: string };\n\nfunction createUserFeedback(error: SunoApiError): UserFeedback {\n  switch (error.constructor) {\n    case AuthenticationError:\n      return {\n        status: 'error',\n        message: 'Your session has expired. Please refresh your authentication.',\n        actionRequired: { \n          type: 'contact_support', \n          message: 'Re-authenticate with Suno' \n        }\n      };\n    \n    case InsufficientCreditsError:\n      return {\n        status: 'error',\n        message: 'You have run out of generation credits.',\n        actionRequired: { \n          type: 'add_credits', \n          url: 'https://suno.ai/account' \n        }\n      };\n    \n    case RateLimitError:\n      const retryError = error as RateLimitError;\n      return {\n        status: 'pending',\n        message: 'Too many requests. Please wait a moment.',\n        estimatedTime: retryError.retryAfter || 60,\n        actionRequired: { \n          type: 'wait', \n          message: 'Automatic retry in progress' \n        }\n      };\n    \n    case GenerationError:\n      return {\n        status: 'error',\n        message: 'Music generation failed. Our system will retry automatically.',\n        actionRequired: { \n          type: 'retry', \n          message: 'Click to retry generation' \n        }\n      };\n    \n    default:\n      return {\n        status: 'error',\n        message: 'An unexpected error occurred. Please try again.',\n        actionRequired: { \n          type: 'retry', \n          message: 'Retry' \n        }\n      };\n  }\n}\n```\n\n---\n\n## Complete Integration Example\n\n```typescript\nimport pino from 'pino';\nimport PQueue from 'p-queue';\n\nconst logger = pino({ level: 'info' });\n\nclass SunoMusicService {\n  private client: SunoApiClient;\n  private queue: GenerationQueue;\n  private errorHandler: ErrorHandler;\n  private retryHandler: RetryHandler;\n  \n  constructor(config: SunoServiceConfig) {\n    this.client = new SunoApiClient({\n      cookie: config.cookie,\n      baseUrl: config.baseUrl || 'http://localhost:3000'\n    });\n    this.queue = new GenerationQueue();\n    this.errorHandler = new ErrorHandler();\n    this.retryHandler = new RetryHandler();\n  }\n  \n  async generateMusic(\n    prompt: string,\n    options: GenerationOptions = {}\n  ): Promise<MusicGenerationResult> {\n    return this.errorHandler.withErrorHandling(async () => {\n      // Validate input\n      this.validatePrompt(prompt, options);\n      \n      // Check credits\n      const credits = await this.client.getCredits();\n      if (credits.credits_left < 10) {\n        throw new InsufficientCreditsError(credits);\n      }\n      \n      // Queue generation with retry\n      const clips = await this.retryHandler.withRetry(\n        () => this.queue.enqueue({\n          prompt,\n          make_instrumental: options.instrumental || false,\n          model_version: options.model || 'chirp-v3-5',\n          wait_audio: true\n        }),\n        (error) => error instanceof RateLimitError || error instanceof CaptchaError\n      );\n      \n      // Process results\n      return {\n        success: true,\n        clips: clips.map(clip => ({\n          id: clip.id,\n          title: clip.title,\n          audioUrl: clip.audio_url,\n          duration: clip.duration,\n          tags: clip.tags\n        })),\n        creditsRemaining: credits.credits_left - 10\n      };\n    }, 'generateMusic');\n  }\n  \n  private validatePrompt(prompt: string, options: GenerationOptions): void {\n    const maxLength = options.model?.includes('v4-5') ? 5000 : 3000;\n    if (prompt.length > maxLength) {\n      throw new Error(`Prompt exceeds ${maxLength} character limit`);\n    }\n    \n    if (options.tags && options.tags.length > 80) {\n      throw new Error('Style tags exceed 80 character limit');\n    }\n  }\n}\n\n// Usage\nconst service = new SunoMusicService({\n  cookie: process.env.SUNO_COOKIE!,\n  baseUrl: process.env.SUNO_API_URL\n});\n\nconst result = await service.generateMusic(\n  'An upbeat electronic dance track with catchy synths',\n  { instrumental: true, model: 'chirp-v4-5' }\n);\n```\n\n---\n\n## Environment Configuration\n\n```bash\n# Required\nSUNO_COOKIE=your_suno_session_cookie\n\n# Optional - for self-hosted proxy\nTWOCAPTCHA_KEY=your_2captcha_api_key\nBROWSER=chromium\nBROWSER_HEADLESS=true\nBROWSER_LOCALE=en\n\n# Optional - for third-party API services\nSUNO_API_KEY=your_api_key\nSUNO_API_BASE_URL=https://api.sunoapi.org\n```\n\n---\n\n## Sources\n\n- [gcui-art/suno-api - GitHub](https://github.com/gcui-art/suno-api) - TypeScript middleware proxy\n- [Malith-Rukshan/Suno-API - GitHub](https://github.com/Malith-Rukshan/Suno-API) - Python client library\n- [DeepWiki - System Architecture Overview](https://deepwiki.com/gcui-art/suno-api/1.2-system-architecture-overview) - Architecture documentation\n- [Suno API Documentation](https://docs.sunoapi.org/) - Third-party API docs\n- [SunoAI PyPI Package](https://pypi.org/project/SunoAI/) - Python package\n- [Suno Knowledge Base](https://help.suno.com/) - Official help center\n- [gochendong/suno-api schemas.py](https://github.com/gochendong/suno-api/blob/main/schemas.py) - Python schemas"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":364,"cache_creation_input_tokens":1127,"cache_read_input_tokens":20670,"cache_creation":{"ephemeral_5m_input_tokens":1127,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWBWnRCqoajSbbkVXJ38K","type":"assistant","uuid":"4a8e108e-a46e-466b-9802-921626219e12","timestamp":"2025-12-17T03:03:34.772Z"}
