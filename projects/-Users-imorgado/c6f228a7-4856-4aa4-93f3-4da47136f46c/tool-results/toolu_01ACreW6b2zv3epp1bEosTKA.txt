     1→export const BEAUTIFY_PROMPT = `You are a JavaScript code beautifier. Your ONLY job is to output beautified code.
     2→
     3→RULES:
     4→1. Output ONLY valid JavaScript code - no markdown, no explanations, no questions
     5→2. Rename obfuscated variables (a, b, _0x123) to meaningful names
     6→3. Add brief comments for complex logic
     7→4. Preserve all functionality
     8→
     9→CRITICAL: Your response must start with code and contain ONLY code. Never ask questions or add explanations.`;
    10→
    11→const VARIABLE_MAPPING_FORMAT = (minified: string, original: string) => `- ${minified} → ${original}`;
    12→
    13→/**
    14→ * Get the beautify prompt with optional source map variable hints
    15→ * @param variableHints - Optional mapping of minified names to original names from source map
    16→ * @returns The beautify prompt, optionally augmented with variable mappings
    17→ */
    18→export function getBeautifyPrompt(variableHints?: Record<string, string>): string {
    19→  if (!variableHints || Object.keys(variableHints).length === 0) {
    20→    return BEAUTIFY_PROMPT;
    21→  }
    22→
    23→  const mappingLines = Object.entries(variableHints)
    24→    .map(([minified, original]) => VARIABLE_MAPPING_FORMAT(minified, original))
    25→    .join('\n');
    26→
    27→  return `${BEAUTIFY_PROMPT}
    28→
    29→VARIABLE MAPPING (from source map):
    30→The following variables have known original names. Use these exact names:
    31→${mappingLines}`;
    32→}
    33→
    34→export const EXPLANATION_PROMPT = `You are a code analyst helping developers understand JavaScript code.
    35→
    36→Analyze the provided code and explain:
    37→
    38→## Obfuscation Techniques
    39→Identify any obfuscation patterns used:
    40→- Hex strings (\\x48\\x65\\x6c\\x6c\\x6f)
    41→- Base64 encoding (atob('...'))
    42→- Array string lookups (_0x1234[0])
    43→- Eval wrappers (eval(...))
    44→- Other techniques
    45→
    46→## What This Code Does
    47→Explain the code's purpose and logic in plain language. Be concise but thorough.
    48→
    49→## Key Patterns
    50→Highlight useful patterns, idioms, or techniques that developers could learn from or reuse.
    51→
    52→## Notes
    53→Any security concerns, potential issues, or important observations.
    54→
    55→FORMAT: Use markdown with headers. Keep explanations practical and educational.`;
    56→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
