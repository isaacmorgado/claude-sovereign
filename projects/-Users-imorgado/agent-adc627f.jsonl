{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":"Find the Claude Code CLI installation and analyze its authentication:\n1. Find where claude-code or claude CLI is installed (which claude, npm global, homebrew, etc.)\n2. Look at its source code or package structure\n3. Find how it makes API requests - what endpoints, what headers\n4. Identify if it uses a different API than the standard Anthropic API\n\nRun `which claude` and explore the installation directory."},"uuid":"54410e53-b4c6-425f-834c-01742aa5f199","timestamp":"2025-12-30T01:37:25.637Z"}
{"parentUuid":"54410e53-b4c6-425f-834c-01742aa5f199","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01QwqnpDfBanVPRo2e6B2jaD","type":"message","role":"assistant","content":[{"type":"text","text":"I'll help you find and analyze the Claude Code CLI installation. Let me start by checking where it's installed and exploring its structure."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":412,"cache_read_input_tokens":19915,"cache_creation":{"ephemeral_5m_input_tokens":412,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWc1sELM7udCitPE49VEx","type":"assistant","uuid":"c082f92f-e583-4a15-94e9-fb4a0c23abf0","timestamp":"2025-12-30T01:37:27.282Z"}
{"parentUuid":"c082f92f-e583-4a15-94e9-fb4a0c23abf0","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01QwqnpDfBanVPRo2e6B2jaD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01TWT7hMYk3U2ph7hTfsjsJU","name":"Bash","input":{"command":"which claude","description":"Find claude CLI installation path"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":412,"cache_read_input_tokens":19915,"cache_creation":{"ephemeral_5m_input_tokens":412,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWc1sELM7udCitPE49VEx","type":"assistant","uuid":"736969e5-cc0f-45a2-beb4-04c7478f24f2","timestamp":"2025-12-30T01:37:27.630Z"}
{"parentUuid":"736969e5-cc0f-45a2-beb4-04c7478f24f2","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01QwqnpDfBanVPRo2e6B2jaD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_015iD7WpGLNEBq6RWtiokaX1","name":"Bash","input":{"command":"npm list -g claude-code 2>/dev/null || npm list -g | grep -i claude","description":"Check for claude-code in global npm packages"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":412,"cache_read_input_tokens":19915,"cache_creation":{"ephemeral_5m_input_tokens":412,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWc1sELM7udCitPE49VEx","type":"assistant","uuid":"7cddcd24-64bd-41ef-81db-90e241ec6052","timestamp":"2025-12-30T01:37:28.301Z"}
{"parentUuid":"7cddcd24-64bd-41ef-81db-90e241ec6052","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01QwqnpDfBanVPRo2e6B2jaD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_016Z8Fka8LKsDJ1Gj2YFMuci","name":"Bash","input":{"command":"brew list | grep -i claude 2>/dev/null || echo \"No homebrew claude packages found\"","description":"Check for claude in homebrew"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":412,"cache_read_input_tokens":19915,"cache_creation":{"ephemeral_5m_input_tokens":412,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWc1sELM7udCitPE49VEx","type":"assistant","uuid":"c9a36dc2-bff1-4642-8032-6960abbe05b9","timestamp":"2025-12-30T01:37:28.511Z"}
{"parentUuid":"c9a36dc2-bff1-4642-8032-6960abbe05b9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TWT7hMYk3U2ph7hTfsjsJU","type":"tool_result","content":"claude: aliased to claude --dangerously-skip-permissions","is_error":false}]},"uuid":"fa86d7d8-f41e-4588-8861-2cff3f6a1701","timestamp":"2025-12-30T01:37:28.630Z","toolUseResult":{"stdout":"claude: aliased to claude --dangerously-skip-permissions","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"fa86d7d8-f41e-4588-8861-2cff3f6a1701","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_015iD7WpGLNEBq6RWtiokaX1","type":"tool_result","content":"/opt/homebrew/lib\n└── (empty)\n\n├── @anthropic-ai/claude-code@2.0.76","is_error":false}]},"uuid":"b99bd6cf-17e3-4faa-9a3f-42a19907e007","timestamp":"2025-12-30T01:37:29.875Z","toolUseResult":{"stdout":"/opt/homebrew/lib\n└── (empty)\n\n├── @anthropic-ai/claude-code@2.0.76","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"b99bd6cf-17e3-4faa-9a3f-42a19907e007","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016Z8Fka8LKsDJ1Gj2YFMuci","type":"tool_result","content":"claude-code","is_error":false}]},"uuid":"efd36074-4b23-4bfd-b8fb-e70937a93aa3","timestamp":"2025-12-30T01:37:30.848Z","toolUseResult":{"stdout":"claude-code","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"efd36074-4b23-4bfd-b8fb-e70937a93aa3","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01JufcWezmxai1G4Jj7PdBy2","type":"message","role":"assistant","content":[{"type":"text","text":"Good! I found it. Claude Code is installed as `@anthropic-ai/claude-code@2.0.76` via npm/homebrew. Let me explore the installation directory structure:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":426,"cache_read_input_tokens":20327,"cache_creation":{"ephemeral_5m_input_tokens":426,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1scRPjLhxhQeDgZmqy","type":"assistant","uuid":"ed0c8aa5-797e-4039-b74a-dbf1daa07d02","timestamp":"2025-12-30T01:37:33.507Z"}
{"parentUuid":"ed0c8aa5-797e-4039-b74a-dbf1daa07d02","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01JufcWezmxai1G4Jj7PdBy2","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011mFugNDaEDFRNFJLaSVMvT","name":"Bash","input":{"command":"ls -la /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/ 2>/dev/null | head -20","description":"List main directory of claude-code installation"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":426,"cache_read_input_tokens":20327,"cache_creation":{"ephemeral_5m_input_tokens":426,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1scRPjLhxhQeDgZmqy","type":"assistant","uuid":"bc15a9d2-0d9d-4049-827a-6a2eb1774dda","timestamp":"2025-12-30T01:37:33.969Z"}
{"parentUuid":"bc15a9d2-0d9d-4049-827a-6a2eb1774dda","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01JufcWezmxai1G4Jj7PdBy2","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01EvzJ8YaD7P7yYQSPWYr55b","name":"Bash","input":{"command":"cat /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/package.json","description":"Read package.json to understand dependencies"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":426,"cache_read_input_tokens":20327,"cache_creation":{"ephemeral_5m_input_tokens":426,"ephemeral_1h_input_tokens":0},"output_tokens":234,"service_tier":"standard"}},"requestId":"req_011CWc1scRPjLhxhQeDgZmqy","type":"assistant","uuid":"8b8dda64-c8cb-45fd-b9e3-f93a5e3c2c16","timestamp":"2025-12-30T01:37:34.129Z"}
{"parentUuid":"8b8dda64-c8cb-45fd-b9e3-f93a5e3c2c16","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011mFugNDaEDFRNFJLaSVMvT","type":"tool_result","content":"total 29664\ndrwxr-xr-x@ 14 root  admin       448 Dec 29 15:49 .\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 ..\n-rw-r--r--@  1 root  admin       139 Dec 29 03:13 .patched\n-rw-r--r--@  1 root  admin       551 Dec 29 02:49 bun.lock\n-rwxr-xr-x@  1 root  admin  11022808 Dec 29 18:21 cli.js\n-rw-r--r--@  1 root  admin       147 Dec 29 02:49 LICENSE.md\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 node_modules\n-rw-r--r--@  1 root  admin      1200 Dec 29 02:49 package.json\n-rw-r--r--@  1 root  admin      1986 Dec 29 02:49 README.md\n-rw-r--r--@  1 root  admin   2478606 Dec 29 02:49 resvg.wasm\n-rw-r--r--@  1 root  admin     64888 Dec 29 02:49 sdk-tools.d.ts\n-rw-r--r--@  1 root  admin   1380769 Dec 29 02:49 tree-sitter-bash.wasm\n-rwxr-xr-x@  1 root  admin    205498 Dec 29 02:49 tree-sitter.wasm\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 vendor","is_error":false}]},"uuid":"afd3c8e1-740a-442e-a829-a89d78f1a83d","timestamp":"2025-12-30T01:37:34.228Z","toolUseResult":{"stdout":"total 29664\ndrwxr-xr-x@ 14 root  admin       448 Dec 29 15:49 .\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 ..\n-rw-r--r--@  1 root  admin       139 Dec 29 03:13 .patched\n-rw-r--r--@  1 root  admin       551 Dec 29 02:49 bun.lock\n-rwxr-xr-x@  1 root  admin  11022808 Dec 29 18:21 cli.js\n-rw-r--r--@  1 root  admin       147 Dec 29 02:49 LICENSE.md\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 node_modules\n-rw-r--r--@  1 root  admin      1200 Dec 29 02:49 package.json\n-rw-r--r--@  1 root  admin      1986 Dec 29 02:49 README.md\n-rw-r--r--@  1 root  admin   2478606 Dec 29 02:49 resvg.wasm\n-rw-r--r--@  1 root  admin     64888 Dec 29 02:49 sdk-tools.d.ts\n-rw-r--r--@  1 root  admin   1380769 Dec 29 02:49 tree-sitter-bash.wasm\n-rwxr-xr-x@  1 root  admin    205498 Dec 29 02:49 tree-sitter.wasm\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 vendor","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"afd3c8e1-740a-442e-a829-a89d78f1a83d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01EvzJ8YaD7P7yYQSPWYr55b","type":"tool_result","content":"{\n  \"name\": \"@anthropic-ai/claude-code\",\n  \"version\": \"2.0.76\",\n  \"bin\": {\n    \"claude\": \"cli.js\"\n  },\n  \"engines\": {\n    \"node\": \">=18.0.0\"\n  },\n  \"type\": \"module\",\n  \"author\": \"Anthropic <support@anthropic.com>\",\n  \"license\": \"SEE LICENSE IN README.md\",\n  \"description\": \"Use Claude, Anthropic's AI assistant, right from your terminal. Claude can understand your codebase, edit files, run terminal commands, and handle entire workflows for you.\",\n  \"homepage\": \"https://github.com/anthropics/claude-code\",\n  \"bugs\": {\n    \"url\": \"https://github.com/anthropics/claude-code/issues\"\n  },\n  \"scripts\": {\n    \"prepare\": \"node -e \\\"if (!process.env.AUTHORIZED) { console.error('ERROR: Direct publishing is not allowed.\\\\nPlease see the release workflow documentation to publish this package.'); process.exit(1); }\\\"\"\n  },\n  \"dependencies\": {},\n  \"optionalDependencies\": {\n    \"@img/sharp-darwin-arm64\": \"^0.33.5\",\n    \"@img/sharp-darwin-x64\": \"^0.33.5\",\n    \"@img/sharp-linux-arm\": \"^0.33.5\",\n    \"@img/sharp-linux-arm64\": \"^0.33.5\",\n    \"@img/sharp-linux-x64\": \"^0.33.5\",\n    \"@img/sharp-linuxmusl-arm64\": \"^0.33.5\",\n    \"@img/sharp-linuxmusl-x64\": \"^0.33.5\",\n    \"@img/sharp-win32-x64\": \"^0.33.5\"\n  }\n}","is_error":false}]},"uuid":"8e33aa78-808f-48f6-85f4-8e4ae6b5c4f5","timestamp":"2025-12-30T01:37:34.303Z","toolUseResult":{"stdout":"{\n  \"name\": \"@anthropic-ai/claude-code\",\n  \"version\": \"2.0.76\",\n  \"bin\": {\n    \"claude\": \"cli.js\"\n  },\n  \"engines\": {\n    \"node\": \">=18.0.0\"\n  },\n  \"type\": \"module\",\n  \"author\": \"Anthropic <support@anthropic.com>\",\n  \"license\": \"SEE LICENSE IN README.md\",\n  \"description\": \"Use Claude, Anthropic's AI assistant, right from your terminal. Claude can understand your codebase, edit files, run terminal commands, and handle entire workflows for you.\",\n  \"homepage\": \"https://github.com/anthropics/claude-code\",\n  \"bugs\": {\n    \"url\": \"https://github.com/anthropics/claude-code/issues\"\n  },\n  \"scripts\": {\n    \"prepare\": \"node -e \\\"if (!process.env.AUTHORIZED) { console.error('ERROR: Direct publishing is not allowed.\\\\nPlease see the release workflow documentation to publish this package.'); process.exit(1); }\\\"\"\n  },\n  \"dependencies\": {},\n  \"optionalDependencies\": {\n    \"@img/sharp-darwin-arm64\": \"^0.33.5\",\n    \"@img/sharp-darwin-x64\": \"^0.33.5\",\n    \"@img/sharp-linux-arm\": \"^0.33.5\",\n    \"@img/sharp-linux-arm64\": \"^0.33.5\",\n    \"@img/sharp-linux-x64\": \"^0.33.5\",\n    \"@img/sharp-linuxmusl-arm64\": \"^0.33.5\",\n    \"@img/sharp-linuxmusl-x64\": \"^0.33.5\",\n    \"@img/sharp-win32-x64\": \"^0.33.5\"\n  }\n}","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"8e33aa78-808f-48f6-85f4-8e4ae6b5c4f5","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01R4fgP1u298UMa47dFkRUWr","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me examine the main CLI file to understand how it handles authentication and API requests:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":1338,"cache_read_input_tokens":20753,"cache_creation":{"ephemeral_5m_input_tokens":1338,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1ssEdH2rfZjWoeFH1J","type":"assistant","uuid":"ef604d90-0711-4028-a39a-de3494e92c2d","timestamp":"2025-12-30T01:37:36.388Z"}
{"parentUuid":"ef604d90-0711-4028-a39a-de3494e92c2d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01R4fgP1u298UMa47dFkRUWr","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_012sCysEgbt9eEGv6nSYJJLh","name":"Bash","input":{"command":"file /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js","description":"Check file type of cli.js"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":1338,"cache_read_input_tokens":20753,"cache_creation":{"ephemeral_5m_input_tokens":1338,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1ssEdH2rfZjWoeFH1J","type":"assistant","uuid":"4d00b9c5-6b71-40f3-a6bb-c096a56f8f2c","timestamp":"2025-12-30T01:37:36.991Z"}
{"parentUuid":"4d00b9c5-6b71-40f3-a6bb-c096a56f8f2c","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01R4fgP1u298UMa47dFkRUWr","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01BMnq9K82zyygeG1LFM7Bva","name":"Bash","input":{"command":"head -100 /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js","description":"Read first 100 lines of cli.js"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":1338,"cache_read_input_tokens":20753,"cache_creation":{"ephemeral_5m_input_tokens":1338,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1ssEdH2rfZjWoeFH1J","type":"assistant","uuid":"04bcec1c-e47a-464d-90b2-670eeb63831d","timestamp":"2025-12-30T01:37:37.188Z"}
{"parentUuid":"04bcec1c-e47a-464d-90b2-670eeb63831d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01BMnq9K82zyygeG1LFM7Bva","type":"tool_result","content":"#!/usr/bin/env node\n\n\n\n\n\n\n\n// (c) Anthropic PBC. All rights reserved. Use is subject to the Legal Agreements outlined here: https://code.claude.com/docs/en/legal-and-compliance.\n\n// Version: 2.0.76\n\n// Want to see the unminified source? We're hiring!\n// https://job-boards.greenhouse.io/anthropic/jobs/4816199008\nimport{createRequire as Ez9}from\"node:module\";var Vz9=Object.create;var{getPrototypeOf:Hz9,defineProperty:CF1,getOwnPropertyNames:Dz9}=Object;var Fz9=Object.prototype.hasOwnProperty;var l=(A,Q,B)=>{B=A!=null?Vz9(Hz9(A)):{};let G=Q||!A||!A.__esModule?CF1(B,\"default\",{value:A,enumerable:!0}):B;for(let Z of Dz9(A))if(!Fz9.call(G,Z))CF1(G,Z,{get:()=>A[Z],enumerable:!0});return G};var U=(A,Q)=>()=>(Q||A((Q={exports:{}}).exports,Q),Q.exports);var M5=(A,Q)=>{for(var B in Q)CF1(A,B,{get:Q[B],enumerable:!0,configurable:!0,set:(G)=>Q[B]=()=>G})};var O=(A,Q)=>()=>(A&&(Q=A(A=0)),Q);var LA=Ez9(import.meta.url);var zz9,cfA;var $F1=O(()=>{zz9=typeof global==\"object\"&&global&&global.Object===Object&&global,cfA=zz9});var Cz9,$z9,ZK;var Yj=O(()=>{$F1();Cz9=typeof self==\"object\"&&self&&self.Object===Object&&self,$z9=cfA||Cz9||Function(\"return this\")(),ZK=$z9});var Uz9,zH;var xt=O(()=>{Yj();Uz9=ZK.Symbol,zH=Uz9});function Nz9(A){var Q=wz9.call(A,DEA),B=A[DEA];try{A[DEA]=void 0;var G=!0}catch(Y){}var Z=qz9.call(A);if(G)if(Q)A[DEA]=B;else delete A[DEA];return Z}var mR0,wz9,qz9,DEA,dR0;var pR0=O(()=>{xt();mR0=Object.prototype,wz9=mR0.hasOwnProperty,qz9=mR0.toString,DEA=zH?zH.toStringTag:void 0;dR0=Nz9});function Mz9(A){return Oz9.call(A)}var Lz9,Oz9,cR0;var lR0=O(()=>{Lz9=Object.prototype,Oz9=Lz9.toString;cR0=Mz9});function jz9(A){if(A==null)return A===void 0?_z9:Rz9;return iR0&&iR0 in Object(A)?dR0(A):cR0(A)}var Rz9=\"[object Null]\",_z9=\"[object Undefined]\",iR0,hq;var yt=O(()=>{xt();pR0();lR0();iR0=zH?zH.toStringTag:void 0;hq=jz9});function Tz9(A){var Q=typeof A;return A!=null&&(Q==\"object\"||Q==\"function\")}var KX;var UO=O(()=>{KX=Tz9});function vz9(A){if(!KX(A))return!1;var Q=hq(A);return Q==Sz9||Q==xz9||Q==Pz9||Q==yz9}var Pz9=\"[object AsyncFunction]\",Sz9=\"[object Function]\",xz9=\"[object GeneratorFunction]\",yz9=\"[object Proxy]\",A8A;var lfA=O(()=>{yt();UO();A8A=vz9});var kz9,ifA;var nR0=O(()=>{Yj();kz9=ZK[\"__core-js_shared__\"],ifA=kz9});function bz9(A){return!!aR0&&aR0 in A}var aR0,oR0;var rR0=O(()=>{nR0();aR0=function(){var A=/[^.]+$/.exec(ifA&&ifA.keys&&ifA.keys.IE_PROTO||\"\");return A?\"Symbol(src)_1.\"+A:\"\"}();oR0=bz9});function gz9(A){if(A!=null){try{return hz9.call(A)}catch(Q){}try{return A+\"\"}catch(Q){}}return\"\"}var fz9,hz9,bf;var UF1=O(()=>{fz9=Function.prototype,hz9=fz9.toString;bf=gz9});function nz9(A){if(!KX(A)||oR0(A))return!1;var Q=A8A(A)?iz9:mz9;return Q.test(bf(A))}var uz9,mz9,dz9,pz9,cz9,lz9,iz9,sR0;var tR0=O(()=>{lfA();rR0();UO();UF1();uz9=/[\\\\^$.*+?()[\\]{}|]/g,mz9=/^\\[object .+?Constructor\\]$/,dz9=Function.prototype,pz9=Object.prototype,cz9=dz9.toString,lz9=pz9.hasOwnProperty,iz9=RegExp(\"^\"+cz9.call(lz9).replace(uz9,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");sR0=nz9});function az9(A,Q){return A==null?void 0:A[Q]}var eR0;var A_0=O(()=>{eR0=az9});function oz9(A,Q){var B=eR0(A,Q);return sR0(B)?B:void 0}var XU;var dp=O(()=>{tR0();A_0();XU=oz9});var rz9,ff;var FEA=O(()=>{dp();rz9=XU(Object,\"create\"),ff=rz9});function sz9(){this.__data__=ff?ff(null):{},this.size=0}var Q_0;var B_0=O(()=>{FEA();Q_0=sz9});function tz9(A){var Q=this.has(A)&&delete this.__data__[A];return this.size-=Q?1:0,Q}var G_0;var Z_0=O(()=>{G_0=tz9});function BC9(A){var Q=this.__data__;if(ff){var B=Q[A];return B===ez9?void 0:B}return QC9.call(Q,A)?Q[A]:void 0}var ez9=\"__lodash_hash_undefined__\",AC9,QC9,Y_0;var J_0=O(()=>{FEA();AC9=Object.prototype,QC9=AC9.hasOwnProperty;Y_0=BC9});function YC9(A){var Q=this.__data__;return ff?Q[A]!==void 0:ZC9.call(Q,A)}var GC9,ZC9,X_0;var I_0=O(()=>{FEA();GC9=Object.prototype,ZC9=GC9.hasOwnProperty;X_0=YC9});function XC9(A,Q){var B=this.__data__;return this.size+=this.has(A)?0:1,B[A]=ff&&Q===void 0?JC9:Q,this}var JC9=\"__lodash_hash_undefined__\",W_0;var K_0=O(()=>{FEA();W_0=XC9});function Q8A(A){var Q=-1,B=A==null?0:A.length;this.clear();while(++Q<B){var G=A[Q];this.set(G[0],G[1])}}var wF1;var V_0=O(()=>{B_0();Z_0();J_0();I_0();K_0();Q8A.prototype.clear=Q_0;Q8A.prototype.delete=G_0;Q8A.prototype.get=Y_0;Q8A.prototype.has=X_0;Q8A.prototype.set=W_0;wF1=Q8A});function IC9(){this.__data__=[],this.size=0}var H_0;var D_0=O(()=>{H_0=IC9});function WC9(A,Q){return A===Q||A!==A&&Q!==Q}var Fx;var B8A=O(()=>{Fx=WC9});function KC9(A,Q){var B=A.length;while(B--)if(Fx(A[B][0],Q))return B;return-1}var pp;var EEA=O(()=>{B8A();pp=KC9});function DC9(A){var Q=this.__data__,B=pp(Q,A);if(B<0)return!1;var G=Q.length-1;if(B==G)Q.pop();else HC9.call(Q,B,1);return--this.size,!0}var VC9,HC9,F_0;var E_0=O(()=>{EEA();VC9=Array.prototype,HC9=VC9.splice;F_0=DC9});function FC9(A){var Q=this.__data__,B=pp(Q,A);return B<0?void 0:Q[B][1]}var z_0;var C_0=O(()=>{EEA();z_0=FC9});function EC9(A){return pp(this.__data__,A)>-1}var $_0;var U_0=O(()=>{EEA();$_0=EC9});function zC9(A,Q){var B=this.__data__,G=pp(B,A);if(G<0)++this.size,B.push([A,Q]);else B[G][1]=Q;return this}var w_0;var q_0=O(()=>{EEA();w_0=zC9});function G8A(A){var Q=-1,B=A==null?0:A.length;this.clear();while(++Q<B){var G=A[Q];this.set(G[0],G[1])}}var cp;var zEA=O(()=>{D_0();E_0();C_0();U_0();q_0();G8A.prototype.clear=H_0;G8A.prototype.delete=F_0;G8A.prototype.get=z_0;G8A.prototype.has=$_0;G8A.prototype.set=w_0;cp=G8A});var CC9,lp;var nfA=O(()=>{dp();Yj();CC9=XU(ZK,\"Map\"),lp=CC9});function $C9(){this.size=0,this.__data__={hash:new wF1,map:new(lp||cp),string:new wF1}}var N_0;var L_0=O(()=>{V_0();zEA();nfA();N_0=$C9});function UC9(A){var Q=typeof A;return Q==\"string\"||Q==\"number\"||Q==\"symbol\"||Q==\"boolean\"?A!==\"__proto__\":A===null}var O_0;var M_0=O(()=>{O_0=UC9});function wC9(A,Q){var B=A.__data__;return O_0(Q)?B[typeof Q==\"string\"?\"string\":\"hash\"]:B.map}var ip;var CEA=O(()=>{M_0();ip=wC9});function qC9(A){var Q=ip(this,A).delete(A);return this.size-=Q?1:0,Q}var R_0;var __0=O(()=>{CEA();R_0=qC9});function NC9(A){return ip(this,A).get(A)}var j_0;var T_0=O(()=>{CEA();j_0=NC9});function LC9(A){return ip(this,A).has(A)}var P_0;var S_0=O(()=>{CEA();P_0=LC9});function OC9(A,Q){var B=ip(this,A),G=B.size;return B.set(A,Q),this.size+=B.size==G?0:1,this}var x_0;var y_0=O(()=>{CEA();x_0=OC9});function Z8A(A){var Q=-1,B=A==null?0:A.length;this.clear();while(++Q<B){var G=A[Q];this.set(G[0],G[1])}}var vt;var afA=O(()=>{L_0();__0();T_0();S_0();y_0();Z8A.prototype.clear=N_0;Z8A.prototype.delete=R_0;Z8A.prototype.get=j_0;Z8A.prototype.has=P_0;Z8A.prototype.set=x_0;vt=Z8A});function qF1(A,Q){if(typeof A!=\"function\"||Q!=null&&typeof Q!=\"function\")throw TypeError(MC9);var B=function(){var G=arguments,Z=Q?Q.apply(this,G):G[0],Y=B.cache;if(Y.has(Z))return Y.get(Z);var J=A.apply(this,G);return B.cache=Y.set(Z,J)||Y,J};return B.cache=new(qF1.Cache||vt),B}var MC9=\"Expected a function\",W0;var e2=O(()=>{afA();qF1.Cache=vt;W0=qF1});function h9(A){for(let Q=0;Q<A.length;Q+=2000)process.stdout.write(A.substring(Q,Q+2000))}function hf(A){for(let Q=0;Q<A.length;Q+=2000)process.stderr.write(A.substring(Q,Q+2000))}function RC9(A){let Q=[],B=A.match(/^MCP server [\"']([^\"']+)[\"']/);if(B&&B[1])Q.push(\"mcp\"),Q.push(B[1].toLowerCase());else{let Y=A.match(/^([^:[]+):/);if(Y&&Y[1])Q.push(Y[1].trim().toLowerCase())}let G=A.match(/^\\[([^\\]]+)]/);if(G&&G[1])Q.push(G[1].trim().toLowerCase());if(A.toLowerCase().includes(\"statsig event:\"))Q.push(\"statsig\");let Z=A.match(/:\\s*([^:]+?)(?:\\s+(?:type|mode|status|event))?:/);if(Z&&Z[1]){let Y=Z[1].trim().toLowerCase();if(Y.length<30&&!Y.includes(\" \"))Q.push(Y)}return Array.from(new Set(Q))}function _C9(A,Q){if(!Q)return!0;if(A.length===0)return!1;if(Q.isExclusive)return!A.some((B)=>Q.exclude.includes(B));else return A.some((B)=>Q.include.includes(B))}function k_0(A,Q){if(!Q)return!0;let B=RC9(A);return _C9(B,Q)}var v_0;var b_0=O(()=>{e2();v_0=W0((A)=>{if(!A||A.trim()===\"\")return null;let Q=A.split(\",\").map((Y)=>Y.trim()).filter(Boolean);if(Q.length===0)return null;let B=Q.some((Y)=>Y.startsWith(\"!\")),G=Q.some((Y)=>!Y.startsWith(\"!\"));if(B&&G)return null;let Z=Q.map((Y)=>Y.replace(/^!/,\"\").toLowerCase());return{include:B?[]:Z,exclude:B?Z:[],isExclusive:B}})});import*as l9 from\"fs\";import{stat as jC9,open as TC9}from\"fs/promises\";function oI(A,Q){let B=performance.now();try{return Q()}finally{let G=performance.now()-B;if(G>PC9)k(`[SLOW OPERATION DETECTED] fs.${A} (${G.toFixed(1)}ms)`)}}function eX(A,Q){if(!A.existsSync(Q))return{resolvedPath:Q,isSymlink:!1};try{let B=A.realpathSync(Q);return{resolvedPath:B,isSymlink:B!==Q}}catch(B){return{resolvedPath:Q,isSymlink:!1}}}function Ex(A,Q,B){let{resolvedPath:G}=eX(A,Q);if(B.has(G))return!0;return B.add(G),!1}function kt(A){let Q=[],B=jA();Q.push(A);let{resolvedPath:G,isSymlink:Z}=eX(B,A);if(Z&&G!==A)Q.push(G);return Q}function jA(){return xC9}async function*f_0(A){let B=await TC9(A,\"r\");try{let Z=(await B.stat()).size,Y=\"\",J=Buffer.alloc(4096);while(Z>0){let X=Math.min(4096,Z);Z-=X,await B.read(J,0,X,Z);let W=(J.toString(\"utf8\",0,X)+Y).split(`\n`);Y=W[0]||\"\";for(let K=W.length-1;K>=1;K--){let V=W[K];if(V)yield V}}if(Y)yield Y}finally{await B.close()}}var PC9=5,SC9,xC9;var HQ=O(()=>{Q0();SC9={cwd(){return process.cwd()},existsSync(A){return oI(\"existsSync\",()=>l9.existsSync(A))},async stat(A){return jC9(A)},statSync(A){return oI(\"statSync\",()=>l9.statSync(A))},lstatSync(A){return oI(\"lstatSync\",()=>l9.lstatSync(A))},readFileSync(A,Q){return oI(\"readFileSync\",()=>l9.readFileSync(A,{encoding:Q.encoding}))},readFileBytesSync(A){return oI(\"readFileBytesSync\",()=>l9.readFileSync(A))},readSync(A,Q){return oI(\"readSync\",()=>{let B=void 0;try{B=l9.openSync(A,\"r\");let G=Buffer.alloc(Q.length),Z=l9.readSync(B,G,0,Q.length,0);return{buffer:G,bytesRead:Z}}finally{if(B)l9.closeSync(B)}})},writeFileSync(A,Q,B){return oI(\"writeFileSync\",()=>{let G=l9.existsSync(A);if(!B.flush){let Y={encoding:B.encoding};if(!G)Y.mode=B.mode??384;else if(B.mode!==void 0)Y.mode=B.mode;l9.writeFileSync(A,Q,Y);return}let Z;try{let Y=!G?B.mode??384:B.mode;Z=l9.openSync(A,\"w\",Y),l9.writeFileSync(Z,Q,{encoding:B.encoding}),l9.fsyncSync(Z)}finally{if(Z)l9.closeSync(Z)}})},appendFileSync(A,Q,B){return oI(\"appendFileSync\",()=>{if(!l9.existsSync(A)){let G=B?.mode??384,Z=l9.openSync(A,\"a\",G);try{l9.appendFileSync(Z,Q)}finally{l9.closeSync(Z)}}else l9.appendFileSync(A,Q)})},copyFileSync(A,Q){return oI(\"copyFileSync\",()=>l9.copyFileSync(A,Q))},unlinkSync(A){return oI(\"unlinkSync\",()=>l9.unlinkSync(A))},renameSync(A,Q){return oI(\"renameSync\",()=>l9.renameSync(A,Q))},linkSync(A,Q){return oI(\"linkSync\",()=>l9.linkSync(A,Q))},symlinkSync(A,Q){return oI(\"symlinkSync\",()=>l9.symlinkSync(A,Q))},readlinkSync(A){return oI(\"readlinkSync\",()=>l9.readlinkSync(A))},realpathSync(A){return oI(\"realpathSync\",()=>l9.realpathSync(A))},mkdirSync(A){return oI(\"mkdirSync\",()=>{if(!l9.existsSync(A))l9.mkdirSync(A,{recursive:!0,mode:448})})},readdirSync(A){return oI(\"readdirSync\",()=>l9.readdirSync(A,{withFileTypes:!0}))},readdirStringSync(A){return oI(\"readdirStringSync\",()=>l9.readdirSync(A))},isDirEmptySync(A){return oI(\"isDirEmptySync\",()=>{return this.readdirSync(A).length===0})},rmdirSync(A){return oI(\"rmdirSync\",()=>l9.rmdirSync(A))},rmSync(A,Q){return oI(\"rmSync\",()=>l9.rmSync(A,Q))},createWriteStream(A){return l9.createWriteStream(A)}},xC9=SC9});import{join as yC9}from\"path\";import{homedir as vC9}from\"os\";function vQ(){return process.env.CLAUDE_CONFIG_DIR??yC9(vC9(),\".claude\")}function F0(A){if(!A)return!1;if(typeof A===\"boolean\")return A;let Q=A.toLowerCase().trim();return[\"1\",\"true\",\"yes\",\"on\"].includes(Q)}function AI(A){if(A===void 0)return!1;if(typeof A===\"boolean\")return!A;if(!A)return!1;let Q=A.toLowerCase().trim();return[\"0\",\"false\",\"no\",\"off\"].includes(Q)}function h_0(A){let Q={};if(A)for(let B of A){let[G,...Z]=B.split(\"=\");if(!G||Z.length===0)throw Error(`Invalid environment variable format: ${B}, environment variables should be added as: -e KEY1=value1 -e KEY2=value2`);Q[G]=Z.join(\"=\")}return Q}function bt(){return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION||\"us-east-1\"}function Jj(){return process.env.CLOUD_ML_REGION||\"us-east5\"}function NF1(){return F0(process.env.CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR)}function ofA(A){if(A?.startsWith(\"claude-haiku-4-5\"))return process.env.VERTEX_REGION_CLAUDE_HAIKU_4_5||Jj();if(A?.startsWith(\"claude-3-5-haiku\"))return process.env.VERTEX_REGION_CLAUDE_3_5_HAIKU||Jj();if(A?.startsWith(\"claude-3-5-sonnet\"))return process.env.VERTEX_REGION_CLAUDE_3_5_SONNET||Jj();if(A?.startsWith(\"claude-3-7-sonnet\"))return process.env.VERTEX_REGION_CLAUDE_3_7_SONNET||Jj();if(A?.startsWith(\"claude-opus-4-1\"))return process.env.VERTEX_REGION_CLAUDE_4_1_OPUS||Jj();if(A?.startsWith(\"claude-opus-4\"))return process.env.VERTEX_REGION_CLAUDE_4_0_OPUS||Jj();if(A?.startsWith(\"claude-sonnet-4-5\"))return process.env.VERTEX_REGION_CLAUDE_4_5_SONNET||Jj();if(A?.startsWith(\"claude-sonnet-4\"))return process.env.VERTEX_REGION_CLAUDE_4_0_SONNET||Jj();return Jj()}var AB=()=>{};function kC9(){this.__data__=new cp,this.size=0}var g_0;var u_0=O(()=>{zEA();g_0=kC9});function bC9(A){var Q=this.__data__,B=Q.delete(A);return this.size=Q.size,B}var m_0;var d_0=O(()=>{m_0=bC9});function fC9(A){return this.__data__.get(A)}var p_0;var c_0=O(()=>{p_0=fC9});function hC9(A){return this.__data__.has(A)}var l_0;var i_0=O(()=>{l_0=hC9});function uC9(A,Q){var B=this.__data__;if(B instanceof cp){var G=B.__data__;if(!lp||G.length<gC9-1)return G.push([A,Q]),this.size=++B.size,this;B=this.__data__=new vt(G)}return B.set(A,Q),this.size=B.size,this}var gC9=200,n_0;var a_0=O(()=>{zEA();nfA();afA();n_0=uC9});function Y8A(A){var Q=this.__data__=new cp(A);this.size=Q.size}var zx;var $EA=O(()=>{zEA();u_0();d_0();c_0();i_0();a_0();Y8A.prototype.clear=g_0;Y8A.prototype.delete=m_0;Y8A.prototype.get=p_0;Y8A.prototype.has=l_0;Y8A.prototype.set=n_0;zx=Y8A});function dC9(A){return this.__data__.set(A,mC9),this}var mC9=\"__lodash_hash_undefined__\",o_0;var r_0=O(()=>{o_0=dC9});function pC9(A){return this.__data__.has(A)}var s_0;var t_0=O(()=>{s_0=pC9});function rfA(A){var Q=-1,B=A==null?0:A.length;this.__data__=new vt;while(++Q<B)this.add(A[Q])}var sfA;var LF1=O(()=>{afA();r_0();t_0();rfA.prototype.add=rfA.prototype.push=o_0;rfA.prototype.has=s_0;sfA=rfA});function cC9(A,Q){var B=-1,G=A==null?0:A.length;while(++B<G)if(Q(A[B],B,A))return!0;return!1}var e_0;var Aj0=O(()=>{e_0=cC9});function lC9(A,Q){return A.has(Q)}var tfA;var OF1=O(()=>{tfA=lC9});function aC9(A,Q,B,G,Z,Y){var J=B&iC9,X=A.length,I=Q.length;if(X!=I&&!(J&&I>X))return!1;var W=Y.get(A),K=Y.get(Q);if(W&&K)return W==Q&&K==A;var V=-1,H=!0,D=B&nC9?new sfA:void 0;Y.set(A,Q),Y.set(Q,A);while(++V<X){var F=A[V],E=Q[V];if(G)var z=J?G(E,F,V,Q,A,Y):G(F,E,V,A,Q,Y);if(z!==void 0){if(z)continue;H=!1;break}if(D){if(!e_0(Q,function($,L){if(!tfA(D,L)&&(F===$||Z(F,$,B,G,Y)))return D.push(L)})){H=!1;break}}else if(!(F===E||Z(F,E,B,G,Y))){H=!1;break}}return Y.delete(A),Y.delete(Q),H}var iC9=1,nC9=2,efA;var MF1=O(()=>{LF1();Aj0();OF1();efA=aC9});var oC9,J8A;var RF1=O(()=>{Yj();oC9=ZK.Uint8Array,J8A=oC9});function rC9(A){var Q=-1,B=Array(A.size);return A.forEach(function(G,Z){B[++Q]=[Z,G]}),B}var Qj0;var Bj0=O(()=>{Qj0=rC9});function sC9(A){var Q=-1,B=Array(A.size);return A.forEach(function(G){B[++Q]=G}),B}var X8A;var AhA=O(()=>{X8A=sC9});function V$9(A,Q,B,G,Z,Y,J){switch(B){case K$9:if(A.byteLength!=Q.byteLength||A.byteOffset!=Q.byteOffset)return!1;A=A.buffer,Q=Q.buffer;case W$9:if(A.byteLength!=Q.byteLength||!Y(new J8A(A),new J8A(Q)))return!1;return!0;case A$9:case Q$9:case Z$9:return Fx(+A,+Q);case B$9:return A.name==Q.name&&A.message==Q.message;case Y$9:case X$9:return A==Q+\"\";case G$9:var X=Qj0;case J$9:var I=G&tC9;if(X||(X=X8A),A.size!=Q.size&&!I)return!1;var W=J.get(A);if(W)return W==Q;G|=eC9,J.set(A,Q);var K=efA(X(A),X(Q),G,Z,Y,J);return J.delete(A),K;case I$9:if(_F1)return _F1.call(A)==_F1.call(Q)}return!1}var tC9=1,eC9=2,A$9=\"[object Boolean]\",Q$9=\"[object Date]\",B$9=\"[object Error]\",G$9=\"[object Map]\",Z$9=\"[object Number]\",Y$9=\"[object RegExp]\",J$9=\"[object Set]\",X$9=\"[object String]\",I$9=\"[object Symbol]\",W$9=\"[object ArrayBuffer]\",K$9=\"[object DataView]\",Gj0,_F1,Zj0;var Yj0=O(()=>{xt();RF1();B8A();MF1();Bj0();AhA();Gj0=zH?zH.prototype:void 0,_F1=Gj0?Gj0.valueOf:void 0;Zj0=V$9});function H$9(A,Q){var B=-1,G=Q.length,Z=A.length;while(++B<G)A[Z+B]=Q[B];return A}var I8A;var QhA=O(()=>{I8A=H$9});var D$9,HG;var IC=O(()=>{D$9=Array.isArray,HG=D$9});function F$9(A,Q,B){var G=Q(A);return HG(A)?G:I8A(G,B(A))}var BhA;var jF1=O(()=>{QhA();IC();BhA=F$9});function E$9(A,Q){var B=-1,G=A==null?0:A.length,Z=0,Y=[];while(++B<G){var J=A[B];if(Q(J,B,A))Y[Z++]=J}return Y}var GhA;var TF1=O(()=>{GhA=E$9});function z$9(){return[]}var ZhA;var PF1=O(()=>{ZhA=z$9});var C$9,$$9,Jj0,U$9,W8A;var YhA=O(()=>{TF1();PF1();C$9=Object.prototype,$$9=C$9.propertyIsEnumerable,Jj0=Object.getOwnPropertySymbols,U$9=!Jj0?ZhA:function(A){if(A==null)return[];return A=Object(A),GhA(Jj0(A),function(Q){return $$9.call(A,Q)})},W8A=U$9});function w$9(A,Q){var B=-1,G=Array(A);while(++B<A)G[B]=Q(B);return G}var Xj0;var Ij0=O(()=>{Xj0=w$9});function q$9(A){return A!=null&&typeof A==\"object\"}var HV;var Cx=O(()=>{HV=q$9});function L$9(A){return HV(A)&&hq(A)==N$9}var N$9=\"[object Arguments]\",SF1;var Wj0=O(()=>{yt();Cx();SF1=L$9});var Kj0,O$9,M$9,R$9,gf;var UEA=O(()=>{Wj0();Cx();Kj0=Object.prototype,O$9=Kj0.hasOwnProperty,M$9=Kj0.propertyIsEnumerable,R$9=SF1(function(){return arguments}())?SF1:function(A){return HV(A)&&O$9.call(A,\"callee\")&&!M$9.call(A,\"callee\")},gf=R$9});function _$9(){return!1}var Vj0;var Hj0=O(()=>{Vj0=_$9});var XhA={};M5(XhA,{default:()=>$x});var Ej0,Dj0,j$9,Fj0,T$9,P$9,$x;var wEA=O(()=>{Yj();Hj0();Ej0=typeof XhA==\"object\"&&XhA&&!XhA.nodeType&&XhA,Dj0=Ej0&&typeof JhA==\"object\"&&JhA&&!JhA.nodeType&&JhA,j$9=Dj0&&Dj0.exports===Ej0,Fj0=j$9?ZK.Buffer:void 0,T$9=Fj0?Fj0.isBuffer:void 0,P$9=T$9||Vj0,$x=P$9});function y$9(A,Q){var B=typeof A;return Q=Q==null?S$9:Q,!!Q&&(B==\"number\"||B!=\"symbol\"&&x$9.test(A))&&(A>-1&&A%1==0&&A<Q)}var S$9=9007199254740991,x$9,np;var qEA=O(()=>{x$9=/^(?:0|[1-9]\\d*)$/;np=y$9});function k$9(A){return typeof A==\"number\"&&A>-1&&A%1==0&&A<=v$9}var v$9=9007199254740991,K8A;var IhA=O(()=>{K8A=k$9});function JU9(A){return HV(A)&&K8A(A.length)&&!!dY[hq(A)]}var b$9=\"[object Arguments]\",f$9=\"[object Array]\",h$9=\"[object Boolean]\",g$9=\"[object Date]\",u$9=\"[object Error]\",m$9=\"[object Function]\",d$9=\"[object Map]\",p$9=\"[object Number]\",c$9=\"[object Object]\",l$9=\"[object RegExp]\",i$9=\"[object Set]\",n$9=\"[object String]\",a$9=\"[object WeakMap]\",o$9=\"[object ArrayBuffer]\",r$9=\"[object DataView]\",s$9=\"[object Float32Array]\",t$9=\"[object Float64Array]\",e$9=\"[object Int8Array]\",AU9=\"[object Int16Array]\",QU9=\"[object Int32Array]\",BU9=\"[object Uint8Array]\",GU9=\"[object Uint8ClampedArray]\",ZU9=\"[object Uint16Array]\",YU9=\"[object Uint32Array]\",dY,zj0;var Cj0=O(()=>{yt();IhA();Cx();dY={};dY[s$9]=dY[t$9]=dY[e$9]=dY[AU9]=dY[QU9]=dY[BU9]=dY[GU9]=dY[ZU9]=dY[YU9]=!0;dY[b$9]=dY[f$9]=dY[o$9]=dY[h$9]=dY[r$9]=dY[g$9]=dY[u$9]=dY[m$9]=dY[d$9]=dY[p$9]=dY[c$9]=dY[l$9]=dY[i$9]=dY[n$9]=dY[a$9]=!1;zj0=JU9});function XU9(A){return function(Q){return A(Q)}}var V8A;var WhA=O(()=>{V8A=XU9});var VhA={};M5(VhA,{default:()=>Ux});var $j0,NEA,IU9,xF1,WU9,Ux;var HhA=O(()=>{$F1();$j0=typeof VhA==\"object\"&&VhA&&!VhA.nodeType&&VhA,NEA=$j0&&typeof KhA==\"object\"&&KhA&&!KhA.nodeType&&KhA,IU9=NEA&&NEA.exports===$j0,xF1=IU9&&cfA.process,WU9=function(){try{var A=NEA&&NEA.require&&NEA.require(\"util\").types;if(A)return A;return xF1&&xF1.binding&&xF1.binding(\"util\")}catch(Q){}}(),Ux=WU9});var Uj0,KU9,H8A;var DhA=O(()=>{Cj0();WhA();HhA();Uj0=Ux&&Ux.isTypedArray,KU9=Uj0?V8A(Uj0):zj0,H8A=KU9});function DU9(A,Q){var B=HG(A),G=!B&&gf(A),Z=!B&&!G&&$x(A),Y=!B&&!G&&!Z&&H8A(A),J=B||G||Z||Y,X=J?Xj0(A.length,String):[],I=X.length;for(var W in A)if((Q||HU9.call(A,W))&&!(J&&(W==\"length\"||Z&&(W==\"offset\"||W==\"parent\")||Y&&(W==\"buffer\"||W==\"byteLength\"||W==\"byteOffset\")||np(W,I))))X.push(W);return X}var VU9,HU9,FhA;var yF1=O(()=>{Ij0();UEA();IC();wEA();qEA();DhA();VU9=Object.prototype,HU9=VU9.hasOwnProperty;FhA=DU9});function EU9(A){var Q=A&&A.constructor,B=typeof Q==\"function\"&&Q.prototype||FU9;return A===B}var FU9,D8A;var EhA=O(()=>{FU9=Object.prototype;D8A=EU9});function zU9(A,Q){return function(B){return A(Q(B))}}var zhA;var vF1=O(()=>{zhA=zU9});var CU9,wj0;var qj0=O(()=>{vF1();CU9=zhA(Object.keys,Object),wj0=CU9});function wU9(A){if(!D8A(A))return wj0(A);var Q=[];for(var B in Object(A))if(UU9.call(A,B)&&B!=\"constructor\")Q.push(B);return Q}var $U9,UU9,Nj0;var Lj0=O(()=>{EhA();qj0();$U9=Object.prototype,UU9=$U9.hasOwnProperty;Nj0=wU9});function qU9(A){return A!=null&&K8A(A.length)&&!A8A(A)}var wx;var F8A=O(()=>{lfA();IhA();wx=qU9});function NU9(A){return wx(A)?FhA(A):Nj0(A)}var wO;var ft=O(()=>{yF1();Lj0();F8A();wO=NU9});function LU9(A){return BhA(A,wO,W8A)}var LEA;var kF1=O(()=>{jF1();YhA();ft();LEA=LU9});function _U9(A,Q,B,G,Z,Y){var J=B&OU9,X=LEA(A),I=X.length,W=LEA(Q),K=W.length;if(I!=K&&!J)return!1;var V=I;while(V--){var H=X[V];if(!(J?H in Q:RU9.call(Q,H)))return!1}var D=Y.get(A),F=Y.get(Q);if(D&&F)return D==Q&&F==A;var E=!0;Y.set(A,Q),Y.set(Q,A);var z=J;while(++V<I){H=X[V];var $=A[H],L=Q[H];if(G)var N=J?G(L,$,H,Q,A,Y):G($,L,H,A,Q,Y);if(!(N===void 0?$===L||Z($,L,B,G,Y):N)){E=!1;break}z||(z=H==\"constructor\")}if(E&&!z){var M=A.constructor,R=Q.constructor;if(M!=R&&((\"constructor\"in A)&&(\"constructor\"in Q))&&!(typeof M==\"function\"&&M instanceof M&&typeof R==\"function\"&&R instanceof R))E=!1}return Y.delete(A),Y.delete(Q),E}var OU9=1,MU9,RU9,Oj0;var Mj0=O(()=>{kF1();MU9=Object.prototype,RU9=MU9.hasOwnProperty;Oj0=_U9});var jU9,ChA;var Rj0=O(()=>{dp();Yj();jU9=XU(ZK,\"DataView\"),ChA=jU9});var TU9,$hA;var _j0=O(()=>{dp();Yj();TU9=XU(ZK,\"Promise\"),$hA=TU9});var PU9,ap;var bF1=O(()=>{dp();Yj();PU9=XU(ZK,\"Set\"),ap=PU9});var SU9,UhA;var jj0=O(()=>{dp();Yj();SU9=XU(ZK,\"WeakMap\"),UhA=SU9});var Tj0=\"[object Map]\",xU9=\"[object Object]\",Pj0=\"[object Promise]\",Sj0=\"[object Set]\",xj0=\"[object WeakMap]\",yj0=\"[object DataView]\",yU9,vU9,kU9,bU9,fU9,ht,uf;var OEA=O(()=>{Rj0();nfA();_j0();bF1();jj0();yt();UF1();yU9=bf(ChA),vU9=bf(lp),kU9=bf($hA),bU9=bf(ap),fU9=bf(UhA),ht=hq;if(ChA&&ht(new ChA(new ArrayBuffer(1)))!=yj0||lp&&ht(new lp)!=Tj0||$hA&&ht($hA.resolve())!=Pj0||ap&&ht(new ap)!=Sj0||UhA&&ht(new UhA)!=xj0)ht=function(A){var Q=hq(A),B=Q==xU9?A.constructor:void 0,G=B?bf(B):\"\";if(G)switch(G){case yU9:return yj0;case vU9:return Tj0;case kU9:return Pj0;case bU9:return Sj0;case fU9:return xj0}return Q};uf=ht});function uU9(A,Q,B,G,Z,Y){var J=HG(A),X=HG(Q),I=J?kj0:uf(A),W=X?kj0:uf(Q);I=I==vj0?whA:I,W=W==vj0?whA:W;var K=I==whA,V=W==whA,H=I==W;if(H&&$x(A)){if(!$x(Q))return!1;J=!0,K=!1}if(H&&!K)return Y||(Y=new zx),J||H8A(A)?efA(A,Q,B,G,Z,Y):Zj0(A,Q,I,B,G,Z,Y);if(!(B&hU9)){var D=K&&bj0.call(A,\"__wrapped__\"),F=V&&bj0.call(Q,\"__wrapped__\");if(D||F){var E=D?A.value():A,z=F?Q.value():Q;return Y||(Y=new zx),Z(E,z,B,G,Y)}}if(!H)return!1;return Y||(Y=new zx),Oj0(A,Q,B,G,Z,Y)}var hU9=1,vj0=\"[object Arguments]\",kj0=\"[object Array]\",whA=\"[object Object]\",gU9,bj0,fj0;var hj0=O(()=>{$EA();MF1();Yj0();Mj0();OEA();IC();wEA();DhA();gU9=Object.prototype,bj0=gU9.hasOwnProperty;fj0=uU9});function gj0(A,Q,B,G,Z){if(A===Q)return!0;if(A==null||Q==null||!HV(A)&&!HV(Q))return A!==A&&Q!==Q;return fj0(A,Q,B,G,gj0,Z)}var E8A;var qhA=O(()=>{hj0();Cx();E8A=gj0});function pU9(A,Q,B,G){var Z=B.length,Y=Z,J=!G;if(A==null)return!Y;A=Object(A);while(Z--){var X=B[Z];if(J&&X[2]?X[1]!==A[X[0]]:!(X[0]in A))return!1}while(++Z<Y){X=B[Z];var I=X[0],W=A[I],K=X[1];if(J&&X[2]){if(W===void 0&&!(I in A))return!1}else{var V=new zx;if(G)var H=G(W,K,I,A,Q,V);if(!(H===void 0?E8A(K,W,mU9|dU9,G,V):H))return!1}}return!0}var mU9=1,dU9=2,uj0;var mj0=O(()=>{$EA();qhA();uj0=pU9});function cU9(A){return A===A&&!KX(A)}var NhA;var fF1=O(()=>{UO();NhA=cU9});function lU9(A){var Q=wO(A),B=Q.length;while(B--){var G=Q[B],Z=A[G];Q[B]=[G,Z,NhA(Z)]}return Q}var dj0;var pj0=O(()=>{fF1();ft();dj0=lU9});function iU9(A,Q){return function(B){if(B==null)return!1;return B[A]===Q&&(Q!==void 0||(A in Object(B)))}}var LhA;var hF1=O(()=>{LhA=iU9});function nU9(A){var Q=dj0(A);if(Q.length==1&&Q[0][2])return LhA(Q[0][0],Q[0][1]);return function(B){return B===A||uj0(B,A,Q)}}var cj0;var lj0=O(()=>{mj0();pj0();hF1();cj0=nU9});function oU9(A){return typeof A==\"symbol\"||HV(A)&&hq(A)==aU9}var aU9=\"[object Symbol]\",z8A;var OhA=O(()=>{yt();Cx();z8A=oU9});function tU9(A,Q){if(HG(A))return!1;var B=typeof A;if(B==\"number\"||B==\"symbol\"||B==\"boolean\"||A==null||z8A(A))return!0;return sU9.test(A)||!rU9.test(A)||Q!=null&&A in Object(Q)}var rU9,sU9,C8A;var MhA=O(()=>{IC();OhA();rU9=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,sU9=/^\\w*$/;C8A=tU9});function Aw9(A){var Q=W0(A,function(G){if(B.size===eU9)B.clear();return G}),B=Q.cache;return Q}var eU9=500,ij0;var nj0=O(()=>{e2();ij0=Aw9});var Qw9,Bw9,Gw9,aj0;var oj0=O(()=>{nj0();Qw9=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,Bw9=/\\\\(\\\\)?/g,Gw9=ij0(function(A){var Q=[];if(A.charCodeAt(0)===46)Q.push(\"\");return A.replace(Qw9,function(B,G,Z,Y){Q.push(Z?Y.replace(Bw9,\"$1\"):G||B)}),Q}),aj0=Gw9});function Zw9(A,Q){var B=-1,G=A==null?0:A.length,Z=Array(G);while(++B<G)Z[B]=Q(A[B],B,A);return Z}var $8A;var RhA=O(()=>{$8A=Zw9});function tj0(A){if(typeof A==\"string\")return A;if(HG(A))return $8A(A,tj0)+\"\";if(z8A(A))return sj0?sj0.call(A):\"\";var Q=A+\"\";return Q==\"0\"&&1/A==-Yw9?\"-0\":Q}var Yw9=1/0,rj0,sj0,ej0;var AT0=O(()=>{xt();RhA();IC();OhA();rj0=zH?zH.prototype:void 0,sj0=rj0?rj0.toString:void 0;ej0=tj0});function Jw9(A){return A==null?\"\":ej0(A)}var U8A;var _hA=O(()=>{AT0();U8A=Jw9});function Xw9(A,Q){if(HG(A))return A;return C8A(A,Q)?[A]:aj0(U8A(A))}var qx;var w8A=O(()=>{IC();MhA();oj0();_hA();qx=Xw9});function Ww9(A){if(typeof A==\"string\"||z8A(A))return A;var Q=A+\"\";return Q==\"0\"&&1/A==-Iw9?\"-0\":Q}var Iw9=1/0,qO;var gt=O(()=>{OhA();qO=Ww9});function Kw9(A,Q){Q=qx(Q,A);var B=0,G=Q.length;while(A!=null&&B<G)A=A[qO(Q[B++])];return B&&B==G?A:void 0}var q8A;var jhA=O(()=>{w8A();gt();q8A=Kw9});function Vw9(A,Q,B){var G=A==null?void 0:q8A(A,Q);return G===void 0?B:G}var QT0;var BT0=O(()=>{jhA();QT0=Vw9});function Hw9(A,Q){return A!=null&&Q in Object(A)}var GT0;var ZT0=O(()=>{GT0=Hw9});function Dw9(A,Q,B){Q=qx(Q,A);var G=-1,Z=Q.length,Y=!1;while(++G<Z){var J=qO(Q[G]);if(!(Y=A!=null&&B(A,J)))break;A=A[J]}if(Y||++G!=Z)return Y;return Z=A==null?0:A.length,!!Z&&K8A(Z)&&np(J,Z)&&(HG(A)||gf(A))}var YT0;var JT0=O(()=>{w8A();UEA();IC();qEA();IhA();gt();YT0=Dw9});function Fw9(A,Q){return A!=null&&YT0(A,Q,GT0)}var XT0;var IT0=O(()=>{ZT0();JT0();XT0=Fw9});function Cw9(A,Q){if(C8A(A)&&NhA(Q))return LhA(qO(A),Q);return function(B){var G=QT0(B,A);return G===void 0&&G===Q?XT0(B,A):E8A(Q,G,Ew9|zw9)}}var Ew9=1,zw9=2,WT0;var KT0=O(()=>{qhA();BT0();IT0();MhA();fF1();hF1();gt();WT0=Cw9});function $w9(A){return A}var N8A;var ThA=O(()=>{N8A=$w9});function Uw9(A){return function(Q){return Q==null?void 0:Q[A]}}var VT0;var HT0=O(()=>{VT0=Uw9});function ww9(A){return function(Q){return q8A(Q,A)}}var DT0;var FT0=O(()=>{jhA();DT0=ww9});function qw9(A){return C8A(A)?VT0(qO(A)):DT0(A)}var ET0;var zT0=O(()=>{HT0();FT0();MhA();gt();ET0=qw9});function Nw9(A){if(typeof A==\"function\")return A;if(A==null)return N8A;if(typeof A==\"object\")return HG(A)?WT0(A[0],A[1]):cj0(A);return ET0(A)}var Nx;var L8A=O(()=>{lj0();KT0();ThA();IC();zT0();Nx=Nw9});function Lw9(A,Q){var B,G=-1,Z=A.length;while(++G<Z){var Y=Q(A[G]);if(Y!==void 0)B=B===void 0?Y:B+Y}return B}var CT0;var $T0=O(()=>{CT0=Lw9});function Ow9(A,Q){return A&&A.length?CT0(A,Nx(Q,2)):0}var O8A;var UT0=O(()=>{L8A();$T0();O8A=Ow9});var PhA,ShA;var xhA=O(()=>{PhA={name:\"BASH_MAX_OUTPUT_LENGTH\",default:30000,validate:(A)=>{if(!A)return{effective:30000,status:\"valid\"};let G=parseInt(A,10);if(isNaN(G)||G<=0)return{effective:30000,status:\"invalid\",message:`Invalid value \"${A}\" (using default: 30000)`};if(G>150000)return{effective:150000,status:\"capped\",message:`Capped from ${G} to 150000`};return{effective:G,status:\"valid\"}}},ShA={name:\"CLAUDE_CODE_MAX_OUTPUT_TOKENS\",default:32000,validate:(A)=>{if(!A)return{effective:32000,status:\"valid\"};let G=parseInt(A,10);if(isNaN(G)||G<=0)return{effective:32000,status:\"invalid\",message:`Invalid value \"${A}\" (using default: 32000)`};if(G>64000)return{effective:64000,status:\"capped\",message:`Capped from ${G} to 64000`};return{effective:G,status:\"valid\"}}}});function NO(A){if(A.includes(\"[1m]\"))return 1e6;return 200000}var gF1=20000;import{cwd as Mw9}from\"process\";import{realpathSync as Rw9}from\"fs\";import{randomUUID as wT0}from\"crypto\";function _w9(){let A=\"\";if(typeof process<\"u\"&&typeof process.cwd===\"function\")A=Rw9(Mw9());return{originalCwd:A,totalCostUSD:0,totalAPIDuration:0,totalAPIDurationWithoutRetries:0,totalToolDuration:0,startTime:Date.now(),lastInteractionTime:Date.now(),totalLinesAdded:0,totalLinesRemoved:0,hasUnknownModelCost:!1,cwd:A,modelUsage:{},mainLoopModelOverride:void 0,initialMainLoopModel:null,modelStrings:null,isInteractive:!1,clientType:\"cli\",sessionIngressToken:void 0,oauthTokenFromFd:void 0,apiKeyFromFd:void 0,flagSettingsPath:void 0,allowedSettingSources:[\"userSettings\",\"projectSettings\",\"localSettings\",\"flagSettings\",\"policySettings\"],meter:null,sessionCounter:null,locCounter:null,prCounter:null,commitCounter:null,costCounter:null,tokenCounter:null,codeEditToolDecisionCounter:null,activeTimeCounter:null,sessionId:wT0(),loggerProvider:null,eventLogger:null,meterProvider:null,tracerProvider:null,agentColorMap:new Map,agentColorIndex:0,envVarValidators:[PhA,ShA],lastAPIRequest:null,inMemoryErrorLog:[],inlinePlugins:[],sessionBypassPermissionsMode:!1,sessionPersistenceDisabled:!1,hasExitedPlanMode:!1,needsPlanModeExitAttachment:!1,hasExitedDelegateMode:!1,needsDelegateModeExitAttachment:!1,lspRecommendationShownThisSession:!1,initJsonSchema:null,registeredHooks:null,planSlugCache:new M\n\n... [85 lines truncated] ...","is_error":false}]},"uuid":"c3cf49cc-a30c-4a49-91b2-d5b7b89e397a","timestamp":"2025-12-30T01:37:37.297Z","toolUseResult":{"stdout":"#!/usr/bin/env node\n\n\n\n\n\n\n\n// (c) Anthropic PBC. All rights reserved. Use is subject to the Legal Agreements outlined here: https://code.claude.com/docs/en/legal-and-compliance.\n\n// Version: 2.0.76\n\n// Want to see the unminified source? We're hiring!\n// https://job-boards.greenhouse.io/anthropic/jobs/4816199008\nimport{createRequire as Ez9}from\"node:module\";var Vz9=Object.create;var{getPrototypeOf:Hz9,defineProperty:CF1,getOwnPropertyNames:Dz9}=Object;var Fz9=Object.prototype.hasOwnProperty;var l=(A,Q,B)=>{B=A!=null?Vz9(Hz9(A)):{};let G=Q||!A||!A.__esModule?CF1(B,\"default\",{value:A,enumerable:!0}):B;for(let Z of Dz9(A))if(!Fz9.call(G,Z))CF1(G,Z,{get:()=>A[Z],enumerable:!0});return G};var U=(A,Q)=>()=>(Q||A((Q={exports:{}}).exports,Q),Q.exports);var M5=(A,Q)=>{for(var B in Q)CF1(A,B,{get:Q[B],enumerable:!0,configurable:!0,set:(G)=>Q[B]=()=>G})};var O=(A,Q)=>()=>(A&&(Q=A(A=0)),Q);var LA=Ez9(import.meta.url);var zz9,cfA;var $F1=O(()=>{zz9=typeof global==\"object\"&&global&&global.Object===Object&&global,cfA=zz9});var Cz9,$z9,ZK;var Yj=O(()=>{$F1();Cz9=typeof self==\"object\"&&self&&self.Object===Object&&self,$z9=cfA||Cz9||Function(\"return this\")(),ZK=$z9});var Uz9,zH;var xt=O(()=>{Yj();Uz9=ZK.Symbol,zH=Uz9});function Nz9(A){var Q=wz9.call(A,DEA),B=A[DEA];try{A[DEA]=void 0;var G=!0}catch(Y){}var Z=qz9.call(A);if(G)if(Q)A[DEA]=B;else delete A[DEA];return Z}var mR0,wz9,qz9,DEA,dR0;var pR0=O(()=>{xt();mR0=Object.prototype,wz9=mR0.hasOwnProperty,qz9=mR0.toString,DEA=zH?zH.toStringTag:void 0;dR0=Nz9});function Mz9(A){return Oz9.call(A)}var Lz9,Oz9,cR0;var lR0=O(()=>{Lz9=Object.prototype,Oz9=Lz9.toString;cR0=Mz9});function jz9(A){if(A==null)return A===void 0?_z9:Rz9;return iR0&&iR0 in Object(A)?dR0(A):cR0(A)}var Rz9=\"[object Null]\",_z9=\"[object Undefined]\",iR0,hq;var yt=O(()=>{xt();pR0();lR0();iR0=zH?zH.toStringTag:void 0;hq=jz9});function Tz9(A){var Q=typeof A;return A!=null&&(Q==\"object\"||Q==\"function\")}var KX;var UO=O(()=>{KX=Tz9});function vz9(A){if(!KX(A))return!1;var Q=hq(A);return Q==Sz9||Q==xz9||Q==Pz9||Q==yz9}var Pz9=\"[object AsyncFunction]\",Sz9=\"[object Function]\",xz9=\"[object GeneratorFunction]\",yz9=\"[object Proxy]\",A8A;var lfA=O(()=>{yt();UO();A8A=vz9});var kz9,ifA;var nR0=O(()=>{Yj();kz9=ZK[\"__core-js_shared__\"],ifA=kz9});function bz9(A){return!!aR0&&aR0 in A}var aR0,oR0;var rR0=O(()=>{nR0();aR0=function(){var A=/[^.]+$/.exec(ifA&&ifA.keys&&ifA.keys.IE_PROTO||\"\");return A?\"Symbol(src)_1.\"+A:\"\"}();oR0=bz9});function gz9(A){if(A!=null){try{return hz9.call(A)}catch(Q){}try{return A+\"\"}catch(Q){}}return\"\"}var fz9,hz9,bf;var UF1=O(()=>{fz9=Function.prototype,hz9=fz9.toString;bf=gz9});function nz9(A){if(!KX(A)||oR0(A))return!1;var Q=A8A(A)?iz9:mz9;return Q.test(bf(A))}var uz9,mz9,dz9,pz9,cz9,lz9,iz9,sR0;var tR0=O(()=>{lfA();rR0();UO();UF1();uz9=/[\\\\^$.*+?()[\\]{}|]/g,mz9=/^\\[object .+?Constructor\\]$/,dz9=Function.prototype,pz9=Object.prototype,cz9=dz9.toString,lz9=pz9.hasOwnProperty,iz9=RegExp(\"^\"+cz9.call(lz9).replace(uz9,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");sR0=nz9});function az9(A,Q){return A==null?void 0:A[Q]}var eR0;var A_0=O(()=>{eR0=az9});function oz9(A,Q){var B=eR0(A,Q);return sR0(B)?B:void 0}var XU;var dp=O(()=>{tR0();A_0();XU=oz9});var rz9,ff;var FEA=O(()=>{dp();rz9=XU(Object,\"create\"),ff=rz9});function sz9(){this.__data__=ff?ff(null):{},this.size=0}var Q_0;var B_0=O(()=>{FEA();Q_0=sz9});function tz9(A){var Q=this.has(A)&&delete this.__data__[A];return this.size-=Q?1:0,Q}var G_0;var Z_0=O(()=>{G_0=tz9});function BC9(A){var Q=this.__data__;if(ff){var B=Q[A];return B===ez9?void 0:B}return QC9.call(Q,A)?Q[A]:void 0}var ez9=\"__lodash_hash_undefined__\",AC9,QC9,Y_0;var J_0=O(()=>{FEA();AC9=Object.prototype,QC9=AC9.hasOwnProperty;Y_0=BC9});function YC9(A){var Q=this.__data__;return ff?Q[A]!==void 0:ZC9.call(Q,A)}var GC9,ZC9,X_0;var I_0=O(()=>{FEA();GC9=Object.prototype,ZC9=GC9.hasOwnProperty;X_0=YC9});function XC9(A,Q){var B=this.__data__;return this.size+=this.has(A)?0:1,B[A]=ff&&Q===void 0?JC9:Q,this}var JC9=\"__lodash_hash_undefined__\",W_0;var K_0=O(()=>{FEA();W_0=XC9});function Q8A(A){var Q=-1,B=A==null?0:A.length;this.clear();while(++Q<B){var G=A[Q];this.set(G[0],G[1])}}var wF1;var V_0=O(()=>{B_0();Z_0();J_0();I_0();K_0();Q8A.prototype.clear=Q_0;Q8A.prototype.delete=G_0;Q8A.prototype.get=Y_0;Q8A.prototype.has=X_0;Q8A.prototype.set=W_0;wF1=Q8A});function IC9(){this.__data__=[],this.size=0}var H_0;var D_0=O(()=>{H_0=IC9});function WC9(A,Q){return A===Q||A!==A&&Q!==Q}var Fx;var B8A=O(()=>{Fx=WC9});function KC9(A,Q){var B=A.length;while(B--)if(Fx(A[B][0],Q))return B;return-1}var pp;var EEA=O(()=>{B8A();pp=KC9});function DC9(A){var Q=this.__data__,B=pp(Q,A);if(B<0)return!1;var G=Q.length-1;if(B==G)Q.pop();else HC9.call(Q,B,1);return--this.size,!0}var VC9,HC9,F_0;var E_0=O(()=>{EEA();VC9=Array.prototype,HC9=VC9.splice;F_0=DC9});function FC9(A){var Q=this.__data__,B=pp(Q,A);return B<0?void 0:Q[B][1]}var z_0;var C_0=O(()=>{EEA();z_0=FC9});function EC9(A){return pp(this.__data__,A)>-1}var $_0;var U_0=O(()=>{EEA();$_0=EC9});function zC9(A,Q){var B=this.__data__,G=pp(B,A);if(G<0)++this.size,B.push([A,Q]);else B[G][1]=Q;return this}var w_0;var q_0=O(()=>{EEA();w_0=zC9});function G8A(A){var Q=-1,B=A==null?0:A.length;this.clear();while(++Q<B){var G=A[Q];this.set(G[0],G[1])}}var cp;var zEA=O(()=>{D_0();E_0();C_0();U_0();q_0();G8A.prototype.clear=H_0;G8A.prototype.delete=F_0;G8A.prototype.get=z_0;G8A.prototype.has=$_0;G8A.prototype.set=w_0;cp=G8A});var CC9,lp;var nfA=O(()=>{dp();Yj();CC9=XU(ZK,\"Map\"),lp=CC9});function $C9(){this.size=0,this.__data__={hash:new wF1,map:new(lp||cp),string:new wF1}}var N_0;var L_0=O(()=>{V_0();zEA();nfA();N_0=$C9});function UC9(A){var Q=typeof A;return Q==\"string\"||Q==\"number\"||Q==\"symbol\"||Q==\"boolean\"?A!==\"__proto__\":A===null}var O_0;var M_0=O(()=>{O_0=UC9});function wC9(A,Q){var B=A.__data__;return O_0(Q)?B[typeof Q==\"string\"?\"string\":\"hash\"]:B.map}var ip;var CEA=O(()=>{M_0();ip=wC9});function qC9(A){var Q=ip(this,A).delete(A);return this.size-=Q?1:0,Q}var R_0;var __0=O(()=>{CEA();R_0=qC9});function NC9(A){return ip(this,A).get(A)}var j_0;var T_0=O(()=>{CEA();j_0=NC9});function LC9(A){return ip(this,A).has(A)}var P_0;var S_0=O(()=>{CEA();P_0=LC9});function OC9(A,Q){var B=ip(this,A),G=B.size;return B.set(A,Q),this.size+=B.size==G?0:1,this}var x_0;var y_0=O(()=>{CEA();x_0=OC9});function Z8A(A){var Q=-1,B=A==null?0:A.length;this.clear();while(++Q<B){var G=A[Q];this.set(G[0],G[1])}}var vt;var afA=O(()=>{L_0();__0();T_0();S_0();y_0();Z8A.prototype.clear=N_0;Z8A.prototype.delete=R_0;Z8A.prototype.get=j_0;Z8A.prototype.has=P_0;Z8A.prototype.set=x_0;vt=Z8A});function qF1(A,Q){if(typeof A!=\"function\"||Q!=null&&typeof Q!=\"function\")throw TypeError(MC9);var B=function(){var G=arguments,Z=Q?Q.apply(this,G):G[0],Y=B.cache;if(Y.has(Z))return Y.get(Z);var J=A.apply(this,G);return B.cache=Y.set(Z,J)||Y,J};return B.cache=new(qF1.Cache||vt),B}var MC9=\"Expected a function\",W0;var e2=O(()=>{afA();qF1.Cache=vt;W0=qF1});function h9(A){for(let Q=0;Q<A.length;Q+=2000)process.stdout.write(A.substring(Q,Q+2000))}function hf(A){for(let Q=0;Q<A.length;Q+=2000)process.stderr.write(A.substring(Q,Q+2000))}function RC9(A){let Q=[],B=A.match(/^MCP server [\"']([^\"']+)[\"']/);if(B&&B[1])Q.push(\"mcp\"),Q.push(B[1].toLowerCase());else{let Y=A.match(/^([^:[]+):/);if(Y&&Y[1])Q.push(Y[1].trim().toLowerCase())}let G=A.match(/^\\[([^\\]]+)]/);if(G&&G[1])Q.push(G[1].trim().toLowerCase());if(A.toLowerCase().includes(\"statsig event:\"))Q.push(\"statsig\");let Z=A.match(/:\\s*([^:]+?)(?:\\s+(?:type|mode|status|event))?:/);if(Z&&Z[1]){let Y=Z[1].trim().toLowerCase();if(Y.length<30&&!Y.includes(\" \"))Q.push(Y)}return Array.from(new Set(Q))}function _C9(A,Q){if(!Q)return!0;if(A.length===0)return!1;if(Q.isExclusive)return!A.some((B)=>Q.exclude.includes(B));else return A.some((B)=>Q.include.includes(B))}function k_0(A,Q){if(!Q)return!0;let B=RC9(A);return _C9(B,Q)}var v_0;var b_0=O(()=>{e2();v_0=W0((A)=>{if(!A||A.trim()===\"\")return null;let Q=A.split(\",\").map((Y)=>Y.trim()).filter(Boolean);if(Q.length===0)return null;let B=Q.some((Y)=>Y.startsWith(\"!\")),G=Q.some((Y)=>!Y.startsWith(\"!\"));if(B&&G)return null;let Z=Q.map((Y)=>Y.replace(/^!/,\"\").toLowerCase());return{include:B?[]:Z,exclude:B?Z:[],isExclusive:B}})});import*as l9 from\"fs\";import{stat as jC9,open as TC9}from\"fs/promises\";function oI(A,Q){let B=performance.now();try{return Q()}finally{let G=performance.now()-B;if(G>PC9)k(`[SLOW OPERATION DETECTED] fs.${A} (${G.toFixed(1)}ms)`)}}function eX(A,Q){if(!A.existsSync(Q))return{resolvedPath:Q,isSymlink:!1};try{let B=A.realpathSync(Q);return{resolvedPath:B,isSymlink:B!==Q}}catch(B){return{resolvedPath:Q,isSymlink:!1}}}function Ex(A,Q,B){let{resolvedPath:G}=eX(A,Q);if(B.has(G))return!0;return B.add(G),!1}function kt(A){let Q=[],B=jA();Q.push(A);let{resolvedPath:G,isSymlink:Z}=eX(B,A);if(Z&&G!==A)Q.push(G);return Q}function jA(){return xC9}async function*f_0(A){let B=await TC9(A,\"r\");try{let Z=(await B.stat()).size,Y=\"\",J=Buffer.alloc(4096);while(Z>0){let X=Math.min(4096,Z);Z-=X,await B.read(J,0,X,Z);let W=(J.toString(\"utf8\",0,X)+Y).split(`\n`);Y=W[0]||\"\";for(let K=W.length-1;K>=1;K--){let V=W[K];if(V)yield V}}if(Y)yield Y}finally{await B.close()}}var PC9=5,SC9,xC9;var HQ=O(()=>{Q0();SC9={cwd(){return process.cwd()},existsSync(A){return oI(\"existsSync\",()=>l9.existsSync(A))},async stat(A){return jC9(A)},statSync(A){return oI(\"statSync\",()=>l9.statSync(A))},lstatSync(A){return oI(\"lstatSync\",()=>l9.lstatSync(A))},readFileSync(A,Q){return oI(\"readFileSync\",()=>l9.readFileSync(A,{encoding:Q.encoding}))},readFileBytesSync(A){return oI(\"readFileBytesSync\",()=>l9.readFileSync(A))},readSync(A,Q){return oI(\"readSync\",()=>{let B=void 0;try{B=l9.openSync(A,\"r\");let G=Buffer.alloc(Q.length),Z=l9.readSync(B,G,0,Q.length,0);return{buffer:G,bytesRead:Z}}finally{if(B)l9.closeSync(B)}})},writeFileSync(A,Q,B){return oI(\"writeFileSync\",()=>{let G=l9.existsSync(A);if(!B.flush){let Y={encoding:B.encoding};if(!G)Y.mode=B.mode??384;else if(B.mode!==void 0)Y.mode=B.mode;l9.writeFileSync(A,Q,Y);return}let Z;try{let Y=!G?B.mode??384:B.mode;Z=l9.openSync(A,\"w\",Y),l9.writeFileSync(Z,Q,{encoding:B.encoding}),l9.fsyncSync(Z)}finally{if(Z)l9.closeSync(Z)}})},appendFileSync(A,Q,B){return oI(\"appendFileSync\",()=>{if(!l9.existsSync(A)){let G=B?.mode??384,Z=l9.openSync(A,\"a\",G);try{l9.appendFileSync(Z,Q)}finally{l9.closeSync(Z)}}else l9.appendFileSync(A,Q)})},copyFileSync(A,Q){return oI(\"copyFileSync\",()=>l9.copyFileSync(A,Q))},unlinkSync(A){return oI(\"unlinkSync\",()=>l9.unlinkSync(A))},renameSync(A,Q){return oI(\"renameSync\",()=>l9.renameSync(A,Q))},linkSync(A,Q){return oI(\"linkSync\",()=>l9.linkSync(A,Q))},symlinkSync(A,Q){return oI(\"symlinkSync\",()=>l9.symlinkSync(A,Q))},readlinkSync(A){return oI(\"readlinkSync\",()=>l9.readlinkSync(A))},realpathSync(A){return oI(\"realpathSync\",()=>l9.realpathSync(A))},mkdirSync(A){return oI(\"mkdirSync\",()=>{if(!l9.existsSync(A))l9.mkdirSync(A,{recursive:!0,mode:448})})},readdirSync(A){return oI(\"readdirSync\",()=>l9.readdirSync(A,{withFileTypes:!0}))},readdirStringSync(A){return oI(\"readdirStringSync\",()=>l9.readdirSync(A))},isDirEmptySync(A){return oI(\"isDirEmptySync\",()=>{return this.readdirSync(A).length===0})},rmdirSync(A){return oI(\"rmdirSync\",()=>l9.rmdirSync(A))},rmSync(A,Q){return oI(\"rmSync\",()=>l9.rmSync(A,Q))},createWriteStream(A){return l9.createWriteStream(A)}},xC9=SC9});import{join as yC9}from\"path\";import{homedir as vC9}from\"os\";function vQ(){return process.env.CLAUDE_CONFIG_DIR??yC9(vC9(),\".claude\")}function F0(A){if(!A)return!1;if(typeof A===\"boolean\")return A;let Q=A.toLowerCase().trim();return[\"1\",\"true\",\"yes\",\"on\"].includes(Q)}function AI(A){if(A===void 0)return!1;if(typeof A===\"boolean\")return!A;if(!A)return!1;let Q=A.toLowerCase().trim();return[\"0\",\"false\",\"no\",\"off\"].includes(Q)}function h_0(A){let Q={};if(A)for(let B of A){let[G,...Z]=B.split(\"=\");if(!G||Z.length===0)throw Error(`Invalid environment variable format: ${B}, environment variables should be added as: -e KEY1=value1 -e KEY2=value2`);Q[G]=Z.join(\"=\")}return Q}function bt(){return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION||\"us-east-1\"}function Jj(){return process.env.CLOUD_ML_REGION||\"us-east5\"}function NF1(){return F0(process.env.CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR)}function ofA(A){if(A?.startsWith(\"claude-haiku-4-5\"))return process.env.VERTEX_REGION_CLAUDE_HAIKU_4_5||Jj();if(A?.startsWith(\"claude-3-5-haiku\"))return process.env.VERTEX_REGION_CLAUDE_3_5_HAIKU||Jj();if(A?.startsWith(\"claude-3-5-sonnet\"))return process.env.VERTEX_REGION_CLAUDE_3_5_SONNET||Jj();if(A?.startsWith(\"claude-3-7-sonnet\"))return process.env.VERTEX_REGION_CLAUDE_3_7_SONNET||Jj();if(A?.startsWith(\"claude-opus-4-1\"))return process.env.VERTEX_REGION_CLAUDE_4_1_OPUS||Jj();if(A?.startsWith(\"claude-opus-4\"))return process.env.VERTEX_REGION_CLAUDE_4_0_OPUS||Jj();if(A?.startsWith(\"claude-sonnet-4-5\"))return process.env.VERTEX_REGION_CLAUDE_4_5_SONNET||Jj();if(A?.startsWith(\"claude-sonnet-4\"))return process.env.VERTEX_REGION_CLAUDE_4_0_SONNET||Jj();return Jj()}var AB=()=>{};function kC9(){this.__data__=new cp,this.size=0}var g_0;var u_0=O(()=>{zEA();g_0=kC9});function bC9(A){var Q=this.__data__,B=Q.delete(A);return this.size=Q.size,B}var m_0;var d_0=O(()=>{m_0=bC9});function fC9(A){return this.__data__.get(A)}var p_0;var c_0=O(()=>{p_0=fC9});function hC9(A){return this.__data__.has(A)}var l_0;var i_0=O(()=>{l_0=hC9});function uC9(A,Q){var B=this.__data__;if(B instanceof cp){var G=B.__data__;if(!lp||G.length<gC9-1)return G.push([A,Q]),this.size=++B.size,this;B=this.__data__=new vt(G)}return B.set(A,Q),this.size=B.size,this}var gC9=200,n_0;var a_0=O(()=>{zEA();nfA();afA();n_0=uC9});function Y8A(A){var Q=this.__data__=new cp(A);this.size=Q.size}var zx;var $EA=O(()=>{zEA();u_0();d_0();c_0();i_0();a_0();Y8A.prototype.clear=g_0;Y8A.prototype.delete=m_0;Y8A.prototype.get=p_0;Y8A.prototype.has=l_0;Y8A.prototype.set=n_0;zx=Y8A});function dC9(A){return this.__data__.set(A,mC9),this}var mC9=\"__lodash_hash_undefined__\",o_0;var r_0=O(()=>{o_0=dC9});function pC9(A){return this.__data__.has(A)}var s_0;var t_0=O(()=>{s_0=pC9});function rfA(A){var Q=-1,B=A==null?0:A.length;this.__data__=new vt;while(++Q<B)this.add(A[Q])}var sfA;var LF1=O(()=>{afA();r_0();t_0();rfA.prototype.add=rfA.prototype.push=o_0;rfA.prototype.has=s_0;sfA=rfA});function cC9(A,Q){var B=-1,G=A==null?0:A.length;while(++B<G)if(Q(A[B],B,A))return!0;return!1}var e_0;var Aj0=O(()=>{e_0=cC9});function lC9(A,Q){return A.has(Q)}var tfA;var OF1=O(()=>{tfA=lC9});function aC9(A,Q,B,G,Z,Y){var J=B&iC9,X=A.length,I=Q.length;if(X!=I&&!(J&&I>X))return!1;var W=Y.get(A),K=Y.get(Q);if(W&&K)return W==Q&&K==A;var V=-1,H=!0,D=B&nC9?new sfA:void 0;Y.set(A,Q),Y.set(Q,A);while(++V<X){var F=A[V],E=Q[V];if(G)var z=J?G(E,F,V,Q,A,Y):G(F,E,V,A,Q,Y);if(z!==void 0){if(z)continue;H=!1;break}if(D){if(!e_0(Q,function($,L){if(!tfA(D,L)&&(F===$||Z(F,$,B,G,Y)))return D.push(L)})){H=!1;break}}else if(!(F===E||Z(F,E,B,G,Y))){H=!1;break}}return Y.delete(A),Y.delete(Q),H}var iC9=1,nC9=2,efA;var MF1=O(()=>{LF1();Aj0();OF1();efA=aC9});var oC9,J8A;var RF1=O(()=>{Yj();oC9=ZK.Uint8Array,J8A=oC9});function rC9(A){var Q=-1,B=Array(A.size);return A.forEach(function(G,Z){B[++Q]=[Z,G]}),B}var Qj0;var Bj0=O(()=>{Qj0=rC9});function sC9(A){var Q=-1,B=Array(A.size);return A.forEach(function(G){B[++Q]=G}),B}var X8A;var AhA=O(()=>{X8A=sC9});function V$9(A,Q,B,G,Z,Y,J){switch(B){case K$9:if(A.byteLength!=Q.byteLength||A.byteOffset!=Q.byteOffset)return!1;A=A.buffer,Q=Q.buffer;case W$9:if(A.byteLength!=Q.byteLength||!Y(new J8A(A),new J8A(Q)))return!1;return!0;case A$9:case Q$9:case Z$9:return Fx(+A,+Q);case B$9:return A.name==Q.name&&A.message==Q.message;case Y$9:case X$9:return A==Q+\"\";case G$9:var X=Qj0;case J$9:var I=G&tC9;if(X||(X=X8A),A.size!=Q.size&&!I)return!1;var W=J.get(A);if(W)return W==Q;G|=eC9,J.set(A,Q);var K=efA(X(A),X(Q),G,Z,Y,J);return J.delete(A),K;case I$9:if(_F1)return _F1.call(A)==_F1.call(Q)}return!1}var tC9=1,eC9=2,A$9=\"[object Boolean]\",Q$9=\"[object Date]\",B$9=\"[object Error]\",G$9=\"[object Map]\",Z$9=\"[object Number]\",Y$9=\"[object RegExp]\",J$9=\"[object Set]\",X$9=\"[object String]\",I$9=\"[object Symbol]\",W$9=\"[object ArrayBuffer]\",K$9=\"[object DataView]\",Gj0,_F1,Zj0;var Yj0=O(()=>{xt();RF1();B8A();MF1();Bj0();AhA();Gj0=zH?zH.prototype:void 0,_F1=Gj0?Gj0.valueOf:void 0;Zj0=V$9});function H$9(A,Q){var B=-1,G=Q.length,Z=A.length;while(++B<G)A[Z+B]=Q[B];return A}var I8A;var QhA=O(()=>{I8A=H$9});var D$9,HG;var IC=O(()=>{D$9=Array.isArray,HG=D$9});function F$9(A,Q,B){var G=Q(A);return HG(A)?G:I8A(G,B(A))}var BhA;var jF1=O(()=>{QhA();IC();BhA=F$9});function E$9(A,Q){var B=-1,G=A==null?0:A.length,Z=0,Y=[];while(++B<G){var J=A[B];if(Q(J,B,A))Y[Z++]=J}return Y}var GhA;var TF1=O(()=>{GhA=E$9});function z$9(){return[]}var ZhA;var PF1=O(()=>{ZhA=z$9});var C$9,$$9,Jj0,U$9,W8A;var YhA=O(()=>{TF1();PF1();C$9=Object.prototype,$$9=C$9.propertyIsEnumerable,Jj0=Object.getOwnPropertySymbols,U$9=!Jj0?ZhA:function(A){if(A==null)return[];return A=Object(A),GhA(Jj0(A),function(Q){return $$9.call(A,Q)})},W8A=U$9});function w$9(A,Q){var B=-1,G=Array(A);while(++B<A)G[B]=Q(B);return G}var Xj0;var Ij0=O(()=>{Xj0=w$9});function q$9(A){return A!=null&&typeof A==\"object\"}var HV;var Cx=O(()=>{HV=q$9});function L$9(A){return HV(A)&&hq(A)==N$9}var N$9=\"[object Arguments]\",SF1;var Wj0=O(()=>{yt();Cx();SF1=L$9});var Kj0,O$9,M$9,R$9,gf;var UEA=O(()=>{Wj0();Cx();Kj0=Object.prototype,O$9=Kj0.hasOwnProperty,M$9=Kj0.propertyIsEnumerable,R$9=SF1(function(){return arguments}())?SF1:function(A){return HV(A)&&O$9.call(A,\"callee\")&&!M$9.call(A,\"callee\")},gf=R$9});function _$9(){return!1}var Vj0;var Hj0=O(()=>{Vj0=_$9});var XhA={};M5(XhA,{default:()=>$x});var Ej0,Dj0,j$9,Fj0,T$9,P$9,$x;var wEA=O(()=>{Yj();Hj0();Ej0=typeof XhA==\"object\"&&XhA&&!XhA.nodeType&&XhA,Dj0=Ej0&&typeof JhA==\"object\"&&JhA&&!JhA.nodeType&&JhA,j$9=Dj0&&Dj0.exports===Ej0,Fj0=j$9?ZK.Buffer:void 0,T$9=Fj0?Fj0.isBuffer:void 0,P$9=T$9||Vj0,$x=P$9});function y$9(A,Q){var B=typeof A;return Q=Q==null?S$9:Q,!!Q&&(B==\"number\"||B!=\"symbol\"&&x$9.test(A))&&(A>-1&&A%1==0&&A<Q)}var S$9=9007199254740991,x$9,np;var qEA=O(()=>{x$9=/^(?:0|[1-9]\\d*)$/;np=y$9});function k$9(A){return typeof A==\"number\"&&A>-1&&A%1==0&&A<=v$9}var v$9=9007199254740991,K8A;var IhA=O(()=>{K8A=k$9});function JU9(A){return HV(A)&&K8A(A.length)&&!!dY[hq(A)]}var b$9=\"[object Arguments]\",f$9=\"[object Array]\",h$9=\"[object Boolean]\",g$9=\"[object Date]\",u$9=\"[object Error]\",m$9=\"[object Function]\",d$9=\"[object Map]\",p$9=\"[object Number]\",c$9=\"[object Object]\",l$9=\"[object RegExp]\",i$9=\"[object Set]\",n$9=\"[object String]\",a$9=\"[object WeakMap]\",o$9=\"[object ArrayBuffer]\",r$9=\"[object DataView]\",s$9=\"[object Float32Array]\",t$9=\"[object Float64Array]\",e$9=\"[object Int8Array]\",AU9=\"[object Int16Array]\",QU9=\"[object Int32Array]\",BU9=\"[object Uint8Array]\",GU9=\"[object Uint8ClampedArray]\",ZU9=\"[object Uint16Array]\",YU9=\"[object Uint32Array]\",dY,zj0;var Cj0=O(()=>{yt();IhA();Cx();dY={};dY[s$9]=dY[t$9]=dY[e$9]=dY[AU9]=dY[QU9]=dY[BU9]=dY[GU9]=dY[ZU9]=dY[YU9]=!0;dY[b$9]=dY[f$9]=dY[o$9]=dY[h$9]=dY[r$9]=dY[g$9]=dY[u$9]=dY[m$9]=dY[d$9]=dY[p$9]=dY[c$9]=dY[l$9]=dY[i$9]=dY[n$9]=dY[a$9]=!1;zj0=JU9});function XU9(A){return function(Q){return A(Q)}}var V8A;var WhA=O(()=>{V8A=XU9});var VhA={};M5(VhA,{default:()=>Ux});var $j0,NEA,IU9,xF1,WU9,Ux;var HhA=O(()=>{$F1();$j0=typeof VhA==\"object\"&&VhA&&!VhA.nodeType&&VhA,NEA=$j0&&typeof KhA==\"object\"&&KhA&&!KhA.nodeType&&KhA,IU9=NEA&&NEA.exports===$j0,xF1=IU9&&cfA.process,WU9=function(){try{var A=NEA&&NEA.require&&NEA.require(\"util\").types;if(A)return A;return xF1&&xF1.binding&&xF1.binding(\"util\")}catch(Q){}}(),Ux=WU9});var Uj0,KU9,H8A;var DhA=O(()=>{Cj0();WhA();HhA();Uj0=Ux&&Ux.isTypedArray,KU9=Uj0?V8A(Uj0):zj0,H8A=KU9});function DU9(A,Q){var B=HG(A),G=!B&&gf(A),Z=!B&&!G&&$x(A),Y=!B&&!G&&!Z&&H8A(A),J=B||G||Z||Y,X=J?Xj0(A.length,String):[],I=X.length;for(var W in A)if((Q||HU9.call(A,W))&&!(J&&(W==\"length\"||Z&&(W==\"offset\"||W==\"parent\")||Y&&(W==\"buffer\"||W==\"byteLength\"||W==\"byteOffset\")||np(W,I))))X.push(W);return X}var VU9,HU9,FhA;var yF1=O(()=>{Ij0();UEA();IC();wEA();qEA();DhA();VU9=Object.prototype,HU9=VU9.hasOwnProperty;FhA=DU9});function EU9(A){var Q=A&&A.constructor,B=typeof Q==\"function\"&&Q.prototype||FU9;return A===B}var FU9,D8A;var EhA=O(()=>{FU9=Object.prototype;D8A=EU9});function zU9(A,Q){return function(B){return A(Q(B))}}var zhA;var vF1=O(()=>{zhA=zU9});var CU9,wj0;var qj0=O(()=>{vF1();CU9=zhA(Object.keys,Object),wj0=CU9});function wU9(A){if(!D8A(A))return wj0(A);var Q=[];for(var B in Object(A))if(UU9.call(A,B)&&B!=\"constructor\")Q.push(B);return Q}var $U9,UU9,Nj0;var Lj0=O(()=>{EhA();qj0();$U9=Object.prototype,UU9=$U9.hasOwnProperty;Nj0=wU9});function qU9(A){return A!=null&&K8A(A.length)&&!A8A(A)}var wx;var F8A=O(()=>{lfA();IhA();wx=qU9});function NU9(A){return wx(A)?FhA(A):Nj0(A)}var wO;var ft=O(()=>{yF1();Lj0();F8A();wO=NU9});function LU9(A){return BhA(A,wO,W8A)}var LEA;var kF1=O(()=>{jF1();YhA();ft();LEA=LU9});function _U9(A,Q,B,G,Z,Y){var J=B&OU9,X=LEA(A),I=X.length,W=LEA(Q),K=W.length;if(I!=K&&!J)return!1;var V=I;while(V--){var H=X[V];if(!(J?H in Q:RU9.call(Q,H)))return!1}var D=Y.get(A),F=Y.get(Q);if(D&&F)return D==Q&&F==A;var E=!0;Y.set(A,Q),Y.set(Q,A);var z=J;while(++V<I){H=X[V];var $=A[H],L=Q[H];if(G)var N=J?G(L,$,H,Q,A,Y):G($,L,H,A,Q,Y);if(!(N===void 0?$===L||Z($,L,B,G,Y):N)){E=!1;break}z||(z=H==\"constructor\")}if(E&&!z){var M=A.constructor,R=Q.constructor;if(M!=R&&((\"constructor\"in A)&&(\"constructor\"in Q))&&!(typeof M==\"function\"&&M instanceof M&&typeof R==\"function\"&&R instanceof R))E=!1}return Y.delete(A),Y.delete(Q),E}var OU9=1,MU9,RU9,Oj0;var Mj0=O(()=>{kF1();MU9=Object.prototype,RU9=MU9.hasOwnProperty;Oj0=_U9});var jU9,ChA;var Rj0=O(()=>{dp();Yj();jU9=XU(ZK,\"DataView\"),ChA=jU9});var TU9,$hA;var _j0=O(()=>{dp();Yj();TU9=XU(ZK,\"Promise\"),$hA=TU9});var PU9,ap;var bF1=O(()=>{dp();Yj();PU9=XU(ZK,\"Set\"),ap=PU9});var SU9,UhA;var jj0=O(()=>{dp();Yj();SU9=XU(ZK,\"WeakMap\"),UhA=SU9});var Tj0=\"[object Map]\",xU9=\"[object Object]\",Pj0=\"[object Promise]\",Sj0=\"[object Set]\",xj0=\"[object WeakMap]\",yj0=\"[object DataView]\",yU9,vU9,kU9,bU9,fU9,ht,uf;var OEA=O(()=>{Rj0();nfA();_j0();bF1();jj0();yt();UF1();yU9=bf(ChA),vU9=bf(lp),kU9=bf($hA),bU9=bf(ap),fU9=bf(UhA),ht=hq;if(ChA&&ht(new ChA(new ArrayBuffer(1)))!=yj0||lp&&ht(new lp)!=Tj0||$hA&&ht($hA.resolve())!=Pj0||ap&&ht(new ap)!=Sj0||UhA&&ht(new UhA)!=xj0)ht=function(A){var Q=hq(A),B=Q==xU9?A.constructor:void 0,G=B?bf(B):\"\";if(G)switch(G){case yU9:return yj0;case vU9:return Tj0;case kU9:return Pj0;case bU9:return Sj0;case fU9:return xj0}return Q};uf=ht});function uU9(A,Q,B,G,Z,Y){var J=HG(A),X=HG(Q),I=J?kj0:uf(A),W=X?kj0:uf(Q);I=I==vj0?whA:I,W=W==vj0?whA:W;var K=I==whA,V=W==whA,H=I==W;if(H&&$x(A)){if(!$x(Q))return!1;J=!0,K=!1}if(H&&!K)return Y||(Y=new zx),J||H8A(A)?efA(A,Q,B,G,Z,Y):Zj0(A,Q,I,B,G,Z,Y);if(!(B&hU9)){var D=K&&bj0.call(A,\"__wrapped__\"),F=V&&bj0.call(Q,\"__wrapped__\");if(D||F){var E=D?A.value():A,z=F?Q.value():Q;return Y||(Y=new zx),Z(E,z,B,G,Y)}}if(!H)return!1;return Y||(Y=new zx),Oj0(A,Q,B,G,Z,Y)}var hU9=1,vj0=\"[object Arguments]\",kj0=\"[object Array]\",whA=\"[object Object]\",gU9,bj0,fj0;var hj0=O(()=>{$EA();MF1();Yj0();Mj0();OEA();IC();wEA();DhA();gU9=Object.prototype,bj0=gU9.hasOwnProperty;fj0=uU9});function gj0(A,Q,B,G,Z){if(A===Q)return!0;if(A==null||Q==null||!HV(A)&&!HV(Q))return A!==A&&Q!==Q;return fj0(A,Q,B,G,gj0,Z)}var E8A;var qhA=O(()=>{hj0();Cx();E8A=gj0});function pU9(A,Q,B,G){var Z=B.length,Y=Z,J=!G;if(A==null)return!Y;A=Object(A);while(Z--){var X=B[Z];if(J&&X[2]?X[1]!==A[X[0]]:!(X[0]in A))return!1}while(++Z<Y){X=B[Z];var I=X[0],W=A[I],K=X[1];if(J&&X[2]){if(W===void 0&&!(I in A))return!1}else{var V=new zx;if(G)var H=G(W,K,I,A,Q,V);if(!(H===void 0?E8A(K,W,mU9|dU9,G,V):H))return!1}}return!0}var mU9=1,dU9=2,uj0;var mj0=O(()=>{$EA();qhA();uj0=pU9});function cU9(A){return A===A&&!KX(A)}var NhA;var fF1=O(()=>{UO();NhA=cU9});function lU9(A){var Q=wO(A),B=Q.length;while(B--){var G=Q[B],Z=A[G];Q[B]=[G,Z,NhA(Z)]}return Q}var dj0;var pj0=O(()=>{fF1();ft();dj0=lU9});function iU9(A,Q){return function(B){if(B==null)return!1;return B[A]===Q&&(Q!==void 0||(A in Object(B)))}}var LhA;var hF1=O(()=>{LhA=iU9});function nU9(A){var Q=dj0(A);if(Q.length==1&&Q[0][2])return LhA(Q[0][0],Q[0][1]);return function(B){return B===A||uj0(B,A,Q)}}var cj0;var lj0=O(()=>{mj0();pj0();hF1();cj0=nU9});function oU9(A){return typeof A==\"symbol\"||HV(A)&&hq(A)==aU9}var aU9=\"[object Symbol]\",z8A;var OhA=O(()=>{yt();Cx();z8A=oU9});function tU9(A,Q){if(HG(A))return!1;var B=typeof A;if(B==\"number\"||B==\"symbol\"||B==\"boolean\"||A==null||z8A(A))return!0;return sU9.test(A)||!rU9.test(A)||Q!=null&&A in Object(Q)}var rU9,sU9,C8A;var MhA=O(()=>{IC();OhA();rU9=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,sU9=/^\\w*$/;C8A=tU9});function Aw9(A){var Q=W0(A,function(G){if(B.size===eU9)B.clear();return G}),B=Q.cache;return Q}var eU9=500,ij0;var nj0=O(()=>{e2();ij0=Aw9});var Qw9,Bw9,Gw9,aj0;var oj0=O(()=>{nj0();Qw9=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,Bw9=/\\\\(\\\\)?/g,Gw9=ij0(function(A){var Q=[];if(A.charCodeAt(0)===46)Q.push(\"\");return A.replace(Qw9,function(B,G,Z,Y){Q.push(Z?Y.replace(Bw9,\"$1\"):G||B)}),Q}),aj0=Gw9});function Zw9(A,Q){var B=-1,G=A==null?0:A.length,Z=Array(G);while(++B<G)Z[B]=Q(A[B],B,A);return Z}var $8A;var RhA=O(()=>{$8A=Zw9});function tj0(A){if(typeof A==\"string\")return A;if(HG(A))return $8A(A,tj0)+\"\";if(z8A(A))return sj0?sj0.call(A):\"\";var Q=A+\"\";return Q==\"0\"&&1/A==-Yw9?\"-0\":Q}var Yw9=1/0,rj0,sj0,ej0;var AT0=O(()=>{xt();RhA();IC();OhA();rj0=zH?zH.prototype:void 0,sj0=rj0?rj0.toString:void 0;ej0=tj0});function Jw9(A){return A==null?\"\":ej0(A)}var U8A;var _hA=O(()=>{AT0();U8A=Jw9});function Xw9(A,Q){if(HG(A))return A;return C8A(A,Q)?[A]:aj0(U8A(A))}var qx;var w8A=O(()=>{IC();MhA();oj0();_hA();qx=Xw9});function Ww9(A){if(typeof A==\"string\"||z8A(A))return A;var Q=A+\"\";return Q==\"0\"&&1/A==-Iw9?\"-0\":Q}var Iw9=1/0,qO;var gt=O(()=>{OhA();qO=Ww9});function Kw9(A,Q){Q=qx(Q,A);var B=0,G=Q.length;while(A!=null&&B<G)A=A[qO(Q[B++])];return B&&B==G?A:void 0}var q8A;var jhA=O(()=>{w8A();gt();q8A=Kw9});function Vw9(A,Q,B){var G=A==null?void 0:q8A(A,Q);return G===void 0?B:G}var QT0;var BT0=O(()=>{jhA();QT0=Vw9});function Hw9(A,Q){return A!=null&&Q in Object(A)}var GT0;var ZT0=O(()=>{GT0=Hw9});function Dw9(A,Q,B){Q=qx(Q,A);var G=-1,Z=Q.length,Y=!1;while(++G<Z){var J=qO(Q[G]);if(!(Y=A!=null&&B(A,J)))break;A=A[J]}if(Y||++G!=Z)return Y;return Z=A==null?0:A.length,!!Z&&K8A(Z)&&np(J,Z)&&(HG(A)||gf(A))}var YT0;var JT0=O(()=>{w8A();UEA();IC();qEA();IhA();gt();YT0=Dw9});function Fw9(A,Q){return A!=null&&YT0(A,Q,GT0)}var XT0;var IT0=O(()=>{ZT0();JT0();XT0=Fw9});function Cw9(A,Q){if(C8A(A)&&NhA(Q))return LhA(qO(A),Q);return function(B){var G=QT0(B,A);return G===void 0&&G===Q?XT0(B,A):E8A(Q,G,Ew9|zw9)}}var Ew9=1,zw9=2,WT0;var KT0=O(()=>{qhA();BT0();IT0();MhA();fF1();hF1();gt();WT0=Cw9});function $w9(A){return A}var N8A;var ThA=O(()=>{N8A=$w9});function Uw9(A){return function(Q){return Q==null?void 0:Q[A]}}var VT0;var HT0=O(()=>{VT0=Uw9});function ww9(A){return function(Q){return q8A(Q,A)}}var DT0;var FT0=O(()=>{jhA();DT0=ww9});function qw9(A){return C8A(A)?VT0(qO(A)):DT0(A)}var ET0;var zT0=O(()=>{HT0();FT0();MhA();gt();ET0=qw9});function Nw9(A){if(typeof A==\"function\")return A;if(A==null)return N8A;if(typeof A==\"object\")return HG(A)?WT0(A[0],A[1]):cj0(A);return ET0(A)}var Nx;var L8A=O(()=>{lj0();KT0();ThA();IC();zT0();Nx=Nw9});function Lw9(A,Q){var B,G=-1,Z=A.length;while(++G<Z){var Y=Q(A[G]);if(Y!==void 0)B=B===void 0?Y:B+Y}return B}var CT0;var $T0=O(()=>{CT0=Lw9});function Ow9(A,Q){return A&&A.length?CT0(A,Nx(Q,2)):0}var O8A;var UT0=O(()=>{L8A();$T0();O8A=Ow9});var PhA,ShA;var xhA=O(()=>{PhA={name:\"BASH_MAX_OUTPUT_LENGTH\",default:30000,validate:(A)=>{if(!A)return{effective:30000,status:\"valid\"};let G=parseInt(A,10);if(isNaN(G)||G<=0)return{effective:30000,status:\"invalid\",message:`Invalid value \"${A}\" (using default: 30000)`};if(G>150000)return{effective:150000,status:\"capped\",message:`Capped from ${G} to 150000`};return{effective:G,status:\"valid\"}}},ShA={name:\"CLAUDE_CODE_MAX_OUTPUT_TOKENS\",default:32000,validate:(A)=>{if(!A)return{effective:32000,status:\"valid\"};let G=parseInt(A,10);if(isNaN(G)||G<=0)return{effective:32000,status:\"invalid\",message:`Invalid value \"${A}\" (using default: 32000)`};if(G>64000)return{effective:64000,status:\"capped\",message:`Capped from ${G} to 64000`};return{effective:G,status:\"valid\"}}}});function NO(A){if(A.includes(\"[1m]\"))return 1e6;return 200000}var gF1=20000;import{cwd as Mw9}from\"process\";import{realpathSync as Rw9}from\"fs\";import{randomUUID as wT0}from\"crypto\";function _w9(){let A=\"\";if(typeof process<\"u\"&&typeof process.cwd===\"function\")A=Rw9(Mw9());return{originalCwd:A,totalCostUSD:0,totalAPIDuration:0,totalAPIDurationWithoutRetries:0,totalToolDuration:0,startTime:Date.now(),lastInteractionTime:Date.now(),totalLinesAdded:0,totalLinesRemoved:0,hasUnknownModelCost:!1,cwd:A,modelUsage:{},mainLoopModelOverride:void 0,initialMainLoopModel:null,modelStrings:null,isInteractive:!1,clientType:\"cli\",sessionIngressToken:void 0,oauthTokenFromFd:void 0,apiKeyFromFd:void 0,flagSettingsPath:void 0,allowedSettingSources:[\"userSettings\",\"projectSettings\",\"localSettings\",\"flagSettings\",\"policySettings\"],meter:null,sessionCounter:null,locCounter:null,prCounter:null,commitCounter:null,costCounter:null,tokenCounter:null,codeEditToolDecisionCounter:null,activeTimeCounter:null,sessionId:wT0(),loggerProvider:null,eventLogger:null,meterProvider:null,tracerProvider:null,agentColorMap:new Map,agentColorIndex:0,envVarValidators:[PhA,ShA],lastAPIRequest:null,inMemoryErrorLog:[],inlinePlugins:[],sessionBypassPermissionsMode:!1,sessionPersistenceDisabled:!1,hasExitedPlanMode:!1,needsPlanModeExitAttachment:!1,hasExitedDelegateMode:!1,needsDelegateModeExitAttachment:!1,lspRecommendationShownThisSession:!1,initJsonSchema:null,registeredHooks:null,planSlugCache:new M\n\n... [85 lines truncated] ...","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"c3cf49cc-a30c-4a49-91b2-d5b7b89e397a","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_012sCysEgbt9eEGv6nSYJJLh","type":"tool_result","content":"/opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js: a /usr/bin/env node script text executable, ASCII text, with very long lines (28823)","is_error":false}]},"uuid":"f4f310cf-ecd9-4a3c-aa7d-27aafabaafc3","timestamp":"2025-12-30T01:37:37.313Z","toolUseResult":{"stdout":"/opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js: a /usr/bin/env node script text executable, ASCII text, with very long lines (28823)","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"f4f310cf-ecd9-4a3c-aa7d-27aafabaafc3","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01ANcRVT4rZS6GKS4ETmkKKz","type":"message","role":"assistant","content":[{"type":"text","text":"The CLI is minified. Let me search for API endpoints and authentication patterns in the code:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":15889,"cache_creation_input_tokens":429,"cache_read_input_tokens":22091,"cache_creation":{"ephemeral_5m_input_tokens":429,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1t6LR6ZNeqGoauYW3X","type":"assistant","uuid":"0b292a77-e6b2-42c0-b711-33fdbddfc0d1","timestamp":"2025-12-30T01:37:39.259Z"}
{"parentUuid":"0b292a77-e6b2-42c0-b711-33fdbddfc0d1","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01ANcRVT4rZS6GKS4ETmkKKz","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_017Pf2M9gZiiHPcGGJSFQovB","name":"Bash","input":{"command":"grep -o 'https://[^\"]*' /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js | head -20","description":"Extract API endpoints from CLI"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":15889,"cache_creation_input_tokens":429,"cache_read_input_tokens":22091,"cache_creation":{"ephemeral_5m_input_tokens":429,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1t6LR6ZNeqGoauYW3X","type":"assistant","uuid":"3a7d9236-76f0-4bfe-bc87-e09a9326238a","timestamp":"2025-12-30T01:37:39.918Z"}
{"parentUuid":"3a7d9236-76f0-4bfe-bc87-e09a9326238a","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01ANcRVT4rZS6GKS4ETmkKKz","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01L8HRWrY8fM5H1LyuCDzeAX","name":"Bash","input":{"command":"grep -o 'anthropic\\|api\\.anthropic\\|claude\\|auth' /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js | sort | uniq -c | sort -rn | head -20","description":"Search for API references"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":15889,"cache_creation_input_tokens":429,"cache_read_input_tokens":22091,"cache_creation":{"ephemeral_5m_input_tokens":429,"ephemeral_1h_input_tokens":0},"output_tokens":246,"service_tier":"standard"}},"requestId":"req_011CWc1t6LR6ZNeqGoauYW3X","type":"assistant","uuid":"bfba021c-a32d-4f70-b1be-801c726f524d","timestamp":"2025-12-30T01:37:40.541Z"}
{"parentUuid":"bfba021c-a32d-4f70-b1be-801c726f524d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017Pf2M9gZiiHPcGGJSFQovB","type":"tool_result","content":"https://code.claude.com/docs/en/legal-and-compliance.\nhttps://job-boards.greenhouse.io/anthropic/jobs/4816199008\nhttps://github.com/highlightjs/highlight.js/issues/2277`),mA=YA,DA=RA;let AA={code:DA,language:mA};zA(\nhttps://github.com/highlightjs/highlight.js/issues/2559\nhttps://github.com/highlightjs/highlight.js/pull/2844\nhttps://github.com/highlightjs/highlight.js/issues/2534\nhttps://$1.\nhttps://_____\nhttps://_\nhttps://cdn.growthbook.io\nhttps://e531a1d9ec1de9064fae9d4affb0b0f4@o1158394.ingest.us.sentry.io/4508259541909504\nhttps://api.anthropic.com\nhttps://console.anthropic.com/oauth/authorize\nhttps://claude.ai/oauth/authorize\nhttps://console.anthropic.com/v1/oauth/token\nhttps://api.anthropic.com/api/oauth/claude_cli/create_api_key\nhttps://api.anthropic.com/api/oauth/claude_cli/roles\nhttps://console.anthropic.com/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code\nhttps://console.anthropic.com/oauth/code/success?app=claude-code\nhttps://console.anthropic.com/oauth/code/callback","is_error":false}]},"uuid":"2a578242-1745-4bd7-8425-e3083ba8ce52","timestamp":"2025-12-30T01:37:40.731Z","toolUseResult":{"stdout":"https://code.claude.com/docs/en/legal-and-compliance.\nhttps://job-boards.greenhouse.io/anthropic/jobs/4816199008\nhttps://github.com/highlightjs/highlight.js/issues/2277`),mA=YA,DA=RA;let AA={code:DA,language:mA};zA(\nhttps://github.com/highlightjs/highlight.js/issues/2559\nhttps://github.com/highlightjs/highlight.js/pull/2844\nhttps://github.com/highlightjs/highlight.js/issues/2534\nhttps://$1.\nhttps://_____\nhttps://_\nhttps://cdn.growthbook.io\nhttps://e531a1d9ec1de9064fae9d4affb0b0f4@o1158394.ingest.us.sentry.io/4508259541909504\nhttps://api.anthropic.com\nhttps://console.anthropic.com/oauth/authorize\nhttps://claude.ai/oauth/authorize\nhttps://console.anthropic.com/v1/oauth/token\nhttps://api.anthropic.com/api/oauth/claude_cli/create_api_key\nhttps://api.anthropic.com/api/oauth/claude_cli/roles\nhttps://console.anthropic.com/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code\nhttps://console.anthropic.com/oauth/code/success?app=claude-code\nhttps://console.anthropic.com/oauth/code/callback","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"2a578242-1745-4bd7-8425-e3083ba8ce52","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01L8HRWrY8fM5H1LyuCDzeAX","type":"tool_result","content":"1373 auth\n1314 claude\n 458 anthropic\n  16 api.anthropic","is_error":false}]},"uuid":"9279b7c2-cced-49ec-b911-9d1c6cc86036","timestamp":"2025-12-30T01:37:40.914Z","toolUseResult":{"stdout":"1373 auth\n1314 claude\n 458 anthropic\n  16 api.anthropic","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"9279b7c2-cced-49ec-b911-9d1c6cc86036","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01FtyQAr8kAwHJBhBwpvUst1","type":"message","role":"assistant","content":[{"type":"text","text":"Excellent! Now let me search for more details about API request handling and headers:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":16727,"cache_read_input_tokens":22520,"cache_creation":{"ephemeral_5m_input_tokens":16727,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWc1tMRGeuv6k9chMmiiE","type":"assistant","uuid":"ff56462e-3057-4ab4-838f-f142c8b7e161","timestamp":"2025-12-30T01:37:42.281Z"}
{"parentUuid":"ff56462e-3057-4ab4-838f-f142c8b7e161","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01FtyQAr8kAwHJBhBwpvUst1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01PSMH6sGWZCdYkseQEs1kD1","name":"Bash","input":{"command":"grep -o '\"x-api-key\"\\|\"X-API-Key\"\\|\"Authorization\"\\|\"authorization\"\\|\"Bearer\"\\|\"bearer\"' /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js | sort | uniq -c","description":"Search for authentication headers"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":16727,"cache_read_input_tokens":22520,"cache_creation":{"ephemeral_5m_input_tokens":16727,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWc1tMRGeuv6k9chMmiiE","type":"assistant","uuid":"7bc32576-182f-4d3b-9c13-47b3fa53b687","timestamp":"2025-12-30T01:37:42.916Z"}
{"parentUuid":"7bc32576-182f-4d3b-9c13-47b3fa53b687","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01FtyQAr8kAwHJBhBwpvUst1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014GqdVnkSUuYxqhDmQxHW3G","name":"Bash","input":{"command":"strings /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js 2>/dev/null | grep -i \"api-key\\|authorization\\|bearer\\|token\" | head -20","description":"Extract readable API-related strings"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":16727,"cache_read_input_tokens":22520,"cache_creation":{"ephemeral_5m_input_tokens":16727,"ephemeral_1h_input_tokens":0},"output_tokens":264,"service_tier":"standard"}},"requestId":"req_011CWc1tMRGeuv6k9chMmiiE","type":"assistant","uuid":"7fe3efd8-04dc-4db0-ad14-6aa01f1f406c","timestamp":"2025-12-30T01:37:43.389Z"}
{"parentUuid":"7fe3efd8-04dc-4db0-ad14-6aa01f1f406c","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014GqdVnkSUuYxqhDmQxHW3G","type":"tool_result","content":"`);Y=W[0]||\"\";for(let K=W.length-1;K>=1;K--){let V=W[K];if(V)yield V}}if(Y)yield Y}finally{await B.close()}}var PC9=5,SC9,xC9;var HQ=O(()=>{Q0();SC9={cwd(){return process.cwd()},existsSync(A){return oI(\"existsSync\",()=>l9.existsSync(A))},async stat(A){return jC9(A)},statSync(A){return oI(\"statSync\",()=>l9.statSync(A))},lstatSync(A){return oI(\"lstatSync\",()=>l9.lstatSync(A))},readFileSync(A,Q){return oI(\"readFileSync\",()=>l9.readFileSync(A,{encoding:Q.encoding}))},readFileBytesSync(A){return oI(\"readFileBytesSync\",()=>l9.readFileSync(A))},readSync(A,Q){return oI(\"readSync\",()=>{let B=void 0;try{B=l9.openSync(A,\"r\");let G=Buffer.alloc(Q.length),Z=l9.readSync(B,G,0,Q.length,0);return{buffer:G,bytesRead:Z}}finally{if(B)l9.closeSync(B)}})},writeFileSync(A,Q,B){return oI(\"writeFileSync\",()=>{let G=l9.existsSync(A);if(!B.flush){let Y={encoding:B.encoding};if(!G)Y.mode=B.mode??384;else if(B.mode!==void 0)Y.mode=B.mode;l9.writeFileSync(A,Q,Y);return}let Z;try{let Y=!G?B.mode??384:B.mode;Z=l9.openSync(A,\"w\",Y),l9.writeFileSync(Z,Q,{encoding:B.encoding}),l9.fsyncSync(Z)}finally{if(Z)l9.closeSync(Z)}})},appendFileSync(A,Q,B){return oI(\"appendFileSync\",()=>{if(!l9.existsSync(A)){let G=B?.mode??384,Z=l9.openSync(A,\"a\",G);try{l9.appendFileSync(Z,Q)}finally{l9.closeSync(Z)}}else l9.appendFileSync(A,Q)})},copyFileSync(A,Q){return oI(\"copyFileSync\",()=>l9.copyFileSync(A,Q))},unlinkSync(A){return oI(\"unlinkSync\",()=>l9.unlinkSync(A))},renameSync(A,Q){return oI(\"renameSync\",()=>l9.renameSync(A,Q))},linkSync(A,Q){return oI(\"linkSync\",()=>l9.linkSync(A,Q))},symlinkSync(A,Q){return oI(\"symlinkSync\",()=>l9.symlinkSync(A,Q))},readlinkSync(A){return oI(\"readlinkSync\",()=>l9.readlinkSync(A))},realpathSync(A){return oI(\"realpathSync\",()=>l9.realpathSync(A))},mkdirSync(A){return oI(\"mkdirSync\",()=>{if(!l9.existsSync(A))l9.mkdirSync(A,{recursive:!0,mode:448})})},readdirSync(A){return oI(\"readdirSync\",()=>l9.readdirSync(A,{withFileTypes:!0}))},readdirStringSync(A){return oI(\"readdirStringSync\",()=>l9.readdirSync(A))},isDirEmptySync(A){return oI(\"isDirEmptySync\",()=>{return this.readdirSync(A).length===0})},rmdirSync(A){return oI(\"rmdirSync\",()=>l9.rmdirSync(A))},rmSync(A,Q){return oI(\"rmSync\",()=>l9.rmSync(A,Q))},createWriteStream(A){return l9.createWriteStream(A)}},xC9=SC9});import{join as yC9}from\"path\";import{homedir as vC9}from\"os\";function vQ(){return process.env.CLAUDE_CONFIG_DIR??yC9(vC9(),\".claude\")}function F0(A){if(!A)return!1;if(typeof A===\"boolean\")return A;let Q=A.toLowerCase().trim();return[\"1\",\"true\",\"yes\",\"on\"].includes(Q)}function AI(A){if(A===void 0)return!1;if(typeof A===\"boolean\")return!A;if(!A)return!1;let Q=A.toLowerCase().trim();return[\"0\",\"false\",\"no\",\"off\"].includes(Q)}function h_0(A){let Q={};if(A)for(let B of A){let[G,...Z]=B.split(\"=\");if(!G||Z.length===0)throw Error(`Invalid environment variable format: ${B}, environment variables should be added as: -e KEY1=value1 -e KEY2=value2`);Q[G]=Z.join(\"=\")}return Q}function bt(){return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION||\"us-east-1\"}function Jj(){return process.env.CLOUD_ML_REGION||\"us-east5\"}function NF1(){return F0(process.env.CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR)}function ofA(A){if(A?.startsWith(\"claude-haiku-4-5\"))return process.env.VERTEX_REGION_CLAUDE_HAIKU_4_5||Jj();if(A?.startsWith(\"claude-3-5-haiku\"))return process.env.VERTEX_REGION_CLAUDE_3_5_HAIKU||Jj();if(A?.startsWith(\"claude-3-5-sonnet\"))return process.env.VERTEX_REGION_CLAUDE_3_5_SONNET||Jj();if(A?.startsWith(\"claude-3-7-sonnet\"))return process.env.VERTEX_REGION_CLAUDE_3_7_SONNET||Jj();if(A?.startsWith(\"claude-opus-4-1\"))return process.env.VERTEX_REGION_CLAUDE_4_1_OPUS||Jj();if(A?.startsWith(\"claude-opus-4\"))return process.env.VERTEX_REGION_CLAUDE_4_0_OPUS||Jj();if(A?.startsWith(\"claude-sonnet-4-5\"))return process.env.VERTEX_REGION_CLAUDE_4_5_SONNET||Jj();if(A?.startsWith(\"claude-sonnet-4\"))return process.env.VERTEX_REGION_CLAUDE_4_0_SONNET||Jj();return Jj()}var AB=()=>{};function kC9(){this.__data__=new cp,this.size=0}var g_0;var u_0=O(()=>{zEA();g_0=kC9});function bC9(A){var Q=this.__data__,B=Q.delete(A);return this.size=Q.size,B}var m_0;var d_0=O(()=>{m_0=bC9});function fC9(A){return this.__data__.get(A)}var p_0;var c_0=O(()=>{p_0=fC9});function hC9(A){return this.__data__.has(A)}var l_0;var i_0=O(()=>{l_0=hC9});function uC9(A,Q){var B=this.__data__;if(B instanceof cp){var G=B.__data__;if(!lp||G.length<gC9-1)return G.push([A,Q]),this.size=++B.size,this;B=this.__data__=new vt(G)}return B.set(A,Q),this.size=B.size,this}var gC9=200,n_0;var a_0=O(()=>{zEA();nfA();afA();n_0=uC9});function Y8A(A){var Q=this.__data__=new cp(A);this.size=Q.size}var zx;var $EA=O(()=>{zEA();u_0();d_0();c_0();i_0();a_0();Y8A.prototype.clear=g_0;Y8A.prototype.delete=m_0;Y8A.prototype.get=p_0;Y8A.prototype.has=l_0;Y8A.prototype.set=n_0;zx=Y8A});function dC9(A){return this.__data__.set(A,mC9),this}var mC9=\"__lodash_hash_undefined__\",o_0;var r_0=O(()=>{o_0=dC9});function pC9(A){return this.__data__.has(A)}var s_0;var t_0=O(()=>{s_0=pC9});function rfA(A){var Q=-1,B=A==null?0:A.length;this.__data__=new vt;while(++Q<B)this.add(A[Q])}var sfA;var LF1=O(()=>{afA();r_0();t_0();rfA.prototype.add=rfA.prototype.push=o_0;rfA.prototype.has=s_0;sfA=rfA});function cC9(A,Q){var B=-1,G=A==null?0:A.length;while(++B<G)if(Q(A[B],B,A))return!0;return!1}var e_0;var Aj0=O(()=>{e_0=cC9});function lC9(A,Q){return A.has(Q)}var tfA;var OF1=O(()=>{tfA=lC9});function aC9(A,Q,B,G,Z,Y){var J=B&iC9,X=A.length,I=Q.length;if(X!=I&&!(J&&I>X))return!1;var W=Y.get(A),K=Y.get(Q);if(W&&K)return W==Q&&K==A;var V=-1,H=!0,D=B&nC9?new sfA:void 0;Y.set(A,Q),Y.set(Q,A);while(++V<X){var F=A[V],E=Q[V];if(G)var z=J?G(E,F,V,Q,A,Y):G(F,E,V,A,Q,Y);if(z!==void 0){if(z)continue;H=!1;break}if(D){if(!e_0(Q,function($,L){if(!tfA(D,L)&&(F===$||Z(F,$,B,G,Y)))return D.push(L)})){H=!1;break}}else if(!(F===E||Z(F,E,B,G,Y))){H=!1;break}}return Y.delete(A),Y.delete(Q),H}var iC9=1,nC9=2,efA;var MF1=O(()=>{LF1();Aj0();OF1();efA=aC9});var oC9,J8A;var RF1=O(()=>{Yj();oC9=ZK.Uint8Array,J8A=oC9});function rC9(A){var Q=-1,B=Array(A.size);return A.forEach(function(G,Z){B[++Q]=[Z,G]}),B}var Qj0;var Bj0=O(()=>{Qj0=rC9});function sC9(A){var Q=-1,B=Array(A.size);return A.forEach(function(G){B[++Q]=G}),B}var X8A;var AhA=O(()=>{X8A=sC9});function V$9(A,Q,B,G,Z,Y,J){switch(B){case K$9:if(A.byteLength!=Q.byteLength||A.byteOffset!=Q.byteOffset)return!1;A=A.buffer,Q=Q.buffer;case W$9:if(A.byteLength!=Q.byteLength||!Y(new J8A(A),new J8A(Q)))return!1;return!0;case A$9:case Q$9:case Z$9:return Fx(+A,+Q);case B$9:return A.name==Q.name&&A.message==Q.message;case Y$9:case X$9:return A==Q+\"\";case G$9:var X=Qj0;case J$9:var I=G&tC9;if(X||(X=X8A),A.size!=Q.size&&!I)return!1;var W=J.get(A);if(W)return W==Q;G|=eC9,J.set(A,Q);var K=efA(X(A),X(Q),G,Z,Y,J);return J.delete(A),K;case I$9:if(_F1)return _F1.call(A)==_F1.call(Q)}return!1}var tC9=1,eC9=2,A$9=\"[object Boolean]\",Q$9=\"[object Date]\",B$9=\"[object Error]\",G$9=\"[object Map]\",Z$9=\"[object Number]\",Y$9=\"[object RegExp]\",J$9=\"[object Set]\",X$9=\"[object String]\",I$9=\"[object Symbol]\",W$9=\"[object ArrayBuffer]\",K$9=\"[object DataView]\",Gj0,_F1,Zj0;var Yj0=O(()=>{xt();RF1();B8A();MF1();Bj0();AhA();Gj0=zH?zH.prototype:void 0,_F1=Gj0?Gj0.valueOf:void 0;Zj0=V$9});function H$9(A,Q){var B=-1,G=Q.length,Z=A.length;while(++B<G)A[Z+B]=Q[B];return A}var I8A;var QhA=O(()=>{I8A=H$9});var D$9,HG;var IC=O(()=>{D$9=Array.isArray,HG=D$9});function F$9(A,Q,B){var G=Q(A);return HG(A)?G:I8A(G,B(A))}var BhA;var jF1=O(()=>{QhA();IC();BhA=F$9});function E$9(A,Q){var B=-1,G=A==null?0:A.length,Z=0,Y=[];while(++B<G){var J=A[B];if(Q(J,B,A))Y[Z++]=J}return Y}var GhA;var TF1=O(()=>{GhA=E$9});function z$9(){return[]}var ZhA;var PF1=O(()=>{ZhA=z$9});var C$9,$$9,Jj0,U$9,W8A;var YhA=O(()=>{TF1();PF1();C$9=Object.prototype,$$9=C$9.propertyIsEnumerable,Jj0=Object.getOwnPropertySymbols,U$9=!Jj0?ZhA:function(A){if(A==null)return[];return A=Object(A),GhA(Jj0(A),function(Q){return $$9.call(A,Q)})},W8A=U$9});function w$9(A,Q){var B=-1,G=Array(A);while(++B<A)G[B]=Q(B);return G}var Xj0;var Ij0=O(()=>{Xj0=w$9});function q$9(A){return A!=null&&typeof A==\"object\"}var HV;var Cx=O(()=>{HV=q$9});function L$9(A){return HV(A)&&hq(A)==N$9}var N$9=\"[object Arguments]\",SF1;var Wj0=O(()=>{yt();Cx();SF1=L$9});var Kj0,O$9,M$9,R$9,gf;var UEA=O(()=>{Wj0();Cx();Kj0=Object.prototype,O$9=Kj0.hasOwnProperty,M$9=Kj0.propertyIsEnumerable,R$9=SF1(function(){return arguments}())?SF1:function(A){return HV(A)&&O$9.call(A,\"callee\")&&!M$9.call(A,\"callee\")},gf=R$9});function _$9(){return!1}var Vj0;var Hj0=O(()=>{Vj0=_$9});var XhA={};M5(XhA,{default:()=>$x});var Ej0,Dj0,j$9,Fj0,T$9,P$9,$x;var wEA=O(()=>{Yj();Hj0();Ej0=typeof XhA==\"object\"&&XhA&&!XhA.nodeType&&XhA,Dj0=Ej0&&typeof JhA==\"object\"&&JhA&&!JhA.nodeType&&JhA,j$9=Dj0&&Dj0.exports===Ej0,Fj0=j$9?ZK.Buffer:void 0,T$9=Fj0?Fj0.isBuffer:void 0,P$9=T$9||Vj0,$x=P$9});function y$9(A,Q){var B=typeof A;return Q=Q==null?S$9:Q,!!Q&&(B==\"number\"||B!=\"symbol\"&&x$9.test(A))&&(A>-1&&A%1==0&&A<Q)}var S$9=9007199254740991,x$9,np;var qEA=O(()=>{x$9=/^(?:0|[1-9]\\d*)$/;np=y$9});function k$9(A){return typeof A==\"number\"&&A>-1&&A%1==0&&A<=v$9}var v$9=9007199254740991,K8A;var IhA=O(()=>{K8A=k$9});function JU9(A){return HV(A)&&K8A(A.length)&&!!dY[hq(A)]}var b$9=\"[object Arguments]\",f$9=\"[object Array]\",h$9=\"[object Boolean]\",g$9=\"[object Date]\",u$9=\"[object Error]\",m$9=\"[object Function]\",d$9=\"[object Map]\",p$9=\"[object Number]\",c$9=\"[object Object]\",l$9=\"[object RegExp]\",i$9=\"[object Set]\",n$9=\"[object String]\",a$9=\"[object WeakMap]\",o$9=\"[object ArrayBuffer]\",r$9=\"[object DataView]\",s$9=\"[object Float32Array]\",t$9=\"[object Float64Array]\",e$9=\"[object Int8Array]\",AU9=\"[object Int16Array]\",QU9=\"[object Int32Array]\",BU9=\"[object Uint8Array]\",GU9=\"[object Uint8ClampedArray]\",ZU9=\"[object Uint16Array]\",YU9=\"[object Uint32Array]\",dY,zj0;var Cj0=O(()=>{yt();IhA();Cx();dY={};dY[s$9]=dY[t$9]=dY[e$9]=dY[AU9]=dY[QU9]=dY[BU9]=dY[GU9]=dY[ZU9]=dY[YU9]=!0;dY[b$9]=dY[f$9]=dY[o$9]=dY[h$9]=dY[r$9]=dY[g$9]=dY[u$9]=dY[m$9]=dY[d$9]=dY[p$9]=dY[c$9]=dY[l$9]=dY[i$9]=dY[n$9]=dY[a$9]=!1;zj0=JU9});function XU9(A){return function(Q){return A(Q)}}var V8A;var WhA=O(()=>{V8A=XU9});var VhA={};M5(VhA,{default:()=>Ux});var $j0,NEA,IU9,xF1,WU9,Ux;var HhA=O(()=>{$F1();$j0=typeof VhA==\"object\"&&VhA&&!VhA.nodeType&&VhA,NEA=$j0&&typeof KhA==\"object\"&&KhA&&!KhA.nodeType&&KhA,IU9=NEA&&NEA.exports===$j0,xF1=IU9&&cfA.process,WU9=function(){try{var A=NEA&&NEA.require&&NEA.require(\"util\").types;if(A)return A;return xF1&&xF1.binding&&xF1.binding(\"util\")}catch(Q){}}(),Ux=WU9});var Uj0,KU9,H8A;var DhA=O(()=>{Cj0();WhA();HhA();Uj0=Ux&&Ux.isTypedArray,KU9=Uj0?V8A(Uj0):zj0,H8A=KU9});function DU9(A,Q){var B=HG(A),G=!B&&gf(A),Z=!B&&!G&&$x(A),Y=!B&&!G&&!Z&&H8A(A),J=B||G||Z||Y,X=J?Xj0(A.length,String):[],I=X.length;for(var W in A)if((Q||HU9.call(A,W))&&!(J&&(W==\"length\"||Z&&(W==\"offset\"||W==\"parent\")||Y&&(W==\"buffer\"||W==\"byteLength\"||W==\"byteOffset\")||np(W,I))))X.push(W);return X}var VU9,HU9,FhA;var yF1=O(()=>{Ij0();UEA();IC();wEA();qEA();DhA();VU9=Object.prototype,HU9=VU9.hasOwnProperty;FhA=DU9});function EU9(A){var Q=A&&A.constructor,B=typeof Q==\"function\"&&Q.prototype||FU9;return A===B}var FU9,D8A;var EhA=O(()=>{FU9=Object.prototype;D8A=EU9});function zU9(A,Q){return function(B){return A(Q(B))}}var zhA;var vF1=O(()=>{zhA=zU9});var CU9,wj0;var qj0=O(()=>{vF1();CU9=zhA(Object.keys,Object),wj0=CU9});function wU9(A){if(!D8A(A))return wj0(A);var Q=[];for(var B in Object(A))if(UU9.call(A,B)&&B!=\"constructor\")Q.push(B);return Q}var $U9,UU9,Nj0;var Lj0=O(()=>{EhA();qj0();$U9=Object.prototype,UU9=$U9.hasOwnProperty;Nj0=wU9});function qU9(A){return A!=null&&K8A(A.length)&&!A8A(A)}var wx;var F8A=O(()=>{lfA();IhA();wx=qU9});function NU9(A){return wx(A)?FhA(A):Nj0(A)}var wO;var ft=O(()=>{yF1();Lj0();F8A();wO=NU9});function LU9(A){return BhA(A,wO,W8A)}var LEA;var kF1=O(()=>{jF1();YhA();ft();LEA=LU9});function _U9(A,Q,B,G,Z,Y){var J=B&OU9,X=LEA(A),I=X.length,W=LEA(Q),K=W.length;if(I!=K&&!J)return!1;var V=I;while(V--){var H=X[V];if(!(J?H in Q:RU9.call(Q,H)))return!1}var D=Y.get(A),F=Y.get(Q);if(D&&F)return D==Q&&F==A;var E=!0;Y.set(A,Q),Y.set(Q,A);var z=J;while(++V<I){H=X[V];var $=A[H],L=Q[H];if(G)var N=J?G(L,$,H,Q,A,Y):G($,L,H,A,Q,Y);if(!(N===void 0?$===L||Z($,L,B,G,Y):N)){E=!1;break}z||(z=H==\"constructor\")}if(E&&!z){var M=A.constructor,R=Q.constructor;if(M!=R&&((\"constructor\"in A)&&(\"constructor\"in Q))&&!(typeof M==\"function\"&&M instanceof M&&typeof R==\"function\"&&R instanceof R))E=!1}return Y.delete(A),Y.delete(Q),E}var OU9=1,MU9,RU9,Oj0;var Mj0=O(()=>{kF1();MU9=Object.prototype,RU9=MU9.hasOwnProperty;Oj0=_U9});var jU9,ChA;var Rj0=O(()=>{dp();Yj();jU9=XU(ZK,\"DataView\"),ChA=jU9});var TU9,$hA;var _j0=O(()=>{dp();Yj();TU9=XU(ZK,\"Promise\"),$hA=TU9});var PU9,ap;var bF1=O(()=>{dp();Yj();PU9=XU(ZK,\"Set\"),ap=PU9});var SU9,UhA;var jj0=O(()=>{dp();Yj();SU9=XU(ZK,\"WeakMap\"),UhA=SU9});var Tj0=\"[object Map]\",xU9=\"[object Object]\",Pj0=\"[object Promise]\",Sj0=\"[object Set]\",xj0=\"[object WeakMap]\",yj0=\"[object DataView]\",yU9,vU9,kU9,bU9,fU9,ht,uf;var OEA=O(()=>{Rj0();nfA();_j0();bF1();jj0();yt();UF1();yU9=bf(ChA),vU9=bf(lp),kU9=bf($hA),bU9=bf(ap),fU9=bf(UhA),ht=hq;if(ChA&&ht(new ChA(new ArrayBuffer(1)))!=yj0||lp&&ht(new lp)!=Tj0||$hA&&ht($hA.resolve())!=Pj0||ap&&ht(new ap)!=Sj0||UhA&&ht(new UhA)!=xj0)ht=function(A){var Q=hq(A),B=Q==xU9?A.constructor:void 0,G=B?bf(B):\"\";if(G)switch(G){case yU9:return yj0;case vU9:return Tj0;case kU9:return Pj0;case bU9:return Sj0;case fU9:return xj0}return Q};uf=ht});function uU9(A,Q,B,G,Z,Y){var J=HG(A),X=HG(Q),I=J?kj0:uf(A),W=X?kj0:uf(Q);I=I==vj0?whA:I,W=W==vj0?whA:W;var K=I==whA,V=W==whA,H=I==W;if(H&&$x(A)){if(!$x(Q))return!1;J=!0,K=!1}if(H&&!K)return Y||(Y=new zx),J||H8A(A)?efA(A,Q,B,G,Z,Y):Zj0(A,Q,I,B,G,Z,Y);if(!(B&hU9)){var D=K&&bj0.call(A,\"__wrapped__\"),F=V&&bj0.call(Q,\"__wrapped__\");if(D||F){var E=D?A.value():A,z=F?Q.value():Q;return Y||(Y=new zx),Z(E,z,B,G,Y)}}if(!H)return!1;return Y||(Y=new zx),Oj0(A,Q,B,G,Z,Y)}var hU9=1,vj0=\"[object Arguments]\",kj0=\"[object Array]\",whA=\"[object Object]\",gU9,bj0,fj0;var hj0=O(()=>{$EA();MF1();Yj0();Mj0();OEA();IC();wEA();DhA();gU9=Object.prototype,bj0=gU9.hasOwnProperty;fj0=uU9});function gj0(A,Q,B,G,Z){if(A===Q)return!0;if(A==null||Q==null||!HV(A)&&!HV(Q))return A!==A&&Q!==Q;return fj0(A,Q,B,G,gj0,Z)}var E8A;var qhA=O(()=>{hj0();Cx();E8A=gj0});function pU9(A,Q,B,G){var Z=B.length,Y=Z,J=!G;if(A==null)return!Y;A=Object(A);while(Z--){var X=B[Z];if(J&&X[2]?X[1]!==A[X[0]]:!(X[0]in A))return!1}while(++Z<Y){X=B[Z];var I=X[0],W=A[I],K=X[1];if(J&&X[2]){if(W===void 0&&!(I in A))return!1}else{var V=new zx;if(G)var H=G(W,K,I,A,Q,V);if(!(H===void 0?E8A(K,W,mU9|dU9,G,V):H))return!1}}return!0}var mU9=1,dU9=2,uj0;var mj0=O(()=>{$EA();qhA();uj0=pU9});function cU9(A){return A===A&&!KX(A)}var NhA;var fF1=O(()=>{UO();NhA=cU9});function lU9(A){var Q=wO(A),B=Q.length;while(B--){var G=Q[B],Z=A[G];Q[B]=[G,Z,NhA(Z)]}return Q}var dj0;var pj0=O(()=>{fF1();ft();dj0=lU9});function iU9(A,Q){return function(B){if(B==null)return!1;return B[A]===Q&&(Q!==void 0||(A in Object(B)))}}var LhA;var hF1=O(()=>{LhA=iU9});function nU9(A){var Q=dj0(A);if(Q.length==1&&Q[0][2])return LhA(Q[0][0],Q[0][1]);return function(B){return B===A||uj0(B,A,Q)}}var cj0;var lj0=O(()=>{mj0();pj0();hF1();cj0=nU9});function oU9(A){return typeof A==\"symbol\"||HV(A)&&hq(A)==aU9}var aU9=\"[object Symbol]\",z8A;var OhA=O(()=>{yt();Cx();z8A=oU9});function tU9(A,Q){if(HG(A))return!1;var B=typeof A;if(B==\"number\"||B==\"symbol\"||B==\"boolean\"||A==null||z8A(A))return!0;return sU9.test(A)||!rU9.test(A)||Q!=null&&A in Object(Q)}var rU9,sU9,C8A;var MhA=O(()=>{IC();OhA();rU9=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,sU9=/^\\w*$/;C8A=tU9});function Aw9(A){var Q=W0(A,function(G){if(B.size===eU9)B.clear();return G}),B=Q.cache;return Q}var eU9=500,ij0;var nj0=O(()=>{e2();ij0=Aw9});var Qw9,Bw9,Gw9,aj0;var oj0=O(()=>{nj0();Qw9=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,Bw9=/\\\\(\\\\)?/g,Gw9=ij0(function(A){var Q=[];if(A.charCodeAt(0)===46)Q.push(\"\");return A.replace(Qw9,function(B,G,Z,Y){Q.push(Z?Y.replace(Bw9,\"$1\"):G||B)}),Q}),aj0=Gw9});function Zw9(A,Q){var B=-1,G=A==null?0:A.length,Z=Array(G);while(++B<G)Z[B]=Q(A[B],B,A);return Z}var $8A;var RhA=O(()=>{$8A=Zw9});function tj0(A){if(typeof A==\"string\")return A;if(HG(A))return $8A(A,tj0)+\"\";if(z8A(A))return sj0?sj0.call(A):\"\";var Q=A+\"\";return Q==\"0\"&&1/A==-Yw9?\"-0\":Q}var Yw9=1/0,rj0,sj0,ej0;var AT0=O(()=>{xt();RhA();IC();OhA();rj0=zH?zH.prototype:void 0,sj0=rj0?rj0.toString:void 0;ej0=tj0});function Jw9(A){return A==null?\"\":ej0(A)}var U8A;var _hA=O(()=>{AT0();U8A=Jw9});function Xw9(A,Q){if(HG(A))return A;return C8A(A,Q)?[A]:aj0(U8A(A))}var qx;var w8A=O(()=>{IC();MhA();oj0();_hA();qx=Xw9});function Ww9(A){if(typeof A==\"string\"||z8A(A))return A;var Q=A+\"\";return Q==\"0\"&&1/A==-Iw9?\"-0\":Q}var Iw9=1/0,qO;var gt=O(()=>{OhA();qO=Ww9});function Kw9(A,Q){Q=qx(Q,A);var B=0,G=Q.length;while(A!=null&&B<G)A=A[qO(Q[B++])];return B&&B==G?A:void 0}var q8A;var jhA=O(()=>{w8A();gt();q8A=Kw9});function Vw9(A,Q,B){var G=A==null?void 0:q8A(A,Q);return G===void 0?B:G}var QT0;var BT0=O(()=>{jhA();QT0=Vw9});function Hw9(A,Q){return A!=null&&Q in Object(A)}var GT0;var ZT0=O(()=>{GT0=Hw9});function Dw9(A,Q,B){Q=qx(Q,A);var G=-1,Z=Q.length,Y=!1;while(++G<Z){var J=qO(Q[G]);if(!(Y=A!=null&&B(A,J)))break;A=A[J]}if(Y||++G!=Z)return Y;return Z=A==null?0:A.length,!!Z&&K8A(Z)&&np(J,Z)&&(HG(A)||gf(A))}var YT0;var JT0=O(()=>{w8A();UEA();IC();qEA();IhA();gt();YT0=Dw9});function Fw9(A,Q){return A!=null&&YT0(A,Q,GT0)}var XT0;var IT0=O(()=>{ZT0();JT0();XT0=Fw9});function Cw9(A,Q){if(C8A(A)&&NhA(Q))return LhA(qO(A),Q);return function(B){var G=QT0(B,A);return G===void 0&&G===Q?XT0(B,A):E8A(Q,G,Ew9|zw9)}}var Ew9=1,zw9=2,WT0;var KT0=O(()=>{qhA();BT0();IT0();MhA();fF1();hF1();gt();WT0=Cw9});function $w9(A){return A}var N8A;var ThA=O(()=>{N8A=$w9});function Uw9(A){return function(Q){return Q==null?void 0:Q[A]}}var VT0;var HT0=O(()=>{VT0=Uw9});function ww9(A){return function(Q){return q8A(Q,A)}}var DT0;var FT0=O(()=>{jhA();DT0=ww9});function qw9(A){return C8A(A)?VT0(qO(A)):DT0(A)}var ET0;var zT0=O(()=>{HT0();FT0();MhA();gt();ET0=qw9});function Nw9(A){if(typeof A==\"function\")return A;if(A==null)return N8A;if(typeof A==\"object\")return HG(A)?WT0(A[0],A[1]):cj0(A);return ET0(A)}var Nx;var L8A=O(()=>{lj0();KT0();ThA();IC();zT0();Nx=Nw9});function Lw9(A,Q){var B,G=-1,Z=A.length;while(++G<Z){var Y=Q(A[G]);if(Y!==void 0)B=B===void 0?Y:B+Y}return B}var CT0;var $T0=O(()=>{CT0=Lw9});function Ow9(A,Q){return A&&A.length?CT0(A,Nx(Q,2)):0}var O8A;var UT0=O(()=>{L8A();$T0();O8A=Ow9});var PhA,ShA;var xhA=O(()=>{PhA={name:\"BASH_MAX_OUTPUT_LENGTH\",default:30000,validate:(A)=>{if(!A)return{effective:30000,status:\"valid\"};let G=parseInt(A,10);if(isNaN(G)||G<=0)return{effective:30000,status:\"invalid\",message:`Invalid value \"${A}\" (using default: 30000)`};if(G>150000)return{effective:150000,status:\"capped\",message:`Capped from ${G} to 150000`};return{effective:G,status:\"valid\"}}},ShA={name:\"CLAUDE_CODE_MAX_OUTPUT_TOKENS\",default:32000,validate:(A)=>{if(!A)return{effective:32000,status:\"valid\"};let G=parseInt(A,10);if(isNaN(G)||G<=0)return{effective:32000,status:\"invalid\",message:`Invalid value \"${A}\" (using default: 32000)`};if(G>64000)return{effective:64000,status:\"capped\",message:`Capped from ${G} to 64000`};return{effective:G,status:\"valid\"}}}});function NO(A){if(A.includes(\"[1m]\"))return 1e6;return 200000}var gF1=20000;import{cwd as Mw9}from\"process\";import{realpathSync as Rw9}from\"fs\";import{randomUUID as wT0}from\"crypto\";function _w9(){let A=\"\";if(typeof process<\"u\"&&typeof process.cwd===\"function\")A=Rw9(Mw9());return{originalCwd:A,totalCostUSD:0,totalAPIDuration:0,totalAPIDurationWithoutRetries:0,totalToolDuration:0,startTime:Date.now(),lastInteractionTime:Date.now(),totalLinesAdded:0,totalLinesRemoved:0,hasUnknownModelCost:!1,cwd:A,modelUsage:{},mainLoopModelOverride:void 0,initialMainLoopModel:null,modelStrings:null,isInteractive:!1,clientType:\"cli\",sessionIngressToken:void 0,oauthTokenFromFd:void 0,apiKeyFromFd:void 0,flagSettingsPath:void 0,allowedSettingSources:[\"userSettings\",\"projectSettings\",\"localSettings\",\"flagSettings\",\"policySettings\"],meter:null,sessionCounter:null,locCounter:null,prCounter:null,commitCounter:null,costCounter:null,tokenCounter:null,codeEditToolDecisionCounter:null,activeTimeCounter:null,sessionId:wT0(),loggerProvider:null,eventLogger:null,meterProvider:null,tracerProvider:null,agentColorMap:new Map,agentColorIndex:0,envVarValidators:[PhA,ShA],lastAPIRequest:null,inMemoryErrorLog:[],inlinePlugins:[],sessionBypassPermissionsMode:!1,sessionPersistenceDisabled:!1,hasExitedPlanMode:!1,needsPlanModeExitAttachment:!1,hasExitedDelegateMode:!1,needsDelegateModeExitAttachment:!1,lspRecommendationShownThisSession:!1,initJsonSchema:null,registeredHooks:null,planSlugCache:new Map,teleportedSessionInfo:null,invokedSkills:new Map}}function h0(){return r0.sessionId}function qT0(){return r0.sessionId=wT0(),r0.sessionId}function gq(A){if(r0.sessionId=A,process.env.CLAUDE_CODE_SESSION_ID!==void 0)process.env.CLAUDE_CODE_SESSION_ID=A}function nQ(){return r0.originalCwd}function NT0(A){r0.originalCwd=A}function M8A(){return r0.cwd}function LT0(A){r0.cwd=A}function OT0(A,Q){r0.totalAPIDuration+=A,r0.totalAPIDurationWithoutRetries+=Q}function MT0(A,Q,B){r0.totalCostUSD+=A;let G=r0.modelUsage[B]??{inputTokens:0,outputTokens:0,cacheReadInputTokens:0,cacheCreationInputTokens:0,webSearchRequests:0,costUSD:0,contextWindow:0};G.inputTokens+=Q.input_tokens,G.outputTokens+=Q.output_tokens,G.cacheReadInputTokens+=Q.cache_read_input_tokens??0,G.cacheCreationInputTokens+=Q.cache_creation_input_tokens??0,G.webSearchRequests+=Q.server_tool_use?.web_search_requests??0,G.costUSD+=A,G.contextWindow=NO(B),r0.modelUsage[B]=G}function mD(){return r0.totalCostUSD}function LO(){return r0.totalAPIDuration}function MEA(){return Date.now()-r0.startTime}function RT0(){return r0.totalAPIDurationWithoutRetries}function _T0(){return r0.totalToolDuration}function uF1(A){r0.totalToolDuration+=A}function REA(){r0.lastInteractionTime=Date.now()}function mF1(A,Q){r0.totalLinesAdded+=A,r0.totalLinesRemoved+=Q}function R8A(){return r0.totalLinesAdded}function _8A(){return r0.totalLinesRemoved}function yhA(){return O8A(Object.values(r0.modelUsage),\"inputTokens\")}function vhA(){return O8A(Object.values(r0.modelUsage),\"outputTokens\")}function jT0(){return O8A(Object.values(r0.modelUsage),\"cacheReadInputTokens\")}function TT0(){return O8A(Object.values(r0.modelUsage),\"cacheCreationInputTokens\")}function PT0(){return O8A(Object.values(r0.modelUsage),\"webSearchRequests\")}function dF1(){r0.hasUnknownModelCost=!0}function ST0(){return r0.hasUnknownModelCost}function khA(){return r0.lastInteractionTime}function mf(){return r0.modelUsage}function xT0(){return r0.mainLoopModelOverride}function bhA(){return r0.initialMainLoopModel}function ut(A){r0.mainLoopModelOverride=A}function yT0(A){r0.initialMainLoopModel=A}function _EA(){r0.totalCostUSD=0,r0.totalAPIDuration=0,r0.totalAPIDurationWithoutRetries=0,r0.totalToolDuration=0,r0.startTime=Date.now(),r0.totalLinesAdded=0,r0.totalLinesRemoved=0,r0.hasUnknownModelCost=!1,r0.modelUsage={}}function fhA({totalCostUSD:A,totalAPIDuration:Q,totalAPIDurationWithoutRetries:B,totalToolDuration:G,totalLinesAdded:Z,totalLinesRemoved:Y,lastDuration:J,modelUsage:X}){if(r0.totalCostUSD=A,r0.totalAPIDuration=Q,r0.totalAPIDurationWithoutRetries=B,r0.totalToolDuration=G,r0.totalLinesAdded=Z,r0.totalLinesRemoved=Y,X)r0.modelUsage=X;if(J)r0.startTime=Date.now()-J}function hhA(){return r0.modelStrings}function pF1(A){r0.modelStrings=A}function vT0(A,Q){r0.meter=A,r0.sessionCounter=Q(\"claude_code.session.count\",{description:\"Count of CLI sessions started\"}),r0.locCounter=Q(\"claude_code.lines_of_code.count\",{description:\"Count of lines of code modified, with the 'type' attribute indicating whether lines were added or removed\"}),r0.prCounter=Q(\"claude_code.pull_request.count\",{description:\"Number of pull requests created\"}),r0.commitCounter=Q(\"claude_code.commit.count\",{description:\"Number of git commits created\"}),r0.costCounter=Q(\"claude_code.cost.usage\",{description:\"Cost of the Claude Code session\",unit:\"USD\"}),r0.tokenCounter=Q(\"claude_code.token.usage\",{description:\"Number of tokens used\",unit:\"tokens\"}),r0.codeEditToolDecisionCounter=Q(\"claude_code.code_edit_tool.decision\",{description:\"Count of code editing tool permission decisions (accept/reject) for Edit, Write, and NotebookEdit tools\"}),r0.activeTimeCounter=Q(\"claude_code.active_time.total\",{description:\"Total active time in seconds\",unit:\"s\"})}function kT0(){return r0.sessionCounter}function cF1(){return r0.locCounter}function lF1(){return r0.prCounter}function bT0(){return r0.commitCounter}function fT0(){return r0.costCounter}function jEA(){return r0.tokenCounter}function TEA(){return r0.codeEditToolDecisionCounter}function iF1(){return r0.activeTimeCounter}function ghA(){return r0.loggerProvider}function nF1(A){r0.loggerProvider=A}function hT0(){return r0.eventLogger}function aF1(A){r0.eventLogger=A}function gT0(){return r0.meterProvider}function oF1(A){r0.meterProvider=A}function uhA(){return r0.tracerProvider}function rF1(A){r0.tracerProvider=A}function q9(){return!r0.isInteractive}function mhA(){return r0.isInteractive}function uT0(A){r0.isInteractive=A}function dhA(){return r0.clientType}function mT0(A){r0.clientType=A}function sF1(){return r0.agentColorMap}function tF1(){return r0.flagSettingsPath}function dT0(A){r0.flagSettingsPath=A}function pT0(){return r0.sessionIngressToken}function j8A(A){r0.sessionIngressToken=A}function cT0(){return r0.oauthTokenFromFd}function T8A(A){r0.oauthTokenFromFd=A}function lT0(){return r0.apiKeyFromFd}function P8A(A){r0.apiKeyFromFd=A}function iT0(){return r0.envVarValidators}function nT0(A){r0.lastAPIRequest=A}function phA(){return r0.lastAPIRequest}function aT0(){return[...r0.inMemoryErrorLog]}function oT0(A){if(r0.inMemoryErrorLog.length>=100)r0.inMemoryErrorLog.shift();r0.inMemoryErrorLog.push(A)}function rT0(){return r0.allowedSettingSources}function sT0(A){r0.allowedSettingSources=A}function tT0(){return q9()&&r0.clientType!==\"claude-vscode\"}function eT0(A){r0.inlinePlugins=A}function AP0(){return r0.inlinePlugins}function QP0(A){r0.sessionBypassPermissionsMode=A}function BP0(A){r0.sessionPersistenceDisabled=A}function mt(){return r0.sessionPersistenceDisabled}function GP0(){return r0.hasExitedPlanMode}function df(A){r0.hasExitedPlanMode=A}function ZP0(){return r0.needsPlanModeExitAttachment}function op(A){r0.needsPlanModeExitAttachment=A}function rp(A,Q){if(Q===\"plan\"&&A!==\"plan\")r0.needsPlanModeExitAttachment=!1;if(A===\"plan\"&&Q!==\"plan\")r0.needsPlanModeExitAttachment=!0}function YP0(A){r0.hasExitedDelegateMode=A}function JP0(){return r0.needsDelegateModeExitAttachment}function chA(A){r0.needsDelegateModeExitAttachment=A}function XP0(){return r0.lspRecommendationShownThisSession}function IP0(A){r0.lspRecommendationShownThisSession=A}function WP0(A){r0.initJsonSchema=A}function eF1(){return r0.initJsonSchema}function lhA(A){if(!r0.registeredHooks)r0.registeredHooks={};for(let[Q,B]of Object.entries(A)){let G=Q;if(!r0.registeredHooks[G])r0.registeredHooks[G]=[];r0.registeredHooks[G].push(...B)}}function ihA(){return r0.registeredHooks}function PEA(){return r0.planSlugCache}function nhA(A){r0.teleportedSessionInfo={isTeleported:!0,hasLoggedFirstMessage:!1,sessionId:A.sessionId}}function AE1(){return r0.teleportedSessionInfo}function QE1(){if(r0.teleportedSessionInfo)r0.teleportedSessionInfo.hasLoggedFirstMessage=!0}function KP0(A,Q,B){r0.invokedSkills.set(A,{skillName:A,skillPath:Q,content:B,invokedAt:Date.now()})}function VP0(){return r0.invokedSkills}var r0;var o0=O(()=>{UT0();xhA();r0=_w9()});function ahA({writeFn:A,flushIntervalMs:Q=1000,maxBufferSize:B=100,immediateMode:G=!1}){let Z=[],Y=null;function J(){if(Y)clearTimeout(Y),Y=null}function X(){if(Z.length===0)return;A(Z.join(\"\")),Z=[],J()}function I(){if(!Y)Y=setTimeout(X,Q)}return{write(W){if(G){A(W);return}if(Z.push(W),I(),Z.length>=B)X()},flush:X,dispose(){X()}}}function B3(A){return BE1.add(A),()=>BE1.delete(A)}async function HP0(){await Promise.all(Array.from(BE1).map((A)=>A()))}var BE1;var YK=O(()=>{BE1=new Set});import{dirname as GE1,join as DP0}from\"path\";function Tw9(A){if(typeof process>\"u\"||typeof process.versions>\"u\"||typeof process.versions.node>\"u\")return!1;let Q=jw9();return k_0(A,Q)}function EP0(A){FP0=A}function Pw9(){if(!ohA)ohA=ahA({writeFn:(A)=>{let Q=dt();if(!jA().existsSync(GE1(Q)))jA().mkdirSync(GE1(Q));jA().appendFileSync(Q,A),Sw9()},flushIntervalMs:1000,maxBufferSize:100,immediateMode:S8A()}),B3(async()=>ohA?.dispose());return ohA}function k(A,{level:Q}={level:\"debug\"}){if(!Tw9(A))return;if(FP0&&A.includes(`\n`);if($)G.originalMessage=G.message,G.message=N;else G=Error(N);if(G.shortMessage=L,G.command=J,G.escapedCommand=X,G.exitCode=Y,G.signal=Z,G.signalDescription=D,G.stdout=A,G.stderr=Q,G.cwd=H,B!==void 0)G.all=B;if(\"bufferedData\"in G)delete G.bufferedData;return G.failed=!0,G.timedOut=Boolean(I),G.isCanceled=W,G.killed=K&&!I,G};var Hd0=O(()=>{Vd0()});var egA,Dp9=(A)=>egA.some((Q)=>A[Q]!==void 0),Dd0=(A)=>{if(!A)return;let{stdio:Q}=A;if(Q===void 0)return egA.map((G)=>A[G]);if(Dp9(A))throw Error(`It's not possible to provide \\`stdio\\` in combination with one of ${egA.map((G)=>`\\`${G}\\``).join(\", \")}`);if(typeof Q===\"string\")return Q;if(!Array.isArray(Q))throw TypeError(`Expected \\`stdio\\` to be of type \\`string\\` or \\`Array\\`, got \\`${typeof Q}\\``);let B=Math.max(Q.length,egA.length);return Array.from({length:B},(G,Z)=>Q[Z])};var Fd0=O(()=>{egA=[\"stdin\",\"stdout\",\"stderr\"]});var tt;var Ed0=O(()=>{tt=[];tt.push(\"SIGHUP\",\"SIGINT\",\"SIGTERM\");if(process.platform!==\"win32\")tt.push(\"SIGALRM\",\"SIGABRT\",\"SIGVTALRM\",\"SIGXCPU\",\"SIGXFSZ\",\"SIGUSR2\",\"SIGTRAP\",\"SIGSYS\",\"SIGQUIT\",\"SIGIOT\");if(process.platform===\"linux\")tt.push(\"SIGIO\",\"SIGPOLL\",\"SIGPWR\",\"SIGSTKFLT\")});class zd0\n\n... [19 lines truncated] ...","is_error":false}]},"uuid":"06177009-de77-4f90-9abd-10d47781be0c","timestamp":"2025-12-30T01:37:43.548Z","toolUseResult":{"stdout":"`);Y=W[0]||\"\";for(let K=W.length-1;K>=1;K--){let V=W[K];if(V)yield V}}if(Y)yield Y}finally{await B.close()}}var PC9=5,SC9,xC9;var HQ=O(()=>{Q0();SC9={cwd(){return process.cwd()},existsSync(A){return oI(\"existsSync\",()=>l9.existsSync(A))},async stat(A){return jC9(A)},statSync(A){return oI(\"statSync\",()=>l9.statSync(A))},lstatSync(A){return oI(\"lstatSync\",()=>l9.lstatSync(A))},readFileSync(A,Q){return oI(\"readFileSync\",()=>l9.readFileSync(A,{encoding:Q.encoding}))},readFileBytesSync(A){return oI(\"readFileBytesSync\",()=>l9.readFileSync(A))},readSync(A,Q){return oI(\"readSync\",()=>{let B=void 0;try{B=l9.openSync(A,\"r\");let G=Buffer.alloc(Q.length),Z=l9.readSync(B,G,0,Q.length,0);return{buffer:G,bytesRead:Z}}finally{if(B)l9.closeSync(B)}})},writeFileSync(A,Q,B){return oI(\"writeFileSync\",()=>{let G=l9.existsSync(A);if(!B.flush){let Y={encoding:B.encoding};if(!G)Y.mode=B.mode??384;else if(B.mode!==void 0)Y.mode=B.mode;l9.writeFileSync(A,Q,Y);return}let Z;try{let Y=!G?B.mode??384:B.mode;Z=l9.openSync(A,\"w\",Y),l9.writeFileSync(Z,Q,{encoding:B.encoding}),l9.fsyncSync(Z)}finally{if(Z)l9.closeSync(Z)}})},appendFileSync(A,Q,B){return oI(\"appendFileSync\",()=>{if(!l9.existsSync(A)){let G=B?.mode??384,Z=l9.openSync(A,\"a\",G);try{l9.appendFileSync(Z,Q)}finally{l9.closeSync(Z)}}else l9.appendFileSync(A,Q)})},copyFileSync(A,Q){return oI(\"copyFileSync\",()=>l9.copyFileSync(A,Q))},unlinkSync(A){return oI(\"unlinkSync\",()=>l9.unlinkSync(A))},renameSync(A,Q){return oI(\"renameSync\",()=>l9.renameSync(A,Q))},linkSync(A,Q){return oI(\"linkSync\",()=>l9.linkSync(A,Q))},symlinkSync(A,Q){return oI(\"symlinkSync\",()=>l9.symlinkSync(A,Q))},readlinkSync(A){return oI(\"readlinkSync\",()=>l9.readlinkSync(A))},realpathSync(A){return oI(\"realpathSync\",()=>l9.realpathSync(A))},mkdirSync(A){return oI(\"mkdirSync\",()=>{if(!l9.existsSync(A))l9.mkdirSync(A,{recursive:!0,mode:448})})},readdirSync(A){return oI(\"readdirSync\",()=>l9.readdirSync(A,{withFileTypes:!0}))},readdirStringSync(A){return oI(\"readdirStringSync\",()=>l9.readdirSync(A))},isDirEmptySync(A){return oI(\"isDirEmptySync\",()=>{return this.readdirSync(A).length===0})},rmdirSync(A){return oI(\"rmdirSync\",()=>l9.rmdirSync(A))},rmSync(A,Q){return oI(\"rmSync\",()=>l9.rmSync(A,Q))},createWriteStream(A){return l9.createWriteStream(A)}},xC9=SC9});import{join as yC9}from\"path\";import{homedir as vC9}from\"os\";function vQ(){return process.env.CLAUDE_CONFIG_DIR??yC9(vC9(),\".claude\")}function F0(A){if(!A)return!1;if(typeof A===\"boolean\")return A;let Q=A.toLowerCase().trim();return[\"1\",\"true\",\"yes\",\"on\"].includes(Q)}function AI(A){if(A===void 0)return!1;if(typeof A===\"boolean\")return!A;if(!A)return!1;let Q=A.toLowerCase().trim();return[\"0\",\"false\",\"no\",\"off\"].includes(Q)}function h_0(A){let Q={};if(A)for(let B of A){let[G,...Z]=B.split(\"=\");if(!G||Z.length===0)throw Error(`Invalid environment variable format: ${B}, environment variables should be added as: -e KEY1=value1 -e KEY2=value2`);Q[G]=Z.join(\"=\")}return Q}function bt(){return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION||\"us-east-1\"}function Jj(){return process.env.CLOUD_ML_REGION||\"us-east5\"}function NF1(){return F0(process.env.CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR)}function ofA(A){if(A?.startsWith(\"claude-haiku-4-5\"))return process.env.VERTEX_REGION_CLAUDE_HAIKU_4_5||Jj();if(A?.startsWith(\"claude-3-5-haiku\"))return process.env.VERTEX_REGION_CLAUDE_3_5_HAIKU||Jj();if(A?.startsWith(\"claude-3-5-sonnet\"))return process.env.VERTEX_REGION_CLAUDE_3_5_SONNET||Jj();if(A?.startsWith(\"claude-3-7-sonnet\"))return process.env.VERTEX_REGION_CLAUDE_3_7_SONNET||Jj();if(A?.startsWith(\"claude-opus-4-1\"))return process.env.VERTEX_REGION_CLAUDE_4_1_OPUS||Jj();if(A?.startsWith(\"claude-opus-4\"))return process.env.VERTEX_REGION_CLAUDE_4_0_OPUS||Jj();if(A?.startsWith(\"claude-sonnet-4-5\"))return process.env.VERTEX_REGION_CLAUDE_4_5_SONNET||Jj();if(A?.startsWith(\"claude-sonnet-4\"))return process.env.VERTEX_REGION_CLAUDE_4_0_SONNET||Jj();return Jj()}var AB=()=>{};function kC9(){this.__data__=new cp,this.size=0}var g_0;var u_0=O(()=>{zEA();g_0=kC9});function bC9(A){var Q=this.__data__,B=Q.delete(A);return this.size=Q.size,B}var m_0;var d_0=O(()=>{m_0=bC9});function fC9(A){return this.__data__.get(A)}var p_0;var c_0=O(()=>{p_0=fC9});function hC9(A){return this.__data__.has(A)}var l_0;var i_0=O(()=>{l_0=hC9});function uC9(A,Q){var B=this.__data__;if(B instanceof cp){var G=B.__data__;if(!lp||G.length<gC9-1)return G.push([A,Q]),this.size=++B.size,this;B=this.__data__=new vt(G)}return B.set(A,Q),this.size=B.size,this}var gC9=200,n_0;var a_0=O(()=>{zEA();nfA();afA();n_0=uC9});function Y8A(A){var Q=this.__data__=new cp(A);this.size=Q.size}var zx;var $EA=O(()=>{zEA();u_0();d_0();c_0();i_0();a_0();Y8A.prototype.clear=g_0;Y8A.prototype.delete=m_0;Y8A.prototype.get=p_0;Y8A.prototype.has=l_0;Y8A.prototype.set=n_0;zx=Y8A});function dC9(A){return this.__data__.set(A,mC9),this}var mC9=\"__lodash_hash_undefined__\",o_0;var r_0=O(()=>{o_0=dC9});function pC9(A){return this.__data__.has(A)}var s_0;var t_0=O(()=>{s_0=pC9});function rfA(A){var Q=-1,B=A==null?0:A.length;this.__data__=new vt;while(++Q<B)this.add(A[Q])}var sfA;var LF1=O(()=>{afA();r_0();t_0();rfA.prototype.add=rfA.prototype.push=o_0;rfA.prototype.has=s_0;sfA=rfA});function cC9(A,Q){var B=-1,G=A==null?0:A.length;while(++B<G)if(Q(A[B],B,A))return!0;return!1}var e_0;var Aj0=O(()=>{e_0=cC9});function lC9(A,Q){return A.has(Q)}var tfA;var OF1=O(()=>{tfA=lC9});function aC9(A,Q,B,G,Z,Y){var J=B&iC9,X=A.length,I=Q.length;if(X!=I&&!(J&&I>X))return!1;var W=Y.get(A),K=Y.get(Q);if(W&&K)return W==Q&&K==A;var V=-1,H=!0,D=B&nC9?new sfA:void 0;Y.set(A,Q),Y.set(Q,A);while(++V<X){var F=A[V],E=Q[V];if(G)var z=J?G(E,F,V,Q,A,Y):G(F,E,V,A,Q,Y);if(z!==void 0){if(z)continue;H=!1;break}if(D){if(!e_0(Q,function($,L){if(!tfA(D,L)&&(F===$||Z(F,$,B,G,Y)))return D.push(L)})){H=!1;break}}else if(!(F===E||Z(F,E,B,G,Y))){H=!1;break}}return Y.delete(A),Y.delete(Q),H}var iC9=1,nC9=2,efA;var MF1=O(()=>{LF1();Aj0();OF1();efA=aC9});var oC9,J8A;var RF1=O(()=>{Yj();oC9=ZK.Uint8Array,J8A=oC9});function rC9(A){var Q=-1,B=Array(A.size);return A.forEach(function(G,Z){B[++Q]=[Z,G]}),B}var Qj0;var Bj0=O(()=>{Qj0=rC9});function sC9(A){var Q=-1,B=Array(A.size);return A.forEach(function(G){B[++Q]=G}),B}var X8A;var AhA=O(()=>{X8A=sC9});function V$9(A,Q,B,G,Z,Y,J){switch(B){case K$9:if(A.byteLength!=Q.byteLength||A.byteOffset!=Q.byteOffset)return!1;A=A.buffer,Q=Q.buffer;case W$9:if(A.byteLength!=Q.byteLength||!Y(new J8A(A),new J8A(Q)))return!1;return!0;case A$9:case Q$9:case Z$9:return Fx(+A,+Q);case B$9:return A.name==Q.name&&A.message==Q.message;case Y$9:case X$9:return A==Q+\"\";case G$9:var X=Qj0;case J$9:var I=G&tC9;if(X||(X=X8A),A.size!=Q.size&&!I)return!1;var W=J.get(A);if(W)return W==Q;G|=eC9,J.set(A,Q);var K=efA(X(A),X(Q),G,Z,Y,J);return J.delete(A),K;case I$9:if(_F1)return _F1.call(A)==_F1.call(Q)}return!1}var tC9=1,eC9=2,A$9=\"[object Boolean]\",Q$9=\"[object Date]\",B$9=\"[object Error]\",G$9=\"[object Map]\",Z$9=\"[object Number]\",Y$9=\"[object RegExp]\",J$9=\"[object Set]\",X$9=\"[object String]\",I$9=\"[object Symbol]\",W$9=\"[object ArrayBuffer]\",K$9=\"[object DataView]\",Gj0,_F1,Zj0;var Yj0=O(()=>{xt();RF1();B8A();MF1();Bj0();AhA();Gj0=zH?zH.prototype:void 0,_F1=Gj0?Gj0.valueOf:void 0;Zj0=V$9});function H$9(A,Q){var B=-1,G=Q.length,Z=A.length;while(++B<G)A[Z+B]=Q[B];return A}var I8A;var QhA=O(()=>{I8A=H$9});var D$9,HG;var IC=O(()=>{D$9=Array.isArray,HG=D$9});function F$9(A,Q,B){var G=Q(A);return HG(A)?G:I8A(G,B(A))}var BhA;var jF1=O(()=>{QhA();IC();BhA=F$9});function E$9(A,Q){var B=-1,G=A==null?0:A.length,Z=0,Y=[];while(++B<G){var J=A[B];if(Q(J,B,A))Y[Z++]=J}return Y}var GhA;var TF1=O(()=>{GhA=E$9});function z$9(){return[]}var ZhA;var PF1=O(()=>{ZhA=z$9});var C$9,$$9,Jj0,U$9,W8A;var YhA=O(()=>{TF1();PF1();C$9=Object.prototype,$$9=C$9.propertyIsEnumerable,Jj0=Object.getOwnPropertySymbols,U$9=!Jj0?ZhA:function(A){if(A==null)return[];return A=Object(A),GhA(Jj0(A),function(Q){return $$9.call(A,Q)})},W8A=U$9});function w$9(A,Q){var B=-1,G=Array(A);while(++B<A)G[B]=Q(B);return G}var Xj0;var Ij0=O(()=>{Xj0=w$9});function q$9(A){return A!=null&&typeof A==\"object\"}var HV;var Cx=O(()=>{HV=q$9});function L$9(A){return HV(A)&&hq(A)==N$9}var N$9=\"[object Arguments]\",SF1;var Wj0=O(()=>{yt();Cx();SF1=L$9});var Kj0,O$9,M$9,R$9,gf;var UEA=O(()=>{Wj0();Cx();Kj0=Object.prototype,O$9=Kj0.hasOwnProperty,M$9=Kj0.propertyIsEnumerable,R$9=SF1(function(){return arguments}())?SF1:function(A){return HV(A)&&O$9.call(A,\"callee\")&&!M$9.call(A,\"callee\")},gf=R$9});function _$9(){return!1}var Vj0;var Hj0=O(()=>{Vj0=_$9});var XhA={};M5(XhA,{default:()=>$x});var Ej0,Dj0,j$9,Fj0,T$9,P$9,$x;var wEA=O(()=>{Yj();Hj0();Ej0=typeof XhA==\"object\"&&XhA&&!XhA.nodeType&&XhA,Dj0=Ej0&&typeof JhA==\"object\"&&JhA&&!JhA.nodeType&&JhA,j$9=Dj0&&Dj0.exports===Ej0,Fj0=j$9?ZK.Buffer:void 0,T$9=Fj0?Fj0.isBuffer:void 0,P$9=T$9||Vj0,$x=P$9});function y$9(A,Q){var B=typeof A;return Q=Q==null?S$9:Q,!!Q&&(B==\"number\"||B!=\"symbol\"&&x$9.test(A))&&(A>-1&&A%1==0&&A<Q)}var S$9=9007199254740991,x$9,np;var qEA=O(()=>{x$9=/^(?:0|[1-9]\\d*)$/;np=y$9});function k$9(A){return typeof A==\"number\"&&A>-1&&A%1==0&&A<=v$9}var v$9=9007199254740991,K8A;var IhA=O(()=>{K8A=k$9});function JU9(A){return HV(A)&&K8A(A.length)&&!!dY[hq(A)]}var b$9=\"[object Arguments]\",f$9=\"[object Array]\",h$9=\"[object Boolean]\",g$9=\"[object Date]\",u$9=\"[object Error]\",m$9=\"[object Function]\",d$9=\"[object Map]\",p$9=\"[object Number]\",c$9=\"[object Object]\",l$9=\"[object RegExp]\",i$9=\"[object Set]\",n$9=\"[object String]\",a$9=\"[object WeakMap]\",o$9=\"[object ArrayBuffer]\",r$9=\"[object DataView]\",s$9=\"[object Float32Array]\",t$9=\"[object Float64Array]\",e$9=\"[object Int8Array]\",AU9=\"[object Int16Array]\",QU9=\"[object Int32Array]\",BU9=\"[object Uint8Array]\",GU9=\"[object Uint8ClampedArray]\",ZU9=\"[object Uint16Array]\",YU9=\"[object Uint32Array]\",dY,zj0;var Cj0=O(()=>{yt();IhA();Cx();dY={};dY[s$9]=dY[t$9]=dY[e$9]=dY[AU9]=dY[QU9]=dY[BU9]=dY[GU9]=dY[ZU9]=dY[YU9]=!0;dY[b$9]=dY[f$9]=dY[o$9]=dY[h$9]=dY[r$9]=dY[g$9]=dY[u$9]=dY[m$9]=dY[d$9]=dY[p$9]=dY[c$9]=dY[l$9]=dY[i$9]=dY[n$9]=dY[a$9]=!1;zj0=JU9});function XU9(A){return function(Q){return A(Q)}}var V8A;var WhA=O(()=>{V8A=XU9});var VhA={};M5(VhA,{default:()=>Ux});var $j0,NEA,IU9,xF1,WU9,Ux;var HhA=O(()=>{$F1();$j0=typeof VhA==\"object\"&&VhA&&!VhA.nodeType&&VhA,NEA=$j0&&typeof KhA==\"object\"&&KhA&&!KhA.nodeType&&KhA,IU9=NEA&&NEA.exports===$j0,xF1=IU9&&cfA.process,WU9=function(){try{var A=NEA&&NEA.require&&NEA.require(\"util\").types;if(A)return A;return xF1&&xF1.binding&&xF1.binding(\"util\")}catch(Q){}}(),Ux=WU9});var Uj0,KU9,H8A;var DhA=O(()=>{Cj0();WhA();HhA();Uj0=Ux&&Ux.isTypedArray,KU9=Uj0?V8A(Uj0):zj0,H8A=KU9});function DU9(A,Q){var B=HG(A),G=!B&&gf(A),Z=!B&&!G&&$x(A),Y=!B&&!G&&!Z&&H8A(A),J=B||G||Z||Y,X=J?Xj0(A.length,String):[],I=X.length;for(var W in A)if((Q||HU9.call(A,W))&&!(J&&(W==\"length\"||Z&&(W==\"offset\"||W==\"parent\")||Y&&(W==\"buffer\"||W==\"byteLength\"||W==\"byteOffset\")||np(W,I))))X.push(W);return X}var VU9,HU9,FhA;var yF1=O(()=>{Ij0();UEA();IC();wEA();qEA();DhA();VU9=Object.prototype,HU9=VU9.hasOwnProperty;FhA=DU9});function EU9(A){var Q=A&&A.constructor,B=typeof Q==\"function\"&&Q.prototype||FU9;return A===B}var FU9,D8A;var EhA=O(()=>{FU9=Object.prototype;D8A=EU9});function zU9(A,Q){return function(B){return A(Q(B))}}var zhA;var vF1=O(()=>{zhA=zU9});var CU9,wj0;var qj0=O(()=>{vF1();CU9=zhA(Object.keys,Object),wj0=CU9});function wU9(A){if(!D8A(A))return wj0(A);var Q=[];for(var B in Object(A))if(UU9.call(A,B)&&B!=\"constructor\")Q.push(B);return Q}var $U9,UU9,Nj0;var Lj0=O(()=>{EhA();qj0();$U9=Object.prototype,UU9=$U9.hasOwnProperty;Nj0=wU9});function qU9(A){return A!=null&&K8A(A.length)&&!A8A(A)}var wx;var F8A=O(()=>{lfA();IhA();wx=qU9});function NU9(A){return wx(A)?FhA(A):Nj0(A)}var wO;var ft=O(()=>{yF1();Lj0();F8A();wO=NU9});function LU9(A){return BhA(A,wO,W8A)}var LEA;var kF1=O(()=>{jF1();YhA();ft();LEA=LU9});function _U9(A,Q,B,G,Z,Y){var J=B&OU9,X=LEA(A),I=X.length,W=LEA(Q),K=W.length;if(I!=K&&!J)return!1;var V=I;while(V--){var H=X[V];if(!(J?H in Q:RU9.call(Q,H)))return!1}var D=Y.get(A),F=Y.get(Q);if(D&&F)return D==Q&&F==A;var E=!0;Y.set(A,Q),Y.set(Q,A);var z=J;while(++V<I){H=X[V];var $=A[H],L=Q[H];if(G)var N=J?G(L,$,H,Q,A,Y):G($,L,H,A,Q,Y);if(!(N===void 0?$===L||Z($,L,B,G,Y):N)){E=!1;break}z||(z=H==\"constructor\")}if(E&&!z){var M=A.constructor,R=Q.constructor;if(M!=R&&((\"constructor\"in A)&&(\"constructor\"in Q))&&!(typeof M==\"function\"&&M instanceof M&&typeof R==\"function\"&&R instanceof R))E=!1}return Y.delete(A),Y.delete(Q),E}var OU9=1,MU9,RU9,Oj0;var Mj0=O(()=>{kF1();MU9=Object.prototype,RU9=MU9.hasOwnProperty;Oj0=_U9});var jU9,ChA;var Rj0=O(()=>{dp();Yj();jU9=XU(ZK,\"DataView\"),ChA=jU9});var TU9,$hA;var _j0=O(()=>{dp();Yj();TU9=XU(ZK,\"Promise\"),$hA=TU9});var PU9,ap;var bF1=O(()=>{dp();Yj();PU9=XU(ZK,\"Set\"),ap=PU9});var SU9,UhA;var jj0=O(()=>{dp();Yj();SU9=XU(ZK,\"WeakMap\"),UhA=SU9});var Tj0=\"[object Map]\",xU9=\"[object Object]\",Pj0=\"[object Promise]\",Sj0=\"[object Set]\",xj0=\"[object WeakMap]\",yj0=\"[object DataView]\",yU9,vU9,kU9,bU9,fU9,ht,uf;var OEA=O(()=>{Rj0();nfA();_j0();bF1();jj0();yt();UF1();yU9=bf(ChA),vU9=bf(lp),kU9=bf($hA),bU9=bf(ap),fU9=bf(UhA),ht=hq;if(ChA&&ht(new ChA(new ArrayBuffer(1)))!=yj0||lp&&ht(new lp)!=Tj0||$hA&&ht($hA.resolve())!=Pj0||ap&&ht(new ap)!=Sj0||UhA&&ht(new UhA)!=xj0)ht=function(A){var Q=hq(A),B=Q==xU9?A.constructor:void 0,G=B?bf(B):\"\";if(G)switch(G){case yU9:return yj0;case vU9:return Tj0;case kU9:return Pj0;case bU9:return Sj0;case fU9:return xj0}return Q};uf=ht});function uU9(A,Q,B,G,Z,Y){var J=HG(A),X=HG(Q),I=J?kj0:uf(A),W=X?kj0:uf(Q);I=I==vj0?whA:I,W=W==vj0?whA:W;var K=I==whA,V=W==whA,H=I==W;if(H&&$x(A)){if(!$x(Q))return!1;J=!0,K=!1}if(H&&!K)return Y||(Y=new zx),J||H8A(A)?efA(A,Q,B,G,Z,Y):Zj0(A,Q,I,B,G,Z,Y);if(!(B&hU9)){var D=K&&bj0.call(A,\"__wrapped__\"),F=V&&bj0.call(Q,\"__wrapped__\");if(D||F){var E=D?A.value():A,z=F?Q.value():Q;return Y||(Y=new zx),Z(E,z,B,G,Y)}}if(!H)return!1;return Y||(Y=new zx),Oj0(A,Q,B,G,Z,Y)}var hU9=1,vj0=\"[object Arguments]\",kj0=\"[object Array]\",whA=\"[object Object]\",gU9,bj0,fj0;var hj0=O(()=>{$EA();MF1();Yj0();Mj0();OEA();IC();wEA();DhA();gU9=Object.prototype,bj0=gU9.hasOwnProperty;fj0=uU9});function gj0(A,Q,B,G,Z){if(A===Q)return!0;if(A==null||Q==null||!HV(A)&&!HV(Q))return A!==A&&Q!==Q;return fj0(A,Q,B,G,gj0,Z)}var E8A;var qhA=O(()=>{hj0();Cx();E8A=gj0});function pU9(A,Q,B,G){var Z=B.length,Y=Z,J=!G;if(A==null)return!Y;A=Object(A);while(Z--){var X=B[Z];if(J&&X[2]?X[1]!==A[X[0]]:!(X[0]in A))return!1}while(++Z<Y){X=B[Z];var I=X[0],W=A[I],K=X[1];if(J&&X[2]){if(W===void 0&&!(I in A))return!1}else{var V=new zx;if(G)var H=G(W,K,I,A,Q,V);if(!(H===void 0?E8A(K,W,mU9|dU9,G,V):H))return!1}}return!0}var mU9=1,dU9=2,uj0;var mj0=O(()=>{$EA();qhA();uj0=pU9});function cU9(A){return A===A&&!KX(A)}var NhA;var fF1=O(()=>{UO();NhA=cU9});function lU9(A){var Q=wO(A),B=Q.length;while(B--){var G=Q[B],Z=A[G];Q[B]=[G,Z,NhA(Z)]}return Q}var dj0;var pj0=O(()=>{fF1();ft();dj0=lU9});function iU9(A,Q){return function(B){if(B==null)return!1;return B[A]===Q&&(Q!==void 0||(A in Object(B)))}}var LhA;var hF1=O(()=>{LhA=iU9});function nU9(A){var Q=dj0(A);if(Q.length==1&&Q[0][2])return LhA(Q[0][0],Q[0][1]);return function(B){return B===A||uj0(B,A,Q)}}var cj0;var lj0=O(()=>{mj0();pj0();hF1();cj0=nU9});function oU9(A){return typeof A==\"symbol\"||HV(A)&&hq(A)==aU9}var aU9=\"[object Symbol]\",z8A;var OhA=O(()=>{yt();Cx();z8A=oU9});function tU9(A,Q){if(HG(A))return!1;var B=typeof A;if(B==\"number\"||B==\"symbol\"||B==\"boolean\"||A==null||z8A(A))return!0;return sU9.test(A)||!rU9.test(A)||Q!=null&&A in Object(Q)}var rU9,sU9,C8A;var MhA=O(()=>{IC();OhA();rU9=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,sU9=/^\\w*$/;C8A=tU9});function Aw9(A){var Q=W0(A,function(G){if(B.size===eU9)B.clear();return G}),B=Q.cache;return Q}var eU9=500,ij0;var nj0=O(()=>{e2();ij0=Aw9});var Qw9,Bw9,Gw9,aj0;var oj0=O(()=>{nj0();Qw9=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,Bw9=/\\\\(\\\\)?/g,Gw9=ij0(function(A){var Q=[];if(A.charCodeAt(0)===46)Q.push(\"\");return A.replace(Qw9,function(B,G,Z,Y){Q.push(Z?Y.replace(Bw9,\"$1\"):G||B)}),Q}),aj0=Gw9});function Zw9(A,Q){var B=-1,G=A==null?0:A.length,Z=Array(G);while(++B<G)Z[B]=Q(A[B],B,A);return Z}var $8A;var RhA=O(()=>{$8A=Zw9});function tj0(A){if(typeof A==\"string\")return A;if(HG(A))return $8A(A,tj0)+\"\";if(z8A(A))return sj0?sj0.call(A):\"\";var Q=A+\"\";return Q==\"0\"&&1/A==-Yw9?\"-0\":Q}var Yw9=1/0,rj0,sj0,ej0;var AT0=O(()=>{xt();RhA();IC();OhA();rj0=zH?zH.prototype:void 0,sj0=rj0?rj0.toString:void 0;ej0=tj0});function Jw9(A){return A==null?\"\":ej0(A)}var U8A;var _hA=O(()=>{AT0();U8A=Jw9});function Xw9(A,Q){if(HG(A))return A;return C8A(A,Q)?[A]:aj0(U8A(A))}var qx;var w8A=O(()=>{IC();MhA();oj0();_hA();qx=Xw9});function Ww9(A){if(typeof A==\"string\"||z8A(A))return A;var Q=A+\"\";return Q==\"0\"&&1/A==-Iw9?\"-0\":Q}var Iw9=1/0,qO;var gt=O(()=>{OhA();qO=Ww9});function Kw9(A,Q){Q=qx(Q,A);var B=0,G=Q.length;while(A!=null&&B<G)A=A[qO(Q[B++])];return B&&B==G?A:void 0}var q8A;var jhA=O(()=>{w8A();gt();q8A=Kw9});function Vw9(A,Q,B){var G=A==null?void 0:q8A(A,Q);return G===void 0?B:G}var QT0;var BT0=O(()=>{jhA();QT0=Vw9});function Hw9(A,Q){return A!=null&&Q in Object(A)}var GT0;var ZT0=O(()=>{GT0=Hw9});function Dw9(A,Q,B){Q=qx(Q,A);var G=-1,Z=Q.length,Y=!1;while(++G<Z){var J=qO(Q[G]);if(!(Y=A!=null&&B(A,J)))break;A=A[J]}if(Y||++G!=Z)return Y;return Z=A==null?0:A.length,!!Z&&K8A(Z)&&np(J,Z)&&(HG(A)||gf(A))}var YT0;var JT0=O(()=>{w8A();UEA();IC();qEA();IhA();gt();YT0=Dw9});function Fw9(A,Q){return A!=null&&YT0(A,Q,GT0)}var XT0;var IT0=O(()=>{ZT0();JT0();XT0=Fw9});function Cw9(A,Q){if(C8A(A)&&NhA(Q))return LhA(qO(A),Q);return function(B){var G=QT0(B,A);return G===void 0&&G===Q?XT0(B,A):E8A(Q,G,Ew9|zw9)}}var Ew9=1,zw9=2,WT0;var KT0=O(()=>{qhA();BT0();IT0();MhA();fF1();hF1();gt();WT0=Cw9});function $w9(A){return A}var N8A;var ThA=O(()=>{N8A=$w9});function Uw9(A){return function(Q){return Q==null?void 0:Q[A]}}var VT0;var HT0=O(()=>{VT0=Uw9});function ww9(A){return function(Q){return q8A(Q,A)}}var DT0;var FT0=O(()=>{jhA();DT0=ww9});function qw9(A){return C8A(A)?VT0(qO(A)):DT0(A)}var ET0;var zT0=O(()=>{HT0();FT0();MhA();gt();ET0=qw9});function Nw9(A){if(typeof A==\"function\")return A;if(A==null)return N8A;if(typeof A==\"object\")return HG(A)?WT0(A[0],A[1]):cj0(A);return ET0(A)}var Nx;var L8A=O(()=>{lj0();KT0();ThA();IC();zT0();Nx=Nw9});function Lw9(A,Q){var B,G=-1,Z=A.length;while(++G<Z){var Y=Q(A[G]);if(Y!==void 0)B=B===void 0?Y:B+Y}return B}var CT0;var $T0=O(()=>{CT0=Lw9});function Ow9(A,Q){return A&&A.length?CT0(A,Nx(Q,2)):0}var O8A;var UT0=O(()=>{L8A();$T0();O8A=Ow9});var PhA,ShA;var xhA=O(()=>{PhA={name:\"BASH_MAX_OUTPUT_LENGTH\",default:30000,validate:(A)=>{if(!A)return{effective:30000,status:\"valid\"};let G=parseInt(A,10);if(isNaN(G)||G<=0)return{effective:30000,status:\"invalid\",message:`Invalid value \"${A}\" (using default: 30000)`};if(G>150000)return{effective:150000,status:\"capped\",message:`Capped from ${G} to 150000`};return{effective:G,status:\"valid\"}}},ShA={name:\"CLAUDE_CODE_MAX_OUTPUT_TOKENS\",default:32000,validate:(A)=>{if(!A)return{effective:32000,status:\"valid\"};let G=parseInt(A,10);if(isNaN(G)||G<=0)return{effective:32000,status:\"invalid\",message:`Invalid value \"${A}\" (using default: 32000)`};if(G>64000)return{effective:64000,status:\"capped\",message:`Capped from ${G} to 64000`};return{effective:G,status:\"valid\"}}}});function NO(A){if(A.includes(\"[1m]\"))return 1e6;return 200000}var gF1=20000;import{cwd as Mw9}from\"process\";import{realpathSync as Rw9}from\"fs\";import{randomUUID as wT0}from\"crypto\";function _w9(){let A=\"\";if(typeof process<\"u\"&&typeof process.cwd===\"function\")A=Rw9(Mw9());return{originalCwd:A,totalCostUSD:0,totalAPIDuration:0,totalAPIDurationWithoutRetries:0,totalToolDuration:0,startTime:Date.now(),lastInteractionTime:Date.now(),totalLinesAdded:0,totalLinesRemoved:0,hasUnknownModelCost:!1,cwd:A,modelUsage:{},mainLoopModelOverride:void 0,initialMainLoopModel:null,modelStrings:null,isInteractive:!1,clientType:\"cli\",sessionIngressToken:void 0,oauthTokenFromFd:void 0,apiKeyFromFd:void 0,flagSettingsPath:void 0,allowedSettingSources:[\"userSettings\",\"projectSettings\",\"localSettings\",\"flagSettings\",\"policySettings\"],meter:null,sessionCounter:null,locCounter:null,prCounter:null,commitCounter:null,costCounter:null,tokenCounter:null,codeEditToolDecisionCounter:null,activeTimeCounter:null,sessionId:wT0(),loggerProvider:null,eventLogger:null,meterProvider:null,tracerProvider:null,agentColorMap:new Map,agentColorIndex:0,envVarValidators:[PhA,ShA],lastAPIRequest:null,inMemoryErrorLog:[],inlinePlugins:[],sessionBypassPermissionsMode:!1,sessionPersistenceDisabled:!1,hasExitedPlanMode:!1,needsPlanModeExitAttachment:!1,hasExitedDelegateMode:!1,needsDelegateModeExitAttachment:!1,lspRecommendationShownThisSession:!1,initJsonSchema:null,registeredHooks:null,planSlugCache:new Map,teleportedSessionInfo:null,invokedSkills:new Map}}function h0(){return r0.sessionId}function qT0(){return r0.sessionId=wT0(),r0.sessionId}function gq(A){if(r0.sessionId=A,process.env.CLAUDE_CODE_SESSION_ID!==void 0)process.env.CLAUDE_CODE_SESSION_ID=A}function nQ(){return r0.originalCwd}function NT0(A){r0.originalCwd=A}function M8A(){return r0.cwd}function LT0(A){r0.cwd=A}function OT0(A,Q){r0.totalAPIDuration+=A,r0.totalAPIDurationWithoutRetries+=Q}function MT0(A,Q,B){r0.totalCostUSD+=A;let G=r0.modelUsage[B]??{inputTokens:0,outputTokens:0,cacheReadInputTokens:0,cacheCreationInputTokens:0,webSearchRequests:0,costUSD:0,contextWindow:0};G.inputTokens+=Q.input_tokens,G.outputTokens+=Q.output_tokens,G.cacheReadInputTokens+=Q.cache_read_input_tokens??0,G.cacheCreationInputTokens+=Q.cache_creation_input_tokens??0,G.webSearchRequests+=Q.server_tool_use?.web_search_requests??0,G.costUSD+=A,G.contextWindow=NO(B),r0.modelUsage[B]=G}function mD(){return r0.totalCostUSD}function LO(){return r0.totalAPIDuration}function MEA(){return Date.now()-r0.startTime}function RT0(){return r0.totalAPIDurationWithoutRetries}function _T0(){return r0.totalToolDuration}function uF1(A){r0.totalToolDuration+=A}function REA(){r0.lastInteractionTime=Date.now()}function mF1(A,Q){r0.totalLinesAdded+=A,r0.totalLinesRemoved+=Q}function R8A(){return r0.totalLinesAdded}function _8A(){return r0.totalLinesRemoved}function yhA(){return O8A(Object.values(r0.modelUsage),\"inputTokens\")}function vhA(){return O8A(Object.values(r0.modelUsage),\"outputTokens\")}function jT0(){return O8A(Object.values(r0.modelUsage),\"cacheReadInputTokens\")}function TT0(){return O8A(Object.values(r0.modelUsage),\"cacheCreationInputTokens\")}function PT0(){return O8A(Object.values(r0.modelUsage),\"webSearchRequests\")}function dF1(){r0.hasUnknownModelCost=!0}function ST0(){return r0.hasUnknownModelCost}function khA(){return r0.lastInteractionTime}function mf(){return r0.modelUsage}function xT0(){return r0.mainLoopModelOverride}function bhA(){return r0.initialMainLoopModel}function ut(A){r0.mainLoopModelOverride=A}function yT0(A){r0.initialMainLoopModel=A}function _EA(){r0.totalCostUSD=0,r0.totalAPIDuration=0,r0.totalAPIDurationWithoutRetries=0,r0.totalToolDuration=0,r0.startTime=Date.now(),r0.totalLinesAdded=0,r0.totalLinesRemoved=0,r0.hasUnknownModelCost=!1,r0.modelUsage={}}function fhA({totalCostUSD:A,totalAPIDuration:Q,totalAPIDurationWithoutRetries:B,totalToolDuration:G,totalLinesAdded:Z,totalLinesRemoved:Y,lastDuration:J,modelUsage:X}){if(r0.totalCostUSD=A,r0.totalAPIDuration=Q,r0.totalAPIDurationWithoutRetries=B,r0.totalToolDuration=G,r0.totalLinesAdded=Z,r0.totalLinesRemoved=Y,X)r0.modelUsage=X;if(J)r0.startTime=Date.now()-J}function hhA(){return r0.modelStrings}function pF1(A){r0.modelStrings=A}function vT0(A,Q){r0.meter=A,r0.sessionCounter=Q(\"claude_code.session.count\",{description:\"Count of CLI sessions started\"}),r0.locCounter=Q(\"claude_code.lines_of_code.count\",{description:\"Count of lines of code modified, with the 'type' attribute indicating whether lines were added or removed\"}),r0.prCounter=Q(\"claude_code.pull_request.count\",{description:\"Number of pull requests created\"}),r0.commitCounter=Q(\"claude_code.commit.count\",{description:\"Number of git commits created\"}),r0.costCounter=Q(\"claude_code.cost.usage\",{description:\"Cost of the Claude Code session\",unit:\"USD\"}),r0.tokenCounter=Q(\"claude_code.token.usage\",{description:\"Number of tokens used\",unit:\"tokens\"}),r0.codeEditToolDecisionCounter=Q(\"claude_code.code_edit_tool.decision\",{description:\"Count of code editing tool permission decisions (accept/reject) for Edit, Write, and NotebookEdit tools\"}),r0.activeTimeCounter=Q(\"claude_code.active_time.total\",{description:\"Total active time in seconds\",unit:\"s\"})}function kT0(){return r0.sessionCounter}function cF1(){return r0.locCounter}function lF1(){return r0.prCounter}function bT0(){return r0.commitCounter}function fT0(){return r0.costCounter}function jEA(){return r0.tokenCounter}function TEA(){return r0.codeEditToolDecisionCounter}function iF1(){return r0.activeTimeCounter}function ghA(){return r0.loggerProvider}function nF1(A){r0.loggerProvider=A}function hT0(){return r0.eventLogger}function aF1(A){r0.eventLogger=A}function gT0(){return r0.meterProvider}function oF1(A){r0.meterProvider=A}function uhA(){return r0.tracerProvider}function rF1(A){r0.tracerProvider=A}function q9(){return!r0.isInteractive}function mhA(){return r0.isInteractive}function uT0(A){r0.isInteractive=A}function dhA(){return r0.clientType}function mT0(A){r0.clientType=A}function sF1(){return r0.agentColorMap}function tF1(){return r0.flagSettingsPath}function dT0(A){r0.flagSettingsPath=A}function pT0(){return r0.sessionIngressToken}function j8A(A){r0.sessionIngressToken=A}function cT0(){return r0.oauthTokenFromFd}function T8A(A){r0.oauthTokenFromFd=A}function lT0(){return r0.apiKeyFromFd}function P8A(A){r0.apiKeyFromFd=A}function iT0(){return r0.envVarValidators}function nT0(A){r0.lastAPIRequest=A}function phA(){return r0.lastAPIRequest}function aT0(){return[...r0.inMemoryErrorLog]}function oT0(A){if(r0.inMemoryErrorLog.length>=100)r0.inMemoryErrorLog.shift();r0.inMemoryErrorLog.push(A)}function rT0(){return r0.allowedSettingSources}function sT0(A){r0.allowedSettingSources=A}function tT0(){return q9()&&r0.clientType!==\"claude-vscode\"}function eT0(A){r0.inlinePlugins=A}function AP0(){return r0.inlinePlugins}function QP0(A){r0.sessionBypassPermissionsMode=A}function BP0(A){r0.sessionPersistenceDisabled=A}function mt(){return r0.sessionPersistenceDisabled}function GP0(){return r0.hasExitedPlanMode}function df(A){r0.hasExitedPlanMode=A}function ZP0(){return r0.needsPlanModeExitAttachment}function op(A){r0.needsPlanModeExitAttachment=A}function rp(A,Q){if(Q===\"plan\"&&A!==\"plan\")r0.needsPlanModeExitAttachment=!1;if(A===\"plan\"&&Q!==\"plan\")r0.needsPlanModeExitAttachment=!0}function YP0(A){r0.hasExitedDelegateMode=A}function JP0(){return r0.needsDelegateModeExitAttachment}function chA(A){r0.needsDelegateModeExitAttachment=A}function XP0(){return r0.lspRecommendationShownThisSession}function IP0(A){r0.lspRecommendationShownThisSession=A}function WP0(A){r0.initJsonSchema=A}function eF1(){return r0.initJsonSchema}function lhA(A){if(!r0.registeredHooks)r0.registeredHooks={};for(let[Q,B]of Object.entries(A)){let G=Q;if(!r0.registeredHooks[G])r0.registeredHooks[G]=[];r0.registeredHooks[G].push(...B)}}function ihA(){return r0.registeredHooks}function PEA(){return r0.planSlugCache}function nhA(A){r0.teleportedSessionInfo={isTeleported:!0,hasLoggedFirstMessage:!1,sessionId:A.sessionId}}function AE1(){return r0.teleportedSessionInfo}function QE1(){if(r0.teleportedSessionInfo)r0.teleportedSessionInfo.hasLoggedFirstMessage=!0}function KP0(A,Q,B){r0.invokedSkills.set(A,{skillName:A,skillPath:Q,content:B,invokedAt:Date.now()})}function VP0(){return r0.invokedSkills}var r0;var o0=O(()=>{UT0();xhA();r0=_w9()});function ahA({writeFn:A,flushIntervalMs:Q=1000,maxBufferSize:B=100,immediateMode:G=!1}){let Z=[],Y=null;function J(){if(Y)clearTimeout(Y),Y=null}function X(){if(Z.length===0)return;A(Z.join(\"\")),Z=[],J()}function I(){if(!Y)Y=setTimeout(X,Q)}return{write(W){if(G){A(W);return}if(Z.push(W),I(),Z.length>=B)X()},flush:X,dispose(){X()}}}function B3(A){return BE1.add(A),()=>BE1.delete(A)}async function HP0(){await Promise.all(Array.from(BE1).map((A)=>A()))}var BE1;var YK=O(()=>{BE1=new Set});import{dirname as GE1,join as DP0}from\"path\";function Tw9(A){if(typeof process>\"u\"||typeof process.versions>\"u\"||typeof process.versions.node>\"u\")return!1;let Q=jw9();return k_0(A,Q)}function EP0(A){FP0=A}function Pw9(){if(!ohA)ohA=ahA({writeFn:(A)=>{let Q=dt();if(!jA().existsSync(GE1(Q)))jA().mkdirSync(GE1(Q));jA().appendFileSync(Q,A),Sw9()},flushIntervalMs:1000,maxBufferSize:100,immediateMode:S8A()}),B3(async()=>ohA?.dispose());return ohA}function k(A,{level:Q}={level:\"debug\"}){if(!Tw9(A))return;if(FP0&&A.includes(`\n`);if($)G.originalMessage=G.message,G.message=N;else G=Error(N);if(G.shortMessage=L,G.command=J,G.escapedCommand=X,G.exitCode=Y,G.signal=Z,G.signalDescription=D,G.stdout=A,G.stderr=Q,G.cwd=H,B!==void 0)G.all=B;if(\"bufferedData\"in G)delete G.bufferedData;return G.failed=!0,G.timedOut=Boolean(I),G.isCanceled=W,G.killed=K&&!I,G};var Hd0=O(()=>{Vd0()});var egA,Dp9=(A)=>egA.some((Q)=>A[Q]!==void 0),Dd0=(A)=>{if(!A)return;let{stdio:Q}=A;if(Q===void 0)return egA.map((G)=>A[G]);if(Dp9(A))throw Error(`It's not possible to provide \\`stdio\\` in combination with one of ${egA.map((G)=>`\\`${G}\\``).join(\", \")}`);if(typeof Q===\"string\")return Q;if(!Array.isArray(Q))throw TypeError(`Expected \\`stdio\\` to be of type \\`string\\` or \\`Array\\`, got \\`${typeof Q}\\``);let B=Math.max(Q.length,egA.length);return Array.from({length:B},(G,Z)=>Q[Z])};var Fd0=O(()=>{egA=[\"stdin\",\"stdout\",\"stderr\"]});var tt;var Ed0=O(()=>{tt=[];tt.push(\"SIGHUP\",\"SIGINT\",\"SIGTERM\");if(process.platform!==\"win32\")tt.push(\"SIGALRM\",\"SIGABRT\",\"SIGVTALRM\",\"SIGXCPU\",\"SIGXFSZ\",\"SIGUSR2\",\"SIGTRAP\",\"SIGSYS\",\"SIGQUIT\",\"SIGIOT\");if(process.platform===\"linux\")tt.push(\"SIGIO\",\"SIGPOLL\",\"SIGPWR\",\"SIGSTKFLT\")});class zd0\n\n... [19 lines truncated] ...","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"06177009-de77-4f90-9abd-10d47781be0c","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01PSMH6sGWZCdYkseQEs1kD1","type":"tool_result","content":"  15 \"authorization\"\n  10 \"Authorization\"\n   1 \"bearer\"\n  15 \"Bearer\"\n  10 \"x-api-key\"","is_error":false}]},"uuid":"cab35112-594b-4960-9815-692ddc0993c0","timestamp":"2025-12-30T01:37:43.796Z","toolUseResult":{"stdout":"  15 \"authorization\"\n  10 \"Authorization\"\n   1 \"bearer\"\n  15 \"Bearer\"\n  10 \"x-api-key\"","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"cab35112-594b-4960-9815-692ddc0993c0","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01UzEUpq3zpWwSgFkoam3GFS","type":"message","role":"assistant","content":[{"type":"text","text":"Let me try a different approach to extract meaningful strings from the binary:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":14847,"cache_creation_input_tokens":477,"cache_read_input_tokens":39247,"cache_creation":{"ephemeral_5m_input_tokens":477,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CWc1tZyKvEnSB8THdYyTk","type":"assistant","uuid":"99a265b0-d781-4992-b4d6-374430df620a","timestamp":"2025-12-30T01:37:45.723Z"}
{"parentUuid":"99a265b0-d781-4992-b4d6-374430df620a","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01UzEUpq3zpWwSgFkoam3GFS","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01EjJ9ZPE89fievtpygV6ESh","name":"Bash","input":{"command":"strings /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js 2>/dev/null | grep -E \"api\\.anthropic|anthropic\\.com|/api/|/v1/|authorization|Bearer\" | sort | uniq","description":"Extract API and auth related strings from CLI binary"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":14847,"cache_creation_input_tokens":477,"cache_read_input_tokens":39247,"cache_creation":{"ephemeral_5m_input_tokens":477,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CWc1tZyKvEnSB8THdYyTk","type":"assistant","uuid":"51095c1a-78c6-40b1-8fa6-cedc67fef75c","timestamp":"2025-12-30T01:37:46.771Z"}
{"parentUuid":"51095c1a-78c6-40b1-8fa6-cedc67fef75c","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01EjJ9ZPE89fievtpygV6ESh","type":"tool_result","content":"          `]]))[0];return LT3(Y)}throw Error(\"Unable to execute PowerShell. Ensure that it is installed in your system\")}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async()=>{let B=gC(this.tenantId,Q,this.additionallyAllowedTenantIds),G=typeof A===\"string\"?A:A[0];if(B)Qw(Su,B);try{eXA(G,Su),Su.getToken.info(`Using the scope ${G}`);let Z=t21(G),Y=await this.getAzurePowerShellAccessToken(Z,B,this.timeout);return Su.getToken.info(cH(A)),{token:Y.Token,expiresOnTimestamp:new Date(Y.ExpiresOn).getTime(),tokenType:\"Bearer\"}}catch(Z){if(NT3(Z)){let J=new F4(T00.installed);throw Su.getToken.info(UG(G,J)),J}else if(qT3(Z)){let J=new F4(T00.login);throw Su.getToken.info(UG(G,J)),J}let Y=new F4(`${Z}. ${T00.troubleshoot}`);throw Su.getToken.info(UG(G,Y)),Y}})}}async function LT3(A){let Q=/{[^{}]*}/g,B=A.match(Q),G=A;if(B)try{for(let Z of B)try{let Y=JSON.parse(Z);if(Y===null||Y===void 0?void 0:Y.Token){if(G=G.replace(Z,\"\"),G)Su.getToken.warning(G);return Y}}catch(Y){continue}}catch(Z){throw Error(`Unable to parse the output of PowerShell. Received output: ${A}`)}throw Error(`No access token found in the output. Received output: ${A}`)}var Su,FmB,zmB,T00,qT3=(A)=>A.message.match(`(.*)${zmB.login}(.*)`),NT3=(A)=>A.message.match(zmB.installed),P00;var CmB=O(()=>{bT();HW();AIA();hC();HmB();dN();Su=h7(\"AzurePowerShellCredential\"),FmB=process.platform===\"win32\";zmB={login:\"Run Connect-AzAccount to login\",installed:\"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory\"},T00={login:\"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.\",installed:`The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: \"Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force\".`,troubleshoot:\"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot.\"},P00=[EmB(\"pwsh\")];if(FmB)P00.push(EmB(\"powershell\"))});class y00{constructor(...A){this._sources=[],this._sources=A}async getToken(A,Q={}){let{token:B}=await this.getTokenInternal(A,Q);return B}async getTokenInternal(A,Q={}){let B=null,G,Z=[];return iJ.withSpan(\"ChainedTokenCredential.getToken\",Q,async(Y)=>{for(let J=0;J<this._sources.length&&B===null;J++)try{B=await this._sources[J].getToken(A,Y),G=this._sources[J]}catch(X){if(X.name===\"CredentialUnavailableError\"||X.name===\"AuthenticationRequiredError\")Z.push(X);else throw x00.getToken.info(UG(A,X)),X}if(!B&&Z.length>0){let J=new _t1(Z,\"ChainedTokenCredential authentication failed.\");throw x00.getToken.info(UG(A,J)),J}if(x00.getToken.info(`Result for ${G.constructor.name}: ${cH(A)}`),B===null)throw new F4(\"Failed to retrieve a valid token\");return{token:B,successfulCredential:G}})}}var x00;var $mB=O(()=>{hC();HW();dN();x00=h7(\"ChainedTokenCredential\")});import{createHash as UmB,createPrivateKey as OT3}from\"node:crypto\";import{readFile as MT3}from\"node:fs/promises\";class v00{constructor(A,Q,B,G={}){if(!A||!Q)throw Error(`${Y_A}: tenantId and clientId are required parameters.`);this.tenantId=A,this.additionallyAllowedTenantIds=Bw(G===null||G===void 0?void 0:G.additionallyAllowedTenants),this.sendCertificateChain=G.sendCertificateChain,this.certificateConfiguration=Object.assign({},typeof B===\"string\"?{certificatePath:B}:B);let Z=this.certificateConfiguration.certificate,Y=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(Z||Y))throw Error(`${Y_A}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(Z&&Y)throw Error(`${Y_A}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=Za(Q,A,Object.assign(Object.assign({},G),{logger:wmB,tokenCredentialOptions:G}))}async getToken(A,Q={}){return iJ.withSpan(`${Y_A}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,wmB);let G=Array.isArray(A)?A:[A],Z=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(G,Z,B)})}async buildClientCertificate(){var A;let Q=await RT3(this.certificateConfiguration,(A=this.sendCertificateChain)!==null&&A!==void 0?A:!1),B;if(this.certificateConfiguration.certificatePassword!==void 0)B=OT3({key:Q.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:\"pem\"}).export({format:\"pem\",type:\"pkcs8\"}).toString();else B=Q.certificateContents;return{thumbprint:Q.thumbprint,thumbprintSha256:Q.thumbprintSha256,privateKey:B,x5c:Q.x5c}}}async function RT3(A,Q){let{certificate:B,certificatePath:G}=A,Z=B||await MT3(G,\"utf8\"),Y=Q?Z:void 0,J=/(-+BEGIN CERTIFICATE-+)(\\n\\r?|\\r\\n?)([A-Za-z0-9+/\\n\\r]+=*)(\\n\\r?|\\r\\n?)(-+END CERTIFICATE-+)/g,X=[],I;do if(I=J.exec(Z),I)X.push(I[3]);while(I);if(X.length===0)throw Error(\"The file at the specified path does not contain a PEM-encoded certificate.\");let W=UmB(\"sha1\").update(Buffer.from(X[0],\"base64\")).digest(\"hex\").toUpperCase(),K=UmB(\"sha256\").update(Buffer.from(X[0],\"base64\")).digest(\"hex\").toUpperCase();return{certificateContents:Z,thumbprintSha256:K,thumbprint:W,x5c:Y}}var Y_A=\"ClientCertificateCredential\",wmB;var qmB=O(()=>{G_A();bT();HW();dN();wmB=h7(Y_A)});class k00{constructor(A,Q,B,G={}){if(!A)throw new F4(\"ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");if(!Q)throw new F4(\"ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");if(!B)throw new F4(\"ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");this.clientSecret=B,this.tenantId=A,this.additionallyAllowedTenantIds=Bw(G===null||G===void 0?void 0:G.additionallyAllowedTenants),this.msalClient=Za(Q,A,Object.assign(Object.assign({},G),{logger:NmB,tokenCredentialOptions:G}))}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,NmB);let G=s21(A);return this.msalClient.getTokenByClientSecret(G,this.clientSecret,B)})}}var NmB;var LmB=O(()=>{G_A();bT();hC();HW();AIA();dN();NmB=h7(\"ClientSecretCredential\")});class b00{constructor(A,Q,B,G,Z={}){if(!A)throw new F4(\"UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!Q)throw new F4(\"UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!B)throw new F4(\"UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!G)throw new F4(\"UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");this.tenantId=A,this.additionallyAllowedTenantIds=Bw(Z===null||Z===void 0?void 0:Z.additionallyAllowedTenants),this.username=B,this.password=G,this.msalClient=Za(Q,this.tenantId,Object.assign(Object.assign({},Z),{tokenCredentialOptions:Z!==null&&Z!==void 0?Z:{}}))}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,_T3);let G=s21(A);return this.msalClient.getTokenByUsernamePassword(G,this.username,this.password,B)})}}var _T3;var OmB=O(()=>{G_A();bT();hC();HW();AIA();dN();_T3=h7(\"UsernamePasswordCredential\")});function TT3(){var A;return((A=process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS)!==null&&A!==void 0?A:\"\").split(\";\")}function PT3(){var A;let Q=((A=process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN)!==null&&A!==void 0?A:\"\").toLowerCase(),B=Q===\"true\"||Q===\"1\";return xu.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${B}`),B}class f00{constructor(A){this._credential=void 0;let Q=uQ1(jT3).assigned.join(\", \");xu.info(`Found the following environment variables: ${Q}`);let B=process.env.AZURE_TENANT_ID,G=process.env.AZURE_CLIENT_ID,Z=process.env.AZURE_CLIENT_SECRET,Y=TT3(),J=PT3(),X=Object.assign(Object.assign({},A),{additionallyAllowedTenantIds:Y,sendCertificateChain:J});if(B)Qw(xu,B);if(B&&G&&Z){xu.info(`Invoking ClientSecretCredential with tenant ID: ${B}, clientId: ${G} and clientSecret: [REDACTED]`),this._credential=new k00(B,G,Z,X);return}let I=process.env.AZURE_CLIENT_CERTIFICATE_PATH,W=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(B&&G&&I){xu.info(`Invoking ClientCertificateCredential with tenant ID: ${B}, clientId: ${G} and certificatePath: ${I}`),this._credential=new v00(B,G,{certificatePath:I,certificatePassword:W},X);return}let K=process.env.AZURE_USERNAME,V=process.env.AZURE_PASSWORD;if(B&&G&&K&&V)xu.info(`Invoking UsernamePasswordCredential with tenant ID: ${B}, clientId: ${G} and username: ${K}`),xu.warning(\"Environment is configured to use username and password authentication. This authentication method is deprecated, as it doesn't support multifactor authentication (MFA). Use a more secure credential. For more details, see https://aka.ms/azsdk/identity/mfa.\"),this._credential=new b00(B,G,K,V,X)}async getToken(A,Q={}){return iJ.withSpan(`${e21}.getToken`,Q,async(B)=>{if(this._credential)try{let G=await this._credential.getToken(A,B);return xu.getToken.info(cH(A)),G}catch(G){let Z=new GMA(400,{error:`${e21} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:G.message.toString().split(\"More details:\").join(\"\")});throw xu.getToken.info(UG(A,Z)),Z}throw new F4(`${e21} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}}var jT3,e21=\"EnvironmentCredential\",xu;var MmB=O(()=>{hC();HW();qmB();LmB();OmB();bT();dN();jT3=[\"AZURE_TENANT_ID\",\"AZURE_CLIENT_ID\",\"AZURE_CLIENT_SECRET\",\"AZURE_CLIENT_CERTIFICATE_PATH\",\"AZURE_CLIENT_CERTIFICATE_PASSWORD\",\"AZURE_USERNAME\",\"AZURE_PASSWORD\",\"AZURE_ADDITIONALLY_ALLOWED_TENANTS\",\"AZURE_CLIENT_SEND_CERTIFICATE_CHAIN\"];xu=h7(e21)});function ST3(A={}){var Q,B,G,Z;(Q=A.retryOptions)!==null&&Q!==void 0||(A.retryOptions={maxRetries:5,retryDelayInMs:800});let Y=(B=A===null||A===void 0?void 0:A.managedIdentityClientId)!==null&&B!==void 0?B:process.env.AZURE_CLIENT_ID,J=(G=A===null||A===void 0?void 0:A.workloadIdentityClientId)!==null&&G!==void 0?G:Y,X=A===null||A===void 0?void 0:A.managedIdentityResourceId,I=process.env.AZURE_FEDERATED_TOKEN_FILE,W=(Z=A===null||A===void 0?void 0:A.tenantId)!==null&&Z!==void 0?Z:process.env.AZURE_TENANT_ID;if(X){let K=Object.assign(Object.assign({},A),{resourceId:X});return new tXA(K)}if(I&&J){let K=Object.assign(Object.assign({},A),{tenantId:W});return new tXA(J,K)}if(Y){let K=Object.assign(Object.assign({},A),{clientId:Y});return new tXA(K)}return new tXA(A)}function xT3(A){var Q,B,G;let Z=(Q=A===null||A===void 0?void 0:A.managedIdentityClientId)!==null&&Q!==void 0?Q:process.env.AZURE_CLIENT_ID,Y=(B=A===null||A===void 0?void 0:A.workloadIdentityClientId)!==null&&B!==void 0?B:Z,J=process.env.AZURE_FEDERATED_TOKEN_FILE,X=(G=A===null||A===void 0?void 0:A.tenantId)!==null&&G!==void 0?G:process.env.AZURE_TENANT_ID;if(J&&Y){let I=Object.assign(Object.assign({},A),{tenantId:X,clientId:Y,tokenFilePath:J});return new GBA(I)}if(X){let I=Object.assign(Object.assign({},A),{tenantId:X});return new GBA(I)}return new GBA(A)}function yT3(A={}){let Q=A.processTimeoutInMs;return new j00(Object.assign({processTimeoutInMs:Q},A))}function vT3(A={}){let Q=A.processTimeoutInMs;return new _00(Object.assign({processTimeoutInMs:Q},A))}function kT3(A={}){let Q=A.processTimeoutInMs;return new S00(Object.assign({processTimeoutInMs:Q},A))}function bT3(A={}){return new f00(A)}class RmB{constructor(A,Q){this.credentialName=A,this.credentialUnavailableErrorMessage=Q}getToken(){return h00.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}}var h00,A91;var _mB=O(()=>{ZmB();XmB();WmB();CmB();$mB();MmB();O00();HW();h00=h7(\"DefaultAzureCredential\");A91=class A91 extends y00{constructor(A){let Q=process.env.AZURE_TOKEN_CREDENTIALS?process.env.AZURE_TOKEN_CREDENTIALS.trim().toLowerCase():void 0,B=[vT3,kT3,yT3],G=[bT3,xT3,ST3],Z=[];if(Q)switch(Q){case\"dev\":Z=B;break;case\"prod\":Z=G;break;default:{let J=`Invalid value for AZURE_TOKEN_CREDENTIALS = ${process.env.AZURE_TOKEN_CREDENTIALS}. Valid values are 'prod' or 'dev'.`;throw h00.warning(J),Error(J)}}else Z=[...G,...B];let Y=Z.map((J)=>{try{return J(A)}catch(X){return h00.warning(`Skipped ${J.name} because of an error creating the credential: ${X}`),new RmB(J.name,X.message)}});super(...Y)}}});function g00(A,Q,B){let{abortSignal:G,tracingOptions:Z}=B||{},Y=HMA();Y.addPolicy($MA({credential:A,scopes:Q}));async function J(){var X;let W=(X=(await Y.sendRequest({sendRequest:(K)=>Promise.resolve({request:K,status:200,headers:K.headers})},gT({url:\"https://example.com\",abortSignal:G,tracingOptions:Z}))).headers.get(\"authorization\"))===null||X===void 0?void 0:X.split(\" \")[1];if(!W)throw Error(\"Failed to get access token\");return W}return J}var jmB=O(()=>{Wu()});var TmB=O(()=>{_mB();jmB();yvB()});function Q91(){return{error:(A,...Q)=>console.error(\"[Anthropic SDK ERROR]\",A,...Q),warn:(A,...Q)=>console.error(\"[Anthropic SDK WARN]\",A,...Q),info:(A,...Q)=>console.error(\"[Anthropic SDK INFO]\",A,...Q),debug:(A,...Q)=>console.error(\"[Anthropic SDK DEBUG]\",A,...Q)}}async function oC({apiKey:A,maxRetries:Q,model:B,fetchOverride:G}){let Z=process.env.CLAUDE_CODE_CONTAINER_ID,Y=process.env.CLAUDE_CODE_REMOTE_SESSION_ID,J={\"x-app\":\"cli\",\"User-Agent\":Yi(),...hT3(),...Z?{\"x-claude-remote-container-id\":Z}:{},...Y?{\"x-claude-remote-session-id\":Y}:{}};if(F0(process.env.CLAUDE_CODE_ADDITIONAL_PROTECTION))J[\"x-anthropic-additional-protection\"]=\"true\";if(await Vg(),!zB())fT3(J,q9());let I={defaultHeaders:J,maxRetries:Q,timeout:parseInt(process.env.API_TIMEOUT_MS||String(600000),10),dangerouslyAllowBrowser:!0,fetchOptions:FZA(),...G&&{fetch:G}};if(F0(process.env.CLAUDE_CODE_USE_BEDROCK)){let K=B===UK()&&process.env.ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION?process.env.ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION:bt(),V={...I,awsRegion:K,...F0(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH)&&{skipAuth:!0},...Lx()&&{logger:Q91()}};if(process.env.AWS_BEARER_TOKEN_BEDROCK)V.skipAuth=!0,V.defaultHeaders={...V.defaultHeaders,Authorization:`Bearer ${process.env.AWS_BEARER_TOKEN_BEDROCK}`};else if(!F0(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH)){let H=await X1A();if(H)V.awsAccessKey=H.accessKeyId,V.awsSecretKey=H.secretAccessKey,V.awsSessionToken=H.sessionToken}return new k01(V)}if(F0(process.env.CLAUDE_CODE_USE_FOUNDRY)){let K;if(!process.env.ANTHROPIC_FOUNDRY_API_KEY)if(F0(process.env.CLAUDE_CODE_SKIP_FOUNDRY_AUTH))K=()=>Promise.resolve(\"\");else K=g00(new A91,\"https://cognitiveservices.azure.com/.default\");let V={...I,...K&&{azureADTokenProvider:K},...Lx()&&{logger:Q91()}};return new g01(V)}if(F0(process.env.CLAUDE_CODE_USE_VERTEX)){let K=process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project,V=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials,H=F0(process.env.CLAUDE_CODE_SKIP_VERTEX_AUTH)?{getClient:()=>({getRequestHeaders:()=>({})})}:new PmB.GoogleAuth({scopes:[\"https://www.googleapis.com/auth/cloud-platform\"],...K||V?{}:{projectId:process.env.ANTHROPIC_VERTEX_PROJECT_ID}}),D={...I,region:ofA(B),googleAuth:H,...Lx()&&{logger:Q91()}};return new yQ1(D)}let W={apiKey:zB()?null:A||eq(),authToken:zB()?d6()?.accessToken:void 0,...{},...I,...Lx()&&{logger:Q91()}};return new OT(W)}function fT3(A,Q){let B=process.env.ANTHROPIC_AUTH_TOKEN||vqA(Q);if(B)A.Authorization=`Bearer ${B}`}function hT3(){let A={},Q=process.env.ANTHROPIC_CUSTOM_HEADERS;if(!Q)return A;let B=Q.split(/\\n|\\r\\n/);for(let G of B){if(!G.trim())continue;let Z=G.match(/^\\s*(.*?)\\s*:\\s*(.*?)\\s*$/);if(Z){let[,Y,J]=Z;if(Y&&J!==void 0)A[Y]=J}}return A}var PmB;var ZBA=O(()=>{NOB();jOB();jv();TSB();TmB();V2();o0();dE();AB();Bi();cY();Q0();J9();PmB=l(Ht1(),1)});import{createHash as ymB}from\"crypto\";import{dirname as B91,join as vmB}from\"path\";import*as kmB from\"path\";function u00(){return!1}async function gT3(A,Q,B){if(!u00())return await B();let G=ymB(\"sha1\").update(JSON.stringify(A)).digest(\"hex\").slice(0,12),Z=vmB(process.env.CLAUDE_CODE_TEST_FIXTURES_ROOT??t1(),`fixtures/${Q}-${G}.json`);if(jA().existsSync(Z))return JSON.parse(jA().readFileSync(Z,{encoding:\"utf8\"}));if(DQ.isCI)throw Error(`Fixture missing: ${Z}. Re-run npm test locally, then commit the result.`);let Y=await B();if(!jA().existsSync(B91(Z)))jA().mkdirSync(B91(Z));return jA().writeFileSync(Z,JSON.stringify(Y,null,2),{encoding:\"utf8\",flush:!1}),Y}async function m00(A,Q){if(!u00())return await Q();let B=GJ(A.filter((J)=>{if(J.type!==\"user\")return!0;if(J.isMeta)return!1;return!0})),G=mT3(B.map((J)=>J.message.content),xmB),Z=vmB(process.env.CLAUDE_CODE_TEST_FIXTURES_ROOT??t1(),`fixtures/${G.map((J)=>ymB(\"sha1\").update(JSON.stringify(J)).digest(\"hex\").slice(0,6)).join(\"-\")}.json`);if(jA().existsSync(Z)){let J=JSON.parse(jA().readFileSync(Z,{encoding:\"utf8\"}));return J.output.forEach(uT3),J.output.map((X,I)=>SmB(X,pT3,I))}if(DQ.isCI)throw Error(`Anthropic API fixture missing: ${Z}. Re-run npm test locally, then commit the result. Input messages:\n      \"AZURE_FEDERATED_TOKEN_FILE\". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`;throw Z_A.info(B),new F4(B)}return Z_A.info(\"Invoking getToken() of Client Assertion Credential\"),this.client.getToken(A,Q)}async readFileContents(){if(this.cacheDate!==void 0&&Date.now()-this.cacheDate>=300000)this.azureFederatedTokenFileContent=void 0;if(!this.federatedTokenFilePath)throw new F4(`${BBA}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let Q=(await ET3(this.federatedTokenFilePath,\"utf8\")).trim();if(!Q)throw new F4(`${BBA}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`);else this.azureFederatedTokenFileContent=Q,this.cacheDate=Date.now()}return this.azureFederatedTokenFileContent}}var BBA=\"WorkloadIdentityCredential\",zT3,Z_A;var O00=O(()=>{HW();QmB();hC();bT();zT3=[\"AZURE_TENANT_ID\",\"AZURE_CLIENT_ID\",\"AZURE_FEDERATED_TOKEN_FILE\"],Z_A=h7(BBA)});var BmB=\"ManagedIdentityCredential - Token Exchange\",CT3,M00;var GmB=O(()=>{O00();HW();CT3=h7(BmB),M00={name:\"tokenExchangeMsi\",async isAvailable(A){let Q=process.env,B=Boolean((A||Q.AZURE_CLIENT_ID)&&Q.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);if(!B)CT3.info(`${BmB}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`);return B},async getToken(A,Q={}){let{scopes:B,clientId:G}=A,Z={};return new GBA(Object.assign(Object.assign({clientId:G,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE},Z),{disableInstanceDiscovery:!0})).getToken(B,Q)}}});class tXA{constructor(A,Q){var B,G;this.msiRetryConfig={maxRetries:5,startDelayInMs:800,intervalIncrement:2};let Z;if(typeof A===\"string\")this.clientId=A,Z=Q!==null&&Q!==void 0?Q:{};else this.clientId=A===null||A===void 0?void 0:A.clientId,Z=A!==null&&A!==void 0?A:{};this.resourceId=Z===null||Z===void 0?void 0:Z.resourceId,this.objectId=Z===null||Z===void 0?void 0:Z.objectId;let Y=[{key:\"clientId\",value:this.clientId},{key:\"resourceId\",value:this.resourceId},{key:\"objectId\",value:this.objectId}].filter((X)=>X.value);if(Y.length>1)throw Error(`ManagedIdentityCredential: only one of 'clientId', 'resourceId', or 'objectId' can be provided. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}`);if(Z.allowInsecureConnection=!0,((B=Z.retryOptions)===null||B===void 0?void 0:B.maxRetries)!==void 0)this.msiRetryConfig.maxRetries=Z.retryOptions.maxRetries;this.identityClient=new wXA(Object.assign(Object.assign({},Z),{additionalPolicies:[{policy:juB(this.msiRetryConfig),position:\"perCall\"}]})),this.managedIdentityApp=new ov({managedIdentityIdParams:{userAssignedClientId:this.clientId,userAssignedResourceId:this.resourceId,userAssignedObjectId:this.objectId},system:{disableInternalRetries:!0,networkClient:this.identityClient,loggerOptions:{logLevel:a21(gQ1()),piiLoggingEnabled:(G=Z.loggingOptions)===null||G===void 0?void 0:G.enableUnsafeSupportLogging,loggerCallback:n21(nN)}}}),this.isAvailableIdentityClient=new wXA(Object.assign(Object.assign({},Z),{retryOptions:{maxRetries:0}}));let J=this.managedIdentityApp.getManagedIdentitySource();if(J===\"CloudShell\"){if(this.clientId||this.resourceId||this.objectId)throw nN.warning(`CloudShell MSI detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new F4(\"ManagedIdentityCredential: Specifying a user-assigned managed identity is not supported for CloudShell at runtime. When using Managed Identity in CloudShell, omit the clientId, resourceId, and objectId parameters.\")}if(J===\"ServiceFabric\"){if(this.clientId||this.resourceId||this.objectId)throw nN.warning(`Service Fabric detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new F4(`ManagedIdentityCredential: ${PvB}`)}if(nN.info(`Using ${J} managed identity.`),Y.length===1){let{key:X,value:I}=Y[0];nN.info(`${J} with ${X}: ${I}`)}}async getToken(A,Q={}){nN.getToken.info(\"Using the MSAL provider for Managed Identity.\");let B=wMA(A);if(!B)throw new F4(`ManagedIdentityCredential: Multiple scopes are not supported. Scopes: ${JSON.stringify(A)}`);return iJ.withSpan(\"ManagedIdentityCredential.getToken\",Q,async()=>{var G;try{let Z=await M00.isAvailable(this.clientId),Y=this.managedIdentityApp.getManagedIdentitySource(),J=Y===\"DefaultToImds\"||Y===\"Imds\";if(nN.getToken.info(`MSAL Identity source: ${Y}`),Z){nN.getToken.info(\"Using the token exchange managed identity.\");let I=await M00.getToken({scopes:A,clientId:this.clientId,identityClient:this.identityClient,retryConfig:this.msiRetryConfig,resourceId:this.resourceId});if(I===null)throw new F4(\"Attempted to use the token exchange managed identity, but received a null response.\");return I}else if(J){if(nN.getToken.info(\"Using the IMDS endpoint to probe for availability.\"),!await X00.isAvailable({scopes:A,clientId:this.clientId,getTokenOptions:Q,identityClient:this.isAvailableIdentityClient,resourceId:this.resourceId}))throw new F4(\"Attempted to use the IMDS endpoint, but it is not available.\")}nN.getToken.info(\"Calling into MSAL for managed identity token.\");let X=await this.managedIdentityApp.acquireToken({resource:B});return this.ensureValidMsalToken(A,X,Q),nN.getToken.info(cH(A)),{expiresOnTimestamp:X.expiresOn.getTime(),token:X.accessToken,refreshAfterTimestamp:(G=X.refreshOn)===null||G===void 0?void 0:G.getTime(),tokenType:\"Bearer\"}}catch(Z){if(nN.getToken.error(UG(A,Z)),Z.name===\"AuthenticationRequiredError\")throw Z;if($T3(Z))throw new F4(`ManagedIdentityCredential: Network unreachable. Message: ${Z.message}`,{cause:Z});throw new F4(`ManagedIdentityCredential: Authentication failed. Message ${Z.message}`,{cause:Z})}})}ensureValidMsalToken(A,Q,B){let G=(Z)=>{return nN.getToken.info(Z),new Ju({scopes:Array.isArray(A)?A:[A],getTokenOptions:B,message:Z})};if(!Q)throw G(\"No response.\");if(!Q.expiresOn)throw G('Response had no \"expiresOn\" property.');if(!Q.accessToken)throw G('Response had no \"accessToken\" property.')}}function $T3(A){if(A.errorCode===\"network_error\")return!0;if(A.code===\"ENETUNREACH\"||A.code===\"EHOSTUNREACH\")return!0;if(A.statusCode===403||A.code===403){if(A.message.includes(\"unreachable\"))return!0}return!1}var nN;var ZmB=O(()=>{a0A();i21();Re1();hC();J00();TuB();HW();dN();PuB();GmB();nN=h7(\"ManagedIdentityCredential\")});function s21(A){return Array.isArray(A)?A:[A]}function eXA(A,Q){if(!A.match(/^[0-9a-zA-Z-_.:/]+$/)){let B=Error(\"Invalid scope was specified by the user or calling client\");throw Q.getToken.info(UG(A,B)),B}}function t21(A){return A.replace(/\\/.default$/,\"\")}var AIA=O(()=>{HW()});function R00(A,Q){if(!Q.match(/^[0-9a-zA-Z-._ ]+$/)){let B=Error(\"Invalid subscription provided. You can locate your subscription by following the instructions listed here: https://learn.microsoft.com/azure/azure-portal/get-subscription-tenant-id.\");throw A.info(UG(\"\",B)),B}}var YmB=O(()=>{HW()});import UT3 from\"child_process\";class _00{constructor(A){if(A===null||A===void 0?void 0:A.tenantId)Qw(DR,A===null||A===void 0?void 0:A.tenantId),this.tenantId=A===null||A===void 0?void 0:A.tenantId;if(A===null||A===void 0?void 0:A.subscription)R00(DR,A===null||A===void 0?void 0:A.subscription),this.subscription=A===null||A===void 0?void 0:A.subscription;this.additionallyAllowedTenantIds=Bw(A===null||A===void 0?void 0:A.additionallyAllowedTenants),this.timeout=A===null||A===void 0?void 0:A.processTimeoutInMs}async getToken(A,Q={}){let B=gC(this.tenantId,Q,this.additionallyAllowedTenantIds);if(B)Qw(DR,B);if(this.subscription)R00(DR,this.subscription);let G=typeof A===\"string\"?A:A[0];return DR.getToken.info(`Using the scope ${G}`),iJ.withSpan(`${this.constructor.name}.getToken`,Q,async()=>{var Z,Y,J,X;try{eXA(G,DR);let I=t21(G),W=await JmB.getAzureCliAccessToken(I,B,this.subscription,this.timeout),K=(Z=W.stderr)===null||Z===void 0?void 0:Z.match(\"(.*)az login --scope(.*)\"),V=((Y=W.stderr)===null||Y===void 0?void 0:Y.match(\"(.*)az login(.*)\"))&&!K;if(((J=W.stderr)===null||J===void 0?void 0:J.match(\"az:(.*)not found\"))||((X=W.stderr)===null||X===void 0?void 0:X.startsWith(\"'az' is not recognized\"))){let D=new F4(\"Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.\");throw DR.getToken.info(UG(A,D)),D}if(V){let D=new F4(\"Please run 'az login' from a command prompt to authenticate before using this credential.\");throw DR.getToken.info(UG(A,D)),D}try{let D=W.stdout,F=this.parseRawResponse(D);return DR.getToken.info(cH(A)),F}catch(D){if(W.stderr)throw new F4(W.stderr);throw D}}catch(I){let W=I.name===\"CredentialUnavailableError\"?I:new F4(I.message||\"Unknown error while trying to retrieve the access token\");throw DR.getToken.info(UG(A,W)),W}})}parseRawResponse(A){let Q=JSON.parse(A),B=Q.accessToken,G=Number.parseInt(Q.expires_on,10)*1000;if(!isNaN(G))return DR.getToken.info(\"expires_on is available and is valid, using it\"),{token:B,expiresOnTimestamp:G,tokenType:\"Bearer\"};if(G=new Date(Q.expiresOn).getTime(),isNaN(G))throw new F4(`Unexpected response from Azure CLI when getting token. Expected \"expiresOn\" to be a RFC3339 date string. Got: \"${Q.expiresOn}\"`);return{token:B,expiresOnTimestamp:G,tokenType:\"Bearer\"}}}var DR,JmB;var XmB=O(()=>{bT();HW();AIA();hC();dN();YmB();DR=h7(\"AzureCliCredential\"),JmB={getSafeWorkingDir(){if(process.platform===\"win32\"){let A=process.env.SystemRoot||process.env.SYSTEMROOT;if(!A)DR.getToken.warning(\"The SystemRoot environment variable is not set. This may cause issues when using the Azure CLI credential.\"),A=\"C:\\\\Windows\";return A}else return\"/bin\"},async getAzureCliAccessToken(A,Q,B,G){let Z=[],Y=[];if(Q)Z=[\"--tenant\",Q];if(B)Y=[\"--subscription\",`\"${B}\"`];return new Promise((J,X)=>{try{UT3.execFile(\"az\",[\"account\",\"get-access-token\",\"--output\",\"json\",\"--resource\",A,...Z,...Y],{cwd:JmB.getSafeWorkingDir(),shell:!0,timeout:G},(I,W,K)=>{J({stdout:W,stderr:K,error:I})})}catch(I){X(I)}})}}});import wT3 from\"child_process\";class j00{constructor(A){if(A===null||A===void 0?void 0:A.tenantId)Qw(Pu,A===null||A===void 0?void 0:A.tenantId),this.tenantId=A===null||A===void 0?void 0:A.tenantId;this.additionallyAllowedTenantIds=Bw(A===null||A===void 0?void 0:A.additionallyAllowedTenants),this.timeout=A===null||A===void 0?void 0:A.processTimeoutInMs}async getToken(A,Q={}){let B=gC(this.tenantId,Q,this.additionallyAllowedTenantIds);if(B)Qw(Pu,B);let G;if(typeof A===\"string\")G=[A];else G=A;return Pu.getToken.info(`Using the scopes ${A}`),iJ.withSpan(`${this.constructor.name}.getToken`,Q,async()=>{var Z,Y,J,X;try{G.forEach((V)=>{eXA(V,Pu)});let I=await ImB.getAzdAccessToken(G,B,this.timeout),W=((Z=I.stderr)===null||Z===void 0?void 0:Z.match(\"not logged in, run `azd login` to login\"))||((Y=I.stderr)===null||Y===void 0?void 0:Y.match(\"not logged in, run `azd auth login` to login\"));if(((J=I.stderr)===null||J===void 0?void 0:J.match(\"azd:(.*)not found\"))||((X=I.stderr)===null||X===void 0?void 0:X.startsWith(\"'azd' is not recognized\"))||I.error&&I.error.code===\"ENOENT\"){let V=new F4(\"Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.\");throw Pu.getToken.info(UG(A,V)),V}if(W){let V=new F4(\"Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.\");throw Pu.getToken.info(UG(A,V)),V}try{let V=JSON.parse(I.stdout);return Pu.getToken.info(cH(A)),{to\n\n... [76 lines truncated] ...","is_error":false}]},"uuid":"761d5883-0c9c-4ec3-9d19-d4c5ba2fcc41","timestamp":"2025-12-30T01:37:47.171Z","toolUseResult":{"stdout":"          `]]))[0];return LT3(Y)}throw Error(\"Unable to execute PowerShell. Ensure that it is installed in your system\")}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async()=>{let B=gC(this.tenantId,Q,this.additionallyAllowedTenantIds),G=typeof A===\"string\"?A:A[0];if(B)Qw(Su,B);try{eXA(G,Su),Su.getToken.info(`Using the scope ${G}`);let Z=t21(G),Y=await this.getAzurePowerShellAccessToken(Z,B,this.timeout);return Su.getToken.info(cH(A)),{token:Y.Token,expiresOnTimestamp:new Date(Y.ExpiresOn).getTime(),tokenType:\"Bearer\"}}catch(Z){if(NT3(Z)){let J=new F4(T00.installed);throw Su.getToken.info(UG(G,J)),J}else if(qT3(Z)){let J=new F4(T00.login);throw Su.getToken.info(UG(G,J)),J}let Y=new F4(`${Z}. ${T00.troubleshoot}`);throw Su.getToken.info(UG(G,Y)),Y}})}}async function LT3(A){let Q=/{[^{}]*}/g,B=A.match(Q),G=A;if(B)try{for(let Z of B)try{let Y=JSON.parse(Z);if(Y===null||Y===void 0?void 0:Y.Token){if(G=G.replace(Z,\"\"),G)Su.getToken.warning(G);return Y}}catch(Y){continue}}catch(Z){throw Error(`Unable to parse the output of PowerShell. Received output: ${A}`)}throw Error(`No access token found in the output. Received output: ${A}`)}var Su,FmB,zmB,T00,qT3=(A)=>A.message.match(`(.*)${zmB.login}(.*)`),NT3=(A)=>A.message.match(zmB.installed),P00;var CmB=O(()=>{bT();HW();AIA();hC();HmB();dN();Su=h7(\"AzurePowerShellCredential\"),FmB=process.platform===\"win32\";zmB={login:\"Run Connect-AzAccount to login\",installed:\"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory\"},T00={login:\"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.\",installed:`The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: \"Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force\".`,troubleshoot:\"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot.\"},P00=[EmB(\"pwsh\")];if(FmB)P00.push(EmB(\"powershell\"))});class y00{constructor(...A){this._sources=[],this._sources=A}async getToken(A,Q={}){let{token:B}=await this.getTokenInternal(A,Q);return B}async getTokenInternal(A,Q={}){let B=null,G,Z=[];return iJ.withSpan(\"ChainedTokenCredential.getToken\",Q,async(Y)=>{for(let J=0;J<this._sources.length&&B===null;J++)try{B=await this._sources[J].getToken(A,Y),G=this._sources[J]}catch(X){if(X.name===\"CredentialUnavailableError\"||X.name===\"AuthenticationRequiredError\")Z.push(X);else throw x00.getToken.info(UG(A,X)),X}if(!B&&Z.length>0){let J=new _t1(Z,\"ChainedTokenCredential authentication failed.\");throw x00.getToken.info(UG(A,J)),J}if(x00.getToken.info(`Result for ${G.constructor.name}: ${cH(A)}`),B===null)throw new F4(\"Failed to retrieve a valid token\");return{token:B,successfulCredential:G}})}}var x00;var $mB=O(()=>{hC();HW();dN();x00=h7(\"ChainedTokenCredential\")});import{createHash as UmB,createPrivateKey as OT3}from\"node:crypto\";import{readFile as MT3}from\"node:fs/promises\";class v00{constructor(A,Q,B,G={}){if(!A||!Q)throw Error(`${Y_A}: tenantId and clientId are required parameters.`);this.tenantId=A,this.additionallyAllowedTenantIds=Bw(G===null||G===void 0?void 0:G.additionallyAllowedTenants),this.sendCertificateChain=G.sendCertificateChain,this.certificateConfiguration=Object.assign({},typeof B===\"string\"?{certificatePath:B}:B);let Z=this.certificateConfiguration.certificate,Y=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(Z||Y))throw Error(`${Y_A}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(Z&&Y)throw Error(`${Y_A}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=Za(Q,A,Object.assign(Object.assign({},G),{logger:wmB,tokenCredentialOptions:G}))}async getToken(A,Q={}){return iJ.withSpan(`${Y_A}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,wmB);let G=Array.isArray(A)?A:[A],Z=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(G,Z,B)})}async buildClientCertificate(){var A;let Q=await RT3(this.certificateConfiguration,(A=this.sendCertificateChain)!==null&&A!==void 0?A:!1),B;if(this.certificateConfiguration.certificatePassword!==void 0)B=OT3({key:Q.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:\"pem\"}).export({format:\"pem\",type:\"pkcs8\"}).toString();else B=Q.certificateContents;return{thumbprint:Q.thumbprint,thumbprintSha256:Q.thumbprintSha256,privateKey:B,x5c:Q.x5c}}}async function RT3(A,Q){let{certificate:B,certificatePath:G}=A,Z=B||await MT3(G,\"utf8\"),Y=Q?Z:void 0,J=/(-+BEGIN CERTIFICATE-+)(\\n\\r?|\\r\\n?)([A-Za-z0-9+/\\n\\r]+=*)(\\n\\r?|\\r\\n?)(-+END CERTIFICATE-+)/g,X=[],I;do if(I=J.exec(Z),I)X.push(I[3]);while(I);if(X.length===0)throw Error(\"The file at the specified path does not contain a PEM-encoded certificate.\");let W=UmB(\"sha1\").update(Buffer.from(X[0],\"base64\")).digest(\"hex\").toUpperCase(),K=UmB(\"sha256\").update(Buffer.from(X[0],\"base64\")).digest(\"hex\").toUpperCase();return{certificateContents:Z,thumbprintSha256:K,thumbprint:W,x5c:Y}}var Y_A=\"ClientCertificateCredential\",wmB;var qmB=O(()=>{G_A();bT();HW();dN();wmB=h7(Y_A)});class k00{constructor(A,Q,B,G={}){if(!A)throw new F4(\"ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");if(!Q)throw new F4(\"ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");if(!B)throw new F4(\"ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");this.clientSecret=B,this.tenantId=A,this.additionallyAllowedTenantIds=Bw(G===null||G===void 0?void 0:G.additionallyAllowedTenants),this.msalClient=Za(Q,A,Object.assign(Object.assign({},G),{logger:NmB,tokenCredentialOptions:G}))}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,NmB);let G=s21(A);return this.msalClient.getTokenByClientSecret(G,this.clientSecret,B)})}}var NmB;var LmB=O(()=>{G_A();bT();hC();HW();AIA();dN();NmB=h7(\"ClientSecretCredential\")});class b00{constructor(A,Q,B,G,Z={}){if(!A)throw new F4(\"UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!Q)throw new F4(\"UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!B)throw new F4(\"UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!G)throw new F4(\"UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");this.tenantId=A,this.additionallyAllowedTenantIds=Bw(Z===null||Z===void 0?void 0:Z.additionallyAllowedTenants),this.username=B,this.password=G,this.msalClient=Za(Q,this.tenantId,Object.assign(Object.assign({},Z),{tokenCredentialOptions:Z!==null&&Z!==void 0?Z:{}}))}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,_T3);let G=s21(A);return this.msalClient.getTokenByUsernamePassword(G,this.username,this.password,B)})}}var _T3;var OmB=O(()=>{G_A();bT();hC();HW();AIA();dN();_T3=h7(\"UsernamePasswordCredential\")});function TT3(){var A;return((A=process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS)!==null&&A!==void 0?A:\"\").split(\";\")}function PT3(){var A;let Q=((A=process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN)!==null&&A!==void 0?A:\"\").toLowerCase(),B=Q===\"true\"||Q===\"1\";return xu.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${B}`),B}class f00{constructor(A){this._credential=void 0;let Q=uQ1(jT3).assigned.join(\", \");xu.info(`Found the following environment variables: ${Q}`);let B=process.env.AZURE_TENANT_ID,G=process.env.AZURE_CLIENT_ID,Z=process.env.AZURE_CLIENT_SECRET,Y=TT3(),J=PT3(),X=Object.assign(Object.assign({},A),{additionallyAllowedTenantIds:Y,sendCertificateChain:J});if(B)Qw(xu,B);if(B&&G&&Z){xu.info(`Invoking ClientSecretCredential with tenant ID: ${B}, clientId: ${G} and clientSecret: [REDACTED]`),this._credential=new k00(B,G,Z,X);return}let I=process.env.AZURE_CLIENT_CERTIFICATE_PATH,W=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(B&&G&&I){xu.info(`Invoking ClientCertificateCredential with tenant ID: ${B}, clientId: ${G} and certificatePath: ${I}`),this._credential=new v00(B,G,{certificatePath:I,certificatePassword:W},X);return}let K=process.env.AZURE_USERNAME,V=process.env.AZURE_PASSWORD;if(B&&G&&K&&V)xu.info(`Invoking UsernamePasswordCredential with tenant ID: ${B}, clientId: ${G} and username: ${K}`),xu.warning(\"Environment is configured to use username and password authentication. This authentication method is deprecated, as it doesn't support multifactor authentication (MFA). Use a more secure credential. For more details, see https://aka.ms/azsdk/identity/mfa.\"),this._credential=new b00(B,G,K,V,X)}async getToken(A,Q={}){return iJ.withSpan(`${e21}.getToken`,Q,async(B)=>{if(this._credential)try{let G=await this._credential.getToken(A,B);return xu.getToken.info(cH(A)),G}catch(G){let Z=new GMA(400,{error:`${e21} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:G.message.toString().split(\"More details:\").join(\"\")});throw xu.getToken.info(UG(A,Z)),Z}throw new F4(`${e21} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}}var jT3,e21=\"EnvironmentCredential\",xu;var MmB=O(()=>{hC();HW();qmB();LmB();OmB();bT();dN();jT3=[\"AZURE_TENANT_ID\",\"AZURE_CLIENT_ID\",\"AZURE_CLIENT_SECRET\",\"AZURE_CLIENT_CERTIFICATE_PATH\",\"AZURE_CLIENT_CERTIFICATE_PASSWORD\",\"AZURE_USERNAME\",\"AZURE_PASSWORD\",\"AZURE_ADDITIONALLY_ALLOWED_TENANTS\",\"AZURE_CLIENT_SEND_CERTIFICATE_CHAIN\"];xu=h7(e21)});function ST3(A={}){var Q,B,G,Z;(Q=A.retryOptions)!==null&&Q!==void 0||(A.retryOptions={maxRetries:5,retryDelayInMs:800});let Y=(B=A===null||A===void 0?void 0:A.managedIdentityClientId)!==null&&B!==void 0?B:process.env.AZURE_CLIENT_ID,J=(G=A===null||A===void 0?void 0:A.workloadIdentityClientId)!==null&&G!==void 0?G:Y,X=A===null||A===void 0?void 0:A.managedIdentityResourceId,I=process.env.AZURE_FEDERATED_TOKEN_FILE,W=(Z=A===null||A===void 0?void 0:A.tenantId)!==null&&Z!==void 0?Z:process.env.AZURE_TENANT_ID;if(X){let K=Object.assign(Object.assign({},A),{resourceId:X});return new tXA(K)}if(I&&J){let K=Object.assign(Object.assign({},A),{tenantId:W});return new tXA(J,K)}if(Y){let K=Object.assign(Object.assign({},A),{clientId:Y});return new tXA(K)}return new tXA(A)}function xT3(A){var Q,B,G;let Z=(Q=A===null||A===void 0?void 0:A.managedIdentityClientId)!==null&&Q!==void 0?Q:process.env.AZURE_CLIENT_ID,Y=(B=A===null||A===void 0?void 0:A.workloadIdentityClientId)!==null&&B!==void 0?B:Z,J=process.env.AZURE_FEDERATED_TOKEN_FILE,X=(G=A===null||A===void 0?void 0:A.tenantId)!==null&&G!==void 0?G:process.env.AZURE_TENANT_ID;if(J&&Y){let I=Object.assign(Object.assign({},A),{tenantId:X,clientId:Y,tokenFilePath:J});return new GBA(I)}if(X){let I=Object.assign(Object.assign({},A),{tenantId:X});return new GBA(I)}return new GBA(A)}function yT3(A={}){let Q=A.processTimeoutInMs;return new j00(Object.assign({processTimeoutInMs:Q},A))}function vT3(A={}){let Q=A.processTimeoutInMs;return new _00(Object.assign({processTimeoutInMs:Q},A))}function kT3(A={}){let Q=A.processTimeoutInMs;return new S00(Object.assign({processTimeoutInMs:Q},A))}function bT3(A={}){return new f00(A)}class RmB{constructor(A,Q){this.credentialName=A,this.credentialUnavailableErrorMessage=Q}getToken(){return h00.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}}var h00,A91;var _mB=O(()=>{ZmB();XmB();WmB();CmB();$mB();MmB();O00();HW();h00=h7(\"DefaultAzureCredential\");A91=class A91 extends y00{constructor(A){let Q=process.env.AZURE_TOKEN_CREDENTIALS?process.env.AZURE_TOKEN_CREDENTIALS.trim().toLowerCase():void 0,B=[vT3,kT3,yT3],G=[bT3,xT3,ST3],Z=[];if(Q)switch(Q){case\"dev\":Z=B;break;case\"prod\":Z=G;break;default:{let J=`Invalid value for AZURE_TOKEN_CREDENTIALS = ${process.env.AZURE_TOKEN_CREDENTIALS}. Valid values are 'prod' or 'dev'.`;throw h00.warning(J),Error(J)}}else Z=[...G,...B];let Y=Z.map((J)=>{try{return J(A)}catch(X){return h00.warning(`Skipped ${J.name} because of an error creating the credential: ${X}`),new RmB(J.name,X.message)}});super(...Y)}}});function g00(A,Q,B){let{abortSignal:G,tracingOptions:Z}=B||{},Y=HMA();Y.addPolicy($MA({credential:A,scopes:Q}));async function J(){var X;let W=(X=(await Y.sendRequest({sendRequest:(K)=>Promise.resolve({request:K,status:200,headers:K.headers})},gT({url:\"https://example.com\",abortSignal:G,tracingOptions:Z}))).headers.get(\"authorization\"))===null||X===void 0?void 0:X.split(\" \")[1];if(!W)throw Error(\"Failed to get access token\");return W}return J}var jmB=O(()=>{Wu()});var TmB=O(()=>{_mB();jmB();yvB()});function Q91(){return{error:(A,...Q)=>console.error(\"[Anthropic SDK ERROR]\",A,...Q),warn:(A,...Q)=>console.error(\"[Anthropic SDK WARN]\",A,...Q),info:(A,...Q)=>console.error(\"[Anthropic SDK INFO]\",A,...Q),debug:(A,...Q)=>console.error(\"[Anthropic SDK DEBUG]\",A,...Q)}}async function oC({apiKey:A,maxRetries:Q,model:B,fetchOverride:G}){let Z=process.env.CLAUDE_CODE_CONTAINER_ID,Y=process.env.CLAUDE_CODE_REMOTE_SESSION_ID,J={\"x-app\":\"cli\",\"User-Agent\":Yi(),...hT3(),...Z?{\"x-claude-remote-container-id\":Z}:{},...Y?{\"x-claude-remote-session-id\":Y}:{}};if(F0(process.env.CLAUDE_CODE_ADDITIONAL_PROTECTION))J[\"x-anthropic-additional-protection\"]=\"true\";if(await Vg(),!zB())fT3(J,q9());let I={defaultHeaders:J,maxRetries:Q,timeout:parseInt(process.env.API_TIMEOUT_MS||String(600000),10),dangerouslyAllowBrowser:!0,fetchOptions:FZA(),...G&&{fetch:G}};if(F0(process.env.CLAUDE_CODE_USE_BEDROCK)){let K=B===UK()&&process.env.ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION?process.env.ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION:bt(),V={...I,awsRegion:K,...F0(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH)&&{skipAuth:!0},...Lx()&&{logger:Q91()}};if(process.env.AWS_BEARER_TOKEN_BEDROCK)V.skipAuth=!0,V.defaultHeaders={...V.defaultHeaders,Authorization:`Bearer ${process.env.AWS_BEARER_TOKEN_BEDROCK}`};else if(!F0(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH)){let H=await X1A();if(H)V.awsAccessKey=H.accessKeyId,V.awsSecretKey=H.secretAccessKey,V.awsSessionToken=H.sessionToken}return new k01(V)}if(F0(process.env.CLAUDE_CODE_USE_FOUNDRY)){let K;if(!process.env.ANTHROPIC_FOUNDRY_API_KEY)if(F0(process.env.CLAUDE_CODE_SKIP_FOUNDRY_AUTH))K=()=>Promise.resolve(\"\");else K=g00(new A91,\"https://cognitiveservices.azure.com/.default\");let V={...I,...K&&{azureADTokenProvider:K},...Lx()&&{logger:Q91()}};return new g01(V)}if(F0(process.env.CLAUDE_CODE_USE_VERTEX)){let K=process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project,V=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials,H=F0(process.env.CLAUDE_CODE_SKIP_VERTEX_AUTH)?{getClient:()=>({getRequestHeaders:()=>({})})}:new PmB.GoogleAuth({scopes:[\"https://www.googleapis.com/auth/cloud-platform\"],...K||V?{}:{projectId:process.env.ANTHROPIC_VERTEX_PROJECT_ID}}),D={...I,region:ofA(B),googleAuth:H,...Lx()&&{logger:Q91()}};return new yQ1(D)}let W={apiKey:zB()?null:A||eq(),authToken:zB()?d6()?.accessToken:void 0,...{},...I,...Lx()&&{logger:Q91()}};return new OT(W)}function fT3(A,Q){let B=process.env.ANTHROPIC_AUTH_TOKEN||vqA(Q);if(B)A.Authorization=`Bearer ${B}`}function hT3(){let A={},Q=process.env.ANTHROPIC_CUSTOM_HEADERS;if(!Q)return A;let B=Q.split(/\\n|\\r\\n/);for(let G of B){if(!G.trim())continue;let Z=G.match(/^\\s*(.*?)\\s*:\\s*(.*?)\\s*$/);if(Z){let[,Y,J]=Z;if(Y&&J!==void 0)A[Y]=J}}return A}var PmB;var ZBA=O(()=>{NOB();jOB();jv();TSB();TmB();V2();o0();dE();AB();Bi();cY();Q0();J9();PmB=l(Ht1(),1)});import{createHash as ymB}from\"crypto\";import{dirname as B91,join as vmB}from\"path\";import*as kmB from\"path\";function u00(){return!1}async function gT3(A,Q,B){if(!u00())return await B();let G=ymB(\"sha1\").update(JSON.stringify(A)).digest(\"hex\").slice(0,12),Z=vmB(process.env.CLAUDE_CODE_TEST_FIXTURES_ROOT??t1(),`fixtures/${Q}-${G}.json`);if(jA().existsSync(Z))return JSON.parse(jA().readFileSync(Z,{encoding:\"utf8\"}));if(DQ.isCI)throw Error(`Fixture missing: ${Z}. Re-run npm test locally, then commit the result.`);let Y=await B();if(!jA().existsSync(B91(Z)))jA().mkdirSync(B91(Z));return jA().writeFileSync(Z,JSON.stringify(Y,null,2),{encoding:\"utf8\",flush:!1}),Y}async function m00(A,Q){if(!u00())return await Q();let B=GJ(A.filter((J)=>{if(J.type!==\"user\")return!0;if(J.isMeta)return!1;return!0})),G=mT3(B.map((J)=>J.message.content),xmB),Z=vmB(process.env.CLAUDE_CODE_TEST_FIXTURES_ROOT??t1(),`fixtures/${G.map((J)=>ymB(\"sha1\").update(JSON.stringify(J)).digest(\"hex\").slice(0,6)).join(\"-\")}.json`);if(jA().existsSync(Z)){let J=JSON.parse(jA().readFileSync(Z,{encoding:\"utf8\"}));return J.output.forEach(uT3),J.output.map((X,I)=>SmB(X,pT3,I))}if(DQ.isCI)throw Error(`Anthropic API fixture missing: ${Z}. Re-run npm test locally, then commit the result. Input messages:\n      \"AZURE_FEDERATED_TOKEN_FILE\". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`;throw Z_A.info(B),new F4(B)}return Z_A.info(\"Invoking getToken() of Client Assertion Credential\"),this.client.getToken(A,Q)}async readFileContents(){if(this.cacheDate!==void 0&&Date.now()-this.cacheDate>=300000)this.azureFederatedTokenFileContent=void 0;if(!this.federatedTokenFilePath)throw new F4(`${BBA}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let Q=(await ET3(this.federatedTokenFilePath,\"utf8\")).trim();if(!Q)throw new F4(`${BBA}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`);else this.azureFederatedTokenFileContent=Q,this.cacheDate=Date.now()}return this.azureFederatedTokenFileContent}}var BBA=\"WorkloadIdentityCredential\",zT3,Z_A;var O00=O(()=>{HW();QmB();hC();bT();zT3=[\"AZURE_TENANT_ID\",\"AZURE_CLIENT_ID\",\"AZURE_FEDERATED_TOKEN_FILE\"],Z_A=h7(BBA)});var BmB=\"ManagedIdentityCredential - Token Exchange\",CT3,M00;var GmB=O(()=>{O00();HW();CT3=h7(BmB),M00={name:\"tokenExchangeMsi\",async isAvailable(A){let Q=process.env,B=Boolean((A||Q.AZURE_CLIENT_ID)&&Q.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);if(!B)CT3.info(`${BmB}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`);return B},async getToken(A,Q={}){let{scopes:B,clientId:G}=A,Z={};return new GBA(Object.assign(Object.assign({clientId:G,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE},Z),{disableInstanceDiscovery:!0})).getToken(B,Q)}}});class tXA{constructor(A,Q){var B,G;this.msiRetryConfig={maxRetries:5,startDelayInMs:800,intervalIncrement:2};let Z;if(typeof A===\"string\")this.clientId=A,Z=Q!==null&&Q!==void 0?Q:{};else this.clientId=A===null||A===void 0?void 0:A.clientId,Z=A!==null&&A!==void 0?A:{};this.resourceId=Z===null||Z===void 0?void 0:Z.resourceId,this.objectId=Z===null||Z===void 0?void 0:Z.objectId;let Y=[{key:\"clientId\",value:this.clientId},{key:\"resourceId\",value:this.resourceId},{key:\"objectId\",value:this.objectId}].filter((X)=>X.value);if(Y.length>1)throw Error(`ManagedIdentityCredential: only one of 'clientId', 'resourceId', or 'objectId' can be provided. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}`);if(Z.allowInsecureConnection=!0,((B=Z.retryOptions)===null||B===void 0?void 0:B.maxRetries)!==void 0)this.msiRetryConfig.maxRetries=Z.retryOptions.maxRetries;this.identityClient=new wXA(Object.assign(Object.assign({},Z),{additionalPolicies:[{policy:juB(this.msiRetryConfig),position:\"perCall\"}]})),this.managedIdentityApp=new ov({managedIdentityIdParams:{userAssignedClientId:this.clientId,userAssignedResourceId:this.resourceId,userAssignedObjectId:this.objectId},system:{disableInternalRetries:!0,networkClient:this.identityClient,loggerOptions:{logLevel:a21(gQ1()),piiLoggingEnabled:(G=Z.loggingOptions)===null||G===void 0?void 0:G.enableUnsafeSupportLogging,loggerCallback:n21(nN)}}}),this.isAvailableIdentityClient=new wXA(Object.assign(Object.assign({},Z),{retryOptions:{maxRetries:0}}));let J=this.managedIdentityApp.getManagedIdentitySource();if(J===\"CloudShell\"){if(this.clientId||this.resourceId||this.objectId)throw nN.warning(`CloudShell MSI detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new F4(\"ManagedIdentityCredential: Specifying a user-assigned managed identity is not supported for CloudShell at runtime. When using Managed Identity in CloudShell, omit the clientId, resourceId, and objectId parameters.\")}if(J===\"ServiceFabric\"){if(this.clientId||this.resourceId||this.objectId)throw nN.warning(`Service Fabric detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new F4(`ManagedIdentityCredential: ${PvB}`)}if(nN.info(`Using ${J} managed identity.`),Y.length===1){let{key:X,value:I}=Y[0];nN.info(`${J} with ${X}: ${I}`)}}async getToken(A,Q={}){nN.getToken.info(\"Using the MSAL provider for Managed Identity.\");let B=wMA(A);if(!B)throw new F4(`ManagedIdentityCredential: Multiple scopes are not supported. Scopes: ${JSON.stringify(A)}`);return iJ.withSpan(\"ManagedIdentityCredential.getToken\",Q,async()=>{var G;try{let Z=await M00.isAvailable(this.clientId),Y=this.managedIdentityApp.getManagedIdentitySource(),J=Y===\"DefaultToImds\"||Y===\"Imds\";if(nN.getToken.info(`MSAL Identity source: ${Y}`),Z){nN.getToken.info(\"Using the token exchange managed identity.\");let I=await M00.getToken({scopes:A,clientId:this.clientId,identityClient:this.identityClient,retryConfig:this.msiRetryConfig,resourceId:this.resourceId});if(I===null)throw new F4(\"Attempted to use the token exchange managed identity, but received a null response.\");return I}else if(J){if(nN.getToken.info(\"Using the IMDS endpoint to probe for availability.\"),!await X00.isAvailable({scopes:A,clientId:this.clientId,getTokenOptions:Q,identityClient:this.isAvailableIdentityClient,resourceId:this.resourceId}))throw new F4(\"Attempted to use the IMDS endpoint, but it is not available.\")}nN.getToken.info(\"Calling into MSAL for managed identity token.\");let X=await this.managedIdentityApp.acquireToken({resource:B});return this.ensureValidMsalToken(A,X,Q),nN.getToken.info(cH(A)),{expiresOnTimestamp:X.expiresOn.getTime(),token:X.accessToken,refreshAfterTimestamp:(G=X.refreshOn)===null||G===void 0?void 0:G.getTime(),tokenType:\"Bearer\"}}catch(Z){if(nN.getToken.error(UG(A,Z)),Z.name===\"AuthenticationRequiredError\")throw Z;if($T3(Z))throw new F4(`ManagedIdentityCredential: Network unreachable. Message: ${Z.message}`,{cause:Z});throw new F4(`ManagedIdentityCredential: Authentication failed. Message ${Z.message}`,{cause:Z})}})}ensureValidMsalToken(A,Q,B){let G=(Z)=>{return nN.getToken.info(Z),new Ju({scopes:Array.isArray(A)?A:[A],getTokenOptions:B,message:Z})};if(!Q)throw G(\"No response.\");if(!Q.expiresOn)throw G('Response had no \"expiresOn\" property.');if(!Q.accessToken)throw G('Response had no \"accessToken\" property.')}}function $T3(A){if(A.errorCode===\"network_error\")return!0;if(A.code===\"ENETUNREACH\"||A.code===\"EHOSTUNREACH\")return!0;if(A.statusCode===403||A.code===403){if(A.message.includes(\"unreachable\"))return!0}return!1}var nN;var ZmB=O(()=>{a0A();i21();Re1();hC();J00();TuB();HW();dN();PuB();GmB();nN=h7(\"ManagedIdentityCredential\")});function s21(A){return Array.isArray(A)?A:[A]}function eXA(A,Q){if(!A.match(/^[0-9a-zA-Z-_.:/]+$/)){let B=Error(\"Invalid scope was specified by the user or calling client\");throw Q.getToken.info(UG(A,B)),B}}function t21(A){return A.replace(/\\/.default$/,\"\")}var AIA=O(()=>{HW()});function R00(A,Q){if(!Q.match(/^[0-9a-zA-Z-._ ]+$/)){let B=Error(\"Invalid subscription provided. You can locate your subscription by following the instructions listed here: https://learn.microsoft.com/azure/azure-portal/get-subscription-tenant-id.\");throw A.info(UG(\"\",B)),B}}var YmB=O(()=>{HW()});import UT3 from\"child_process\";class _00{constructor(A){if(A===null||A===void 0?void 0:A.tenantId)Qw(DR,A===null||A===void 0?void 0:A.tenantId),this.tenantId=A===null||A===void 0?void 0:A.tenantId;if(A===null||A===void 0?void 0:A.subscription)R00(DR,A===null||A===void 0?void 0:A.subscription),this.subscription=A===null||A===void 0?void 0:A.subscription;this.additionallyAllowedTenantIds=Bw(A===null||A===void 0?void 0:A.additionallyAllowedTenants),this.timeout=A===null||A===void 0?void 0:A.processTimeoutInMs}async getToken(A,Q={}){let B=gC(this.tenantId,Q,this.additionallyAllowedTenantIds);if(B)Qw(DR,B);if(this.subscription)R00(DR,this.subscription);let G=typeof A===\"string\"?A:A[0];return DR.getToken.info(`Using the scope ${G}`),iJ.withSpan(`${this.constructor.name}.getToken`,Q,async()=>{var Z,Y,J,X;try{eXA(G,DR);let I=t21(G),W=await JmB.getAzureCliAccessToken(I,B,this.subscription,this.timeout),K=(Z=W.stderr)===null||Z===void 0?void 0:Z.match(\"(.*)az login --scope(.*)\"),V=((Y=W.stderr)===null||Y===void 0?void 0:Y.match(\"(.*)az login(.*)\"))&&!K;if(((J=W.stderr)===null||J===void 0?void 0:J.match(\"az:(.*)not found\"))||((X=W.stderr)===null||X===void 0?void 0:X.startsWith(\"'az' is not recognized\"))){let D=new F4(\"Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.\");throw DR.getToken.info(UG(A,D)),D}if(V){let D=new F4(\"Please run 'az login' from a command prompt to authenticate before using this credential.\");throw DR.getToken.info(UG(A,D)),D}try{let D=W.stdout,F=this.parseRawResponse(D);return DR.getToken.info(cH(A)),F}catch(D){if(W.stderr)throw new F4(W.stderr);throw D}}catch(I){let W=I.name===\"CredentialUnavailableError\"?I:new F4(I.message||\"Unknown error while trying to retrieve the access token\");throw DR.getToken.info(UG(A,W)),W}})}parseRawResponse(A){let Q=JSON.parse(A),B=Q.accessToken,G=Number.parseInt(Q.expires_on,10)*1000;if(!isNaN(G))return DR.getToken.info(\"expires_on is available and is valid, using it\"),{token:B,expiresOnTimestamp:G,tokenType:\"Bearer\"};if(G=new Date(Q.expiresOn).getTime(),isNaN(G))throw new F4(`Unexpected response from Azure CLI when getting token. Expected \"expiresOn\" to be a RFC3339 date string. Got: \"${Q.expiresOn}\"`);return{token:B,expiresOnTimestamp:G,tokenType:\"Bearer\"}}}var DR,JmB;var XmB=O(()=>{bT();HW();AIA();hC();dN();YmB();DR=h7(\"AzureCliCredential\"),JmB={getSafeWorkingDir(){if(process.platform===\"win32\"){let A=process.env.SystemRoot||process.env.SYSTEMROOT;if(!A)DR.getToken.warning(\"The SystemRoot environment variable is not set. This may cause issues when using the Azure CLI credential.\"),A=\"C:\\\\Windows\";return A}else return\"/bin\"},async getAzureCliAccessToken(A,Q,B,G){let Z=[],Y=[];if(Q)Z=[\"--tenant\",Q];if(B)Y=[\"--subscription\",`\"${B}\"`];return new Promise((J,X)=>{try{UT3.execFile(\"az\",[\"account\",\"get-access-token\",\"--output\",\"json\",\"--resource\",A,...Z,...Y],{cwd:JmB.getSafeWorkingDir(),shell:!0,timeout:G},(I,W,K)=>{J({stdout:W,stderr:K,error:I})})}catch(I){X(I)}})}}});import wT3 from\"child_process\";class j00{constructor(A){if(A===null||A===void 0?void 0:A.tenantId)Qw(Pu,A===null||A===void 0?void 0:A.tenantId),this.tenantId=A===null||A===void 0?void 0:A.tenantId;this.additionallyAllowedTenantIds=Bw(A===null||A===void 0?void 0:A.additionallyAllowedTenants),this.timeout=A===null||A===void 0?void 0:A.processTimeoutInMs}async getToken(A,Q={}){let B=gC(this.tenantId,Q,this.additionallyAllowedTenantIds);if(B)Qw(Pu,B);let G;if(typeof A===\"string\")G=[A];else G=A;return Pu.getToken.info(`Using the scopes ${A}`),iJ.withSpan(`${this.constructor.name}.getToken`,Q,async()=>{var Z,Y,J,X;try{G.forEach((V)=>{eXA(V,Pu)});let I=await ImB.getAzdAccessToken(G,B,this.timeout),W=((Z=I.stderr)===null||Z===void 0?void 0:Z.match(\"not logged in, run `azd login` to login\"))||((Y=I.stderr)===null||Y===void 0?void 0:Y.match(\"not logged in, run `azd auth login` to login\"));if(((J=I.stderr)===null||J===void 0?void 0:J.match(\"azd:(.*)not found\"))||((X=I.stderr)===null||X===void 0?void 0:X.startsWith(\"'azd' is not recognized\"))||I.error&&I.error.code===\"ENOENT\"){let V=new F4(\"Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.\");throw Pu.getToken.info(UG(A,V)),V}if(W){let V=new F4(\"Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.\");throw Pu.getToken.info(UG(A,V)),V}try{let V=JSON.parse(I.stdout);return Pu.getToken.info(cH(A)),{to\n\n... [76 lines truncated] ...","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"761d5883-0c9c-4ec3-9d19-d4c5ba2fcc41","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01WQMDsWZiEv82ozphLPDJeb","type":"message","role":"assistant","content":[{"type":"text","text":"Perfect! Now I have found the key information. Let me search for the actual API request construction and authentication flow:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":26726,"cache_read_input_tokens":39724,"cache_creation":{"ephemeral_5m_input_tokens":26726,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1tpaewv3jwn6ciRshW","type":"assistant","uuid":"6957690d-cb98-4389-b452-4a47fbc4c4fa","timestamp":"2025-12-30T01:37:49.255Z"}
{"parentUuid":"6957690d-cb98-4389-b452-4a47fbc4c4fa","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01WQMDsWZiEv82ozphLPDJeb","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_012HawLjoAJPDuiixGfZw4q2","name":"Bash","input":{"command":"grep -ao 'https://api\\.anthropic\\.com[^\"]*\\|https://console\\.anthropic\\.com[^\"]*' /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js | sort | uniq","description":"Extract full API endpoint URLs"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":26726,"cache_read_input_tokens":39724,"cache_creation":{"ephemeral_5m_input_tokens":26726,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1tpaewv3jwn6ciRshW","type":"assistant","uuid":"00512ea8-0c02-4655-93e3-ee67077e0534","timestamp":"2025-12-30T01:37:50.160Z"}
{"parentUuid":"00512ea8-0c02-4655-93e3-ee67077e0534","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01WQMDsWZiEv82ozphLPDJeb","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01UL5hsq2A9iDKMirSxK9qx7","name":"Bash","input":{"command":"grep -ao 'x-app\\|x-api-key\\|Authorization\\|apiKey\\|authToken' /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js | sort | uniq -c","description":"Check for custom headers and auth mechanisms"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":26726,"cache_read_input_tokens":39724,"cache_creation":{"ephemeral_5m_input_tokens":26726,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1tpaewv3jwn6ciRshW","type":"assistant","uuid":"4e705375-0e2a-4a9d-aab5-afc364805d10","timestamp":"2025-12-30T01:37:50.789Z"}
{"parentUuid":"4e705375-0e2a-4a9d-aab5-afc364805d10","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_012HawLjoAJPDuiixGfZw4q2","type":"tool_result","content":"https://api.anthropic.com\nhttps://api.anthropic.com/\nhttps://api.anthropic.com/api/claude_cli_feedback\nhttps://api.anthropic.com/api/claude_code/link_vcs_account\nhttps://api.anthropic.com/api/claude_code/metrics\nhttps://api.anthropic.com/api/claude_code/organizations/metrics_enabled\nhttps://api.anthropic.com/api/hello\nhttps://api.anthropic.com/api/oauth/claude_cli/create_api_key\nhttps://api.anthropic.com/api/oauth/claude_cli/roles\nhttps://api.anthropic.com/api/organization/${A}/claude_code_sonnet_1m_access`,Z=await SQ.get(G,{headers:B,timeout:5000});return{hasAccess:Z.data.has_access,hasAccessNotAsDefault:Z.data.has_access_not_as_default,hasError:!1}}catch(G){return t(G),{hasAccess:!1,hasError:!0}}}async function TD8(){try{return await jD8()}catch(A){return k(\nhttps://console.anthropic.com/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code\nhttps://console.anthropic.com/oauth/authorize\nhttps://console.anthropic.com/oauth/code/callback\nhttps://console.anthropic.com/oauth/code/success?app=claude-code\nhttps://console.anthropic.com/settings/billing\nhttps://console.anthropic.com/settings/keys)\nhttps://console.anthropic.com/v1/oauth/hello\nhttps://console.anthropic.com/v1/oauth/token","is_error":false}]},"uuid":"02e210dc-91a4-48ba-9fc4-1f8f8a7c84d2","timestamp":"2025-12-30T01:37:51.070Z","toolUseResult":{"stdout":"https://api.anthropic.com\nhttps://api.anthropic.com/\nhttps://api.anthropic.com/api/claude_cli_feedback\nhttps://api.anthropic.com/api/claude_code/link_vcs_account\nhttps://api.anthropic.com/api/claude_code/metrics\nhttps://api.anthropic.com/api/claude_code/organizations/metrics_enabled\nhttps://api.anthropic.com/api/hello\nhttps://api.anthropic.com/api/oauth/claude_cli/create_api_key\nhttps://api.anthropic.com/api/oauth/claude_cli/roles\nhttps://api.anthropic.com/api/organization/${A}/claude_code_sonnet_1m_access`,Z=await SQ.get(G,{headers:B,timeout:5000});return{hasAccess:Z.data.has_access,hasAccessNotAsDefault:Z.data.has_access_not_as_default,hasError:!1}}catch(G){return t(G),{hasAccess:!1,hasError:!0}}}async function TD8(){try{return await jD8()}catch(A){return k(\nhttps://console.anthropic.com/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code\nhttps://console.anthropic.com/oauth/authorize\nhttps://console.anthropic.com/oauth/code/callback\nhttps://console.anthropic.com/oauth/code/success?app=claude-code\nhttps://console.anthropic.com/settings/billing\nhttps://console.anthropic.com/settings/keys)\nhttps://console.anthropic.com/v1/oauth/hello\nhttps://console.anthropic.com/v1/oauth/token","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"02e210dc-91a4-48ba-9fc4-1f8f8a7c84d2","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01UL5hsq2A9iDKMirSxK9qx7","type":"tool_result","content":" 102 apiKey\n 123 Authorization\n  24 authToken\n  12 x-api-key\n   4 x-app","is_error":false}]},"uuid":"ecc0204f-5f51-4022-a6c2-fda10220c9fe","timestamp":"2025-12-30T01:37:51.179Z","toolUseResult":{"stdout":" 102 apiKey\n 123 Authorization\n  24 authToken\n  12 x-api-key\n   4 x-app","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"ecc0204f-5f51-4022-a6c2-fda10220c9fe","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01PTmtceiMYAhXcQpMbLdjXg","type":"message","role":"assistant","content":[{"type":"text","text":"Excellent! Now let me look at the README and check for configuration details:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":927,"cache_read_input_tokens":66450,"cache_creation":{"ephemeral_5m_input_tokens":927,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWc1u7RS7HsD6dxAKfpiU","type":"assistant","uuid":"88601006-97bd-409b-8129-ccfc8c0a9309","timestamp":"2025-12-30T01:37:52.585Z"}
{"parentUuid":"88601006-97bd-409b-8129-ccfc8c0a9309","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01PTmtceiMYAhXcQpMbLdjXg","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01QiVmPPLUydX82Bqznf2C4K","name":"Read","input":{"file_path":"/opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/README.md"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":927,"cache_read_input_tokens":66450,"cache_creation":{"ephemeral_5m_input_tokens":927,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWc1u7RS7HsD6dxAKfpiU","type":"assistant","uuid":"b6a4e982-1962-427b-b1f4-1ac9084ad618","timestamp":"2025-12-30T01:37:52.891Z"}
{"parentUuid":"b6a4e982-1962-427b-b1f4-1ac9084ad618","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01PTmtceiMYAhXcQpMbLdjXg","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01VzQvsMd5oKE356dHCqz941","name":"Bash","input":{"command":"ls -la /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/ && echo \"---\" && cat /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/.patched 2>/dev/null","description":"Check installation details and patched status"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":927,"cache_read_input_tokens":66450,"cache_creation":{"ephemeral_5m_input_tokens":927,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWc1u7RS7HsD6dxAKfpiU","type":"assistant","uuid":"2b0743dc-aa19-4ebb-9df2-eb8426156661","timestamp":"2025-12-30T01:37:53.795Z"}
{"parentUuid":"2b0743dc-aa19-4ebb-9df2-eb8426156661","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01QiVmPPLUydX82Bqznf2C4K","type":"tool_result","content":"     1→# Claude Code\n     2→\n     3→![](https://img.shields.io/badge/Node.js-18%2B-brightgreen?style=flat-square) [![npm]](https://www.npmjs.com/package/@anthropic-ai/claude-code)\n     4→\n     5→[npm]: https://img.shields.io/npm/v/@anthropic-ai/claude-code.svg?style=flat-square\n     6→\n     7→Claude Code is an agentic coding tool that lives in your terminal, understands your codebase, and helps you code faster by executing routine tasks, explaining complex code, and handling git workflows -- all through natural language commands. Use it in your terminal, IDE, or tag @claude on Github.\n     8→\n     9→**Learn more in the [official documentation](https://code.claude.com/docs/en/overview)**.\n    10→\n    11→<img src=\"https://github.com/anthropics/claude-code/blob/main/demo.gif?raw=1\" />\n    12→\n    13→## Get started\n    14→\n    15→1. Install Claude Code:\n    16→\n    17→```sh\n    18→npm install -g @anthropic-ai/claude-code\n    19→```\n    20→\n    21→2. Navigate to your project directory and run `claude`.\n    22→\n    23→## Reporting Bugs\n    24→\n    25→We welcome your feedback. Use the `/bug` command to report issues directly within Claude Code, or file a [GitHub issue](https://github.com/anthropics/claude-code/issues).\n    26→\n    27→## Connect on Discord\n    28→\n    29→Join the [Claude Developers Discord](https://anthropic.com/discord) to connect with other developers using Claude Code. Get help, share feedback, and discuss your projects with the community.\n    30→\n    31→## Data collection, usage, and retention\n    32→\n    33→When you use Claude Code, we collect feedback, which includes usage data (such as code acceptance or rejections), associated conversation data, and user feedback submitted via the `/bug` command.\n    34→\n    35→### How we use your data\n    36→\n    37→See our [data usage policies](https://code.claude.com/docs/en/data-usage).\n    38→\n    39→### Privacy safeguards\n    40→\n    41→We have implemented several safeguards to protect your data, including limited retention periods for sensitive information and restricted access to user session data.\n    42→\n    43→For full details, please review our [Commercial Terms of Service](https://www.anthropic.com/legal/commercial-terms) and [Privacy Policy](https://www.anthropic.com/legal/privacy).\n    44→\n\n</system-reminder>\n"}]},"uuid":"1f2e2b4a-0952-43d2-bd91-1c3a3c2878dd","timestamp":"2025-12-30T01:37:53.837Z","toolUseResult":{"type":"text","file":{"filePath":"/opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/README.md","content":"# Claude Code\n\n![](https://img.shields.io/badge/Node.js-18%2B-brightgreen?style=flat-square) [![npm]](https://www.npmjs.com/package/@anthropic-ai/claude-code)\n\n[npm]: https://img.shields.io/npm/v/@anthropic-ai/claude-code.svg?style=flat-square\n\nClaude Code is an agentic coding tool that lives in your terminal, understands your codebase, and helps you code faster by executing routine tasks, explaining complex code, and handling git workflows -- all through natural language commands. Use it in your terminal, IDE, or tag @claude on Github.\n\n**Learn more in the [official documentation](https://code.claude.com/docs/en/overview)**.\n\n<img src=\"https://github.com/anthropics/claude-code/blob/main/demo.gif?raw=1\" />\n\n## Get started\n\n1. Install Claude Code:\n\n```sh\nnpm install -g @anthropic-ai/claude-code\n```\n\n2. Navigate to your project directory and run `claude`.\n\n## Reporting Bugs\n\nWe welcome your feedback. Use the `/bug` command to report issues directly within Claude Code, or file a [GitHub issue](https://github.com/anthropics/claude-code/issues).\n\n## Connect on Discord\n\nJoin the [Claude Developers Discord](https://anthropic.com/discord) to connect with other developers using Claude Code. Get help, share feedback, and discuss your projects with the community.\n\n## Data collection, usage, and retention\n\nWhen you use Claude Code, we collect feedback, which includes usage data (such as code acceptance or rejections), associated conversation data, and user feedback submitted via the `/bug` command.\n\n### How we use your data\n\nSee our [data usage policies](https://code.claude.com/docs/en/data-usage).\n\n### Privacy safeguards\n\nWe have implemented several safeguards to protect your data, including limited retention periods for sensitive information and restricted access to user session data.\n\nFor full details, please review our [Commercial Terms of Service](https://www.anthropic.com/legal/commercial-terms) and [Privacy Policy](https://www.anthropic.com/legal/privacy).\n","numLines":44,"startLine":1,"totalLines":44}}}
{"parentUuid":"1f2e2b4a-0952-43d2-bd91-1c3a3c2878dd","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01VzQvsMd5oKE356dHCqz941","type":"tool_result","content":"total 29664\ndrwxr-xr-x@ 14 root  admin       448 Dec 29 15:49 .\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 ..\n-rw-r--r--@  1 root  admin       139 Dec 29 03:13 .patched\n-rw-r--r--@  1 root  admin       551 Dec 29 02:49 bun.lock\n-rwxr-xr-x@  1 root  admin  11022808 Dec 29 18:21 cli.js\n-rw-r--r--@  1 root  admin       147 Dec 29 02:49 LICENSE.md\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 node_modules\n-rw-r--r--@  1 root  admin      1200 Dec 29 02:49 package.json\n-rw-r--r--@  1 root  admin      1986 Dec 29 02:49 README.md\n-rw-r--r--@  1 root  admin   2478606 Dec 29 02:49 resvg.wasm\n-rw-r--r--@  1 root  admin     64888 Dec 29 02:49 sdk-tools.d.ts\n-rw-r--r--@  1 root  admin   1380769 Dec 29 02:49 tree-sitter-bash.wasm\n-rwxr-xr-x@  1 root  admin    205498 Dec 29 02:49 tree-sitter.wasm\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 vendor\n---\n{\"originalHash\":\"97928ba11b2f4539f4d9270c58fb4fb4\",\"patchedHash\":\"d09b4e4737d8fa594827f37541f59b33\",\"timestamp\":\"2025-12-29T08:13:47.308Z\"}","is_error":false}]},"uuid":"241de348-6f8e-4463-8557-46fde6460a38","timestamp":"2025-12-30T01:37:53.921Z","toolUseResult":{"stdout":"total 29664\ndrwxr-xr-x@ 14 root  admin       448 Dec 29 15:49 .\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 ..\n-rw-r--r--@  1 root  admin       139 Dec 29 03:13 .patched\n-rw-r--r--@  1 root  admin       551 Dec 29 02:49 bun.lock\n-rwxr-xr-x@  1 root  admin  11022808 Dec 29 18:21 cli.js\n-rw-r--r--@  1 root  admin       147 Dec 29 02:49 LICENSE.md\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 node_modules\n-rw-r--r--@  1 root  admin      1200 Dec 29 02:49 package.json\n-rw-r--r--@  1 root  admin      1986 Dec 29 02:49 README.md\n-rw-r--r--@  1 root  admin   2478606 Dec 29 02:49 resvg.wasm\n-rw-r--r--@  1 root  admin     64888 Dec 29 02:49 sdk-tools.d.ts\n-rw-r--r--@  1 root  admin   1380769 Dec 29 02:49 tree-sitter-bash.wasm\n-rwxr-xr-x@  1 root  admin    205498 Dec 29 02:49 tree-sitter.wasm\ndrwxr-xr-x@  3 root  admin        96 Dec 29 02:49 vendor\n---\n{\"originalHash\":\"97928ba11b2f4539f4d9270c58fb4fb4\",\"patchedHash\":\"d09b4e4737d8fa594827f37541f59b33\",\"timestamp\":\"2025-12-29T08:13:47.308Z\"}","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"241de348-6f8e-4463-8557-46fde6460a38","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01KQGtN1wAgGFPB4HSthz1bK","type":"message","role":"assistant","content":[{"type":"text","text":"Perfect! Now let me search for where the authentication and actual API request handling code is, and check the vendor directory:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":1599,"cache_read_input_tokens":67377,"cache_creation":{"ephemeral_5m_input_tokens":1599,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1uKBN5zu7fpFqJu8gA","type":"assistant","uuid":"66a71293-0a8a-4787-a1a4-e6cc7ce91f71","timestamp":"2025-12-30T01:37:55.512Z"}
{"parentUuid":"66a71293-0a8a-4787-a1a4-e6cc7ce91f71","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01KQGtN1wAgGFPB4HSthz1bK","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01N7gK3QiZKmMqXPbDHVFNoh","name":"Bash","input":{"command":"ls -la /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/vendor/","description":"List vendor dependencies"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":1599,"cache_read_input_tokens":67377,"cache_creation":{"ephemeral_5m_input_tokens":1599,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1uKBN5zu7fpFqJu8gA","type":"assistant","uuid":"9b7d66db-5096-4fd3-81e6-c81d1a131bed","timestamp":"2025-12-30T01:37:55.935Z"}
{"parentUuid":"9b7d66db-5096-4fd3-81e6-c81d1a131bed","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01KQGtN1wAgGFPB4HSthz1bK","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01PYUC3qvkkisP8X9dDjioa3","name":"Bash","input":{"command":"grep -o 'ANTHROPIC_API_KEY\\|CLAUDE_CODE_\\|process.env\\.' /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js | sort | uniq -c | head -30","description":"Search for environment variable usage"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":1599,"cache_read_input_tokens":67377,"cache_creation":{"ephemeral_5m_input_tokens":1599,"ephemeral_1h_input_tokens":0},"output_tokens":237,"service_tier":"standard"}},"requestId":"req_011CWc1uKBN5zu7fpFqJu8gA","type":"assistant","uuid":"ba4a4460-f8ad-4f2c-a4f1-5a897b8e63ba","timestamp":"2025-12-30T01:37:56.662Z"}
{"parentUuid":"ba4a4460-f8ad-4f2c-a4f1-5a897b8e63ba","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01N7gK3QiZKmMqXPbDHVFNoh","type":"tool_result","content":"total 0\ndrwxr-xr-x@  3 root  admin   96 Dec 29 02:49 .\ndrwxr-xr-x@ 14 root  admin  448 Dec 29 15:49 ..\ndrwxr-xr-x@  8 root  admin  256 Dec 29 02:49 ripgrep","is_error":false}]},"uuid":"6e3db79b-26b5-46d8-85d2-d98c2264220f","timestamp":"2025-12-30T01:37:56.745Z","toolUseResult":{"stdout":"total 0\ndrwxr-xr-x@  3 root  admin   96 Dec 29 02:49 .\ndrwxr-xr-x@ 14 root  admin  448 Dec 29 15:49 ..\ndrwxr-xr-x@  8 root  admin  256 Dec 29 02:49 ripgrep","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"6e3db79b-26b5-46d8-85d2-d98c2264220f","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01PYUC3qvkkisP8X9dDjioa3","type":"tool_result","content":"  50 ANTHROPIC_API_KEY\n 242 CLAUDE_CODE_\n 771 process.env.","is_error":false}]},"uuid":"ff3f8332-b367-488f-831e-9554fc1a8fe9","timestamp":"2025-12-30T01:37:56.965Z","toolUseResult":{"stdout":"  50 ANTHROPIC_API_KEY\n 242 CLAUDE_CODE_\n 771 process.env.","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"ff3f8332-b367-488f-831e-9554fc1a8fe9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01D8r1syNVpChQSVGtcrR7mV","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me search for the specific OAuth and authentication flow patterns:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":555,"cache_read_input_tokens":68976,"cache_creation":{"ephemeral_5m_input_tokens":555,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1uY6zVMnASDBg3KZbi","type":"assistant","uuid":"fc564f2e-647a-4f6a-951f-d0401813bc28","timestamp":"2025-12-30T01:37:58.391Z"}
{"parentUuid":"fc564f2e-647a-4f6a-951f-d0401813bc28","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01D8r1syNVpChQSVGtcrR7mV","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01D5oohYuJAMgrLvhtU8TJeE","name":"Bash","input":{"command":"strings /opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/cli.js 2>/dev/null | grep -E 'CLAUDE_CODE_|ANTHROPIC_|oauth|OAuth' | sort | uniq | head -40","description":"Extract auth and config environment variables"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":555,"cache_read_input_tokens":68976,"cache_creation":{"ephemeral_5m_input_tokens":555,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1uY6zVMnASDBg3KZbi","type":"assistant","uuid":"9d92bdba-265e-402d-95fd-15334a05ea8b","timestamp":"2025-12-30T01:37:59.170Z"}
{"parentUuid":"9d92bdba-265e-402d-95fd-15334a05ea8b","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01D5oohYuJAMgrLvhtU8TJeE","type":"tool_result","content":"          `]]))[0];return LT3(Y)}throw Error(\"Unable to execute PowerShell. Ensure that it is installed in your system\")}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async()=>{let B=gC(this.tenantId,Q,this.additionallyAllowedTenantIds),G=typeof A===\"string\"?A:A[0];if(B)Qw(Su,B);try{eXA(G,Su),Su.getToken.info(`Using the scope ${G}`);let Z=t21(G),Y=await this.getAzurePowerShellAccessToken(Z,B,this.timeout);return Su.getToken.info(cH(A)),{token:Y.Token,expiresOnTimestamp:new Date(Y.ExpiresOn).getTime(),tokenType:\"Bearer\"}}catch(Z){if(NT3(Z)){let J=new F4(T00.installed);throw Su.getToken.info(UG(G,J)),J}else if(qT3(Z)){let J=new F4(T00.login);throw Su.getToken.info(UG(G,J)),J}let Y=new F4(`${Z}. ${T00.troubleshoot}`);throw Su.getToken.info(UG(G,Y)),Y}})}}async function LT3(A){let Q=/{[^{}]*}/g,B=A.match(Q),G=A;if(B)try{for(let Z of B)try{let Y=JSON.parse(Z);if(Y===null||Y===void 0?void 0:Y.Token){if(G=G.replace(Z,\"\"),G)Su.getToken.warning(G);return Y}}catch(Y){continue}}catch(Z){throw Error(`Unable to parse the output of PowerShell. Received output: ${A}`)}throw Error(`No access token found in the output. Received output: ${A}`)}var Su,FmB,zmB,T00,qT3=(A)=>A.message.match(`(.*)${zmB.login}(.*)`),NT3=(A)=>A.message.match(zmB.installed),P00;var CmB=O(()=>{bT();HW();AIA();hC();HmB();dN();Su=h7(\"AzurePowerShellCredential\"),FmB=process.platform===\"win32\";zmB={login:\"Run Connect-AzAccount to login\",installed:\"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory\"},T00={login:\"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.\",installed:`The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: \"Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force\".`,troubleshoot:\"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot.\"},P00=[EmB(\"pwsh\")];if(FmB)P00.push(EmB(\"powershell\"))});class y00{constructor(...A){this._sources=[],this._sources=A}async getToken(A,Q={}){let{token:B}=await this.getTokenInternal(A,Q);return B}async getTokenInternal(A,Q={}){let B=null,G,Z=[];return iJ.withSpan(\"ChainedTokenCredential.getToken\",Q,async(Y)=>{for(let J=0;J<this._sources.length&&B===null;J++)try{B=await this._sources[J].getToken(A,Y),G=this._sources[J]}catch(X){if(X.name===\"CredentialUnavailableError\"||X.name===\"AuthenticationRequiredError\")Z.push(X);else throw x00.getToken.info(UG(A,X)),X}if(!B&&Z.length>0){let J=new _t1(Z,\"ChainedTokenCredential authentication failed.\");throw x00.getToken.info(UG(A,J)),J}if(x00.getToken.info(`Result for ${G.constructor.name}: ${cH(A)}`),B===null)throw new F4(\"Failed to retrieve a valid token\");return{token:B,successfulCredential:G}})}}var x00;var $mB=O(()=>{hC();HW();dN();x00=h7(\"ChainedTokenCredential\")});import{createHash as UmB,createPrivateKey as OT3}from\"node:crypto\";import{readFile as MT3}from\"node:fs/promises\";class v00{constructor(A,Q,B,G={}){if(!A||!Q)throw Error(`${Y_A}: tenantId and clientId are required parameters.`);this.tenantId=A,this.additionallyAllowedTenantIds=Bw(G===null||G===void 0?void 0:G.additionallyAllowedTenants),this.sendCertificateChain=G.sendCertificateChain,this.certificateConfiguration=Object.assign({},typeof B===\"string\"?{certificatePath:B}:B);let Z=this.certificateConfiguration.certificate,Y=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(Z||Y))throw Error(`${Y_A}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(Z&&Y)throw Error(`${Y_A}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=Za(Q,A,Object.assign(Object.assign({},G),{logger:wmB,tokenCredentialOptions:G}))}async getToken(A,Q={}){return iJ.withSpan(`${Y_A}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,wmB);let G=Array.isArray(A)?A:[A],Z=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(G,Z,B)})}async buildClientCertificate(){var A;let Q=await RT3(this.certificateConfiguration,(A=this.sendCertificateChain)!==null&&A!==void 0?A:!1),B;if(this.certificateConfiguration.certificatePassword!==void 0)B=OT3({key:Q.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:\"pem\"}).export({format:\"pem\",type:\"pkcs8\"}).toString();else B=Q.certificateContents;return{thumbprint:Q.thumbprint,thumbprintSha256:Q.thumbprintSha256,privateKey:B,x5c:Q.x5c}}}async function RT3(A,Q){let{certificate:B,certificatePath:G}=A,Z=B||await MT3(G,\"utf8\"),Y=Q?Z:void 0,J=/(-+BEGIN CERTIFICATE-+)(\\n\\r?|\\r\\n?)([A-Za-z0-9+/\\n\\r]+=*)(\\n\\r?|\\r\\n?)(-+END CERTIFICATE-+)/g,X=[],I;do if(I=J.exec(Z),I)X.push(I[3]);while(I);if(X.length===0)throw Error(\"The file at the specified path does not contain a PEM-encoded certificate.\");let W=UmB(\"sha1\").update(Buffer.from(X[0],\"base64\")).digest(\"hex\").toUpperCase(),K=UmB(\"sha256\").update(Buffer.from(X[0],\"base64\")).digest(\"hex\").toUpperCase();return{certificateContents:Z,thumbprintSha256:K,thumbprint:W,x5c:Y}}var Y_A=\"ClientCertificateCredential\",wmB;var qmB=O(()=>{G_A();bT();HW();dN();wmB=h7(Y_A)});class k00{constructor(A,Q,B,G={}){if(!A)throw new F4(\"ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");if(!Q)throw new F4(\"ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");if(!B)throw new F4(\"ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");this.clientSecret=B,this.tenantId=A,this.additionallyAllowedTenantIds=Bw(G===null||G===void 0?void 0:G.additionallyAllowedTenants),this.msalClient=Za(Q,A,Object.assign(Object.assign({},G),{logger:NmB,tokenCredentialOptions:G}))}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,NmB);let G=s21(A);return this.msalClient.getTokenByClientSecret(G,this.clientSecret,B)})}}var NmB;var LmB=O(()=>{G_A();bT();hC();HW();AIA();dN();NmB=h7(\"ClientSecretCredential\")});class b00{constructor(A,Q,B,G,Z={}){if(!A)throw new F4(\"UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!Q)throw new F4(\"UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!B)throw new F4(\"UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!G)throw new F4(\"UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");this.tenantId=A,this.additionallyAllowedTenantIds=Bw(Z===null||Z===void 0?void 0:Z.additionallyAllowedTenants),this.username=B,this.password=G,this.msalClient=Za(Q,this.tenantId,Object.assign(Object.assign({},Z),{tokenCredentialOptions:Z!==null&&Z!==void 0?Z:{}}))}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,_T3);let G=s21(A);return this.msalClient.getTokenByUsernamePassword(G,this.username,this.password,B)})}}var _T3;var OmB=O(()=>{G_A();bT();hC();HW();AIA();dN();_T3=h7(\"UsernamePasswordCredential\")});function TT3(){var A;return((A=process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS)!==null&&A!==void 0?A:\"\").split(\";\")}function PT3(){var A;let Q=((A=process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN)!==null&&A!==void 0?A:\"\").toLowerCase(),B=Q===\"true\"||Q===\"1\";return xu.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${B}`),B}class f00{constructor(A){this._credential=void 0;let Q=uQ1(jT3).assigned.join(\", \");xu.info(`Found the following environment variables: ${Q}`);let B=process.env.AZURE_TENANT_ID,G=process.env.AZURE_CLIENT_ID,Z=process.env.AZURE_CLIENT_SECRET,Y=TT3(),J=PT3(),X=Object.assign(Object.assign({},A),{additionallyAllowedTenantIds:Y,sendCertificateChain:J});if(B)Qw(xu,B);if(B&&G&&Z){xu.info(`Invoking ClientSecretCredential with tenant ID: ${B}, clientId: ${G} and clientSecret: [REDACTED]`),this._credential=new k00(B,G,Z,X);return}let I=process.env.AZURE_CLIENT_CERTIFICATE_PATH,W=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(B&&G&&I){xu.info(`Invoking ClientCertificateCredential with tenant ID: ${B}, clientId: ${G} and certificatePath: ${I}`),this._credential=new v00(B,G,{certificatePath:I,certificatePassword:W},X);return}let K=process.env.AZURE_USERNAME,V=process.env.AZURE_PASSWORD;if(B&&G&&K&&V)xu.info(`Invoking UsernamePasswordCredential with tenant ID: ${B}, clientId: ${G} and username: ${K}`),xu.warning(\"Environment is configured to use username and password authentication. This authentication method is deprecated, as it doesn't support multifactor authentication (MFA). Use a more secure credential. For more details, see https://aka.ms/azsdk/identity/mfa.\"),this._credential=new b00(B,G,K,V,X)}async getToken(A,Q={}){return iJ.withSpan(`${e21}.getToken`,Q,async(B)=>{if(this._credential)try{let G=await this._credential.getToken(A,B);return xu.getToken.info(cH(A)),G}catch(G){let Z=new GMA(400,{error:`${e21} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:G.message.toString().split(\"More details:\").join(\"\")});throw xu.getToken.info(UG(A,Z)),Z}throw new F4(`${e21} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}}var jT3,e21=\"EnvironmentCredential\",xu;var MmB=O(()=>{hC();HW();qmB();LmB();OmB();bT();dN();jT3=[\"AZURE_TENANT_ID\",\"AZURE_CLIENT_ID\",\"AZURE_CLIENT_SECRET\",\"AZURE_CLIENT_CERTIFICATE_PATH\",\"AZURE_CLIENT_CERTIFICATE_PASSWORD\",\"AZURE_USERNAME\",\"AZURE_PASSWORD\",\"AZURE_ADDITIONALLY_ALLOWED_TENANTS\",\"AZURE_CLIENT_SEND_CERTIFICATE_CHAIN\"];xu=h7(e21)});function ST3(A={}){var Q,B,G,Z;(Q=A.retryOptions)!==null&&Q!==void 0||(A.retryOptions={maxRetries:5,retryDelayInMs:800});let Y=(B=A===null||A===void 0?void 0:A.managedIdentityClientId)!==null&&B!==void 0?B:process.env.AZURE_CLIENT_ID,J=(G=A===null||A===void 0?void 0:A.workloadIdentityClientId)!==null&&G!==void 0?G:Y,X=A===null||A===void 0?void 0:A.managedIdentityResourceId,I=process.env.AZURE_FEDERATED_TOKEN_FILE,W=(Z=A===null||A===void 0?void 0:A.tenantId)!==null&&Z!==void 0?Z:process.env.AZURE_TENANT_ID;if(X){let K=Object.assign(Object.assign({},A),{resourceId:X});return new tXA(K)}if(I&&J){let K=Object.assign(Object.assign({},A),{tenantId:W});return new tXA(J,K)}if(Y){let K=Object.assign(Object.assign({},A),{clientId:Y});return new tXA(K)}return new tXA(A)}function xT3(A){var Q,B,G;let Z=(Q=A===null||A===void 0?void 0:A.managedIdentityClientId)!==null&&Q!==void 0?Q:process.env.AZURE_CLIENT_ID,Y=(B=A===null||A===void 0?void 0:A.workloadIdentityClientId)!==null&&B!==void 0?B:Z,J=process.env.AZURE_FEDERATED_TOKEN_FILE,X=(G=A===null||A===void 0?void 0:A.tenantId)!==null&&G!==void 0?G:process.env.AZURE_TENANT_ID;if(J&&Y){let I=Object.assign(Object.assign({},A),{tenantId:X,clientId:Y,tokenFilePath:J});return new GBA(I)}if(X){let I=Object.assign(Object.assign({},A),{tenantId:X});return new GBA(I)}return new GBA(A)}function yT3(A={}){let Q=A.processTimeoutInMs;return new j00(Object.assign({processTimeoutInMs:Q},A))}function vT3(A={}){let Q=A.processTimeoutInMs;return new _00(Object.assign({processTimeoutInMs:Q},A))}function kT3(A={}){let Q=A.processTimeoutInMs;return new S00(Object.assign({processTimeoutInMs:Q},A))}function bT3(A={}){return new f00(A)}class RmB{constructor(A,Q){this.credentialName=A,this.credentialUnavailableErrorMessage=Q}getToken(){return h00.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}}var h00,A91;var _mB=O(()=>{ZmB();XmB();WmB();CmB();$mB();MmB();O00();HW();h00=h7(\"DefaultAzureCredential\");A91=class A91 extends y00{constructor(A){let Q=process.env.AZURE_TOKEN_CREDENTIALS?process.env.AZURE_TOKEN_CREDENTIALS.trim().toLowerCase():void 0,B=[vT3,kT3,yT3],G=[bT3,xT3,ST3],Z=[];if(Q)switch(Q){case\"dev\":Z=B;break;case\"prod\":Z=G;break;default:{let J=`Invalid value for AZURE_TOKEN_CREDENTIALS = ${process.env.AZURE_TOKEN_CREDENTIALS}. Valid values are 'prod' or 'dev'.`;throw h00.warning(J),Error(J)}}else Z=[...G,...B];let Y=Z.map((J)=>{try{return J(A)}catch(X){return h00.warning(`Skipped ${J.name} because of an error creating the credential: ${X}`),new RmB(J.name,X.message)}});super(...Y)}}});function g00(A,Q,B){let{abortSignal:G,tracingOptions:Z}=B||{},Y=HMA();Y.addPolicy($MA({credential:A,scopes:Q}));async function J(){var X;let W=(X=(await Y.sendRequest({sendRequest:(K)=>Promise.resolve({request:K,status:200,headers:K.headers})},gT({url:\"https://example.com\",abortSignal:G,tracingOptions:Z}))).headers.get(\"authorization\"))===null||X===void 0?void 0:X.split(\" \")[1];if(!W)throw Error(\"Failed to get access token\");return W}return J}var jmB=O(()=>{Wu()});var TmB=O(()=>{_mB();jmB();yvB()});function Q91(){return{error:(A,...Q)=>console.error(\"[Anthropic SDK ERROR]\",A,...Q),warn:(A,...Q)=>console.error(\"[Anthropic SDK WARN]\",A,...Q),info:(A,...Q)=>console.error(\"[Anthropic SDK INFO]\",A,...Q),debug:(A,...Q)=>console.error(\"[Anthropic SDK DEBUG]\",A,...Q)}}async function oC({apiKey:A,maxRetries:Q,model:B,fetchOverride:G}){let Z=process.env.CLAUDE_CODE_CONTAINER_ID,Y=process.env.CLAUDE_CODE_REMOTE_SESSION_ID,J={\"x-app\":\"cli\",\"User-Agent\":Yi(),...hT3(),...Z?{\"x-claude-remote-container-id\":Z}:{},...Y?{\"x-claude-remote-session-id\":Y}:{}};if(F0(process.env.CLAUDE_CODE_ADDITIONAL_PROTECTION))J[\"x-anthropic-additional-protection\"]=\"true\";if(await Vg(),!zB())fT3(J,q9());let I={defaultHeaders:J,maxRetries:Q,timeout:parseInt(process.env.API_TIMEOUT_MS||String(600000),10),dangerouslyAllowBrowser:!0,fetchOptions:FZA(),...G&&{fetch:G}};if(F0(process.env.CLAUDE_CODE_USE_BEDROCK)){let K=B===UK()&&process.env.ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION?process.env.ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION:bt(),V={...I,awsRegion:K,...F0(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH)&&{skipAuth:!0},...Lx()&&{logger:Q91()}};if(process.env.AWS_BEARER_TOKEN_BEDROCK)V.skipAuth=!0,V.defaultHeaders={...V.defaultHeaders,Authorization:`Bearer ${process.env.AWS_BEARER_TOKEN_BEDROCK}`};else if(!F0(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH)){let H=await X1A();if(H)V.awsAccessKey=H.accessKeyId,V.awsSecretKey=H.secretAccessKey,V.awsSessionToken=H.sessionToken}return new k01(V)}if(F0(process.env.CLAUDE_CODE_USE_FOUNDRY)){let K;if(!process.env.ANTHROPIC_FOUNDRY_API_KEY)if(F0(process.env.CLAUDE_CODE_SKIP_FOUNDRY_AUTH))K=()=>Promise.resolve(\"\");else K=g00(new A91,\"https://cognitiveservices.azure.com/.default\");let V={...I,...K&&{azureADTokenProvider:K},...Lx()&&{logger:Q91()}};return new g01(V)}if(F0(process.env.CLAUDE_CODE_USE_VERTEX)){let K=process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project,V=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials,H=F0(process.env.CLAUDE_CODE_SKIP_VERTEX_AUTH)?{getClient:()=>({getRequestHeaders:()=>({})})}:new PmB.GoogleAuth({scopes:[\"https://www.googleapis.com/auth/cloud-platform\"],...K||V?{}:{projectId:process.env.ANTHROPIC_VERTEX_PROJECT_ID}}),D={...I,region:ofA(B),googleAuth:H,...Lx()&&{logger:Q91()}};return new yQ1(D)}let W={apiKey:zB()?null:A||eq(),authToken:zB()?d6()?.accessToken:void 0,...{},...I,...Lx()&&{logger:Q91()}};return new OT(W)}function fT3(A,Q){let B=process.env.ANTHROPIC_AUTH_TOKEN||vqA(Q);if(B)A.Authorization=`Bearer ${B}`}function hT3(){let A={},Q=process.env.ANTHROPIC_CUSTOM_HEADERS;if(!Q)return A;let B=Q.split(/\\n|\\r\\n/);for(let G of B){if(!G.trim())continue;let Z=G.match(/^\\s*(.*?)\\s*:\\s*(.*?)\\s*$/);if(Z){let[,Y,J]=Z;if(Y&&J!==void 0)A[Y]=J}}return A}var PmB;var ZBA=O(()=>{NOB();jOB();jv();TSB();TmB();V2();o0();dE();AB();Bi();cY();Q0();J9();PmB=l(Ht1(),1)});import{createHash as ymB}from\"crypto\";import{dirname as B91,join as vmB}from\"path\";import*as kmB from\"path\";function u00(){return!1}async function gT3(A,Q,B){if(!u00())return await B();let G=ymB(\"sha1\").update(JSON.stringify(A)).digest(\"hex\").slice(0,12),Z=vmB(process.env.CLAUDE_CODE_TEST_FIXTURES_ROOT??t1(),`fixtures/${Q}-${G}.json`);if(jA().existsSync(Z))return JSON.parse(jA().readFileSync(Z,{encoding:\"utf8\"}));if(DQ.isCI)throw Error(`Fixture missing: ${Z}. Re-run npm test locally, then commit the result.`);let Y=await B();if(!jA().existsSync(B91(Z)))jA().mkdirSync(B91(Z));return jA().writeFileSync(Z,JSON.stringify(Y,null,2),{encoding:\"utf8\",flush:!1}),Y}async function m00(A,Q){if(!u00())return await Q();let B=GJ(A.filter((J)=>{if(J.type!==\"user\")return!0;if(J.isMeta)return!1;return!0})),G=mT3(B.map((J)=>J.message.content),xmB),Z=vmB(process.env.CLAUDE_CODE_TEST_FIXTURES_ROOT??t1(),`fixtures/${G.map((J)=>ymB(\"sha1\").update(JSON.stringify(J)).digest(\"hex\").slice(0,6)).join(\"-\")}.json`);if(jA().existsSync(Z)){let J=JSON.parse(jA().readFileSync(Z,{encoding:\"utf8\"}));return J.output.forEach(uT3),J.output.map((X,I)=>SmB(X,pT3,I))}if(DQ.isCI)throw Error(`Anthropic API fixture missing: ${Z}. Re-run npm test locally, then commit the result. Input messages:\n          anthropic_api_key: \\${{ secrets.ANTHROPIC_API_KEY }}\n    `}var O$0=\"\\\\\",mc2=1e4,dc2=async(A)=>{let Q=A.includes(\"zsh\")?\"zsh\":A.includes(\"bash\")?\"bash\":\"sh\";return k(`Creating shell snapshot for ${Q} (${A})`),new Promise(async(B)=>{try{let G=R$0(A);k(`Looking for shell config file: ${G}`);let Z=evA(G);if(!Z)k(`Shell config file not found: ${G}, creating snapshot with Claude Code defaults only`);let Y=Date.now(),J=Math.random().toString(36).substring(2,8),X=M$0(vQ(),\"shell-snapshots\");k(`Snapshots directory: ${X}`);let I=M$0(X,`snapshot-${Q}-${Y}-${J}.sh`);fr5(X,{recursive:!0});let W=lr5(A,I,Z);k(`Creating snapshot at: ${I}`),k(`Shell binary exists: ${evA(A)}`),k(`Execution timeout: ${mc2}ms`),ur5(A,[\"-c\",\"-l\",W],{env:{...process.env.CLAUDE_CODE_DONT_INHERIT_ENV?{}:process.env,SHELL:A,GIT_EDITOR:\"true\",CLAUDECODE:\"1\"},timeout:mc2,maxBuffer:1048576,encoding:\"utf8\"},async(K,V,H)=>{if(K){let D=K;if(k(`Shell snapshot creation failed: ${K.message}`),k(\"Error details:\"),k(`  - Error code: ${D?.code}`),k(`  - Error signal: ${D?.signal}`),k(`  - Error killed: ${D?.killed}`),k(`  - Shell path: ${A}`),k(`  - Config file: ${R$0(A)}`),k(`  - Config file exists: ${Z}`),k(`  - Working directory: ${t1()}`),k(`  - Claude home: ${vQ()}`),k(`Full snapshot script:\n  \"HS256\", \"HS384\", \"HS512\", \"RS256\", \"RS384\", \"RS512\", \"PS256\", \"PS384\", \"PS512\", \"ES256\", \"ES384\", \"ES512\" and \"none\".`,aOA=\"secret must be a string or buffer\",rJA=\"key must be a string or a buffer\",AE3=\"key must be a string, a buffer or an object\",Fs1=typeof GR.createPublicKey===\"function\";if(Fs1)rJA+=\" or a KeyObject\",aOA+=\"or a KeyObject\";function ETB(A){if(sJA.isBuffer(A))return;if(typeof A===\"string\")return;if(!Fs1)throw xT(rJA);if(typeof A!==\"object\")throw xT(rJA);if(typeof A.type!==\"string\")throw xT(rJA);if(typeof A.asymmetricKeyType!==\"string\")throw xT(rJA);if(typeof A.export!==\"function\")throw xT(rJA)}function zTB(A){if(sJA.isBuffer(A))return;if(typeof A===\"string\")return;if(typeof A===\"object\")return;throw xT(AE3)}function QE3(A){if(sJA.isBuffer(A))return;if(typeof A===\"string\")return A;if(!Fs1)throw xT(aOA);if(typeof A!==\"object\")throw xT(aOA);if(A.type!==\"secret\")throw xT(aOA);if(typeof A.export!==\"function\")throw xT(aOA)}function Es1(A){return A.replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function CTB(A){A=A.toString();var Q=4-A.length%4;if(Q!==4)for(var B=0;B<Q;++B)A+=\"=\";return A.replace(/\\-/g,\"+\").replace(/_/g,\"/\")}function xT(A){var Q=[].slice.call(arguments,1),B=DTB.format.bind(DTB,A).apply(null,Q);return TypeError(B)}function BE3(A){return sJA.isBuffer(A)||typeof A===\"string\"}function oOA(A){if(!BE3(A))A=JSON.stringify(A);return A}function $TB(A){return function(B,G){QE3(G),B=oOA(B);var Z=GR.createHmac(\"sha\"+A,G),Y=(Z.update(B),Z.digest(\"base64\"));return Es1(Y)}}var Ds1,GE3=\"timingSafeEqual\"in GR?function(Q,B){if(Q.byteLength!==B.byteLength)return!1;return GR.timingSafeEqual(Q,B)}:function(Q,B){if(!Ds1)Ds1=Hs1();return Ds1(Q,B)};function ZE3(A){return function(B,G,Z){var Y=$TB(A)(B,Z);return GE3(sJA.from(G),sJA.from(Y))}}function UTB(A){return function(B,G){zTB(G),B=oOA(B);var Z=GR.createSign(\"RSA-SHA\"+A),Y=(Z.update(B),Z.sign(G,\"base64\"));return Es1(Y)}}function wTB(A){return function(B,G,Z){ETB(Z),B=oOA(B),G=CTB(G);var Y=GR.createVerify(\"RSA-SHA\"+A);return Y.update(B),Y.verify(Z,G,\"base64\")}}function YE3(A){return function(B,G){zTB(G),B=oOA(B);var Z=GR.createSign(\"RSA-SHA\"+A),Y=(Z.update(B),Z.sign({key:G,padding:GR.constants.RSA_PKCS1_PSS_PADDING,saltLength:GR.constants.RSA_PSS_SALTLEN_DIGEST},\"base64\"));return Es1(Y)}}function JE3(A){return function(B,G,Z){ETB(Z),B=oOA(B),G=CTB(G);var Y=GR.createVerify(\"RSA-SHA\"+A);return Y.update(B),Y.verify({key:Z,padding:GR.constants.RSA_PKCS1_PSS_PADDING,saltLength:GR.constants.RSA_PSS_SALTLEN_DIGEST},G,\"base64\")}}function XE3(A){var Q=UTB(A);return function(){var G=Q.apply(null,arguments);return G=FTB.derToJose(G,\"ES\"+A),G}}function IE3(A){var Q=wTB(A);return function(G,Z,Y){Z=FTB.joseToDer(Z,\"ES\"+A).toString(\"base64\");var J=Q(G,Z,Y);return J}}function WE3(){return function(){return\"\"}}function KE3(){return function(Q,B){return B===\"\"}}qTB.exports=function(Q){var B={hs:$TB,rs:UTB,ps:YE3,es:XE3,none:WE3},G={hs:ZE3,rs:wTB,ps:JE3,es:IE3,none:KE3},Z=Q.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!Z)throw xT(eF3,Q);var Y=(Z[1]||Z[3]).toLowerCase(),J=Z[2];return{sign:B[Y](J),verify:G[Y](J)}}});var Cs1=U(($LG,NTB)=>{var VE3=LA(\"buffer\").Buffer;NTB.exports=function(Q){if(typeof Q===\"string\")return Q;if(typeof Q===\"number\"||VE3.isBuffer(Q))return Q.toString();return JSON.stringify(Q)}});var jTB=U((ULG,_TB)=>{var HE3=kv().Buffer,LTB=Ks1(),DE3=zs1(),FE3=LA(\"stream\"),OTB=Cs1(),$s1=LA(\"util\");function MTB(A,Q){return HE3.from(A,Q).toString(\"base64\").replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function EE3(A,Q,B){B=B||\"utf8\";var G=MTB(OTB(A),\"binary\"),Z=MTB(OTB(Q),B);return $s1.format(\"%s.%s\",G,Z)}function RTB(A){var{header:Q,payload:B}=A,G=A.secret||A.privateKey,Z=A.encoding,Y=DE3(Q.alg),J=EE3(Q,B,Z),X=Y.sign(J,G);return $s1.format(\"%s.%s\",J,X)}function qQ1(A){var Q=A.secret||A.privateKey||A.key,B=new LTB(Q);this.readable=!0,this.header=A.header,this.encoding=A.encoding,this.secret=this.privateKey=this.key=B,this.payload=new LTB(A.payload),this.secret.once(\"close\",function(){if(!this.payload.writable&&this.readable)this.sign()}.bind(this)),this.payload.once(\"close\",function(){if(!this.secret.writable&&this.readable)this.sign()}.bind(this))}$s1.inherits(qQ1,FE3);qQ1.prototype.sign=function(){try{var Q=RTB({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit(\"done\",Q),this.emit(\"data\",Q),this.emit(\"end\"),this.readable=!1,Q}catch(B){this.readable=!1,this.emit(\"error\",B),this.emit(\"close\")}};qQ1.sign=RTB;_TB.exports=qQ1});var hTB=U((wLG,fTB)=>{var PTB=kv().Buffer,TTB=Ks1(),zE3=zs1(),CE3=LA(\"stream\"),STB=Cs1(),$E3=LA(\"util\"),UE3=/^[a-zA-Z0-9\\-_]+?\\.[a-zA-Z0-9\\-_]+?\\.([a-zA-Z0-9\\-_]+)?$/;function wE3(A){return Object.prototype.toString.call(A)===\"[object Object]\"}function qE3(A){if(wE3(A))return A;try{return JSON.parse(A)}catch(Q){return}}function xTB(A){var Q=A.split(\".\",1)[0];return qE3(PTB.from(Q,\"base64\").toString(\"binary\"))}function NE3(A){return A.split(\".\",2).join(\".\")}function yTB(A){return A.split(\".\")[2]}function LE3(A,Q){Q=Q||\"utf8\";var B=A.split(\".\")[1];return PTB.from(B,\"base64\").toString(Q)}function vTB(A){return UE3.test(A)&&!!xTB(A)}function kTB(A,Q,B){if(!Q){var G=Error(\"Missing algorithm parameter for jws.verify\");throw G.code=\"MISSING_ALGORITHM\",G}A=STB(A);var Z=yTB(A),Y=NE3(A),J=zE3(Q);return J.verify(Y,Z,B)}function bTB(A,Q){if(Q=Q||{},A=STB(A),!vTB(A))return null;var B=xTB(A);if(!B)return null;var G=LE3(A);if(B.typ===\"JWT\"||Q.json)G=JSON.parse(G,Q.encoding);return{header:B,payload:G,signature:yTB(A)}}function tJA(A){A=A||{};var Q=A.secret||A.publicKey||A.key,B=new TTB(Q);this.readable=!0,this.algorithm=A.algorithm,this.encoding=A.encoding,this.secret=this.publicKey=this.key=B,this.signature=new TTB(A.signature),this.secret.once(\"close\",function(){if(!this.signature.writable&&this.readable)this.verify()}.bind(this)),this.signature.once(\"close\",function(){if(!this.secret.writable&&this.readable)this.verify()}.bind(this))}$E3.inherits(tJA,CE3);tJA.prototype.verify=function(){try{var Q=kTB(this.signature.buffer,this.algorithm,this.key.buffer),B=bTB(this.signature.buffer,this.encoding);return this.emit(\"done\",Q,B),this.emit(\"data\",Q),this.emit(\"end\"),this.readable=!1,Q}catch(G){this.readable=!1,this.emit(\"error\",G),this.emit(\"close\")}};tJA.decode=bTB;tJA.isValid=vTB;tJA.verify=kTB;fTB.exports=tJA});var Us1=U((ME3)=>{var gTB=jTB(),NQ1=hTB(),OE3=[\"HS256\",\"HS384\",\"HS512\",\"RS256\",\"RS384\",\"RS512\",\"PS256\",\"PS384\",\"PS512\",\"ES256\",\"ES384\",\"ES512\"];ME3.ALGORITHMS=OE3;ME3.sign=gTB.sign;ME3.verify=NQ1.verify;ME3.decode=NQ1.decode;ME3.isValid=NQ1.isValid;ME3.createSign=function(Q){return new gTB(Q)};ME3.createVerify=function(Q){return new NQ1(Q)}});var aTB=U((On)=>{var yT=On&&On.__classPrivateFieldGet||function(A,Q,B,G){if(B===\"a\"&&!G)throw TypeError(\"Private accessor was defined without a getter\");if(typeof Q===\"function\"?A!==Q||!G:!Q.has(A))throw TypeError(\"Cannot read private member from an object whose class did not declare it\");return B===\"m\"?G:B===\"a\"?G.call(A):G?G.value:Q.get(A)},uTB=On&&On.__classPrivateFieldSet||function(A,Q,B,G,Z){if(G===\"m\")throw TypeError(\"Private method is not writable\");if(G===\"a\"&&!Z)throw TypeError(\"Private accessor was defined without a setter\");if(typeof Q===\"function\"?A!==Q||!Z:!Q.has(A))throw TypeError(\"Cannot write private member to an object whose class did not declare it\");return G===\"a\"?Z.call(A,B):Z?Z.value=B:Q.set(A,B),B},vT,eJA,ws1,mTB,dTB,qs1,Ns1,pTB;Object.defineProperty(On,\"__esModule\",{value:!0});On.GoogleToken=void 0;var cTB=LA(\"fs\"),yE3=TT(),vE3=Us1(),kE3=LA(\"path\"),bE3=LA(\"util\"),lTB=cTB.readFile?(0,bE3.promisify)(cTB.readFile):async()=>{throw new AXA(\"use key rather than keyFile.\",\"MISSING_CREDENTIALS\")},iTB=\"https://www.googleapis.com/oauth2/v4/token\",fE3=\"https://accounts.google.com/o/oauth2/revoke?token=\";class AXA extends Error{constructor(A,Q){super(A);this.code=Q}}class nTB{get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}constructor(A){vT.add(this),this.transporter={request:(Q)=>(0,yE3.request)(Q)},eJA.set(this,void 0),yT(this,vT,\"m\",Ns1).call(this,A)}hasExpired(){let A=new Date().getTime();if(this.rawToken&&this.expiresAt)return A>=this.expiresAt;else return!0}isTokenExpiring(){var A;let Q=new Date().getTime(),B=(A=this.eagerRefreshThresholdMillis)!==null&&A!==void 0?A:0;if(this.rawToken&&this.expiresAt)return this.expiresAt<=Q+B;else return!0}getToken(A,Q={}){if(typeof A===\"object\")Q=A,A=void 0;if(Q=Object.assign({forceRefresh:!1},Q),A){let B=A;yT(this,vT,\"m\",ws1).call(this,Q).then((G)=>B(null,G),A);return}return yT(this,vT,\"m\",ws1).call(this,Q)}async getCredentials(A){switch(kE3.extname(A)){case\".json\":{let B=await lTB(A,\"utf8\"),G=JSON.parse(B),Z=G.private_key,Y=G.client_email;if(!Z||!Y)throw new AXA(\"private_key and client_email are required.\",\"MISSING_CREDENTIALS\");return{privateKey:Z,clientEmail:Y}}case\".der\":case\".crt\":case\".pem\":return{privateKey:await lTB(A,\"utf8\")};case\".p12\":case\".pfx\":throw new AXA(\"*.p12 certificates are not supported after v6.1.2. Consider utilizing *.json format or converting *.p12 to *.pem using the OpenSSL CLI.\",\"UNKNOWN_CERTIFICATE_TYPE\");default:throw new AXA(\"Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, and *.pem.\",\"UNKNOWN_CERTIFICATE_TYPE\")}}revokeToken(A){if(A){yT(this,vT,\"m\",qs1).call(this).then(()=>A(),A);return}return yT(this,vT,\"m\",qs1).call(this)}}On.GoogleToken=nTB;eJA=new WeakMap,vT=new WeakSet,ws1=async function(Q){if(yT(this,eJA,\"f\")&&!Q.forceRefresh)return yT(this,eJA,\"f\");try{return await uTB(this,eJA,yT(this,vT,\"m\",mTB).call(this,Q),\"f\")}finally{uTB(this,eJA,void 0,\"f\")}},mTB=async function(Q){if(this.isTokenExpiring()===!1&&Q.forceRefresh===!1)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw Error(\"No key or keyFile set.\");if(!this.key&&this.keyFile){let B=await this.getCredentials(this.keyFile);if(this.key=B.privateKey,this.iss=B.clientEmail||this.iss,!B.clientEmail)yT(this,vT,\"m\",dTB).call(this)}return yT(this,vT,\"m\",pTB).call(this)},dTB=function(){if(!this.iss)throw new AXA(\"email is required.\",\"MISSING_CREDENTIALS\")},qs1=async function(){if(!this.accessToken)throw Error(\"No token to revoke.\");let Q=fE3+this.accessToken;await this.transporter.request({url:Q,retry:!0}),yT(this,vT,\"m\",Ns1).call(this,{email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims}\n\n... [37 lines truncated] ...","is_error":false}]},"uuid":"c994f128-bece-4e00-828e-f22875c4d6c9","timestamp":"2025-12-30T01:37:59.504Z","toolUseResult":{"stdout":"          `]]))[0];return LT3(Y)}throw Error(\"Unable to execute PowerShell. Ensure that it is installed in your system\")}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async()=>{let B=gC(this.tenantId,Q,this.additionallyAllowedTenantIds),G=typeof A===\"string\"?A:A[0];if(B)Qw(Su,B);try{eXA(G,Su),Su.getToken.info(`Using the scope ${G}`);let Z=t21(G),Y=await this.getAzurePowerShellAccessToken(Z,B,this.timeout);return Su.getToken.info(cH(A)),{token:Y.Token,expiresOnTimestamp:new Date(Y.ExpiresOn).getTime(),tokenType:\"Bearer\"}}catch(Z){if(NT3(Z)){let J=new F4(T00.installed);throw Su.getToken.info(UG(G,J)),J}else if(qT3(Z)){let J=new F4(T00.login);throw Su.getToken.info(UG(G,J)),J}let Y=new F4(`${Z}. ${T00.troubleshoot}`);throw Su.getToken.info(UG(G,Y)),Y}})}}async function LT3(A){let Q=/{[^{}]*}/g,B=A.match(Q),G=A;if(B)try{for(let Z of B)try{let Y=JSON.parse(Z);if(Y===null||Y===void 0?void 0:Y.Token){if(G=G.replace(Z,\"\"),G)Su.getToken.warning(G);return Y}}catch(Y){continue}}catch(Z){throw Error(`Unable to parse the output of PowerShell. Received output: ${A}`)}throw Error(`No access token found in the output. Received output: ${A}`)}var Su,FmB,zmB,T00,qT3=(A)=>A.message.match(`(.*)${zmB.login}(.*)`),NT3=(A)=>A.message.match(zmB.installed),P00;var CmB=O(()=>{bT();HW();AIA();hC();HmB();dN();Su=h7(\"AzurePowerShellCredential\"),FmB=process.platform===\"win32\";zmB={login:\"Run Connect-AzAccount to login\",installed:\"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory\"},T00={login:\"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.\",installed:`The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: \"Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force\".`,troubleshoot:\"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot.\"},P00=[EmB(\"pwsh\")];if(FmB)P00.push(EmB(\"powershell\"))});class y00{constructor(...A){this._sources=[],this._sources=A}async getToken(A,Q={}){let{token:B}=await this.getTokenInternal(A,Q);return B}async getTokenInternal(A,Q={}){let B=null,G,Z=[];return iJ.withSpan(\"ChainedTokenCredential.getToken\",Q,async(Y)=>{for(let J=0;J<this._sources.length&&B===null;J++)try{B=await this._sources[J].getToken(A,Y),G=this._sources[J]}catch(X){if(X.name===\"CredentialUnavailableError\"||X.name===\"AuthenticationRequiredError\")Z.push(X);else throw x00.getToken.info(UG(A,X)),X}if(!B&&Z.length>0){let J=new _t1(Z,\"ChainedTokenCredential authentication failed.\");throw x00.getToken.info(UG(A,J)),J}if(x00.getToken.info(`Result for ${G.constructor.name}: ${cH(A)}`),B===null)throw new F4(\"Failed to retrieve a valid token\");return{token:B,successfulCredential:G}})}}var x00;var $mB=O(()=>{hC();HW();dN();x00=h7(\"ChainedTokenCredential\")});import{createHash as UmB,createPrivateKey as OT3}from\"node:crypto\";import{readFile as MT3}from\"node:fs/promises\";class v00{constructor(A,Q,B,G={}){if(!A||!Q)throw Error(`${Y_A}: tenantId and clientId are required parameters.`);this.tenantId=A,this.additionallyAllowedTenantIds=Bw(G===null||G===void 0?void 0:G.additionallyAllowedTenants),this.sendCertificateChain=G.sendCertificateChain,this.certificateConfiguration=Object.assign({},typeof B===\"string\"?{certificatePath:B}:B);let Z=this.certificateConfiguration.certificate,Y=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(Z||Y))throw Error(`${Y_A}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(Z&&Y)throw Error(`${Y_A}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=Za(Q,A,Object.assign(Object.assign({},G),{logger:wmB,tokenCredentialOptions:G}))}async getToken(A,Q={}){return iJ.withSpan(`${Y_A}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,wmB);let G=Array.isArray(A)?A:[A],Z=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(G,Z,B)})}async buildClientCertificate(){var A;let Q=await RT3(this.certificateConfiguration,(A=this.sendCertificateChain)!==null&&A!==void 0?A:!1),B;if(this.certificateConfiguration.certificatePassword!==void 0)B=OT3({key:Q.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:\"pem\"}).export({format:\"pem\",type:\"pkcs8\"}).toString();else B=Q.certificateContents;return{thumbprint:Q.thumbprint,thumbprintSha256:Q.thumbprintSha256,privateKey:B,x5c:Q.x5c}}}async function RT3(A,Q){let{certificate:B,certificatePath:G}=A,Z=B||await MT3(G,\"utf8\"),Y=Q?Z:void 0,J=/(-+BEGIN CERTIFICATE-+)(\\n\\r?|\\r\\n?)([A-Za-z0-9+/\\n\\r]+=*)(\\n\\r?|\\r\\n?)(-+END CERTIFICATE-+)/g,X=[],I;do if(I=J.exec(Z),I)X.push(I[3]);while(I);if(X.length===0)throw Error(\"The file at the specified path does not contain a PEM-encoded certificate.\");let W=UmB(\"sha1\").update(Buffer.from(X[0],\"base64\")).digest(\"hex\").toUpperCase(),K=UmB(\"sha256\").update(Buffer.from(X[0],\"base64\")).digest(\"hex\").toUpperCase();return{certificateContents:Z,thumbprintSha256:K,thumbprint:W,x5c:Y}}var Y_A=\"ClientCertificateCredential\",wmB;var qmB=O(()=>{G_A();bT();HW();dN();wmB=h7(Y_A)});class k00{constructor(A,Q,B,G={}){if(!A)throw new F4(\"ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");if(!Q)throw new F4(\"ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");if(!B)throw new F4(\"ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");this.clientSecret=B,this.tenantId=A,this.additionallyAllowedTenantIds=Bw(G===null||G===void 0?void 0:G.additionallyAllowedTenants),this.msalClient=Za(Q,A,Object.assign(Object.assign({},G),{logger:NmB,tokenCredentialOptions:G}))}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,NmB);let G=s21(A);return this.msalClient.getTokenByClientSecret(G,this.clientSecret,B)})}}var NmB;var LmB=O(()=>{G_A();bT();hC();HW();AIA();dN();NmB=h7(\"ClientSecretCredential\")});class b00{constructor(A,Q,B,G,Z={}){if(!A)throw new F4(\"UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!Q)throw new F4(\"UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!B)throw new F4(\"UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!G)throw new F4(\"UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");this.tenantId=A,this.additionallyAllowedTenantIds=Bw(Z===null||Z===void 0?void 0:Z.additionallyAllowedTenants),this.username=B,this.password=G,this.msalClient=Za(Q,this.tenantId,Object.assign(Object.assign({},Z),{tokenCredentialOptions:Z!==null&&Z!==void 0?Z:{}}))}async getToken(A,Q={}){return iJ.withSpan(`${this.constructor.name}.getToken`,Q,async(B)=>{B.tenantId=gC(this.tenantId,B,this.additionallyAllowedTenantIds,_T3);let G=s21(A);return this.msalClient.getTokenByUsernamePassword(G,this.username,this.password,B)})}}var _T3;var OmB=O(()=>{G_A();bT();hC();HW();AIA();dN();_T3=h7(\"UsernamePasswordCredential\")});function TT3(){var A;return((A=process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS)!==null&&A!==void 0?A:\"\").split(\";\")}function PT3(){var A;let Q=((A=process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN)!==null&&A!==void 0?A:\"\").toLowerCase(),B=Q===\"true\"||Q===\"1\";return xu.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${B}`),B}class f00{constructor(A){this._credential=void 0;let Q=uQ1(jT3).assigned.join(\", \");xu.info(`Found the following environment variables: ${Q}`);let B=process.env.AZURE_TENANT_ID,G=process.env.AZURE_CLIENT_ID,Z=process.env.AZURE_CLIENT_SECRET,Y=TT3(),J=PT3(),X=Object.assign(Object.assign({},A),{additionallyAllowedTenantIds:Y,sendCertificateChain:J});if(B)Qw(xu,B);if(B&&G&&Z){xu.info(`Invoking ClientSecretCredential with tenant ID: ${B}, clientId: ${G} and clientSecret: [REDACTED]`),this._credential=new k00(B,G,Z,X);return}let I=process.env.AZURE_CLIENT_CERTIFICATE_PATH,W=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(B&&G&&I){xu.info(`Invoking ClientCertificateCredential with tenant ID: ${B}, clientId: ${G} and certificatePath: ${I}`),this._credential=new v00(B,G,{certificatePath:I,certificatePassword:W},X);return}let K=process.env.AZURE_USERNAME,V=process.env.AZURE_PASSWORD;if(B&&G&&K&&V)xu.info(`Invoking UsernamePasswordCredential with tenant ID: ${B}, clientId: ${G} and username: ${K}`),xu.warning(\"Environment is configured to use username and password authentication. This authentication method is deprecated, as it doesn't support multifactor authentication (MFA). Use a more secure credential. For more details, see https://aka.ms/azsdk/identity/mfa.\"),this._credential=new b00(B,G,K,V,X)}async getToken(A,Q={}){return iJ.withSpan(`${e21}.getToken`,Q,async(B)=>{if(this._credential)try{let G=await this._credential.getToken(A,B);return xu.getToken.info(cH(A)),G}catch(G){let Z=new GMA(400,{error:`${e21} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:G.message.toString().split(\"More details:\").join(\"\")});throw xu.getToken.info(UG(A,Z)),Z}throw new F4(`${e21} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}}var jT3,e21=\"EnvironmentCredential\",xu;var MmB=O(()=>{hC();HW();qmB();LmB();OmB();bT();dN();jT3=[\"AZURE_TENANT_ID\",\"AZURE_CLIENT_ID\",\"AZURE_CLIENT_SECRET\",\"AZURE_CLIENT_CERTIFICATE_PATH\",\"AZURE_CLIENT_CERTIFICATE_PASSWORD\",\"AZURE_USERNAME\",\"AZURE_PASSWORD\",\"AZURE_ADDITIONALLY_ALLOWED_TENANTS\",\"AZURE_CLIENT_SEND_CERTIFICATE_CHAIN\"];xu=h7(e21)});function ST3(A={}){var Q,B,G,Z;(Q=A.retryOptions)!==null&&Q!==void 0||(A.retryOptions={maxRetries:5,retryDelayInMs:800});let Y=(B=A===null||A===void 0?void 0:A.managedIdentityClientId)!==null&&B!==void 0?B:process.env.AZURE_CLIENT_ID,J=(G=A===null||A===void 0?void 0:A.workloadIdentityClientId)!==null&&G!==void 0?G:Y,X=A===null||A===void 0?void 0:A.managedIdentityResourceId,I=process.env.AZURE_FEDERATED_TOKEN_FILE,W=(Z=A===null||A===void 0?void 0:A.tenantId)!==null&&Z!==void 0?Z:process.env.AZURE_TENANT_ID;if(X){let K=Object.assign(Object.assign({},A),{resourceId:X});return new tXA(K)}if(I&&J){let K=Object.assign(Object.assign({},A),{tenantId:W});return new tXA(J,K)}if(Y){let K=Object.assign(Object.assign({},A),{clientId:Y});return new tXA(K)}return new tXA(A)}function xT3(A){var Q,B,G;let Z=(Q=A===null||A===void 0?void 0:A.managedIdentityClientId)!==null&&Q!==void 0?Q:process.env.AZURE_CLIENT_ID,Y=(B=A===null||A===void 0?void 0:A.workloadIdentityClientId)!==null&&B!==void 0?B:Z,J=process.env.AZURE_FEDERATED_TOKEN_FILE,X=(G=A===null||A===void 0?void 0:A.tenantId)!==null&&G!==void 0?G:process.env.AZURE_TENANT_ID;if(J&&Y){let I=Object.assign(Object.assign({},A),{tenantId:X,clientId:Y,tokenFilePath:J});return new GBA(I)}if(X){let I=Object.assign(Object.assign({},A),{tenantId:X});return new GBA(I)}return new GBA(A)}function yT3(A={}){let Q=A.processTimeoutInMs;return new j00(Object.assign({processTimeoutInMs:Q},A))}function vT3(A={}){let Q=A.processTimeoutInMs;return new _00(Object.assign({processTimeoutInMs:Q},A))}function kT3(A={}){let Q=A.processTimeoutInMs;return new S00(Object.assign({processTimeoutInMs:Q},A))}function bT3(A={}){return new f00(A)}class RmB{constructor(A,Q){this.credentialName=A,this.credentialUnavailableErrorMessage=Q}getToken(){return h00.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}}var h00,A91;var _mB=O(()=>{ZmB();XmB();WmB();CmB();$mB();MmB();O00();HW();h00=h7(\"DefaultAzureCredential\");A91=class A91 extends y00{constructor(A){let Q=process.env.AZURE_TOKEN_CREDENTIALS?process.env.AZURE_TOKEN_CREDENTIALS.trim().toLowerCase():void 0,B=[vT3,kT3,yT3],G=[bT3,xT3,ST3],Z=[];if(Q)switch(Q){case\"dev\":Z=B;break;case\"prod\":Z=G;break;default:{let J=`Invalid value for AZURE_TOKEN_CREDENTIALS = ${process.env.AZURE_TOKEN_CREDENTIALS}. Valid values are 'prod' or 'dev'.`;throw h00.warning(J),Error(J)}}else Z=[...G,...B];let Y=Z.map((J)=>{try{return J(A)}catch(X){return h00.warning(`Skipped ${J.name} because of an error creating the credential: ${X}`),new RmB(J.name,X.message)}});super(...Y)}}});function g00(A,Q,B){let{abortSignal:G,tracingOptions:Z}=B||{},Y=HMA();Y.addPolicy($MA({credential:A,scopes:Q}));async function J(){var X;let W=(X=(await Y.sendRequest({sendRequest:(K)=>Promise.resolve({request:K,status:200,headers:K.headers})},gT({url:\"https://example.com\",abortSignal:G,tracingOptions:Z}))).headers.get(\"authorization\"))===null||X===void 0?void 0:X.split(\" \")[1];if(!W)throw Error(\"Failed to get access token\");return W}return J}var jmB=O(()=>{Wu()});var TmB=O(()=>{_mB();jmB();yvB()});function Q91(){return{error:(A,...Q)=>console.error(\"[Anthropic SDK ERROR]\",A,...Q),warn:(A,...Q)=>console.error(\"[Anthropic SDK WARN]\",A,...Q),info:(A,...Q)=>console.error(\"[Anthropic SDK INFO]\",A,...Q),debug:(A,...Q)=>console.error(\"[Anthropic SDK DEBUG]\",A,...Q)}}async function oC({apiKey:A,maxRetries:Q,model:B,fetchOverride:G}){let Z=process.env.CLAUDE_CODE_CONTAINER_ID,Y=process.env.CLAUDE_CODE_REMOTE_SESSION_ID,J={\"x-app\":\"cli\",\"User-Agent\":Yi(),...hT3(),...Z?{\"x-claude-remote-container-id\":Z}:{},...Y?{\"x-claude-remote-session-id\":Y}:{}};if(F0(process.env.CLAUDE_CODE_ADDITIONAL_PROTECTION))J[\"x-anthropic-additional-protection\"]=\"true\";if(await Vg(),!zB())fT3(J,q9());let I={defaultHeaders:J,maxRetries:Q,timeout:parseInt(process.env.API_TIMEOUT_MS||String(600000),10),dangerouslyAllowBrowser:!0,fetchOptions:FZA(),...G&&{fetch:G}};if(F0(process.env.CLAUDE_CODE_USE_BEDROCK)){let K=B===UK()&&process.env.ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION?process.env.ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION:bt(),V={...I,awsRegion:K,...F0(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH)&&{skipAuth:!0},...Lx()&&{logger:Q91()}};if(process.env.AWS_BEARER_TOKEN_BEDROCK)V.skipAuth=!0,V.defaultHeaders={...V.defaultHeaders,Authorization:`Bearer ${process.env.AWS_BEARER_TOKEN_BEDROCK}`};else if(!F0(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH)){let H=await X1A();if(H)V.awsAccessKey=H.accessKeyId,V.awsSecretKey=H.secretAccessKey,V.awsSessionToken=H.sessionToken}return new k01(V)}if(F0(process.env.CLAUDE_CODE_USE_FOUNDRY)){let K;if(!process.env.ANTHROPIC_FOUNDRY_API_KEY)if(F0(process.env.CLAUDE_CODE_SKIP_FOUNDRY_AUTH))K=()=>Promise.resolve(\"\");else K=g00(new A91,\"https://cognitiveservices.azure.com/.default\");let V={...I,...K&&{azureADTokenProvider:K},...Lx()&&{logger:Q91()}};return new g01(V)}if(F0(process.env.CLAUDE_CODE_USE_VERTEX)){let K=process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project,V=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials,H=F0(process.env.CLAUDE_CODE_SKIP_VERTEX_AUTH)?{getClient:()=>({getRequestHeaders:()=>({})})}:new PmB.GoogleAuth({scopes:[\"https://www.googleapis.com/auth/cloud-platform\"],...K||V?{}:{projectId:process.env.ANTHROPIC_VERTEX_PROJECT_ID}}),D={...I,region:ofA(B),googleAuth:H,...Lx()&&{logger:Q91()}};return new yQ1(D)}let W={apiKey:zB()?null:A||eq(),authToken:zB()?d6()?.accessToken:void 0,...{},...I,...Lx()&&{logger:Q91()}};return new OT(W)}function fT3(A,Q){let B=process.env.ANTHROPIC_AUTH_TOKEN||vqA(Q);if(B)A.Authorization=`Bearer ${B}`}function hT3(){let A={},Q=process.env.ANTHROPIC_CUSTOM_HEADERS;if(!Q)return A;let B=Q.split(/\\n|\\r\\n/);for(let G of B){if(!G.trim())continue;let Z=G.match(/^\\s*(.*?)\\s*:\\s*(.*?)\\s*$/);if(Z){let[,Y,J]=Z;if(Y&&J!==void 0)A[Y]=J}}return A}var PmB;var ZBA=O(()=>{NOB();jOB();jv();TSB();TmB();V2();o0();dE();AB();Bi();cY();Q0();J9();PmB=l(Ht1(),1)});import{createHash as ymB}from\"crypto\";import{dirname as B91,join as vmB}from\"path\";import*as kmB from\"path\";function u00(){return!1}async function gT3(A,Q,B){if(!u00())return await B();let G=ymB(\"sha1\").update(JSON.stringify(A)).digest(\"hex\").slice(0,12),Z=vmB(process.env.CLAUDE_CODE_TEST_FIXTURES_ROOT??t1(),`fixtures/${Q}-${G}.json`);if(jA().existsSync(Z))return JSON.parse(jA().readFileSync(Z,{encoding:\"utf8\"}));if(DQ.isCI)throw Error(`Fixture missing: ${Z}. Re-run npm test locally, then commit the result.`);let Y=await B();if(!jA().existsSync(B91(Z)))jA().mkdirSync(B91(Z));return jA().writeFileSync(Z,JSON.stringify(Y,null,2),{encoding:\"utf8\",flush:!1}),Y}async function m00(A,Q){if(!u00())return await Q();let B=GJ(A.filter((J)=>{if(J.type!==\"user\")return!0;if(J.isMeta)return!1;return!0})),G=mT3(B.map((J)=>J.message.content),xmB),Z=vmB(process.env.CLAUDE_CODE_TEST_FIXTURES_ROOT??t1(),`fixtures/${G.map((J)=>ymB(\"sha1\").update(JSON.stringify(J)).digest(\"hex\").slice(0,6)).join(\"-\")}.json`);if(jA().existsSync(Z)){let J=JSON.parse(jA().readFileSync(Z,{encoding:\"utf8\"}));return J.output.forEach(uT3),J.output.map((X,I)=>SmB(X,pT3,I))}if(DQ.isCI)throw Error(`Anthropic API fixture missing: ${Z}. Re-run npm test locally, then commit the result. Input messages:\n          anthropic_api_key: \\${{ secrets.ANTHROPIC_API_KEY }}\n    `}var O$0=\"\\\\\",mc2=1e4,dc2=async(A)=>{let Q=A.includes(\"zsh\")?\"zsh\":A.includes(\"bash\")?\"bash\":\"sh\";return k(`Creating shell snapshot for ${Q} (${A})`),new Promise(async(B)=>{try{let G=R$0(A);k(`Looking for shell config file: ${G}`);let Z=evA(G);if(!Z)k(`Shell config file not found: ${G}, creating snapshot with Claude Code defaults only`);let Y=Date.now(),J=Math.random().toString(36).substring(2,8),X=M$0(vQ(),\"shell-snapshots\");k(`Snapshots directory: ${X}`);let I=M$0(X,`snapshot-${Q}-${Y}-${J}.sh`);fr5(X,{recursive:!0});let W=lr5(A,I,Z);k(`Creating snapshot at: ${I}`),k(`Shell binary exists: ${evA(A)}`),k(`Execution timeout: ${mc2}ms`),ur5(A,[\"-c\",\"-l\",W],{env:{...process.env.CLAUDE_CODE_DONT_INHERIT_ENV?{}:process.env,SHELL:A,GIT_EDITOR:\"true\",CLAUDECODE:\"1\"},timeout:mc2,maxBuffer:1048576,encoding:\"utf8\"},async(K,V,H)=>{if(K){let D=K;if(k(`Shell snapshot creation failed: ${K.message}`),k(\"Error details:\"),k(`  - Error code: ${D?.code}`),k(`  - Error signal: ${D?.signal}`),k(`  - Error killed: ${D?.killed}`),k(`  - Shell path: ${A}`),k(`  - Config file: ${R$0(A)}`),k(`  - Config file exists: ${Z}`),k(`  - Working directory: ${t1()}`),k(`  - Claude home: ${vQ()}`),k(`Full snapshot script:\n  \"HS256\", \"HS384\", \"HS512\", \"RS256\", \"RS384\", \"RS512\", \"PS256\", \"PS384\", \"PS512\", \"ES256\", \"ES384\", \"ES512\" and \"none\".`,aOA=\"secret must be a string or buffer\",rJA=\"key must be a string or a buffer\",AE3=\"key must be a string, a buffer or an object\",Fs1=typeof GR.createPublicKey===\"function\";if(Fs1)rJA+=\" or a KeyObject\",aOA+=\"or a KeyObject\";function ETB(A){if(sJA.isBuffer(A))return;if(typeof A===\"string\")return;if(!Fs1)throw xT(rJA);if(typeof A!==\"object\")throw xT(rJA);if(typeof A.type!==\"string\")throw xT(rJA);if(typeof A.asymmetricKeyType!==\"string\")throw xT(rJA);if(typeof A.export!==\"function\")throw xT(rJA)}function zTB(A){if(sJA.isBuffer(A))return;if(typeof A===\"string\")return;if(typeof A===\"object\")return;throw xT(AE3)}function QE3(A){if(sJA.isBuffer(A))return;if(typeof A===\"string\")return A;if(!Fs1)throw xT(aOA);if(typeof A!==\"object\")throw xT(aOA);if(A.type!==\"secret\")throw xT(aOA);if(typeof A.export!==\"function\")throw xT(aOA)}function Es1(A){return A.replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function CTB(A){A=A.toString();var Q=4-A.length%4;if(Q!==4)for(var B=0;B<Q;++B)A+=\"=\";return A.replace(/\\-/g,\"+\").replace(/_/g,\"/\")}function xT(A){var Q=[].slice.call(arguments,1),B=DTB.format.bind(DTB,A).apply(null,Q);return TypeError(B)}function BE3(A){return sJA.isBuffer(A)||typeof A===\"string\"}function oOA(A){if(!BE3(A))A=JSON.stringify(A);return A}function $TB(A){return function(B,G){QE3(G),B=oOA(B);var Z=GR.createHmac(\"sha\"+A,G),Y=(Z.update(B),Z.digest(\"base64\"));return Es1(Y)}}var Ds1,GE3=\"timingSafeEqual\"in GR?function(Q,B){if(Q.byteLength!==B.byteLength)return!1;return GR.timingSafeEqual(Q,B)}:function(Q,B){if(!Ds1)Ds1=Hs1();return Ds1(Q,B)};function ZE3(A){return function(B,G,Z){var Y=$TB(A)(B,Z);return GE3(sJA.from(G),sJA.from(Y))}}function UTB(A){return function(B,G){zTB(G),B=oOA(B);var Z=GR.createSign(\"RSA-SHA\"+A),Y=(Z.update(B),Z.sign(G,\"base64\"));return Es1(Y)}}function wTB(A){return function(B,G,Z){ETB(Z),B=oOA(B),G=CTB(G);var Y=GR.createVerify(\"RSA-SHA\"+A);return Y.update(B),Y.verify(Z,G,\"base64\")}}function YE3(A){return function(B,G){zTB(G),B=oOA(B);var Z=GR.createSign(\"RSA-SHA\"+A),Y=(Z.update(B),Z.sign({key:G,padding:GR.constants.RSA_PKCS1_PSS_PADDING,saltLength:GR.constants.RSA_PSS_SALTLEN_DIGEST},\"base64\"));return Es1(Y)}}function JE3(A){return function(B,G,Z){ETB(Z),B=oOA(B),G=CTB(G);var Y=GR.createVerify(\"RSA-SHA\"+A);return Y.update(B),Y.verify({key:Z,padding:GR.constants.RSA_PKCS1_PSS_PADDING,saltLength:GR.constants.RSA_PSS_SALTLEN_DIGEST},G,\"base64\")}}function XE3(A){var Q=UTB(A);return function(){var G=Q.apply(null,arguments);return G=FTB.derToJose(G,\"ES\"+A),G}}function IE3(A){var Q=wTB(A);return function(G,Z,Y){Z=FTB.joseToDer(Z,\"ES\"+A).toString(\"base64\");var J=Q(G,Z,Y);return J}}function WE3(){return function(){return\"\"}}function KE3(){return function(Q,B){return B===\"\"}}qTB.exports=function(Q){var B={hs:$TB,rs:UTB,ps:YE3,es:XE3,none:WE3},G={hs:ZE3,rs:wTB,ps:JE3,es:IE3,none:KE3},Z=Q.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!Z)throw xT(eF3,Q);var Y=(Z[1]||Z[3]).toLowerCase(),J=Z[2];return{sign:B[Y](J),verify:G[Y](J)}}});var Cs1=U(($LG,NTB)=>{var VE3=LA(\"buffer\").Buffer;NTB.exports=function(Q){if(typeof Q===\"string\")return Q;if(typeof Q===\"number\"||VE3.isBuffer(Q))return Q.toString();return JSON.stringify(Q)}});var jTB=U((ULG,_TB)=>{var HE3=kv().Buffer,LTB=Ks1(),DE3=zs1(),FE3=LA(\"stream\"),OTB=Cs1(),$s1=LA(\"util\");function MTB(A,Q){return HE3.from(A,Q).toString(\"base64\").replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function EE3(A,Q,B){B=B||\"utf8\";var G=MTB(OTB(A),\"binary\"),Z=MTB(OTB(Q),B);return $s1.format(\"%s.%s\",G,Z)}function RTB(A){var{header:Q,payload:B}=A,G=A.secret||A.privateKey,Z=A.encoding,Y=DE3(Q.alg),J=EE3(Q,B,Z),X=Y.sign(J,G);return $s1.format(\"%s.%s\",J,X)}function qQ1(A){var Q=A.secret||A.privateKey||A.key,B=new LTB(Q);this.readable=!0,this.header=A.header,this.encoding=A.encoding,this.secret=this.privateKey=this.key=B,this.payload=new LTB(A.payload),this.secret.once(\"close\",function(){if(!this.payload.writable&&this.readable)this.sign()}.bind(this)),this.payload.once(\"close\",function(){if(!this.secret.writable&&this.readable)this.sign()}.bind(this))}$s1.inherits(qQ1,FE3);qQ1.prototype.sign=function(){try{var Q=RTB({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit(\"done\",Q),this.emit(\"data\",Q),this.emit(\"end\"),this.readable=!1,Q}catch(B){this.readable=!1,this.emit(\"error\",B),this.emit(\"close\")}};qQ1.sign=RTB;_TB.exports=qQ1});var hTB=U((wLG,fTB)=>{var PTB=kv().Buffer,TTB=Ks1(),zE3=zs1(),CE3=LA(\"stream\"),STB=Cs1(),$E3=LA(\"util\"),UE3=/^[a-zA-Z0-9\\-_]+?\\.[a-zA-Z0-9\\-_]+?\\.([a-zA-Z0-9\\-_]+)?$/;function wE3(A){return Object.prototype.toString.call(A)===\"[object Object]\"}function qE3(A){if(wE3(A))return A;try{return JSON.parse(A)}catch(Q){return}}function xTB(A){var Q=A.split(\".\",1)[0];return qE3(PTB.from(Q,\"base64\").toString(\"binary\"))}function NE3(A){return A.split(\".\",2).join(\".\")}function yTB(A){return A.split(\".\")[2]}function LE3(A,Q){Q=Q||\"utf8\";var B=A.split(\".\")[1];return PTB.from(B,\"base64\").toString(Q)}function vTB(A){return UE3.test(A)&&!!xTB(A)}function kTB(A,Q,B){if(!Q){var G=Error(\"Missing algorithm parameter for jws.verify\");throw G.code=\"MISSING_ALGORITHM\",G}A=STB(A);var Z=yTB(A),Y=NE3(A),J=zE3(Q);return J.verify(Y,Z,B)}function bTB(A,Q){if(Q=Q||{},A=STB(A),!vTB(A))return null;var B=xTB(A);if(!B)return null;var G=LE3(A);if(B.typ===\"JWT\"||Q.json)G=JSON.parse(G,Q.encoding);return{header:B,payload:G,signature:yTB(A)}}function tJA(A){A=A||{};var Q=A.secret||A.publicKey||A.key,B=new TTB(Q);this.readable=!0,this.algorithm=A.algorithm,this.encoding=A.encoding,this.secret=this.publicKey=this.key=B,this.signature=new TTB(A.signature),this.secret.once(\"close\",function(){if(!this.signature.writable&&this.readable)this.verify()}.bind(this)),this.signature.once(\"close\",function(){if(!this.secret.writable&&this.readable)this.verify()}.bind(this))}$E3.inherits(tJA,CE3);tJA.prototype.verify=function(){try{var Q=kTB(this.signature.buffer,this.algorithm,this.key.buffer),B=bTB(this.signature.buffer,this.encoding);return this.emit(\"done\",Q,B),this.emit(\"data\",Q),this.emit(\"end\"),this.readable=!1,Q}catch(G){this.readable=!1,this.emit(\"error\",G),this.emit(\"close\")}};tJA.decode=bTB;tJA.isValid=vTB;tJA.verify=kTB;fTB.exports=tJA});var Us1=U((ME3)=>{var gTB=jTB(),NQ1=hTB(),OE3=[\"HS256\",\"HS384\",\"HS512\",\"RS256\",\"RS384\",\"RS512\",\"PS256\",\"PS384\",\"PS512\",\"ES256\",\"ES384\",\"ES512\"];ME3.ALGORITHMS=OE3;ME3.sign=gTB.sign;ME3.verify=NQ1.verify;ME3.decode=NQ1.decode;ME3.isValid=NQ1.isValid;ME3.createSign=function(Q){return new gTB(Q)};ME3.createVerify=function(Q){return new NQ1(Q)}});var aTB=U((On)=>{var yT=On&&On.__classPrivateFieldGet||function(A,Q,B,G){if(B===\"a\"&&!G)throw TypeError(\"Private accessor was defined without a getter\");if(typeof Q===\"function\"?A!==Q||!G:!Q.has(A))throw TypeError(\"Cannot read private member from an object whose class did not declare it\");return B===\"m\"?G:B===\"a\"?G.call(A):G?G.value:Q.get(A)},uTB=On&&On.__classPrivateFieldSet||function(A,Q,B,G,Z){if(G===\"m\")throw TypeError(\"Private method is not writable\");if(G===\"a\"&&!Z)throw TypeError(\"Private accessor was defined without a setter\");if(typeof Q===\"function\"?A!==Q||!Z:!Q.has(A))throw TypeError(\"Cannot write private member to an object whose class did not declare it\");return G===\"a\"?Z.call(A,B):Z?Z.value=B:Q.set(A,B),B},vT,eJA,ws1,mTB,dTB,qs1,Ns1,pTB;Object.defineProperty(On,\"__esModule\",{value:!0});On.GoogleToken=void 0;var cTB=LA(\"fs\"),yE3=TT(),vE3=Us1(),kE3=LA(\"path\"),bE3=LA(\"util\"),lTB=cTB.readFile?(0,bE3.promisify)(cTB.readFile):async()=>{throw new AXA(\"use key rather than keyFile.\",\"MISSING_CREDENTIALS\")},iTB=\"https://www.googleapis.com/oauth2/v4/token\",fE3=\"https://accounts.google.com/o/oauth2/revoke?token=\";class AXA extends Error{constructor(A,Q){super(A);this.code=Q}}class nTB{get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}constructor(A){vT.add(this),this.transporter={request:(Q)=>(0,yE3.request)(Q)},eJA.set(this,void 0),yT(this,vT,\"m\",Ns1).call(this,A)}hasExpired(){let A=new Date().getTime();if(this.rawToken&&this.expiresAt)return A>=this.expiresAt;else return!0}isTokenExpiring(){var A;let Q=new Date().getTime(),B=(A=this.eagerRefreshThresholdMillis)!==null&&A!==void 0?A:0;if(this.rawToken&&this.expiresAt)return this.expiresAt<=Q+B;else return!0}getToken(A,Q={}){if(typeof A===\"object\")Q=A,A=void 0;if(Q=Object.assign({forceRefresh:!1},Q),A){let B=A;yT(this,vT,\"m\",ws1).call(this,Q).then((G)=>B(null,G),A);return}return yT(this,vT,\"m\",ws1).call(this,Q)}async getCredentials(A){switch(kE3.extname(A)){case\".json\":{let B=await lTB(A,\"utf8\"),G=JSON.parse(B),Z=G.private_key,Y=G.client_email;if(!Z||!Y)throw new AXA(\"private_key and client_email are required.\",\"MISSING_CREDENTIALS\");return{privateKey:Z,clientEmail:Y}}case\".der\":case\".crt\":case\".pem\":return{privateKey:await lTB(A,\"utf8\")};case\".p12\":case\".pfx\":throw new AXA(\"*.p12 certificates are not supported after v6.1.2. Consider utilizing *.json format or converting *.p12 to *.pem using the OpenSSL CLI.\",\"UNKNOWN_CERTIFICATE_TYPE\");default:throw new AXA(\"Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, and *.pem.\",\"UNKNOWN_CERTIFICATE_TYPE\")}}revokeToken(A){if(A){yT(this,vT,\"m\",qs1).call(this).then(()=>A(),A);return}return yT(this,vT,\"m\",qs1).call(this)}}On.GoogleToken=nTB;eJA=new WeakMap,vT=new WeakSet,ws1=async function(Q){if(yT(this,eJA,\"f\")&&!Q.forceRefresh)return yT(this,eJA,\"f\");try{return await uTB(this,eJA,yT(this,vT,\"m\",mTB).call(this,Q),\"f\")}finally{uTB(this,eJA,void 0,\"f\")}},mTB=async function(Q){if(this.isTokenExpiring()===!1&&Q.forceRefresh===!1)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw Error(\"No key or keyFile set.\");if(!this.key&&this.keyFile){let B=await this.getCredentials(this.keyFile);if(this.key=B.privateKey,this.iss=B.clientEmail||this.iss,!B.clientEmail)yT(this,vT,\"m\",dTB).call(this)}return yT(this,vT,\"m\",pTB).call(this)},dTB=function(){if(!this.iss)throw new AXA(\"email is required.\",\"MISSING_CREDENTIALS\")},qs1=async function(){if(!this.accessToken)throw Error(\"No token to revoke.\");let Q=fE3+this.accessToken;await this.transporter.request({url:Q,retry:!0}),yT(this,vT,\"m\",Ns1).call(this,{email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims}\n\n... [37 lines truncated] ...","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"c994f128-bece-4e00-828e-f22875c4d6c9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"439fd712-a717-41e0-af98-f160933c12ce","version":"2.0.76","gitBranch":"","agentId":"adc627f","slug":"concurrent-growing-phoenix","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01PZ7mx6kmKD4t32BSKkgm63","type":"message","role":"assistant","content":[{"type":"text","text":"Based on my analysis of the Claude Code CLI installation, here is my comprehensive report:\n\n## Claude Code CLI Authentication Analysis\n\n### Installation Details\n\n**Location:** `/opt/homebrew/lib/node_modules/@anthropic-ai/claude-code/`\n**Version:** 2.0.76\n**Alias:** `claude` (with dangerously-skip-permissions flag)\n**Installation Status:** Patched (hash mismatch detected on 2025-12-29)\n\n**Key Files:**\n- `cli.js` - Main executable (11MB minified binary)\n- `package.json` - Metadata and configuration\n- `README.md` - Documentation\n\n### Authentication Architecture\n\nThe Claude Code CLI uses a **multi-backend authentication system** that supports different API endpoints beyond the standard Anthropic API:\n\n#### 1. **Primary Authentication Methods**\n\nThe CLI supports multiple authentication mechanisms:\n\n**Standard Anthropic API:**\n- API Key: `ANTHROPIC_API_KEY` environment variable\n- Auth Token: `ANTHROPIC_AUTH_TOKEN` environment variable\n- OAuth Flow via `console.anthropic.com`\n\n**Alternative Backends (via environment flags):**\n- **AWS Bedrock** (CLAUDE_CODE_USE_BEDROCK)\n- **Google Vertex AI** (CLAUDE_CODE_USE_VERTEX)\n- **Azure Foundry** (CLAUDE_CODE_USE_FOUNDRY)\n\n#### 2. **API Endpoints Used**\n\n**Standard Anthropic Endpoints:**\n- `https://api.anthropic.com/` - Main API endpoint\n- `https://api.anthropic.com/api/claude_code/link_vcs_account`\n- `https://api.anthropic.com/api/claude_code/metrics`\n- `https://api.anthropic.com/api/claude_code/organizations/metrics_enabled`\n- `https://api.anthropic.com/api/claude_cli_feedback`\n- `https://api.anthropic.com/api/oauth/claude_cli/create_api_key`\n- `https://api.anthropic.com/api/oauth/claude_cli/roles`\n\n**OAuth Endpoints:**\n- `https://console.anthropic.com/oauth/authorize`\n- `https://console.anthropic.com/v1/oauth/token`\n- `https://console.anthropic.com/oauth/code/callback`\n- `https://console.anthropic.com/oauth/code/success?app=claude-code`\n\n#### 3. **HTTP Headers**\n\nThe CLI sends custom headers with each request:\n\n**Standard Headers:**\n- `x-app: cli` - Identifies client type\n- `User-Agent: [version info]`\n- `Authorization: Bearer [token]` - OAuth tokens\n- `x-anthropic-additional-protection: true` (conditional)\n- `x-claude-remote-container-id` (if containerized)\n- `x-claude-remote-session-id` (for remote sessions)\n\n**Custom Headers Support:**\n- Reads from `ANTHROPIC_CUSTOM_HEADERS` environment variable\n- Allows injection of arbitrary headers in Key: Value format\n\n#### 4. **Backend Selection Logic**\n\nThe CLI chooses authentication backend based on environment variables:\n\n1. **CLAUDE_CODE_USE_BEDROCK** - Routes to AWS Bedrock with:\n   - Region configuration (AWS_REGION)\n   - AWS credentials (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_SESSION_TOKEN)\n   - Alternative: AWS_BEARER_TOKEN_BEDROCK\n\n2. **CLAUDE_CODE_USE_FOUNDRY** - Routes to Azure Foundry with:\n   - ANTHROPIC_FOUNDRY_API_KEY\n   - Azure AD token provider\n   - Support for DefaultAzureCredential chain\n\n3. **CLAUDE_CODE_USE_VERTEX** - Routes to Google Vertex AI with:\n   - GCLOUD_PROJECT or GOOGLE_CLOUD_PROJECT\n   - Google Application credentials\n   - Region-based routing per model type\n\n4. **Default** - Standard Anthropic API with:\n   - ANTHROPIC_API_KEY or ANTHROPIC_AUTH_TOKEN\n   - Direct API calls to api.anthropic.com\n\n#### 5. **Configuration Sources**\n\nThe CLI respects multiple settings sources in order of precedence:\n- User Settings\n- Project Settings  \n- Local Settings\n- Flag Settings\n- Policy Settings\n\n### Key Security Features\n\n1. **OAuth Token Flow** - Uses secure OAuth redirects via console.anthropic.com\n2. **Bearer Token Support** - Supports Bearer token authentication\n3. **Azure Credential Chain** - Supports managed identity and workload identity\n4. **AWS Credential Chain** - AWS SDK v3 credential resolution\n5. **Token Refresh** - Automatic token refresh with configurable expiration thresholds\n\n### Differences from Standard Anthropic SDK\n\n1. **Custom CLI-specific endpoints** - `/api/claude_code/*` endpoints for metrics and VCS linking\n2. **Remote session support** - Can relay sessions via `x-claude-remote-*` headers\n3. **Multi-backend routing** - Not limited to Anthropic's API\n4. **Container-aware** - Supports containerized deployments with CLAUDE_CODE_CONTAINER_ID\n5. **Custom header injection** - Allows ANTHROPIC_CUSTOM_HEADERS environment variable\n6. **Permission system** - Uses dangerously-skip-permissions flag for elevated access\n\n### Installation Status Note\n\nThe `.patched` file indicates the binary has been modified post-installation (hash: d09b4e47... on 2025-12-29), suggesting system-level patches or monitoring may be in place."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":12525,"cache_read_input_tokens":69531,"cache_creation":{"ephemeral_5m_input_tokens":12525,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWc1uj9G32aQtqy5EQQcM","type":"assistant","uuid":"1e74f795-d33a-4c5f-92e2-6311b4903485","timestamp":"2025-12-30T01:38:12.625Z"}
