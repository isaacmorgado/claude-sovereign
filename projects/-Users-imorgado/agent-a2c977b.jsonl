{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","type":"user","message":{"role":"user","content":"Research how Reddit-style forums are implemented in web applications. Use the mcp__grep__searchGitHub tool to find real-world examples.\n\nSearch for:\n1. Reddit clone implementations with subreddits/categories\n2. Post and comment threading systems\n3. Upvote/downvote implementations\n4. Question and answer forum patterns\n\nLook for patterns like:\n- 'subreddit' or 'reddit clone'\n- 'upvote downvote' components\n- 'threaded comments' implementations\n\nProvide a summary of the best patterns found for implementing Reddit-style features."},"uuid":"4e532a80-76f5-48d5-81c8-2095bea44659","timestamp":"2025-12-24T03:12:18.930Z"}
{"parentUuid":"4e532a80-76f5-48d5-81c8-2095bea44659","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","message":{"model":"claude-opus-4-5-20251101","id":"msg_01Uxu5ALdcpzCm4SjX9M78DD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01LhSrVLipjCDUtetj4zHUzC","name":"mcp__grep__searchGitHub","input":{"query":"subreddit","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12228,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":12228,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnFR6h5YhES1kpFy6rW","type":"assistant","uuid":"8af8c03e-fb3b-4887-983f-d88be101635d","timestamp":"2025-12-24T03:12:24.275Z"}
{"parentUuid":"8af8c03e-fb3b-4887-983f-d88be101635d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01Uxu5ALdcpzCm4SjX9M78DD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01WmhJBnCRqEEvkB9EeNJjBV","name":"mcp__grep__searchGitHub","input":{"query":"upvote downvote","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12228,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":12228,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnFR6h5YhES1kpFy6rW","type":"assistant","uuid":"8338579d-9e85-4c1a-bd2a-6d03ebcdab21","timestamp":"2025-12-24T03:12:24.797Z"}
{"parentUuid":"8338579d-9e85-4c1a-bd2a-6d03ebcdab21","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01Uxu5ALdcpzCm4SjX9M78DD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01NPA2SNYiJJdr85B6B9ifcq","name":"mcp__grep__searchGitHub","input":{"query":"(?s)interface.*Comment.*parentId","useRegexp":true,"language":["TypeScript"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12228,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":12228,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnFR6h5YhES1kpFy6rW","type":"assistant","uuid":"38f038f0-b695-4b0f-9ce0-5968fe3208e7","timestamp":"2025-12-24T03:12:26.167Z"}
{"parentUuid":"38f038f0-b695-4b0f-9ce0-5968fe3208e7","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01Uxu5ALdcpzCm4SjX9M78DD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_015gSud9jHCigeVTFCskRg3e","name":"mcp__grep__searchGitHub","input":{"query":"reddit clone","language":["TypeScript","JavaScript"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12228,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":12228,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnFR6h5YhES1kpFy6rW","type":"assistant","uuid":"2045642d-a582-4cc9-bf04-d1fcdd9c644c","timestamp":"2025-12-24T03:12:26.907Z"}
{"parentUuid":"2045642d-a582-4cc9-bf04-d1fcdd9c644c","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01LhSrVLipjCDUtetj4zHUzC","type":"tool_result","content":[{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Reddit/Reddit.node.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Reddit/Reddit.node.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 10) ---\n\nimport { handleListing, redditApiRequest } from './GenericFunctions';\nimport { postCommentFields, postCommentOperations } from './PostCommentDescription';\nimport { postFields, postOperations } from './PostDescription';\nimport { profileFields, profileOperations } from './ProfileDescription';\nimport { subredditFields, subredditOperations } from './SubredditDescription';\nimport { userFields, userOperations } from './UserDescription';\n\nexport class Reddit implements INodeType {\n\tdescription: INodeTypeDescription = {\n\t\tdisplayName: 'Reddit',\n\n\n--- Snippet 2 (Line 59) ---\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Profile',\n\t\t\t\t\t\tvalue: 'profile',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Subreddit',\n\t\t\t\t\t\tvalue: 'subreddit',\n\t\t\t\t\t},\n\t\t\t\t\t{\n"},{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Reddit/PostDescription.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Reddit/PostDescription.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 12) ---\n\t\t\t\tname: 'Create',\n\t\t\t\tvalue: 'create',\n\t\t\t\tdescription: 'Submit a post to a subreddit',\n\t\t\t\taction: 'Create a post',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Delete',\n\t\t\t\tvalue: 'delete',\n\t\t\t\tdescription: 'Delete a post from a subreddit',\n\t\t\t\taction: 'Delete a post',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Get',\n\t\t\t\tvalue: 'get',\n\t\t\t\tdescription: 'Get a post from a subreddit',\n\t\t\t\taction: 'Get a post',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Get Many',\n\t\t\t\tvalue: 'getAll',\n\t\t\t\tdescription: 'Get many posts from a subreddit',\n"},{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Reddit/SubredditDescription.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Reddit/SubredditDescription.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport type { INodeProperties } from 'n8n-workflow';\n\nexport const subredditOperations: INodeProperties[] = [\n\t{\n\t\tdisplayName: 'Operation',\n\t\tname: 'operation',\n\t\ttype: 'options',\n\t\tnoDataExpression: true,\n\t\tdefault: 'get',\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'Get',\n\t\t\t\tvalue: 'get',\n\t\t\t\tdescription: 'Retrieve background information about a subreddit',\n\t\t\t\taction: 'Get a subreddit',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Get Many',\n\t\t\t\tvalue: 'getAll',\n\t\t\t\tdescription: 'Retrieve information about many subreddits',\n\t\t\t\taction: 'Get many subreddits',\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/blocks/blocks/reddit.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/blocks/blocks/reddit.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 22) ---\n      type: 'dropdown',\n      options: [\n        { label: 'Get Posts', id: 'get_posts' },\n        { label: 'Get Comments', id: 'get_comments' },\n        { label: 'Get Controversial Posts', id: 'get_controversial' },\n        { label: 'Search Subreddit', id: 'search' },\n        { label: 'Submit Post', id: 'submit_post' },\n        { label: 'Vote', id: 'vote' },\n        { label: 'Save', id: 'save' },\n        { label: 'Unsave', id: 'unsave' },\n        { label: 'Reply', id: 'reply' },\n\n\n--- Snippet 2 (Line 52) ---\n        'edit',\n        'subscribe',\n        'history',\n        'privatemessages',\n        'account',\n        'mysubreddits',\n        'flair',\n        'report',\n        'modposts',\n"},{"type":"text","text":"Repository: transitive-bullshit/agentic\nPath: legacy/packages/reddit/src/reddit-client.ts\nURL: https://github.com/transitive-bullshit/agentic/blob/main/legacy/packages/reddit/src/reddit-client.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 12) ---\n\n  export interface Post {\n    id: string\n    name: string // name is `t3_<id>`\n    title: string\n    subreddit: string\n    selftext?: string\n    author: string\n    author_fullname: string\n    url: string\n    permalink: string\n\n\n--- Snippet 2 (Line 35) ---\n  export interface FullPost {\n    id: string\n    name: string\n    author: string\n    title: string\n    subreddit: string\n    subreddit_name_prefixed: string\n    score: number\n    approved_at_utc: string | null\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/tools/reddit/hot_posts.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/tools/reddit/hot_posts.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport type { RedditHotPostsResponse, RedditPost } from '@/tools/reddit/types'\nimport type { ToolConfig } from '@/tools/types'\n\ninterface HotPostsParams {\n  subreddit: string\n  limit?: number\n  accessToken: string\n}\n\nexport const hotPostsTool: ToolConfig<HotPostsParams, RedditHotPostsResponse> = {\n  id: 'reddit_hot_posts',\n  name: 'Reddit Hot Posts',\n  description: 'Fetch the most popular (hot) posts from a specified subreddit.',\n  version: '1.0.0',\n\n  oauth: {\n    required: true,\n    provider: 'reddit',\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/tools/reddit/get_controversial.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/tools/reddit/get_controversial.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 2) ---\nimport type { ToolConfig } from '@/tools/types'\n\nexport const getControversialTool: ToolConfig<RedditControversialParams, RedditPostsResponse> = {\n  id: 'reddit_get_controversial',\n  name: 'Get Reddit Controversial Posts',\n  description: 'Fetch controversial posts from a subreddit',\n  version: '1.0.0',\n\n  oauth: {\n    required: true,\n    provider: 'reddit',\n\n\n--- Snippet 2 (Line 18) ---\n      required: true,\n      visibility: 'hidden',\n      description: 'Access token for Reddit API',\n    },\n    subreddit: {\n      type: 'string',\n      required: true,\n      visibility: 'user-or-llm',\n      description: 'The name of the subreddit to fetch posts from (without the r/ prefix)',\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/tools/reddit/get_posts.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/tools/reddit/get_posts.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 2) ---\nimport type { ToolConfig } from '@/tools/types'\n\nexport const getPostsTool: ToolConfig<RedditPostsParams, RedditPostsResponse> = {\n  id: 'reddit_get_posts',\n  name: 'Get Reddit Posts',\n  description: 'Fetch posts from a subreddit with different sorting options',\n  version: '1.0.0',\n\n  oauth: {\n    required: true,\n    provider: 'reddit',\n\n\n--- Snippet 2 (Line 18) ---\n      required: true,\n      visibility: 'hidden',\n      description: 'Access token for Reddit API',\n    },\n    subreddit: {\n      type: 'string',\n      required: true,\n      visibility: 'user-or-llm',\n      description: 'The name of the subreddit to fetch posts from (without the r/ prefix)',\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/tools/reddit/search.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/tools/reddit/search.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 2) ---\nimport type { ToolConfig } from '@/tools/types'\n\nexport const searchTool: ToolConfig<RedditSearchParams, RedditPostsResponse> = {\n  id: 'reddit_search',\n  name: 'Search Reddit',\n  description: 'Search for posts within a subreddit',\n  version: '1.0.0',\n\n  oauth: {\n    required: true,\n    provider: 'reddit',\n\n\n--- Snippet 2 (Line 18) ---\n      required: true,\n      visibility: 'hidden',\n      description: 'Access token for Reddit API',\n    },\n    subreddit: {\n      type: 'string',\n      required: true,\n      visibility: 'user-or-llm',\n      description: 'The name of the subreddit to search in (without the r/ prefix)',\n"},{"type":"text","text":"Repository: gitroomhq/postiz-app\nPath: libraries/nestjs-libraries/src/integrations/social/reddit.provider.ts\nURL: https://github.com/gitroomhq/postiz-app/blob/main/libraries/nestjs-libraries/src/integrations/social/reddit.provider.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 184) ---\n    postDetails: PostDetails<RedditSettingsDto>[]\n  ): Promise<PostResponse[]> {\n    const [post, ...rest] = postDetails;\n\n    const valueArray: PostResponse[] = [];\n    for (const firstPostSettings of post.settings.subreddit) {\n      const postData = {\n        api_type: 'json',\n        title: firstPostSettings.value.title || '',\n        kind:\n          firstPostSettings.value.type === 'media'\n\n\n--- Snippet 2 (Line 219) ---\n                  }\n                : {}),\n            }\n          : {}),\n        text: post.message,\n        sr: firstPostSettings.value.subreddit,\n      };\n\n      const all = await (\n"}]}]},"uuid":"32ab35a8-0714-4a66-bfaa-0684c303bb61","timestamp":"2025-12-24T03:12:27.244Z","toolUseResult":[{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Reddit/Reddit.node.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Reddit/Reddit.node.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 10) ---\n\nimport { handleListing, redditApiRequest } from './GenericFunctions';\nimport { postCommentFields, postCommentOperations } from './PostCommentDescription';\nimport { postFields, postOperations } from './PostDescription';\nimport { profileFields, profileOperations } from './ProfileDescription';\nimport { subredditFields, subredditOperations } from './SubredditDescription';\nimport { userFields, userOperations } from './UserDescription';\n\nexport class Reddit implements INodeType {\n\tdescription: INodeTypeDescription = {\n\t\tdisplayName: 'Reddit',\n\n\n--- Snippet 2 (Line 59) ---\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Profile',\n\t\t\t\t\t\tvalue: 'profile',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Subreddit',\n\t\t\t\t\t\tvalue: 'subreddit',\n\t\t\t\t\t},\n\t\t\t\t\t{\n"},{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Reddit/PostDescription.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Reddit/PostDescription.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 12) ---\n\t\t\t\tname: 'Create',\n\t\t\t\tvalue: 'create',\n\t\t\t\tdescription: 'Submit a post to a subreddit',\n\t\t\t\taction: 'Create a post',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Delete',\n\t\t\t\tvalue: 'delete',\n\t\t\t\tdescription: 'Delete a post from a subreddit',\n\t\t\t\taction: 'Delete a post',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Get',\n\t\t\t\tvalue: 'get',\n\t\t\t\tdescription: 'Get a post from a subreddit',\n\t\t\t\taction: 'Get a post',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Get Many',\n\t\t\t\tvalue: 'getAll',\n\t\t\t\tdescription: 'Get many posts from a subreddit',\n"},{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Reddit/SubredditDescription.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Reddit/SubredditDescription.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport type { INodeProperties } from 'n8n-workflow';\n\nexport const subredditOperations: INodeProperties[] = [\n\t{\n\t\tdisplayName: 'Operation',\n\t\tname: 'operation',\n\t\ttype: 'options',\n\t\tnoDataExpression: true,\n\t\tdefault: 'get',\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'Get',\n\t\t\t\tvalue: 'get',\n\t\t\t\tdescription: 'Retrieve background information about a subreddit',\n\t\t\t\taction: 'Get a subreddit',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Get Many',\n\t\t\t\tvalue: 'getAll',\n\t\t\t\tdescription: 'Retrieve information about many subreddits',\n\t\t\t\taction: 'Get many subreddits',\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/blocks/blocks/reddit.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/blocks/blocks/reddit.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 22) ---\n      type: 'dropdown',\n      options: [\n        { label: 'Get Posts', id: 'get_posts' },\n        { label: 'Get Comments', id: 'get_comments' },\n        { label: 'Get Controversial Posts', id: 'get_controversial' },\n        { label: 'Search Subreddit', id: 'search' },\n        { label: 'Submit Post', id: 'submit_post' },\n        { label: 'Vote', id: 'vote' },\n        { label: 'Save', id: 'save' },\n        { label: 'Unsave', id: 'unsave' },\n        { label: 'Reply', id: 'reply' },\n\n\n--- Snippet 2 (Line 52) ---\n        'edit',\n        'subscribe',\n        'history',\n        'privatemessages',\n        'account',\n        'mysubreddits',\n        'flair',\n        'report',\n        'modposts',\n"},{"type":"text","text":"Repository: transitive-bullshit/agentic\nPath: legacy/packages/reddit/src/reddit-client.ts\nURL: https://github.com/transitive-bullshit/agentic/blob/main/legacy/packages/reddit/src/reddit-client.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 12) ---\n\n  export interface Post {\n    id: string\n    name: string // name is `t3_<id>`\n    title: string\n    subreddit: string\n    selftext?: string\n    author: string\n    author_fullname: string\n    url: string\n    permalink: string\n\n\n--- Snippet 2 (Line 35) ---\n  export interface FullPost {\n    id: string\n    name: string\n    author: string\n    title: string\n    subreddit: string\n    subreddit_name_prefixed: string\n    score: number\n    approved_at_utc: string | null\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/tools/reddit/hot_posts.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/tools/reddit/hot_posts.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport type { RedditHotPostsResponse, RedditPost } from '@/tools/reddit/types'\nimport type { ToolConfig } from '@/tools/types'\n\ninterface HotPostsParams {\n  subreddit: string\n  limit?: number\n  accessToken: string\n}\n\nexport const hotPostsTool: ToolConfig<HotPostsParams, RedditHotPostsResponse> = {\n  id: 'reddit_hot_posts',\n  name: 'Reddit Hot Posts',\n  description: 'Fetch the most popular (hot) posts from a specified subreddit.',\n  version: '1.0.0',\n\n  oauth: {\n    required: true,\n    provider: 'reddit',\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/tools/reddit/get_controversial.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/tools/reddit/get_controversial.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 2) ---\nimport type { ToolConfig } from '@/tools/types'\n\nexport const getControversialTool: ToolConfig<RedditControversialParams, RedditPostsResponse> = {\n  id: 'reddit_get_controversial',\n  name: 'Get Reddit Controversial Posts',\n  description: 'Fetch controversial posts from a subreddit',\n  version: '1.0.0',\n\n  oauth: {\n    required: true,\n    provider: 'reddit',\n\n\n--- Snippet 2 (Line 18) ---\n      required: true,\n      visibility: 'hidden',\n      description: 'Access token for Reddit API',\n    },\n    subreddit: {\n      type: 'string',\n      required: true,\n      visibility: 'user-or-llm',\n      description: 'The name of the subreddit to fetch posts from (without the r/ prefix)',\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/tools/reddit/get_posts.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/tools/reddit/get_posts.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 2) ---\nimport type { ToolConfig } from '@/tools/types'\n\nexport const getPostsTool: ToolConfig<RedditPostsParams, RedditPostsResponse> = {\n  id: 'reddit_get_posts',\n  name: 'Get Reddit Posts',\n  description: 'Fetch posts from a subreddit with different sorting options',\n  version: '1.0.0',\n\n  oauth: {\n    required: true,\n    provider: 'reddit',\n\n\n--- Snippet 2 (Line 18) ---\n      required: true,\n      visibility: 'hidden',\n      description: 'Access token for Reddit API',\n    },\n    subreddit: {\n      type: 'string',\n      required: true,\n      visibility: 'user-or-llm',\n      description: 'The name of the subreddit to fetch posts from (without the r/ prefix)',\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/tools/reddit/search.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/tools/reddit/search.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 2) ---\nimport type { ToolConfig } from '@/tools/types'\n\nexport const searchTool: ToolConfig<RedditSearchParams, RedditPostsResponse> = {\n  id: 'reddit_search',\n  name: 'Search Reddit',\n  description: 'Search for posts within a subreddit',\n  version: '1.0.0',\n\n  oauth: {\n    required: true,\n    provider: 'reddit',\n\n\n--- Snippet 2 (Line 18) ---\n      required: true,\n      visibility: 'hidden',\n      description: 'Access token for Reddit API',\n    },\n    subreddit: {\n      type: 'string',\n      required: true,\n      visibility: 'user-or-llm',\n      description: 'The name of the subreddit to search in (without the r/ prefix)',\n"},{"type":"text","text":"Repository: gitroomhq/postiz-app\nPath: libraries/nestjs-libraries/src/integrations/social/reddit.provider.ts\nURL: https://github.com/gitroomhq/postiz-app/blob/main/libraries/nestjs-libraries/src/integrations/social/reddit.provider.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 184) ---\n    postDetails: PostDetails<RedditSettingsDto>[]\n  ): Promise<PostResponse[]> {\n    const [post, ...rest] = postDetails;\n\n    const valueArray: PostResponse[] = [];\n    for (const firstPostSettings of post.settings.subreddit) {\n      const postData = {\n        api_type: 'json',\n        title: firstPostSettings.value.title || '',\n        kind:\n          firstPostSettings.value.type === 'media'\n\n\n--- Snippet 2 (Line 219) ---\n                  }\n                : {}),\n            }\n          : {}),\n        text: post.message,\n        sr: firstPostSettings.value.subreddit,\n      };\n\n      const all = await (\n"}]}
{"parentUuid":"32ab35a8-0714-4a66-bfaa-0684c303bb61","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"No results found for your query.\n\nIMPORTANT: This tool searches for literal code patterns that would appear in files, not keywords or natural language queries. For example:\n- Instead of 'react hook state', search for 'useState('\n- Instead of 'error handling', search 'catch ('","is_error":true,"tool_use_id":"toolu_01WmhJBnCRqEEvkB9EeNJjBV"}]},"uuid":"f5679b18-0313-463e-9259-95980ecc2f60","timestamp":"2025-12-24T03:12:27.508Z","toolUseResult":"Error: No results found for your query.\n\nIMPORTANT: This tool searches for literal code patterns that would appear in files, not keywords or natural language queries. For example:\n- Instead of 'react hook state', search for 'useState('\n- Instead of 'error handling', search 'catch ('"}
{"parentUuid":"f5679b18-0313-463e-9259-95980ecc2f60","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01NPA2SNYiJJdr85B6B9ifcq","type":"tool_result","content":[{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Linear/Linear.node.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Linear/Linear.node.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 26) ---\ninterface IGraphqlBody {\n\tquery: string;\n\tvariables: IDataObject;\n}\nexport class Linear implements INodeType {\n\tdescription: INodeTypeDescription = {\n\t\tdisplayName: 'Linear',\n\t\tname: 'linear',\n\t\ticon: 'file:linear.svg',\n\t\tgroup: ['output'],\n\t\tversion: [1, 1.1],\n\t\tsubtitle: '={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}',\n\t\tdescription: 'Consume Linear API',\n\t\tdefaults: {\n\t\t\tname: 'Linear',\n\t\t},\n\t\tusableAsTool: true,\n\t\tinputs: [NodeConnectionTypes.Main],\n\t\toutputs: [NodeConnectionTypes.Main],\n\t\tcredentials: [\n\t\t\t{\n"},{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Salesforce/CaseInterface.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Salesforce/CaseInterface.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport interface ICase {\n\tType?: string;\n\tOrigin?: string;\n\tReason?: string;\n\tStatus?: string;\n\tOwnerId?: string;\n\tSubject?: string;\n\tParentId?: string;\n\tPriority?: string;\n\tAccountId?: string;\n\tContactId?: string;\n\tDescription?: string;\n\tIsEscalated?: boolean;\n\tSuppliedName?: string;\n\tSuppliedEmail?: string;\n\tSuppliedPhone?: string;\n\tSuppliedCompany?: string;\n\tRecordTypeId?: string;\n}\n\nexport interface ICaseComment {\n"},{"type":"text","text":"Repository: halo-dev/halo\nPath: ui/packages/shared/src/stores/types/actuator.ts\nURL: https://github.com/halo-dev/halo/blob/main/ui/packages/shared/src/stores/types/actuator.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nexport interface GlobalInfo {\n  externalUrl: string;\n  timeZone: string;\n  locale: string;\n  allowComments: boolean;\n  allowAnonymousComments: boolean;\n  allowRegistration: boolean;\n  socialAuthProviders: SocialAuthProvider[];\n  useAbsolutePermalink: boolean;\n  userInitialized: boolean;\n  dataInitialized: boolean;\n  favicon?: string;\n  postSlugGenerationStrategy: ModeType;\n  mustVerifyEmailOnRegistration: boolean;\n  siteTitle: string;\n}\n\nexport interface Info {\n  git?: Git;\n  build?: Build;\n  java: Java;\n"},{"type":"text","text":"Repository: tangly1024/NotionNext\nPath: types/index.ts\nURL: https://github.com/tangly1024/NotionNext/blob/main/types/index.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 10) ---\nexport interface ApiResponse<T = any> {\n  success: boolean\n  data?: T\n  message?: string\n  error?: string\n  code?: number\n}\n\n// ÂàÜÈ°µÁ±ªÂûã\nexport interface PaginationParams {\n  page: number\n  pageSize: number\n  total?: number\n}\n\nexport interface PaginatedResponse<T> extends ApiResponse<T[]> {\n  pagination: PaginationParams\n}\n\n// Notion Áõ∏ÂÖ≥Á±ªÂûã\nexport interface NotionPage {\n"},{"type":"text","text":"Repository: Kong/insomnia\nPath: packages/insomnia/src/main/importers/entities.ts\nURL: https://github.com/Kong/insomnia/blob/develop/packages/insomnia/src/main/importers/entities.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nexport interface Comment {\n  comment?: string;\n}\n\nexport type Variable = `{{ ${string} }}`;\n\nexport interface Authentication extends Comment {\n  authorizationUrl?: string;\n  accessTokenUrl?: string;\n  clientId?: string;\n  clientSecret?: Variable;\n  scope?: string;\n  type?: 'basic' | 'oauth2';\n  grantType?: 'authorization_code' | 'password' | 'client_credentials';\n  disabled?: boolean;\n  username?: string;\n  password?: string;\n}\n\nexport interface Parameter extends Comment {\n  name: string;\n"},{"type":"text","text":"Repository: Kong/insomnia\nPath: packages/insomnia/src/main/importers/importers/har.ts\nURL: https://github.com/Kong/insomnia/blob/develop/packages/insomnia/src/main/importers/importers/har.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 11) ---\ninterface HarRoot {\n  log: {\n    entries: Har.Entry[];\n  };\n  httpVersion: string;\n  method: string;\n  url: string;\n}\n\nconst extractRequests = (harRoot: HarRoot): ImportRequest[] => {\n  const { log, httpVersion, method, url } = harRoot;\n\n  if (!log && httpVersion && method && url) {\n    // If there is not \"log\" property, try to use the root object if it looks like a request\n    return [harRoot];\n  }\n\n  return log.entries.map(({ comment, request }) => {\n    if (comment && request && !request.comment) {\n      // Preserve the entry comment for request name generation\n      request.comment = comment;\n"},{"type":"text","text":"Repository: CodePhiliaX/Chat2DB\nPath: chat2db-client/src/typings/tree.ts\nURL: https://github.com/CodePhiliaX/Chat2DB/blob/main/chat2db-client/src/typings/tree.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nexport interface IExtraParams {\n  dataSourceId: number;\n  databaseType: DatabaseTypeCode;\n  dataSourceName: string;\n  databaseName?: string;\n  schemaName?: string;\n  tableName?: string;\n  functionName?: string;\n  procedureName?: string;\n  triggerName?: string;\n}\n\nexport interface ITreeNode {\n  uuid: string;\n  key: string | number;\n  name: string;\n  // Áî®Â±ïÁ§∫ÁöÑname\n  // displayName: string;\n  treeNodeType: TreeNodeType; // ËäÇÁÇπÁöÑÁ±ªÂûã Ë°®„ÄÅÂàó„ÄÅÊñá‰ª∂Á≠âÁ≠â\n  pretendNodeType?: TreeNodeType; // ‰º™Ë£ÖÁöÑËäÇÁÇπÁ±ªÂûãÔºåÂΩìÊ†ë‰∏çËøûÁª≠Êó∂ÔºåÈúÄË¶ÅÁî®Âà∞\n  isLeaf?: boolean; // ÊòØÂê¶‰∏∫Âè∂Â≠êËäÇÁÇπ\n"},{"type":"text","text":"Repository: metersphere/metersphere\nPath: frontend/src/components/business/ms-comment/types.ts\nURL: https://github.com/metersphere/metersphere/blob/v3.x/frontend/src/components/business/ms-comment/types.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport interface CommentUserInfo {\n  id: string;\n  name: string;\n  email: string;\n  avatar: string;\n}\n\nexport interface CommentItem {\n  id: string; // ËØÑËÆ∫id\n  createUser: string;\n  parentId: string; // Áà∂Á∫ßËØÑËÆ∫id\n  notifier: string; // ÈÄöÁü•‰∫∫\n  replyUser: string; // ÂõûÂ§ç‰∫∫\n  createTime: number;\n  updateTime: number;\n  content: string;\n  commentUserInfos: CommentUserInfo[];\n  childComments: CommentItem[];\n  [key: string]: any;\n}\n\n"},{"type":"text","text":"Repository: metersphere/metersphere\nPath: frontend/src/models/bug-management.ts\nURL: https://github.com/metersphere/metersphere/blob/v3.x/frontend/src/models/bug-management.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 5) ---\nexport interface BugListItem {\n  id: string; // Áº∫Èô∑id\n  num: string; // Áº∫Èô∑ÁºñÂè∑\n  title: string; // Áº∫Èô∑ÂêçÁß∞\n  severity: string; // Áº∫Èô∑‰∏•ÈáçÁ®ãÂ∫¶\n  status: string; // Áº∫Èô∑Áä∂ÊÄÅ\n  handleUser: string; // Áº∫Èô∑Â§ÑÁêÜ‰∫∫\n  relationCaseCount: number; // ÂÖ≥ËÅîÁî®‰æãÊï∞\n  platform: string; // ÊâÄÂ±ûÂπ≥Âè∞\n  tag: string[]; // Áº∫Èô∑Ê†áÁ≠æ\n  createUser: string; // ÂàõÂª∫‰∫∫\n  updateUser: string; // Êõ¥Êñ∞‰∫∫\n  createTime: string; // ÂàõÂª∫Êó∂Èó¥\n  updateTime: string; // Êõ¥Êñ∞Êó∂Èó¥\n  deleted: boolean; // Âà†Èô§Ê†áÂøó\n  testPlanId: string; // ÊµãËØïËÆ°ÂàíID\n}\n\nexport interface BugOptionItem {\n  value: string; // Áº∫Èô∑id\n  text: string; // Áº∫Èô∑ÁºñÂè∑\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/platform/menubar/electron-main/menubar.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/platform/menubar/electron-main/menubar.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 32) ---\ninterface IMenuItemClickHandler {\n\tinDevTools: (contents: WebContents) => void;\n\tinNoWindow: () => void;\n}\n\ntype IMenuItemInvocation = (\n\t{ type: 'commandId'; commandId: string }\n\t| { type: 'keybinding'; userSettingsLabel: string }\n);\n\ninterface IMenuItemWithKeybinding {\n\tuserSettingsLabel?: string;\n}\n\nexport class Menubar extends Disposable {\n\n\tprivate static readonly lastKnownMenubarStorageKey = 'lastKnownMenubarData';\n\n\tprivate willShutdown: boolean | undefined;\n\tprivate appMenuInstalled: boolean | undefined;\n\tprivate closedLastWindow: boolean;\n"}]}]},"uuid":"a7421868-a50a-42f6-a4d0-c7e4f6c85cf7","timestamp":"2025-12-24T03:12:28.253Z","toolUseResult":[{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Linear/Linear.node.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Linear/Linear.node.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 26) ---\ninterface IGraphqlBody {\n\tquery: string;\n\tvariables: IDataObject;\n}\nexport class Linear implements INodeType {\n\tdescription: INodeTypeDescription = {\n\t\tdisplayName: 'Linear',\n\t\tname: 'linear',\n\t\ticon: 'file:linear.svg',\n\t\tgroup: ['output'],\n\t\tversion: [1, 1.1],\n\t\tsubtitle: '={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}',\n\t\tdescription: 'Consume Linear API',\n\t\tdefaults: {\n\t\t\tname: 'Linear',\n\t\t},\n\t\tusableAsTool: true,\n\t\tinputs: [NodeConnectionTypes.Main],\n\t\toutputs: [NodeConnectionTypes.Main],\n\t\tcredentials: [\n\t\t\t{\n"},{"type":"text","text":"Repository: n8n-io/n8n\nPath: packages/nodes-base/nodes/Salesforce/CaseInterface.ts\nURL: https://github.com/n8n-io/n8n/blob/master/packages/nodes-base/nodes/Salesforce/CaseInterface.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport interface ICase {\n\tType?: string;\n\tOrigin?: string;\n\tReason?: string;\n\tStatus?: string;\n\tOwnerId?: string;\n\tSubject?: string;\n\tParentId?: string;\n\tPriority?: string;\n\tAccountId?: string;\n\tContactId?: string;\n\tDescription?: string;\n\tIsEscalated?: boolean;\n\tSuppliedName?: string;\n\tSuppliedEmail?: string;\n\tSuppliedPhone?: string;\n\tSuppliedCompany?: string;\n\tRecordTypeId?: string;\n}\n\nexport interface ICaseComment {\n"},{"type":"text","text":"Repository: halo-dev/halo\nPath: ui/packages/shared/src/stores/types/actuator.ts\nURL: https://github.com/halo-dev/halo/blob/main/ui/packages/shared/src/stores/types/actuator.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nexport interface GlobalInfo {\n  externalUrl: string;\n  timeZone: string;\n  locale: string;\n  allowComments: boolean;\n  allowAnonymousComments: boolean;\n  allowRegistration: boolean;\n  socialAuthProviders: SocialAuthProvider[];\n  useAbsolutePermalink: boolean;\n  userInitialized: boolean;\n  dataInitialized: boolean;\n  favicon?: string;\n  postSlugGenerationStrategy: ModeType;\n  mustVerifyEmailOnRegistration: boolean;\n  siteTitle: string;\n}\n\nexport interface Info {\n  git?: Git;\n  build?: Build;\n  java: Java;\n"},{"type":"text","text":"Repository: tangly1024/NotionNext\nPath: types/index.ts\nURL: https://github.com/tangly1024/NotionNext/blob/main/types/index.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 10) ---\nexport interface ApiResponse<T = any> {\n  success: boolean\n  data?: T\n  message?: string\n  error?: string\n  code?: number\n}\n\n// ÂàÜÈ°µÁ±ªÂûã\nexport interface PaginationParams {\n  page: number\n  pageSize: number\n  total?: number\n}\n\nexport interface PaginatedResponse<T> extends ApiResponse<T[]> {\n  pagination: PaginationParams\n}\n\n// Notion Áõ∏ÂÖ≥Á±ªÂûã\nexport interface NotionPage {\n"},{"type":"text","text":"Repository: Kong/insomnia\nPath: packages/insomnia/src/main/importers/entities.ts\nURL: https://github.com/Kong/insomnia/blob/develop/packages/insomnia/src/main/importers/entities.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nexport interface Comment {\n  comment?: string;\n}\n\nexport type Variable = `{{ ${string} }}`;\n\nexport interface Authentication extends Comment {\n  authorizationUrl?: string;\n  accessTokenUrl?: string;\n  clientId?: string;\n  clientSecret?: Variable;\n  scope?: string;\n  type?: 'basic' | 'oauth2';\n  grantType?: 'authorization_code' | 'password' | 'client_credentials';\n  disabled?: boolean;\n  username?: string;\n  password?: string;\n}\n\nexport interface Parameter extends Comment {\n  name: string;\n"},{"type":"text","text":"Repository: Kong/insomnia\nPath: packages/insomnia/src/main/importers/importers/har.ts\nURL: https://github.com/Kong/insomnia/blob/develop/packages/insomnia/src/main/importers/importers/har.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 11) ---\ninterface HarRoot {\n  log: {\n    entries: Har.Entry[];\n  };\n  httpVersion: string;\n  method: string;\n  url: string;\n}\n\nconst extractRequests = (harRoot: HarRoot): ImportRequest[] => {\n  const { log, httpVersion, method, url } = harRoot;\n\n  if (!log && httpVersion && method && url) {\n    // If there is not \"log\" property, try to use the root object if it looks like a request\n    return [harRoot];\n  }\n\n  return log.entries.map(({ comment, request }) => {\n    if (comment && request && !request.comment) {\n      // Preserve the entry comment for request name generation\n      request.comment = comment;\n"},{"type":"text","text":"Repository: CodePhiliaX/Chat2DB\nPath: chat2db-client/src/typings/tree.ts\nURL: https://github.com/CodePhiliaX/Chat2DB/blob/main/chat2db-client/src/typings/tree.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nexport interface IExtraParams {\n  dataSourceId: number;\n  databaseType: DatabaseTypeCode;\n  dataSourceName: string;\n  databaseName?: string;\n  schemaName?: string;\n  tableName?: string;\n  functionName?: string;\n  procedureName?: string;\n  triggerName?: string;\n}\n\nexport interface ITreeNode {\n  uuid: string;\n  key: string | number;\n  name: string;\n  // Áî®Â±ïÁ§∫ÁöÑname\n  // displayName: string;\n  treeNodeType: TreeNodeType; // ËäÇÁÇπÁöÑÁ±ªÂûã Ë°®„ÄÅÂàó„ÄÅÊñá‰ª∂Á≠âÁ≠â\n  pretendNodeType?: TreeNodeType; // ‰º™Ë£ÖÁöÑËäÇÁÇπÁ±ªÂûãÔºåÂΩìÊ†ë‰∏çËøûÁª≠Êó∂ÔºåÈúÄË¶ÅÁî®Âà∞\n  isLeaf?: boolean; // ÊòØÂê¶‰∏∫Âè∂Â≠êËäÇÁÇπ\n"},{"type":"text","text":"Repository: metersphere/metersphere\nPath: frontend/src/components/business/ms-comment/types.ts\nURL: https://github.com/metersphere/metersphere/blob/v3.x/frontend/src/components/business/ms-comment/types.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport interface CommentUserInfo {\n  id: string;\n  name: string;\n  email: string;\n  avatar: string;\n}\n\nexport interface CommentItem {\n  id: string; // ËØÑËÆ∫id\n  createUser: string;\n  parentId: string; // Áà∂Á∫ßËØÑËÆ∫id\n  notifier: string; // ÈÄöÁü•‰∫∫\n  replyUser: string; // ÂõûÂ§ç‰∫∫\n  createTime: number;\n  updateTime: number;\n  content: string;\n  commentUserInfos: CommentUserInfo[];\n  childComments: CommentItem[];\n  [key: string]: any;\n}\n\n"},{"type":"text","text":"Repository: metersphere/metersphere\nPath: frontend/src/models/bug-management.ts\nURL: https://github.com/metersphere/metersphere/blob/v3.x/frontend/src/models/bug-management.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 5) ---\nexport interface BugListItem {\n  id: string; // Áº∫Èô∑id\n  num: string; // Áº∫Èô∑ÁºñÂè∑\n  title: string; // Áº∫Èô∑ÂêçÁß∞\n  severity: string; // Áº∫Èô∑‰∏•ÈáçÁ®ãÂ∫¶\n  status: string; // Áº∫Èô∑Áä∂ÊÄÅ\n  handleUser: string; // Áº∫Èô∑Â§ÑÁêÜ‰∫∫\n  relationCaseCount: number; // ÂÖ≥ËÅîÁî®‰æãÊï∞\n  platform: string; // ÊâÄÂ±ûÂπ≥Âè∞\n  tag: string[]; // Áº∫Èô∑Ê†áÁ≠æ\n  createUser: string; // ÂàõÂª∫‰∫∫\n  updateUser: string; // Êõ¥Êñ∞‰∫∫\n  createTime: string; // ÂàõÂª∫Êó∂Èó¥\n  updateTime: string; // Êõ¥Êñ∞Êó∂Èó¥\n  deleted: boolean; // Âà†Èô§Ê†áÂøó\n  testPlanId: string; // ÊµãËØïËÆ°ÂàíID\n}\n\nexport interface BugOptionItem {\n  value: string; // Áº∫Èô∑id\n  text: string; // Áº∫Èô∑ÁºñÂè∑\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/platform/menubar/electron-main/menubar.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/platform/menubar/electron-main/menubar.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 32) ---\ninterface IMenuItemClickHandler {\n\tinDevTools: (contents: WebContents) => void;\n\tinNoWindow: () => void;\n}\n\ntype IMenuItemInvocation = (\n\t{ type: 'commandId'; commandId: string }\n\t| { type: 'keybinding'; userSettingsLabel: string }\n);\n\ninterface IMenuItemWithKeybinding {\n\tuserSettingsLabel?: string;\n}\n\nexport class Menubar extends Disposable {\n\n\tprivate static readonly lastKnownMenubarStorageKey = 'lastKnownMenubarData';\n\n\tprivate willShutdown: boolean | undefined;\n\tprivate appMenuInstalled: boolean | undefined;\n\tprivate closedLastWindow: boolean;\n"}]}
{"parentUuid":"a7421868-a50a-42f6-a4d0-c7e4f6c85cf7","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_015gSud9jHCigeVTFCskRg3e","type":"tool_result","content":[{"type":"text","text":"Repository: InsForge/InsForge\nPath: frontend/src/features/database/templates/reddit-clone.ts\nURL: https://github.com/InsForge/InsForge/blob/main/frontend/src/features/database/templates/reddit-clone.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { DatabaseTemplate } from './index';\n\nexport const redditCloneTemplate: DatabaseTemplate = {\n  id: 'reddit-clone',\n  title: 'Reddit Clone',\n  description: 'A community space with posts, comments, threaded replies, and voting',\n  tableCount: 5,\n  visualizerSchema: [\n    {\n      tableName: 'communities',\n\n\n--- Snippet 2 (Line 325) ---\n          isUnique: false,\n        },\n      ],\n    },\n  ],\n  sql: `-- Reddit Clone Database Schema\n-- A community-based platform with subreddits, posts, threaded comments, and voting\n\n-- Communities table (subreddits)\nCREATE TABLE communities (\n"},{"type":"text","text":"Repository: honestbleeps/Reddit-Enhancement-Suite\nPath: lib/utils/dom.js\nURL: https://github.com/honestbleeps/Reddit-Enhancement-Suite/blob/master/lib/utils/dom.js\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 479) ---\n\t\tif (_last.nextSibling) break;\n\t} while ((_last = _last.parentNode));\n\treturn !_last;\n};\n\n// r2 Reddit clone certain elements, e.g. when replying or editing a post\n// This will remove elements that have a specific attribute, but have not been registered\nexport const preventCloning = (() => {\n\t// Prevent breaking ava test\n\tif (typeof window === 'undefined') return (e: *) => e;\n\n"},{"type":"text","text":"Repository: InsForge/InsForge\nPath: frontend/src/features/dashboard/prompts/reddit-clone.ts\nURL: https://github.com/InsForge/InsForge/blob/main/frontend/src/features/dashboard/prompts/reddit-clone.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport const redditClonePrompt = {\n  title: 'Reddit Clone',\n  description: 'Paste below prompts to your agent as a quick start for building real apps',\n  prompt: `Build an app similar to Reddit with community-based discussion threads using InsForge as the backend platform that has these features:\n‚Ä¢ Has a \"Communities\" list where users can browse or create communities\n‚Ä¢ Each community has its own posts feed\n‚Ä¢ Users can create posts with a title and body (text or image upload to InsForge storage)\n"},{"type":"text","text":"Repository: CodingGardenCommunity/app-backend\nPath: src/tasks/seed/seedVideos.js\nURL: https://github.com/CodingGardenCommunity/app-backend/blob/develop/src/tasks/seed/seedVideos.js\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 853) ---\n    url: 'https://www.youtube.com/watch?v=6eoqEYc5SGI',\n    thumbnail: 'https://i.ytimg.com/vi/6eoqEYc5SGI/hqdefault.jpg',\n  },\n  {\n    type: 'video',\n    name: 'Part 2: Full Stack Reddit Clone with Firebase Firestore üî•, Vue.js üññ, and Vuex',\n    videoID: '7y2LpL2K9no',\n    title: 'Part 2: Full Stack Reddit Clone with Firebase Firestore üî•, Vue.js üññ, and Vuex',\n    date: '2018-06-19T02:50:59.000Z',\n    description: '',\n    url: 'https://www.youtube.com/watch?v=7y2LpL2K9no',\n    thumbnail: 'https://i.ytimg.com/vi/7y2LpL2K9no/hqdefault.jpg',\n  },\n\n\n--- Snippet 2 (Line 934) ---\n    thumbnail: 'https://i.ytimg.com/vi/2FlB84ZZTLU/hqdefault.jpg',\n  },\n  {\n    type: 'video',\n    name: 'Build a Full Stack Reddit Clone with - Firebase Firestore üî•, Vue.js/Vuexfire and Bulma',\n    videoID: 'UjX5ZE359ck',\n    title: 'Build a Full Stack Reddit Clone with - Firebase Firestore üî•, Vue.js/Vuexfire and Bulma',\n"},{"type":"text","text":"Repository: Codefreyy/joy-personal-portfolio\nPath: lib/data.ts\nURL: https://github.com/Codefreyy/joy-personal-portfolio/blob/main/lib/data.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 146) ---\n    },\n    {\n        title: \"Breddit\",\n        title_zh: \"Á§æ‰∫§Êñ∞ÈóªËÆ∫Âùõ\",\n        description:\n            `A modern full-stack Reddit clone with infinite scrolling, secure NextAuth Google authentication, and a custom feed for authenticated users. It uses Upstash Redis for caching and React-Query for efficient, responsive data fetching with optimistic updates.\n            `,\n        desc_zh: \"‰∏Ä‰∏™Áé∞‰ª£‰∏îÁÆÄÊ¥ÅÁöÑRedditÂÖãÈöÜÈ°πÁõÆÔºå‰ΩøÁî®Next.js„ÄÅTypeScriptÂíåTailwind CSSÊûÑÂª∫„ÄÇÈ°πÁõÆÂäüËÉΩÂåÖÊã¨Êó†ÈôêÊªöÂä®Âä®ÊÄÅÂä†ËΩΩÂ∏ñÂ≠ê„ÄÅNextAuth‰∏éGoogleËÆ§ËØÅ„ÄÅ‰∏∫ËÆ§ËØÅÁî®Êà∑Êèê‰æõËá™ÂÆö‰πâFeed„ÄÅÈ´òÁ∫ßÁºìÂ≠ò„ÄÅ‰πêËßÇÊõ¥Êñ∞„ÄÅReact-QueryÊï∞ÊçÆËé∑Âèñ„ÄÅÁæéËßÇÁöÑÂ∏ñÂ≠êÁºñËæëÂô®„ÄÅÂõæÁâá‰∏ä‰º†ÂíåÈìæÊé•È¢ÑËßà„ÄÅ‰ª•ÂèäÂÆåÊï¥ÁöÑËØÑËÆ∫ÂäüËÉΩ„ÄÇ\",\n        tags: [\"Next.js\", \"TypeScript\", \"Upstash\", \"React-Query\", \"TailwindCSS\"],\n        imageUrl: breadditImage,\n        projectUrl: 'https://github.com/Codefreyy/Breddit',\n"},{"type":"text","text":"Repository: peterkibuchi/shreddit\nPath: src/config/site.ts\nURL: https://github.com/peterkibuchi/shreddit/blob/main/src/config/site.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 13) ---\n};\n\nexport const siteConfig: SiteConfig = {\n  name: \"Shreddit\",\n  url: \"https://shreddit.vercel.app\",\n  description: \"A Reddit clone built with Next.js and TypeScript.\",\n  creator: \"Peter Kibuchi\",\n  authors: [{ name: \"Peter Kibuchi\", url: \"https://www.peterkibuchi.com\" }],\n  keywords: [\"reddit\", \"clone\", \"nextjs\", \"typescript\"],\n  links: {\n    github: \"https://github.com/peterkibuchi/shreddit\",\n"},{"type":"text","text":"Repository: bleeding-edge-react-sample-app/bleeding-edge-react-sample-app.github.io\nPath: src/pages/HomePage/HomePage.js\nURL: https://github.com/bleeding-edge-react-sample-app/bleeding-edge-react-sample-app.github.io/blob/master/src/pages/HomePage/HomePage.js\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 20) ---\n        </Heading>\n        <Box>\n          <Markdown content={stripIndent(`\n            This is a sample application for the React Edge 2nd Edition.\n\n            It's a reddit clone built with React, React-Router, Reflux and other\n            libraries.\n          `)} />\n        </Box>\n      </Box>\n    );\n"}]}]},"uuid":"fbaeb681-ac7a-4ec7-a50c-a370dfb86778","timestamp":"2025-12-24T03:12:28.556Z","toolUseResult":[{"type":"text","text":"Repository: InsForge/InsForge\nPath: frontend/src/features/database/templates/reddit-clone.ts\nURL: https://github.com/InsForge/InsForge/blob/main/frontend/src/features/database/templates/reddit-clone.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { DatabaseTemplate } from './index';\n\nexport const redditCloneTemplate: DatabaseTemplate = {\n  id: 'reddit-clone',\n  title: 'Reddit Clone',\n  description: 'A community space with posts, comments, threaded replies, and voting',\n  tableCount: 5,\n  visualizerSchema: [\n    {\n      tableName: 'communities',\n\n\n--- Snippet 2 (Line 325) ---\n          isUnique: false,\n        },\n      ],\n    },\n  ],\n  sql: `-- Reddit Clone Database Schema\n-- A community-based platform with subreddits, posts, threaded comments, and voting\n\n-- Communities table (subreddits)\nCREATE TABLE communities (\n"},{"type":"text","text":"Repository: honestbleeps/Reddit-Enhancement-Suite\nPath: lib/utils/dom.js\nURL: https://github.com/honestbleeps/Reddit-Enhancement-Suite/blob/master/lib/utils/dom.js\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 479) ---\n\t\tif (_last.nextSibling) break;\n\t} while ((_last = _last.parentNode));\n\treturn !_last;\n};\n\n// r2 Reddit clone certain elements, e.g. when replying or editing a post\n// This will remove elements that have a specific attribute, but have not been registered\nexport const preventCloning = (() => {\n\t// Prevent breaking ava test\n\tif (typeof window === 'undefined') return (e: *) => e;\n\n"},{"type":"text","text":"Repository: InsForge/InsForge\nPath: frontend/src/features/dashboard/prompts/reddit-clone.ts\nURL: https://github.com/InsForge/InsForge/blob/main/frontend/src/features/dashboard/prompts/reddit-clone.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport const redditClonePrompt = {\n  title: 'Reddit Clone',\n  description: 'Paste below prompts to your agent as a quick start for building real apps',\n  prompt: `Build an app similar to Reddit with community-based discussion threads using InsForge as the backend platform that has these features:\n‚Ä¢ Has a \"Communities\" list where users can browse or create communities\n‚Ä¢ Each community has its own posts feed\n‚Ä¢ Users can create posts with a title and body (text or image upload to InsForge storage)\n"},{"type":"text","text":"Repository: CodingGardenCommunity/app-backend\nPath: src/tasks/seed/seedVideos.js\nURL: https://github.com/CodingGardenCommunity/app-backend/blob/develop/src/tasks/seed/seedVideos.js\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 853) ---\n    url: 'https://www.youtube.com/watch?v=6eoqEYc5SGI',\n    thumbnail: 'https://i.ytimg.com/vi/6eoqEYc5SGI/hqdefault.jpg',\n  },\n  {\n    type: 'video',\n    name: 'Part 2: Full Stack Reddit Clone with Firebase Firestore üî•, Vue.js üññ, and Vuex',\n    videoID: '7y2LpL2K9no',\n    title: 'Part 2: Full Stack Reddit Clone with Firebase Firestore üî•, Vue.js üññ, and Vuex',\n    date: '2018-06-19T02:50:59.000Z',\n    description: '',\n    url: 'https://www.youtube.com/watch?v=7y2LpL2K9no',\n    thumbnail: 'https://i.ytimg.com/vi/7y2LpL2K9no/hqdefault.jpg',\n  },\n\n\n--- Snippet 2 (Line 934) ---\n    thumbnail: 'https://i.ytimg.com/vi/2FlB84ZZTLU/hqdefault.jpg',\n  },\n  {\n    type: 'video',\n    name: 'Build a Full Stack Reddit Clone with - Firebase Firestore üî•, Vue.js/Vuexfire and Bulma',\n    videoID: 'UjX5ZE359ck',\n    title: 'Build a Full Stack Reddit Clone with - Firebase Firestore üî•, Vue.js/Vuexfire and Bulma',\n"},{"type":"text","text":"Repository: Codefreyy/joy-personal-portfolio\nPath: lib/data.ts\nURL: https://github.com/Codefreyy/joy-personal-portfolio/blob/main/lib/data.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 146) ---\n    },\n    {\n        title: \"Breddit\",\n        title_zh: \"Á§æ‰∫§Êñ∞ÈóªËÆ∫Âùõ\",\n        description:\n            `A modern full-stack Reddit clone with infinite scrolling, secure NextAuth Google authentication, and a custom feed for authenticated users. It uses Upstash Redis for caching and React-Query for efficient, responsive data fetching with optimistic updates.\n            `,\n        desc_zh: \"‰∏Ä‰∏™Áé∞‰ª£‰∏îÁÆÄÊ¥ÅÁöÑRedditÂÖãÈöÜÈ°πÁõÆÔºå‰ΩøÁî®Next.js„ÄÅTypeScriptÂíåTailwind CSSÊûÑÂª∫„ÄÇÈ°πÁõÆÂäüËÉΩÂåÖÊã¨Êó†ÈôêÊªöÂä®Âä®ÊÄÅÂä†ËΩΩÂ∏ñÂ≠ê„ÄÅNextAuth‰∏éGoogleËÆ§ËØÅ„ÄÅ‰∏∫ËÆ§ËØÅÁî®Êà∑Êèê‰æõËá™ÂÆö‰πâFeed„ÄÅÈ´òÁ∫ßÁºìÂ≠ò„ÄÅ‰πêËßÇÊõ¥Êñ∞„ÄÅReact-QueryÊï∞ÊçÆËé∑Âèñ„ÄÅÁæéËßÇÁöÑÂ∏ñÂ≠êÁºñËæëÂô®„ÄÅÂõæÁâá‰∏ä‰º†ÂíåÈìæÊé•È¢ÑËßà„ÄÅ‰ª•ÂèäÂÆåÊï¥ÁöÑËØÑËÆ∫ÂäüËÉΩ„ÄÇ\",\n        tags: [\"Next.js\", \"TypeScript\", \"Upstash\", \"React-Query\", \"TailwindCSS\"],\n        imageUrl: breadditImage,\n        projectUrl: 'https://github.com/Codefreyy/Breddit',\n"},{"type":"text","text":"Repository: peterkibuchi/shreddit\nPath: src/config/site.ts\nURL: https://github.com/peterkibuchi/shreddit/blob/main/src/config/site.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 13) ---\n};\n\nexport const siteConfig: SiteConfig = {\n  name: \"Shreddit\",\n  url: \"https://shreddit.vercel.app\",\n  description: \"A Reddit clone built with Next.js and TypeScript.\",\n  creator: \"Peter Kibuchi\",\n  authors: [{ name: \"Peter Kibuchi\", url: \"https://www.peterkibuchi.com\" }],\n  keywords: [\"reddit\", \"clone\", \"nextjs\", \"typescript\"],\n  links: {\n    github: \"https://github.com/peterkibuchi/shreddit\",\n"},{"type":"text","text":"Repository: bleeding-edge-react-sample-app/bleeding-edge-react-sample-app.github.io\nPath: src/pages/HomePage/HomePage.js\nURL: https://github.com/bleeding-edge-react-sample-app/bleeding-edge-react-sample-app.github.io/blob/master/src/pages/HomePage/HomePage.js\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 20) ---\n        </Heading>\n        <Box>\n          <Markdown content={stripIndent(`\n            This is a sample application for the React Edge 2nd Edition.\n\n            It's a reddit clone built with React, React-Router, Reflux and other\n            libraries.\n          `)} />\n        </Box>\n      </Box>\n    );\n"}]}
{"parentUuid":"fbaeb681-ac7a-4ec7-a50c-a370dfb86778","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01JQzo3npRmYNyUnbWcyPrNN","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me search for more specific implementation patterns for voting systems and threaded comments:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":7992,"cache_read_input_tokens":12228,"cache_creation":{"ephemeral_5m_input_tokens":7992,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CWQnG82JiaaLDxvMbZdhp","type":"assistant","uuid":"a0165b53-69b1-4c00-ad9a-c90e5accbc2f","timestamp":"2025-12-24T03:12:31.479Z"}
{"parentUuid":"a0165b53-69b1-4c00-ad9a-c90e5accbc2f","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01JQzo3npRmYNyUnbWcyPrNN","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0129dyFTxCgA7wWmV11ux7mB","name":"mcp__grep__searchGitHub","input":{"query":"VoteType","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":7992,"cache_read_input_tokens":12228,"cache_creation":{"ephemeral_5m_input_tokens":7992,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CWQnG82JiaaLDxvMbZdhp","type":"assistant","uuid":"0b2bb767-8e74-405f-9574-374d8697f3f1","timestamp":"2025-12-24T03:12:32.888Z"}
{"parentUuid":"0b2bb767-8e74-405f-9574-374d8697f3f1","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01JQzo3npRmYNyUnbWcyPrNN","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_015E7ZShEgz9AcsEro2qk6MF","name":"mcp__grep__searchGitHub","input":{"query":"(?s)enum.*UPVOTE.*DOWNVOTE","useRegexp":true,"language":["TypeScript","Prisma"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":7992,"cache_read_input_tokens":12228,"cache_creation":{"ephemeral_5m_input_tokens":7992,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CWQnG82JiaaLDxvMbZdhp","type":"assistant","uuid":"4095b48d-a9d3-4fa9-b23d-1526828e1dbb","timestamp":"2025-12-24T03:12:34.556Z"}
{"parentUuid":"4095b48d-a9d3-4fa9-b23d-1526828e1dbb","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01JQzo3npRmYNyUnbWcyPrNN","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_018acvUj3TNy7XeWv3TsNhpq","name":"mcp__grep__searchGitHub","input":{"query":"parentCommentId","language":["TypeScript"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":7992,"cache_read_input_tokens":12228,"cache_creation":{"ephemeral_5m_input_tokens":7992,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CWQnG82JiaaLDxvMbZdhp","type":"assistant","uuid":"c8bb94ed-e10f-4b8b-88fa-9b87499b788b","timestamp":"2025-12-24T03:12:35.248Z"}
{"parentUuid":"c8bb94ed-e10f-4b8b-88fa-9b87499b788b","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01JQzo3npRmYNyUnbWcyPrNN","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01UpEU5exnjjfmkMfQJv2s7y","name":"mcp__grep__searchGitHub","input":{"query":"CommentTree","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":7992,"cache_read_input_tokens":12228,"cache_creation":{"ephemeral_5m_input_tokens":7992,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CWQnG82JiaaLDxvMbZdhp","type":"assistant","uuid":"34bcb1ef-f290-4d47-8fbb-d4881e84ab15","timestamp":"2025-12-24T03:12:35.980Z"}
{"parentUuid":"34bcb1ef-f290-4d47-8fbb-d4881e84ab15","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0129dyFTxCgA7wWmV11ux7mB","type":"tool_result","content":[{"type":"text","text":"Repository: kamranahmedse/developer-roadmap\nPath: src/components/Projects/ProjectSolutionModal.tsx\nURL: https://github.com/kamranahmedse/developer-roadmap/blob/master/src/components/Projects/ProjectSolutionModal.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport { showLoginPopup } from '../../lib/popup';\nimport { pageProgressMessage } from '../../stores/page';\nimport { Modal } from '../Modal';\nimport { GitHubIcon } from '../ReactIcons/GitHubIcon';\nimport { ModalLoader } from '../UserProgress/ModalLoader';\nimport { type AllowedVoteType } from './ListProjectSolutions';\nimport { VoteButton } from './VoteButton';\n\ntype UserProjectSolutionResponse = {\n  id?: string;\n\n\n\n--- Snippet 2 (Line 21) ---\n  repositoryUrl?: string;\n\n  upvotes?: number;\n  downvotes?: number;\n\n  voteType?: AllowedVoteType | 'none';\n  user: {\n    id: string;\n    name: string;\n"},{"type":"text","text":"Repository: kamranahmedse/developer-roadmap\nPath: src/components/Projects/ListProjectSolutions.tsx\nURL: https://github.com/kamranahmedse/developer-roadmap/blob/master/src/components/Projects/ListProjectSolutions.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 31) ---\n  isVisible?: boolean;\n\n  updatedAt: Date;\n}\n\nconst allowedVoteType = ['upvote', 'downvote'] as const;\nexport type AllowedVoteType = (typeof allowedVoteType)[number];\n\ntype ListProjectSolutionsResponse = {\n  data: (ProjectStatusDocument & {\n    user: {\n      id: string;\n      name: string;\n      avatar: string;\n    };\n    voteType?: AllowedVoteType | 'none';\n  })[];\n  totalCount: number;\n  totalPages: number;\n  currPage: number;\n  perPage: number;\n"},{"type":"text","text":"Repository: kamranahmedse/developer-roadmap\nPath: src/components/Projects/ProjectSolutionRow.tsx\nURL: https://github.com/kamranahmedse/developer-roadmap/blob/master/src/components/Projects/ProjectSolutionRow.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { ThumbsDown, ThumbsUp } from 'lucide-react';\nimport { getRelativeTimeString } from '../../lib/date';\nimport { VoteButton } from './VoteButton';\nimport { GitHubIcon } from '../ReactIcons/GitHubIcon';\nimport type {\n  AllowedVoteType,\n  ProjectStatusDocument,\n} from './ListProjectSolutions';\n\nexport const submittedAlternatives = [\n  'submitted their solution',\n\n\n--- Snippet 2 (Line 36) ---\n    user: {\n      id: string;\n      name: string;\n      avatar: string;\n    };\n    voteType?: AllowedVoteType | 'none';\n  };\n  counter: number;\n  onVote: (solutionId: string, voteType: AllowedVoteType) => void;\n"},{"type":"text","text":"Repository: code100x/cms\nPath: src/components/posts/form/form-vote.tsx\nURL: https://github.com/code100x/cms/blob/main/src/components/posts/form/form-vote.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 5) ---\n\nimport { toast } from 'sonner';\n\nimport { ArrowBigDown, ArrowBigUp } from 'lucide-react';\nimport { voteHandlerAction } from '@/actions/commentVote';\nimport { VoteType } from '@prisma/client';\nimport { usePathname } from 'next/navigation';\n\ninterface IVoteFormProps {\n  questionId: number | undefined;\n  answerId: number | undefined;\n\n\n--- Snippet 2 (Line 38) ---\n  const handleVote = (voteType: VoteType) => {\n    const isRemovingVote = userVoted && userVoteVal.voteType === voteType;\n  \n    toast.promise(\n      execute({ voteType, questionId, answerId, currentPath, slug }),\n      isRemovingVote\n        ? {\n            loading: `Removing ${voteType.toLowerCase()}...`,\n            success: `Your ${voteType.toLowerCase()} has been removed.`,\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/polls/util.std.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/polls/util.std.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\n// Copyright 2025 Signal Messenger, LLC\n// SPDX-License-Identifier: AGPL-3.0-only\n\nimport { omit } from 'lodash';\nimport type { MessagePollVoteType } from '../types/Polls.dom.js';\nimport { isSent } from '../messages/MessageSendState.std.js';\nimport type { SendStateByConversationId } from '../messages/MessageSendState.std.js';\n\nexport function* getUnsentConversationIds(\n  pollVote: Readonly<Pick<MessagePollVoteType, 'sendStateByConversationId'>>\n): Iterable<string> {\n  const { sendStateByConversationId = {} } = pollVote;\n  for (const [id, sendState] of Object.entries(sendStateByConversationId)) {\n    if (!isSent(sendState.status)) {\n      yield id;\n    }\n  }\n}\n\nexport function isOutgoingPollVoteCompletelyUnsent(\n  pollVote: Readonly<Pick<MessagePollVoteType, 'sendStateByConversationId'>>\n"},{"type":"text","text":"Repository: code100x/cms\nPath: src/components/comment/CommentVoteForm.tsx\nURL: https://github.com/code100x/cms/blob/main/src/components/comment/CommentVoteForm.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nimport React from 'react';\nimport { useAction } from '@/hooks/useAction';\nimport { toast } from 'sonner';\nimport { ArrowBigDown, ArrowBigUp } from 'lucide-react';\nimport { voteHandlerAction } from '@/actions/commentVote';\nimport { VoteType } from '@prisma/client';\nimport { usePathname } from 'next/navigation';\n\ninterface CommentVoteFormProps {\n  upVotes: number;\n  downVotes: number;\n  commentId: number;\n  voteType: VoteType | null;\n}\n\nconst CommentVoteForm: React.FC<CommentVoteFormProps> = ({\n  upVotes,\n  downVotes,\n  commentId,\n  voteType,\n}) => {\n"},{"type":"text","text":"Repository: code100x/cms\nPath: src/actions/commentVote/index.ts\nURL: https://github.com/code100x/cms/blob/main/src/actions/commentVote/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 2) ---\n\nimport { getServerSession } from 'next-auth';\nimport { InputTypeHandleVote, ReturnTypeHandleVote } from './types';\nimport { authOptions } from '@/lib/auth';\nimport prisma from '@/db';\nimport { VoteType } from '@prisma/client';\nimport { revalidatePath } from 'next/cache';\nimport { createSafeAction } from '@/lib/create-safe-action';\nimport { VoteHandleSchema } from './schema';\n\nconst voteHandler = async (\n\n\n--- Snippet 2 (Line 18) ---\n\n  if (!session || !session.user.id) {\n    return { error: 'Unauthorized' };\n  }\n\n  const { questionId, answerId, commentId, voteType, currentPath, slug } = data;\n\n  if (!questionId && !answerId && !commentId) {\n    return { error: 'No valid target specified.' };\n"},{"type":"text","text":"Repository: lukevella/rallly\nPath: apps/web/src/components/new-participant-modal.tsx\nURL: https://github.com/lukevella/rallly/blob/main/apps/web/src/components/new-participant-modal.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport type { VoteType } from \"@rallly/database\";\nimport { cn } from \"@rallly/ui\";\nimport { Badge } from \"@rallly/ui/badge\";\nimport { Button } from \"@rallly/ui/button\";\nimport {\n  Form,\n\n\n--- Snippet 2 (Line 41) ---\n\ninterface NewParticipantModalProps {\n  votes: { optionId: string; type: VoteType }[];\n  onSubmit?: (data: { id: string }) => void;\n  onCancel?: () => void;\n}\n\nconst VoteSummary = ({\n  votes,\n  className,\n}: {\n  className?: string;\n  votes: { optionId: string; type: VoteType }[];\n"},{"type":"text","text":"Repository: polkadot-js/apps\nPath: packages/page-referenda/src/Referenda/Vote/index.tsx\nURL: https://github.com/polkadot-js/apps/blob/master/packages/page-referenda/src/Referenda/Vote/index.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 72) ---\n  const { t } = useTranslation();\n  const { api } = useApi();\n  const { allAccounts, hasAccounts } = useAccounts();\n  const [accountId, setAccountId] = useState<string | null>(null);\n  const [isOpen, toggleOpen] = useToggle();\n  const [voteTypeIndex, setVoteTypeIndex] = useState(0);\n  const [params, setParams] = useState<unknown[] | undefined>();\n\n  // Create the options for the vote toggle using the type of vote and also inspecting\n  // the actual support of the on-chain runtime (e.g. Abstentions)\n  const voteTypeOpts = useMemo(\n    () => createVoteOpts(api, t),\n    [api, t]\n  );\n\n  const filteredMembers = useMemo(\n"},{"type":"text","text":"Repository: pancakeswap/pancake-frontend\nPath: apps/web/src/views/Voting/components/CastVoteModal/index.tsx\nURL: https://github.com/pancakeswap/pancake-frontend/blob/develop/apps/web/src/views/Voting/components/CastVoteModal/index.tsx\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nimport snapshot from '@snapshot-labs/snapshot.js'\nimport { useState } from 'react'\nimport { ProposalTypeName } from 'state/types'\nimport { PANCAKE_SPACE } from 'views/Voting/config'\nimport { VECAKE_VOTING_POWER_BLOCK } from 'views/Voting/helpers'\nimport { SingleVoteState, WeightedVoteState } from 'views/Voting/Proposal/VoteType/types'\nimport { useAccount, useWalletClient } from 'wagmi'\nimport useGetVotingPower from '../../hooks/useGetVotingPower'\nimport DetailsView from './DetailsView'\nimport MainView, { VeMainView } from './MainView'\nimport { CastVoteModalProps, ConfirmVoteView } from './types'\n\n\n--- Snippet 2 (Line 19) ---\n  proposal,\n  onSuccess,\n  proposalId,\n  vote,\n  block,\n  voteType,\n  onDismiss,\n}) => {\n  const [view, setView] = useState<ConfirmVoteView>(ConfirmVoteView.MAIN)\n"}]}]},"uuid":"c244f8c1-80dd-44ef-952e-1fa2b637dfb5","timestamp":"2025-12-24T03:12:36.339Z","toolUseResult":[{"type":"text","text":"Repository: kamranahmedse/developer-roadmap\nPath: src/components/Projects/ProjectSolutionModal.tsx\nURL: https://github.com/kamranahmedse/developer-roadmap/blob/master/src/components/Projects/ProjectSolutionModal.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport { showLoginPopup } from '../../lib/popup';\nimport { pageProgressMessage } from '../../stores/page';\nimport { Modal } from '../Modal';\nimport { GitHubIcon } from '../ReactIcons/GitHubIcon';\nimport { ModalLoader } from '../UserProgress/ModalLoader';\nimport { type AllowedVoteType } from './ListProjectSolutions';\nimport { VoteButton } from './VoteButton';\n\ntype UserProjectSolutionResponse = {\n  id?: string;\n\n\n\n--- Snippet 2 (Line 21) ---\n  repositoryUrl?: string;\n\n  upvotes?: number;\n  downvotes?: number;\n\n  voteType?: AllowedVoteType | 'none';\n  user: {\n    id: string;\n    name: string;\n"},{"type":"text","text":"Repository: kamranahmedse/developer-roadmap\nPath: src/components/Projects/ListProjectSolutions.tsx\nURL: https://github.com/kamranahmedse/developer-roadmap/blob/master/src/components/Projects/ListProjectSolutions.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 31) ---\n  isVisible?: boolean;\n\n  updatedAt: Date;\n}\n\nconst allowedVoteType = ['upvote', 'downvote'] as const;\nexport type AllowedVoteType = (typeof allowedVoteType)[number];\n\ntype ListProjectSolutionsResponse = {\n  data: (ProjectStatusDocument & {\n    user: {\n      id: string;\n      name: string;\n      avatar: string;\n    };\n    voteType?: AllowedVoteType | 'none';\n  })[];\n  totalCount: number;\n  totalPages: number;\n  currPage: number;\n  perPage: number;\n"},{"type":"text","text":"Repository: kamranahmedse/developer-roadmap\nPath: src/components/Projects/ProjectSolutionRow.tsx\nURL: https://github.com/kamranahmedse/developer-roadmap/blob/master/src/components/Projects/ProjectSolutionRow.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { ThumbsDown, ThumbsUp } from 'lucide-react';\nimport { getRelativeTimeString } from '../../lib/date';\nimport { VoteButton } from './VoteButton';\nimport { GitHubIcon } from '../ReactIcons/GitHubIcon';\nimport type {\n  AllowedVoteType,\n  ProjectStatusDocument,\n} from './ListProjectSolutions';\n\nexport const submittedAlternatives = [\n  'submitted their solution',\n\n\n--- Snippet 2 (Line 36) ---\n    user: {\n      id: string;\n      name: string;\n      avatar: string;\n    };\n    voteType?: AllowedVoteType | 'none';\n  };\n  counter: number;\n  onVote: (solutionId: string, voteType: AllowedVoteType) => void;\n"},{"type":"text","text":"Repository: code100x/cms\nPath: src/components/posts/form/form-vote.tsx\nURL: https://github.com/code100x/cms/blob/main/src/components/posts/form/form-vote.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 5) ---\n\nimport { toast } from 'sonner';\n\nimport { ArrowBigDown, ArrowBigUp } from 'lucide-react';\nimport { voteHandlerAction } from '@/actions/commentVote';\nimport { VoteType } from '@prisma/client';\nimport { usePathname } from 'next/navigation';\n\ninterface IVoteFormProps {\n  questionId: number | undefined;\n  answerId: number | undefined;\n\n\n--- Snippet 2 (Line 38) ---\n  const handleVote = (voteType: VoteType) => {\n    const isRemovingVote = userVoted && userVoteVal.voteType === voteType;\n  \n    toast.promise(\n      execute({ voteType, questionId, answerId, currentPath, slug }),\n      isRemovingVote\n        ? {\n            loading: `Removing ${voteType.toLowerCase()}...`,\n            success: `Your ${voteType.toLowerCase()} has been removed.`,\n"},{"type":"text","text":"Repository: signalapp/Signal-Desktop\nPath: ts/polls/util.std.ts\nURL: https://github.com/signalapp/Signal-Desktop/blob/main/ts/polls/util.std.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\n// Copyright 2025 Signal Messenger, LLC\n// SPDX-License-Identifier: AGPL-3.0-only\n\nimport { omit } from 'lodash';\nimport type { MessagePollVoteType } from '../types/Polls.dom.js';\nimport { isSent } from '../messages/MessageSendState.std.js';\nimport type { SendStateByConversationId } from '../messages/MessageSendState.std.js';\n\nexport function* getUnsentConversationIds(\n  pollVote: Readonly<Pick<MessagePollVoteType, 'sendStateByConversationId'>>\n): Iterable<string> {\n  const { sendStateByConversationId = {} } = pollVote;\n  for (const [id, sendState] of Object.entries(sendStateByConversationId)) {\n    if (!isSent(sendState.status)) {\n      yield id;\n    }\n  }\n}\n\nexport function isOutgoingPollVoteCompletelyUnsent(\n  pollVote: Readonly<Pick<MessagePollVoteType, 'sendStateByConversationId'>>\n"},{"type":"text","text":"Repository: code100x/cms\nPath: src/components/comment/CommentVoteForm.tsx\nURL: https://github.com/code100x/cms/blob/main/src/components/comment/CommentVoteForm.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nimport React from 'react';\nimport { useAction } from '@/hooks/useAction';\nimport { toast } from 'sonner';\nimport { ArrowBigDown, ArrowBigUp } from 'lucide-react';\nimport { voteHandlerAction } from '@/actions/commentVote';\nimport { VoteType } from '@prisma/client';\nimport { usePathname } from 'next/navigation';\n\ninterface CommentVoteFormProps {\n  upVotes: number;\n  downVotes: number;\n  commentId: number;\n  voteType: VoteType | null;\n}\n\nconst CommentVoteForm: React.FC<CommentVoteFormProps> = ({\n  upVotes,\n  downVotes,\n  commentId,\n  voteType,\n}) => {\n"},{"type":"text","text":"Repository: code100x/cms\nPath: src/actions/commentVote/index.ts\nURL: https://github.com/code100x/cms/blob/main/src/actions/commentVote/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 2) ---\n\nimport { getServerSession } from 'next-auth';\nimport { InputTypeHandleVote, ReturnTypeHandleVote } from './types';\nimport { authOptions } from '@/lib/auth';\nimport prisma from '@/db';\nimport { VoteType } from '@prisma/client';\nimport { revalidatePath } from 'next/cache';\nimport { createSafeAction } from '@/lib/create-safe-action';\nimport { VoteHandleSchema } from './schema';\n\nconst voteHandler = async (\n\n\n--- Snippet 2 (Line 18) ---\n\n  if (!session || !session.user.id) {\n    return { error: 'Unauthorized' };\n  }\n\n  const { questionId, answerId, commentId, voteType, currentPath, slug } = data;\n\n  if (!questionId && !answerId && !commentId) {\n    return { error: 'No valid target specified.' };\n"},{"type":"text","text":"Repository: lukevella/rallly\nPath: apps/web/src/components/new-participant-modal.tsx\nURL: https://github.com/lukevella/rallly/blob/main/apps/web/src/components/new-participant-modal.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport type { VoteType } from \"@rallly/database\";\nimport { cn } from \"@rallly/ui\";\nimport { Badge } from \"@rallly/ui/badge\";\nimport { Button } from \"@rallly/ui/button\";\nimport {\n  Form,\n\n\n--- Snippet 2 (Line 41) ---\n\ninterface NewParticipantModalProps {\n  votes: { optionId: string; type: VoteType }[];\n  onSubmit?: (data: { id: string }) => void;\n  onCancel?: () => void;\n}\n\nconst VoteSummary = ({\n  votes,\n  className,\n}: {\n  className?: string;\n  votes: { optionId: string; type: VoteType }[];\n"},{"type":"text","text":"Repository: polkadot-js/apps\nPath: packages/page-referenda/src/Referenda/Vote/index.tsx\nURL: https://github.com/polkadot-js/apps/blob/master/packages/page-referenda/src/Referenda/Vote/index.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 72) ---\n  const { t } = useTranslation();\n  const { api } = useApi();\n  const { allAccounts, hasAccounts } = useAccounts();\n  const [accountId, setAccountId] = useState<string | null>(null);\n  const [isOpen, toggleOpen] = useToggle();\n  const [voteTypeIndex, setVoteTypeIndex] = useState(0);\n  const [params, setParams] = useState<unknown[] | undefined>();\n\n  // Create the options for the vote toggle using the type of vote and also inspecting\n  // the actual support of the on-chain runtime (e.g. Abstentions)\n  const voteTypeOpts = useMemo(\n    () => createVoteOpts(api, t),\n    [api, t]\n  );\n\n  const filteredMembers = useMemo(\n"},{"type":"text","text":"Repository: pancakeswap/pancake-frontend\nPath: apps/web/src/views/Voting/components/CastVoteModal/index.tsx\nURL: https://github.com/pancakeswap/pancake-frontend/blob/develop/apps/web/src/views/Voting/components/CastVoteModal/index.tsx\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nimport snapshot from '@snapshot-labs/snapshot.js'\nimport { useState } from 'react'\nimport { ProposalTypeName } from 'state/types'\nimport { PANCAKE_SPACE } from 'views/Voting/config'\nimport { VECAKE_VOTING_POWER_BLOCK } from 'views/Voting/helpers'\nimport { SingleVoteState, WeightedVoteState } from 'views/Voting/Proposal/VoteType/types'\nimport { useAccount, useWalletClient } from 'wagmi'\nimport useGetVotingPower from '../../hooks/useGetVotingPower'\nimport DetailsView from './DetailsView'\nimport MainView, { VeMainView } from './MainView'\nimport { CastVoteModalProps, ConfirmVoteView } from './types'\n\n\n--- Snippet 2 (Line 19) ---\n  proposal,\n  onSuccess,\n  proposalId,\n  vote,\n  block,\n  voteType,\n  onDismiss,\n}) => {\n  const [view, setView] = useState<ConfirmVoteView>(ConfirmVoteView.MAIN)\n"}]}
{"parentUuid":"c244f8c1-80dd-44ef-952e-1fa2b637dfb5","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_015E7ZShEgz9AcsEro2qk6MF","type":"tool_result","content":[{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/server/router/questions/questions-question-comment-router.ts\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/server/router/questions/questions-question-comment-router.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 16) ---\n      sortOrder: z.nativeEnum(SortOrder),\n      sortType: z.nativeEnum(SortType),\n    }),\n    async resolve({ ctx, input }) {\n      const { questionId, cursor } = input;\n\n      const sortCondition =\n        input.sortType === SortType.TOP\n          ? [\n              {\n                upvotes: input.sortOrder,\n              },\n              {\n                id: input.sortOrder,\n              },\n            ]\n          : [\n              {\n                updatedAt: input.sortOrder,\n              },\n              {\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/server/router/questions/questions-answer-comment-router.ts\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/server/router/questions/questions-answer-comment-router.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 16) ---\n      sortOrder: z.nativeEnum(SortOrder),\n      sortType: z.nativeEnum(SortType),\n    }),\n    async resolve({ ctx, input }) {\n      const { answerId, cursor } = input;\n\n      const sortCondition =\n        input.sortType === SortType.TOP\n          ? [\n              {\n                upvotes: input.sortOrder,\n              },\n              {\n                id: input.sortOrder,\n              },\n            ]\n          : [\n              {\n                updatedAt: input.sortOrder,\n              },\n              {\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/server/router/questions/questions-answer-router.ts\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/server/router/questions/questions-answer-router.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 16) ---\n      sortOrder: z.nativeEnum(SortOrder),\n      sortType: z.nativeEnum(SortType),\n    }),\n    async resolve({ ctx, input }) {\n      const { questionId, cursor } = input;\n\n      const sortCondition =\n        input.sortType === SortType.TOP\n          ? [\n              {\n                upvotes: input.sortOrder,\n              },\n              {\n                id: input.sortOrder,\n              },\n            ]\n          : [\n              {\n                updatedAt: input.sortOrder,\n              },\n              {\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/server/router/questions/questions-question-user-router.ts\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/server/router/questions/questions-question-user-router.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 14) ---\n      questionType: z.nativeEnum(QuestionsQuestionType),\n      role: z.string(),\n      seenAt: z.date(),\n      stateId: z.string().nullish(),\n    }),\n    async resolve({ ctx, input }) {\n      const userId = ctx.session?.user?.id;\n\n      return await ctx.prisma.questionsQuestion.create({\n        data: {\n          content: input.content,\n          encounters: {\n            create: {\n              city:\n                input.cityId !== null\n                  ? {\n                      connect: {\n                        id: input.cityId,\n                      },\n                    }\n                  : undefined,\n"},{"type":"text","text":"Repository: LAION-AI/Open-Assistant\nPath: website/src/types/Trollboard.ts\nURL: https://github.com/LAION-AI/Open-Assistant/blob/main/website/src/types/Trollboard.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nexport enum TrollboardTimeFrame {\n  day = \"day\",\n  week = \"week\",\n  month = \"month\",\n  total = \"total\",\n}\n\nexport type FetchTrollBoardResponse = {\n  time_frame: TrollboardTimeFrame;\n  last_updated: string;\n  trollboard: TrollboardEntity[];\n};\n\nexport type TrollboardEntity = {\n  rank: number;\n  user_id: string;\n  highlighted: boolean;\n  username: string;\n  auth_method: AuthMethod;\n  display_name: string;\n  last_activity_date: string | null;\n"},{"type":"text","text":"Repository: ashishps1/awesome-low-level-design\nPath: solutions/typescript/src/StackOverflow/VoteTypeEnum.ts\nURL: https://github.com/ashishps1/awesome-low-level-design/blob/main/solutions/typescript/src/StackOverflow/VoteTypeEnum.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport enum VoteTypeEnum {\n  UPVOTE = 1,\n  DOWNVOTE = -1,\n"},{"type":"text","text":"Repository: ashishps1/awesome-low-level-design\nPath: solutions/typescript/src/StackOverflow/ReputationType.ts\nURL: https://github.com/ashishps1/awesome-low-level-design/blob/main/solutions/typescript/src/StackOverflow/ReputationType.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport enum ReputationTypeEnum {\n  QUESTION_UPVOTE = 5,\n  QUESTION_DOWNVOTE = -2,\n  ANSWER_UPVOTE = 10,\n  ANSWER_DOWNVOTE = -2,\n  ANSWER_ACCEPTED = 15,\n"},{"type":"text","text":"Repository: ashishps1/awesome-low-level-design\nPath: solutions/typescript/src/StackOverflow/Answer.ts\nURL: https://github.com/ashishps1/awesome-low-level-design/blob/main/solutions/typescript/src/StackOverflow/Answer.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport { VoteTypeEnum } from \"./VoteTypeEnum\";\nimport { ReputationTypeEnum } from \"./ReputationType\";\n\nexport default class Answer implements Votable, Commentable {\n  private id: string;\n  private content: string;\n  private author: User;\n  private question: Question;\n  private isAccepted: boolean;\n  private creationDate: Date;\n  private comments: Comment[];\n  private votes: Vote[];\n\n  constructor(author: User, question: Question, content: string) {\n    this.id = uuidv4();\n    this.author = author;\n    this.question = question;\n    this.content = content;\n    this.creationDate = new Date();\n    this.votes = [];\n    this.comments = [];\n"},{"type":"text","text":"Repository: ashishps1/awesome-low-level-design\nPath: solutions/typescript/src/StackOverflow/Question.ts\nURL: https://github.com/ashishps1/awesome-low-level-design/blob/main/solutions/typescript/src/StackOverflow/Question.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 4) ---\nimport { VoteTypeEnum } from \"./VoteTypeEnum\";\nimport Comment from \"./Comment\";\nimport Tag from \"./Tag\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { ReputationTypeEnum } from \"./ReputationType\";\n\nexport default class Question {\n  private id: string;\n  private title: string;\n  private content: string;\n  private author: User;\n  private creationDate: Date;\n  private answers: Answer[];\n  private comments: Comment[];\n  private tags: Tag[];\n  private votes: Vote[];\n  private acceptedAnswer: Answer | null;\n\n  constructor(author: User, title: string, content: string, tags: Tag[]) {\n    this.id = uuidv4();\n    this.author = author;\n"},{"type":"text","text":"Repository: DIYgod/RSSHub\nPath: lib/routes/huxiu/util.ts\nURL: https://github.com/DIYgod/RSSHub/blob/master/lib/routes/huxiu/util.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 222) ---\n    item.upvote = data.agreenum ?? item.upvote;\n    item.comments = data.commentnum ?? data.total_comment_num ?? item.comments;\n\n    item.upvote = Number.parseInt(item.upvote, 10);\n    item.comments = Number.parseInt(item.comments, 10);\n\n    return {\n        ...audioItem,\n        ...videoItem,\n        ...item,\n    };\n};\n\n/**\n * Generates a random nonce string.\n *\n * @returns {string} The generated nonce string.\n */\nconst generateNonce = () => {\n    let nonce = '';\n    const e = 'abcdefghijklmnopqrstuvwxyz1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n"}]}]},"uuid":"3ecae305-9fd0-4831-a2c5-8f52e9ed92ae","timestamp":"2025-12-24T03:12:36.843Z","toolUseResult":[{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/server/router/questions/questions-question-comment-router.ts\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/server/router/questions/questions-question-comment-router.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 16) ---\n      sortOrder: z.nativeEnum(SortOrder),\n      sortType: z.nativeEnum(SortType),\n    }),\n    async resolve({ ctx, input }) {\n      const { questionId, cursor } = input;\n\n      const sortCondition =\n        input.sortType === SortType.TOP\n          ? [\n              {\n                upvotes: input.sortOrder,\n              },\n              {\n                id: input.sortOrder,\n              },\n            ]\n          : [\n              {\n                updatedAt: input.sortOrder,\n              },\n              {\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/server/router/questions/questions-answer-comment-router.ts\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/server/router/questions/questions-answer-comment-router.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 16) ---\n      sortOrder: z.nativeEnum(SortOrder),\n      sortType: z.nativeEnum(SortType),\n    }),\n    async resolve({ ctx, input }) {\n      const { answerId, cursor } = input;\n\n      const sortCondition =\n        input.sortType === SortType.TOP\n          ? [\n              {\n                upvotes: input.sortOrder,\n              },\n              {\n                id: input.sortOrder,\n              },\n            ]\n          : [\n              {\n                updatedAt: input.sortOrder,\n              },\n              {\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/server/router/questions/questions-answer-router.ts\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/server/router/questions/questions-answer-router.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 16) ---\n      sortOrder: z.nativeEnum(SortOrder),\n      sortType: z.nativeEnum(SortType),\n    }),\n    async resolve({ ctx, input }) {\n      const { questionId, cursor } = input;\n\n      const sortCondition =\n        input.sortType === SortType.TOP\n          ? [\n              {\n                upvotes: input.sortOrder,\n              },\n              {\n                id: input.sortOrder,\n              },\n            ]\n          : [\n              {\n                updatedAt: input.sortOrder,\n              },\n              {\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/server/router/questions/questions-question-user-router.ts\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/server/router/questions/questions-question-user-router.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 14) ---\n      questionType: z.nativeEnum(QuestionsQuestionType),\n      role: z.string(),\n      seenAt: z.date(),\n      stateId: z.string().nullish(),\n    }),\n    async resolve({ ctx, input }) {\n      const userId = ctx.session?.user?.id;\n\n      return await ctx.prisma.questionsQuestion.create({\n        data: {\n          content: input.content,\n          encounters: {\n            create: {\n              city:\n                input.cityId !== null\n                  ? {\n                      connect: {\n                        id: input.cityId,\n                      },\n                    }\n                  : undefined,\n"},{"type":"text","text":"Repository: LAION-AI/Open-Assistant\nPath: website/src/types/Trollboard.ts\nURL: https://github.com/LAION-AI/Open-Assistant/blob/main/website/src/types/Trollboard.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nexport enum TrollboardTimeFrame {\n  day = \"day\",\n  week = \"week\",\n  month = \"month\",\n  total = \"total\",\n}\n\nexport type FetchTrollBoardResponse = {\n  time_frame: TrollboardTimeFrame;\n  last_updated: string;\n  trollboard: TrollboardEntity[];\n};\n\nexport type TrollboardEntity = {\n  rank: number;\n  user_id: string;\n  highlighted: boolean;\n  username: string;\n  auth_method: AuthMethod;\n  display_name: string;\n  last_activity_date: string | null;\n"},{"type":"text","text":"Repository: ashishps1/awesome-low-level-design\nPath: solutions/typescript/src/StackOverflow/VoteTypeEnum.ts\nURL: https://github.com/ashishps1/awesome-low-level-design/blob/main/solutions/typescript/src/StackOverflow/VoteTypeEnum.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport enum VoteTypeEnum {\n  UPVOTE = 1,\n  DOWNVOTE = -1,\n"},{"type":"text","text":"Repository: ashishps1/awesome-low-level-design\nPath: solutions/typescript/src/StackOverflow/ReputationType.ts\nURL: https://github.com/ashishps1/awesome-low-level-design/blob/main/solutions/typescript/src/StackOverflow/ReputationType.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport enum ReputationTypeEnum {\n  QUESTION_UPVOTE = 5,\n  QUESTION_DOWNVOTE = -2,\n  ANSWER_UPVOTE = 10,\n  ANSWER_DOWNVOTE = -2,\n  ANSWER_ACCEPTED = 15,\n"},{"type":"text","text":"Repository: ashishps1/awesome-low-level-design\nPath: solutions/typescript/src/StackOverflow/Answer.ts\nURL: https://github.com/ashishps1/awesome-low-level-design/blob/main/solutions/typescript/src/StackOverflow/Answer.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport { VoteTypeEnum } from \"./VoteTypeEnum\";\nimport { ReputationTypeEnum } from \"./ReputationType\";\n\nexport default class Answer implements Votable, Commentable {\n  private id: string;\n  private content: string;\n  private author: User;\n  private question: Question;\n  private isAccepted: boolean;\n  private creationDate: Date;\n  private comments: Comment[];\n  private votes: Vote[];\n\n  constructor(author: User, question: Question, content: string) {\n    this.id = uuidv4();\n    this.author = author;\n    this.question = question;\n    this.content = content;\n    this.creationDate = new Date();\n    this.votes = [];\n    this.comments = [];\n"},{"type":"text","text":"Repository: ashishps1/awesome-low-level-design\nPath: solutions/typescript/src/StackOverflow/Question.ts\nURL: https://github.com/ashishps1/awesome-low-level-design/blob/main/solutions/typescript/src/StackOverflow/Question.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 4) ---\nimport { VoteTypeEnum } from \"./VoteTypeEnum\";\nimport Comment from \"./Comment\";\nimport Tag from \"./Tag\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { ReputationTypeEnum } from \"./ReputationType\";\n\nexport default class Question {\n  private id: string;\n  private title: string;\n  private content: string;\n  private author: User;\n  private creationDate: Date;\n  private answers: Answer[];\n  private comments: Comment[];\n  private tags: Tag[];\n  private votes: Vote[];\n  private acceptedAnswer: Answer | null;\n\n  constructor(author: User, title: string, content: string, tags: Tag[]) {\n    this.id = uuidv4();\n    this.author = author;\n"},{"type":"text","text":"Repository: DIYgod/RSSHub\nPath: lib/routes/huxiu/util.ts\nURL: https://github.com/DIYgod/RSSHub/blob/master/lib/routes/huxiu/util.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 222) ---\n    item.upvote = data.agreenum ?? item.upvote;\n    item.comments = data.commentnum ?? data.total_comment_num ?? item.comments;\n\n    item.upvote = Number.parseInt(item.upvote, 10);\n    item.comments = Number.parseInt(item.comments, 10);\n\n    return {\n        ...audioItem,\n        ...videoItem,\n        ...item,\n    };\n};\n\n/**\n * Generates a random nonce string.\n *\n * @returns {string} The generated nonce string.\n */\nconst generateNonce = () => {\n    let nonce = '';\n    const e = 'abcdefghijklmnopqrstuvwxyz1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n"}]}
{"parentUuid":"3ecae305-9fd0-4831-a2c5-8f52e9ed92ae","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_018acvUj3TNy7XeWv3TsNhpq","type":"tool_result","content":[{"type":"text","text":"Repository: CapSoftware/Cap\nPath: apps/web/actions/videos/new-comment.ts\nURL: https://github.com/CapSoftware/Cap/blob/main/apps/web/actions/videos/new-comment.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 12) ---\nexport async function newComment(data: {\n\tcontent: string;\n\tvideoId: Video.VideoId;\n\ttype: \"text\" | \"emoji\";\n\tauthorImage: ImageUpload.ImageUrl | null;\n\tparentCommentId: Comment.CommentId;\n\ttimestamp: number;\n}) {\n\tconst user = await getCurrentUser();\n\n\tif (!user) {\n\n\n--- Snippet 2 (Line 24) ---\n\t}\n\n\tconst content = data.content;\n\tconst videoId = data.videoId;\n\tconst type = data.type;\n\tconst parentCommentId = data.parentCommentId;\n\tconst timestamp = data.timestamp;\n\tconst conditionalType = parentCommentId\n\t\t? \"reply\"\n"},{"type":"text","text":"Repository: ONEARMY/community-platform\nPath: shared/mocks/data/discussions.ts\nURL: https://github.com/ONEARMY/community-platform/blob/master/shared/mocks/data/discussions.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 14) ---\n        creatorCountry: 'af',\n        creatorName: 'howto_creator',\n        creatorImage:\n          'https://cloudflare-ipfs.com/ipfs/Qmd3W5DuhgHirLHGVixi6V76LhCkZUz6pnFt5AJBiyvHye/avatar/784.jpg',\n        parentCommentId: null,\n        text: \"@@{a0dFrGVJTlQUA9BqH0QmnQM6flX2:demo_user} - I like your logo but I couldn't be connected for a while and I CANNOT tell you that anymore.\",\n      },\n      {\n        _created: '2023-02-10T20:22:15.500Z',\n        _creatorId: 'benfurber',\n        creatorCountry: 'uk',\n        creatorName: 'benfurber',\n        parentCommentId: null,\n        text: \"Love what you're doing. Keep it up.\",\n      },\n      {\n        _created: '2023-02-11T02:22:15.500Z',\n        _creatorId: 'benfurber',\n        creatorCountry: 'uk',\n        creatorName: 'benfurber',\n        parentCommentId: 'ZAB2SoUZtzUyeYLg9Cro',\n"},{"type":"text","text":"Repository: campsite/campsite\nPath: apps/web/hooks/useCreateCommentCallbacks.ts\nURL: https://github.com/campsite/campsite/blob/main/apps/web/hooks/useCreateCommentCallbacks.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 29) ---\nexport interface CreateCommentData extends OrganizationPostComments2PostRequest {\n  transformedFiles: TransformedFile[]\n}\n\nexport interface CreateReplyData extends CreateCommentData {\n  parentCommentId: string\n}\n\nexport const serverIdToOptimisticIdMessagesAtom = atom<Map<string, string>>(new Map())\nconst setServerIdToOptimisticIdMessagesAtom = atom(null, (_get, set, { serverId, optimisticId }) => {\n  set(serverIdToOptimisticIdMessagesAtom, (prev) => new Map(prev).set(serverId, optimisticId))\n\n\n--- Snippet 2 (Line 114) ---\n  queryClient: ReturnType<typeof useQueryClient>\n  queryNormalizer: ReturnType<typeof useQueryNormalizer>\n  subjectId: string\n  subjectType: CommentableSubjectType\n  data: CreateCommentData\n  parentCommentId?: string\n  optimisticId: string\n  currentUser: CurrentUser\n}\n"},{"type":"text","text":"Repository: activepieces/activepieces\nPath: packages/pieces/community/airtable/src/lib/common/index.ts\nURL: https://github.com/activepieces/activepieces/blob/main/packages/pieces/community/airtable/src/lib/common/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 37) ---\n  searchField?: string;\n  fieldNames?: string[];\n  limitToView?: string;\n  sortField?: string;\n  text?: string; \n  parentCommentId?: string;\n  workspaceId?: string; \n  name?: string; \n  tables?: AirtableTableConfig[];\n}\n\n\n\n--- Snippet 2 (Line 320) ---\n  recordId,\n  text,\n  parentCommentId,\n}: Params) {\n  const body: { text: string; parentCommentId?: string } = {\n    text: text as string,\n  };\n  if (parentCommentId) {\n    body.parentCommentId = parentCommentId;\n"},{"type":"text","text":"Repository: CapSoftware/Cap\nPath: apps/web/app/api/video/comment/route.ts\nURL: https://github.com/CapSoftware/Cap/blob/main/apps/web/app/api/video/comment/route.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport type { NextRequest } from \"next/server\";\nimport { rateLimitMiddleware } from \"@/utils/helpers\";\n\nasync function handlePost(request: NextRequest) {\n\tconst user = await getCurrentUser();\n\tconst { type, content, videoId, timestamp, parentCommentId } =\n\t\tawait request.json();\n\n\tconst userId = user?.id || User.UserId.make(\"anonymous\");\n\tconst parentCommentIdSanitized = parentCommentId\n\t\t? Comment.CommentId.make(parentCommentId.replace(\"temp-\", \"\"))\n\t\t: null;\n\n\tif (!type || !content || !videoId) {\n\t\tconsole.error(\"Missing required data in /api/video/comment/route.ts\");\n\n"},{"type":"text","text":"Repository: outline/outline\nPath: server/routes/api/comments/comments.ts\nURL: https://github.com/outline/outline/blob/main/server/routes/api/comments/comments.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 33) ---\n  auth(),\n  feature(TeamPreference.Commenting),\n  validate(T.CommentsCreateSchema),\n  transaction(),\n  async (ctx: APIContext<T.CommentsCreateReq>) => {\n    const { id, documentId, parentCommentId } = ctx.input.body;\n    const { user } = ctx.state.auth;\n    const { transaction } = ctx.state;\n\n    const document = await Document.findByPk(documentId, {\n      userId: user.id,\n\n\n--- Snippet 2 (Line 57) ---\n    const comment = await Comment.createWithCtx(ctx, {\n      id,\n      data,\n      createdById: user.id,\n      documentId,\n      parentCommentId,\n    });\n\n    comment.createdBy = user;\n"},{"type":"text","text":"Repository: dailydotdev/apps\nPath: packages/shared/src/hooks/post/useMutateComment.ts\nURL: https://github.com/dailydotdev/apps/blob/main/packages/shared/src/hooks/post/useMutateComment.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 32) ---\n});\n\ninterface UseMutateCommentProps {\n  post?: Post;\n  editCommentId?: string;\n  parentCommentId?: string;\n  onCommented?: (\n    comment: Comment,\n    isNew: boolean,\n    parentCommentId?: string,\n  ) => void;\n}\n\ninterface MutateCommentResult {\n  comment?: Comment;\n\n\n--- Snippet 2 (Line 54) ---\n\nexport const useMutateComment = ({\n  post,\n  editCommentId,\n  parentCommentId,\n"},{"type":"text","text":"Repository: pinterest/querybook\nPath: querybook/webapp/redux/comment/action.ts\nURL: https://github.com/pinterest/querybook/blob/master/querybook/webapp/redux/comment/action.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 50) ---\n        }\n    };\n}\n\nfunction fetchChildCommentsByParentCommentId(\n    parentCommentId: number\n): ThunkResult<Promise<ICommentRaw[]>> {\n    return async (dispatch) => {\n        const { data: comments } = await CommentResource.get(parentCommentId);\n        dispatch({\n            type: '@@comment/RECEIVE_COMMENTS',\n            payload: {\n                comments,\n            },\n        });\n        return comments;\n    };\n}\n\nexport function fetchChildCommentsByParentCommentIdIfNeeded(\n    parentCommentId: number,\n"},{"type":"text","text":"Repository: docmost/docmost\nPath: apps/server/src/core/comment/comment.service.ts\nURL: https://github.com/docmost/docmost/blob/main/apps/server/src/core/comment/comment.service.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 41) ---\n\n    if (createCommentDto.parentCommentId) {\n      const parentComment = await this.commentRepo.findById(\n        createCommentDto.parentCommentId,\n      );\n\n      if (!parentComment || parentComment.pageId !== page.id) {\n        throw new BadRequestException('Parent comment not found');\n      }\n\n      if (parentComment.parentCommentId !== null) {\n        throw new BadRequestException('You cannot reply to a reply');\n      }\n    }\n\n    return await this.commentRepo.insertComment({\n      pageId: page.id,\n      content: commentContent,\n      selection: createCommentDto?.selection?.substring(0, 250),\n      type: 'inline',\n      parentCommentId: createCommentDto?.parentCommentId,\n"},{"type":"text","text":"Repository: outline/outline\nPath: server/models/Comment.ts\nURL: https://github.com/outline/outline/blob/main/server/models/Comment.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 82) ---\n\n  @ForeignKey(() => Document)\n  @Column(DataType.UUID)\n  documentId: string;\n\n  @BelongsTo(() => Comment, \"parentCommentId\")\n  parentComment: Comment;\n\n  @ForeignKey(() => Comment)\n  @Column(DataType.UUID)\n  parentCommentId: string;\n\n  // methods\n\n  /**\n   * Resolve the comment. Note this does not save the comment to the database.\n"}]}]},"uuid":"66519b95-1e4f-41b3-ac6a-18e896e273be","timestamp":"2025-12-24T03:12:37.169Z","toolUseResult":[{"type":"text","text":"Repository: CapSoftware/Cap\nPath: apps/web/actions/videos/new-comment.ts\nURL: https://github.com/CapSoftware/Cap/blob/main/apps/web/actions/videos/new-comment.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 12) ---\nexport async function newComment(data: {\n\tcontent: string;\n\tvideoId: Video.VideoId;\n\ttype: \"text\" | \"emoji\";\n\tauthorImage: ImageUpload.ImageUrl | null;\n\tparentCommentId: Comment.CommentId;\n\ttimestamp: number;\n}) {\n\tconst user = await getCurrentUser();\n\n\tif (!user) {\n\n\n--- Snippet 2 (Line 24) ---\n\t}\n\n\tconst content = data.content;\n\tconst videoId = data.videoId;\n\tconst type = data.type;\n\tconst parentCommentId = data.parentCommentId;\n\tconst timestamp = data.timestamp;\n\tconst conditionalType = parentCommentId\n\t\t? \"reply\"\n"},{"type":"text","text":"Repository: ONEARMY/community-platform\nPath: shared/mocks/data/discussions.ts\nURL: https://github.com/ONEARMY/community-platform/blob/master/shared/mocks/data/discussions.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 14) ---\n        creatorCountry: 'af',\n        creatorName: 'howto_creator',\n        creatorImage:\n          'https://cloudflare-ipfs.com/ipfs/Qmd3W5DuhgHirLHGVixi6V76LhCkZUz6pnFt5AJBiyvHye/avatar/784.jpg',\n        parentCommentId: null,\n        text: \"@@{a0dFrGVJTlQUA9BqH0QmnQM6flX2:demo_user} - I like your logo but I couldn't be connected for a while and I CANNOT tell you that anymore.\",\n      },\n      {\n        _created: '2023-02-10T20:22:15.500Z',\n        _creatorId: 'benfurber',\n        creatorCountry: 'uk',\n        creatorName: 'benfurber',\n        parentCommentId: null,\n        text: \"Love what you're doing. Keep it up.\",\n      },\n      {\n        _created: '2023-02-11T02:22:15.500Z',\n        _creatorId: 'benfurber',\n        creatorCountry: 'uk',\n        creatorName: 'benfurber',\n        parentCommentId: 'ZAB2SoUZtzUyeYLg9Cro',\n"},{"type":"text","text":"Repository: campsite/campsite\nPath: apps/web/hooks/useCreateCommentCallbacks.ts\nURL: https://github.com/campsite/campsite/blob/main/apps/web/hooks/useCreateCommentCallbacks.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 29) ---\nexport interface CreateCommentData extends OrganizationPostComments2PostRequest {\n  transformedFiles: TransformedFile[]\n}\n\nexport interface CreateReplyData extends CreateCommentData {\n  parentCommentId: string\n}\n\nexport const serverIdToOptimisticIdMessagesAtom = atom<Map<string, string>>(new Map())\nconst setServerIdToOptimisticIdMessagesAtom = atom(null, (_get, set, { serverId, optimisticId }) => {\n  set(serverIdToOptimisticIdMessagesAtom, (prev) => new Map(prev).set(serverId, optimisticId))\n\n\n--- Snippet 2 (Line 114) ---\n  queryClient: ReturnType<typeof useQueryClient>\n  queryNormalizer: ReturnType<typeof useQueryNormalizer>\n  subjectId: string\n  subjectType: CommentableSubjectType\n  data: CreateCommentData\n  parentCommentId?: string\n  optimisticId: string\n  currentUser: CurrentUser\n}\n"},{"type":"text","text":"Repository: activepieces/activepieces\nPath: packages/pieces/community/airtable/src/lib/common/index.ts\nURL: https://github.com/activepieces/activepieces/blob/main/packages/pieces/community/airtable/src/lib/common/index.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 37) ---\n  searchField?: string;\n  fieldNames?: string[];\n  limitToView?: string;\n  sortField?: string;\n  text?: string; \n  parentCommentId?: string;\n  workspaceId?: string; \n  name?: string; \n  tables?: AirtableTableConfig[];\n}\n\n\n\n--- Snippet 2 (Line 320) ---\n  recordId,\n  text,\n  parentCommentId,\n}: Params) {\n  const body: { text: string; parentCommentId?: string } = {\n    text: text as string,\n  };\n  if (parentCommentId) {\n    body.parentCommentId = parentCommentId;\n"},{"type":"text","text":"Repository: CapSoftware/Cap\nPath: apps/web/app/api/video/comment/route.ts\nURL: https://github.com/CapSoftware/Cap/blob/main/apps/web/app/api/video/comment/route.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport type { NextRequest } from \"next/server\";\nimport { rateLimitMiddleware } from \"@/utils/helpers\";\n\nasync function handlePost(request: NextRequest) {\n\tconst user = await getCurrentUser();\n\tconst { type, content, videoId, timestamp, parentCommentId } =\n\t\tawait request.json();\n\n\tconst userId = user?.id || User.UserId.make(\"anonymous\");\n\tconst parentCommentIdSanitized = parentCommentId\n\t\t? Comment.CommentId.make(parentCommentId.replace(\"temp-\", \"\"))\n\t\t: null;\n\n\tif (!type || !content || !videoId) {\n\t\tconsole.error(\"Missing required data in /api/video/comment/route.ts\");\n\n"},{"type":"text","text":"Repository: outline/outline\nPath: server/routes/api/comments/comments.ts\nURL: https://github.com/outline/outline/blob/main/server/routes/api/comments/comments.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 33) ---\n  auth(),\n  feature(TeamPreference.Commenting),\n  validate(T.CommentsCreateSchema),\n  transaction(),\n  async (ctx: APIContext<T.CommentsCreateReq>) => {\n    const { id, documentId, parentCommentId } = ctx.input.body;\n    const { user } = ctx.state.auth;\n    const { transaction } = ctx.state;\n\n    const document = await Document.findByPk(documentId, {\n      userId: user.id,\n\n\n--- Snippet 2 (Line 57) ---\n    const comment = await Comment.createWithCtx(ctx, {\n      id,\n      data,\n      createdById: user.id,\n      documentId,\n      parentCommentId,\n    });\n\n    comment.createdBy = user;\n"},{"type":"text","text":"Repository: dailydotdev/apps\nPath: packages/shared/src/hooks/post/useMutateComment.ts\nURL: https://github.com/dailydotdev/apps/blob/main/packages/shared/src/hooks/post/useMutateComment.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 32) ---\n});\n\ninterface UseMutateCommentProps {\n  post?: Post;\n  editCommentId?: string;\n  parentCommentId?: string;\n  onCommented?: (\n    comment: Comment,\n    isNew: boolean,\n    parentCommentId?: string,\n  ) => void;\n}\n\ninterface MutateCommentResult {\n  comment?: Comment;\n\n\n--- Snippet 2 (Line 54) ---\n\nexport const useMutateComment = ({\n  post,\n  editCommentId,\n  parentCommentId,\n"},{"type":"text","text":"Repository: pinterest/querybook\nPath: querybook/webapp/redux/comment/action.ts\nURL: https://github.com/pinterest/querybook/blob/master/querybook/webapp/redux/comment/action.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 50) ---\n        }\n    };\n}\n\nfunction fetchChildCommentsByParentCommentId(\n    parentCommentId: number\n): ThunkResult<Promise<ICommentRaw[]>> {\n    return async (dispatch) => {\n        const { data: comments } = await CommentResource.get(parentCommentId);\n        dispatch({\n            type: '@@comment/RECEIVE_COMMENTS',\n            payload: {\n                comments,\n            },\n        });\n        return comments;\n    };\n}\n\nexport function fetchChildCommentsByParentCommentIdIfNeeded(\n    parentCommentId: number,\n"},{"type":"text","text":"Repository: docmost/docmost\nPath: apps/server/src/core/comment/comment.service.ts\nURL: https://github.com/docmost/docmost/blob/main/apps/server/src/core/comment/comment.service.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 41) ---\n\n    if (createCommentDto.parentCommentId) {\n      const parentComment = await this.commentRepo.findById(\n        createCommentDto.parentCommentId,\n      );\n\n      if (!parentComment || parentComment.pageId !== page.id) {\n        throw new BadRequestException('Parent comment not found');\n      }\n\n      if (parentComment.parentCommentId !== null) {\n        throw new BadRequestException('You cannot reply to a reply');\n      }\n    }\n\n    return await this.commentRepo.insertComment({\n      pageId: page.id,\n      content: commentContent,\n      selection: createCommentDto?.selection?.substring(0, 250),\n      type: 'inline',\n      parentCommentId: createCommentDto?.parentCommentId,\n"},{"type":"text","text":"Repository: outline/outline\nPath: server/models/Comment.ts\nURL: https://github.com/outline/outline/blob/main/server/models/Comment.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 82) ---\n\n  @ForeignKey(() => Document)\n  @Column(DataType.UUID)\n  documentId: string;\n\n  @BelongsTo(() => Comment, \"parentCommentId\")\n  parentComment: Comment;\n\n  @ForeignKey(() => Comment)\n  @Column(DataType.UUID)\n  parentCommentId: string;\n\n  // methods\n\n  /**\n   * Resolve the comment. Note this does not save the comment to the database.\n"}]}
{"parentUuid":"66519b95-1e4f-41b3-ac6a-18e896e273be","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01UpEU5exnjjfmkMfQJv2s7y","type":"tool_result","content":[{"type":"text","text":"Repository: woocommerce/woocommerce\nPath: plugins/woocommerce/client/blocks/assets/js/blocks/product-reviews/inner-blocks/review-template/edit.tsx\nURL: https://github.com/woocommerce/woocommerce/blob/trunk/plugins/woocommerce/client/blocks/assets/js/blocks/product-reviews/inner-blocks/review-template/edit.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 177) ---\n\t\t\t};\n\t\t},\n\t\t[ clientId, commentQuery ]\n\t);\n\n\tlet commentTree = useCommentList(\n\t\t// Reverse the order of top comments if needed.\n\t\tcommentOrder === 'desc' && topLevelComments\n\t\t\t? [\n\t\t\t\t\t...( topLevelComments as Array< {\n\t\t\t\t\t\tid: number;\n\n\n--- Snippet 2 (Line 202) ---\n\n\tif ( ! postId ) {\n\t\tcommentTree = getCommentsPlaceholder( {\n\t\t\tperPage: commentsPerPage,\n\t\t\tpageComments,\n\t\t} );\n\t}\n\n\tif ( ! commentTree.length ) {\n"},{"type":"text","text":"Repository: opensumi/core\nPath: packages/comments/src/browser/tree/tree-model.service.ts\nURL: https://github.com/opensumi/core/blob/main/packages/comments/src/browser/tree/tree-model.service.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 11) ---\nexport interface IEditorTreeHandle extends IRecycleTreeHandle {\n  hasDirectFocus: () => boolean;\n}\n\n@Injectable({ multiple: true })\nexport class CommentTreeModel extends TreeModel {\n  constructor(@Optional() root: CommentRoot) {\n    super();\n    this.init(root);\n  }\n}\n\n\n--- Snippet 2 (Line 31) ---\n  @Autowired(WorkbenchEditorService)\n  protected readonly editorService: WorkbenchEditorService;\n\n  private _treeModel: CommentTreeModel;\n\n  private _whenReady: Promise<void>;\n\n  private _decorations: DecorationsManager;\n  private _commentTreeHandle: IRecycleTreeHandle;\n"},{"type":"text","text":"Repository: Chocobozzz/PeerTube\nPath: client/src/app/+video-watch/shared/comment/video-comment.component.ts\nURL: https://github.com/Chocobozzz/PeerTube/blob/develop/client/src/app/%2Bvideo-watch/shared/comment/video-comment.component.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 44) ---\n  readonly comment = input<VideoComment>(undefined)\n  readonly parentComments = input<VideoComment[]>([])\n  readonly inReplyToCommentId = input<number>(undefined)\n  readonly highlightedComment = input(false)\n  readonly firstInThread = input(false)\n  readonly commentTree = model<VideoCommentThreadTree>(undefined)\n  readonly redraftValue = model<string>(undefined)\n\n  readonly wantedToReply = output<VideoComment>()\n  readonly wantedToDelete = output<VideoComment>()\n  readonly wantedToApprove = output<VideoComment>()\n\n\n--- Snippet 2 (Line 80) ---\n  onCommentReplyCreated (createdComment: VideoComment) {\n    if (!this.commentTree()) {\n      this.commentTree.set({\n        comment: this.comment(),\n        hasDisplayedChildren: false,\n        children: []\n      })\n\n      this.threadCreated.emit(this.commentTree())\n"},{"type":"text","text":"Repository: solana-labs/governance-ui\nPath: hub/components/FeedItem/index.tsx\nURL: https://github.com/solana-labs/governance-ui/blob/main/hub/components/FeedItem/index.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 10) ---\nimport { useJWT } from '@hub/hooks/useJWT';\nimport { useQuery } from '@hub/hooks/useQuery';\nimport { ECOSYSTEM_PAGE } from '@hub/lib/constants';\nimport * as RE from '@hub/types/Result';\n\nimport { AdditionalCommentTree } from './AdditionalCommentTree';\nimport * as Back from './Back';\nimport * as CommentTree from './CommentTree';\nimport * as Footer from './Footer';\nimport * as gql from './gql';\nimport * as Header from './Header';\nimport * as ReplyBox from './ReplyBox';\nimport * as Title from './Title';\n\n\n--- Snippet 2 (Line 64) ---\n  );\n\n  const router = useRouter();\n\n  const firstPageEndCursor = RE.isOk(commentsResult)\n    ? commentsResult.data.feedItemCommentTree.pageInfo.endCursor\n    : null;\n"},{"type":"text","text":"Repository: dream-num/univer\nPath: packages/thread-comment-ui/src/views/thread-comment-tree/index.tsx\nURL: https://github.com/dream-num/univer/blob/dev/packages/thread-comment-ui/src/views/thread-comment-tree/index.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 22) ---\nimport { borderClassName, clsx, Dropdown, scrollbarClassName, Tooltip } from '@univerjs/design';\nimport { DeleteIcon, MoreHorizontalIcon, ReplyToCommentIcon, ResolvedIcon, SolveIcon } from '@univerjs/icons';\nimport {\n    AddCommentCommand,\n    DeleteCommentCommand,\n    DeleteCommentTreeCommand,\n    getDT,\n    ResolveCommentCommand,\n    ThreadCommentModel,\n    UpdateCommentCommand,\n} from '@univerjs/thread-comment';\n\n\n--- Snippet 2 (Line 35) ---\nimport { debounceTime } from 'rxjs';\nimport { SetActiveCommentOperation } from '../../commands/operations/comment.operations';\nimport { ThreadCommentEditor } from '../thread-comment-editor';\nimport { transformDocument2TextNodes, transformTextNodes2Document } from '../thread-comment-editor/util';\n\nexport interface IThreadCommentTreeProps {\n    full?: boolean;\n    id?: string;\n    unitId: string;\n"},{"type":"text","text":"Repository: solana-labs/governance-ui\nPath: hub/components/FeedItem/AdditionalCommentTree/index.tsx\nURL: https://github.com/solana-labs/governance-ui/blob/main/hub/components/FeedItem/AdditionalCommentTree/index.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport type { PublicKey } from '@solana/web3.js';\nimport { pipe } from 'fp-ts/function';\n\nimport * as CommentTree from '../CommentTree';\nimport * as gql from '../gql';\nimport { EnteredViewport } from '@hub/components/Home/Feed/AdditionalPage/EnteredViewport';\nimport { useQuery } from '@hub/hooks/useQuery';\nimport * as RE from '@hub/types/Result';\n\n\n\n--- Snippet 2 (Line 16) ---\n  userIsAdmin?: boolean;\n  onLoadMore?(cursor: string): void;\n  onRefresh?(): void;\n}\n\nexport function AdditionalCommentTree(props: Props) {\n  const [commentsResult] = useQuery(gql.getCommentsResp, {\n    query: gql.getMoreComments,\n    variables: { after: props.cursor, feedItemId: props.feedItemId },\n  });\n\n"},{"type":"text","text":"Repository: dream-num/univer\nPath: packages/thread-comment-ui/src/views/thread-comment-panel/index.tsx\nURL: https://github.com/dream-num/univer/blob/dev/packages/thread-comment-ui/src/views/thread-comment-panel/index.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 15) ---\n */\n\nimport type { Nullable } from '@univerjs/core';\nimport type { IThreadComment } from '@univerjs/thread-comment';\nimport type { Observable } from 'rxjs';\nimport type { IThreadCommentTreeProps } from '../thread-comment-tree';\nimport { ICommandService, LocaleService, UniverInstanceType, UserManagerService } from '@univerjs/core';\nimport { Button, Select } from '@univerjs/design';\nimport { IncreaseIcon } from '@univerjs/icons';\nimport { ThreadCommentModel } from '@univerjs/thread-comment';\nimport { useDependency, useObservable } from '@univerjs/ui';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { SetActiveCommentOperation } from '../../commands/operations/comment.operations';\nimport { ThreadCommentPanelService } from '../../services/thread-comment-panel.service';\nimport { ThreadCommentTree } from '../thread-comment-tree';\n\nexport interface IThreadCommentPanelProps {\n    unitId: string;\n    subUnitId$: Observable<string | undefined>;\n    type: UniverInstanceType;\n"},{"type":"text","text":"Repository: solana-labs/governance-ui\nPath: hub/components/FeedItem/gql.ts\nURL: https://github.com/solana-labs/governance-ui/blob/main/hub/components/FeedItem/gql.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 33) ---\n`;\n\nexport const getComments = gql`\n  ${feedItemComment}\n\n  query getCommentTree($feedItemId: RealmFeedItemID!) {\n    feedItemCommentTree(first: 10, feedItemId: $feedItemId, depth: 6) {\n      edges {\n        cursor\n        node {\n          ...Comment\n          replies {\n\n\n--- Snippet 2 (Line 76) ---\n\nexport const getMoreComments = gql`\n  ${feedItemComment}\n\n  query getMoreComments($feedItemId: RealmFeedItemID!, $after: Cursor!) {\n    feedItemCommentTree(feedItemId: $feedItemId, depth: 6, after: $after) {\n      edges {\n        cursor\n"},{"type":"text","text":"Repository: opensumi/core\nPath: packages/comments/src/browser/comments-panel.view.tsx\nURL: https://github.com/opensumi/core/blob/main/packages/comments/src/browser/comments-panel.view.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 5) ---\n\nimport { ICommentsFeatureRegistry } from '../common';\n\nimport styles from './comments.module.less';\nimport { COMMENT_TREE_NODE_HEIGHT, CommentNodeRendered, ICommentNodeRenderedProps } from './tree/comment-node';\nimport { CommentModelService, CommentTreeModel } from './tree/tree-model.service';\n\nexport const CommentsPanel: FC<{ viewState: ViewState }> = ({ viewState }) => {\n  const commentModelService = useInjectable<CommentModelService>(CommentModelService);\n  const [model, setModel] = useState<CommentTreeModel | undefined>();\n  const wrapperRef: RefObject<HTMLDivElement> = useRef(null);\n\n  const commentsFeatureRegistry = useInjectable<ICommentsFeatureRegistry>(ICommentsFeatureRegistry);\n\n  const { handleTreeBlur } = commentModelService;\n\n  useEffect(() => {\n    setModel(commentModelService.treeModel);\n    const disposable = commentModelService.onDidUpdateTreeModel((model?: CommentTreeModel) => {\n      setModel(model);\n    });\n"},{"type":"text","text":"Repository: aeharding/voyager\nPath: src/features/comment/inTree/Comments.tsx\nURL: https://github.com/aeharding/voyager/blob/main/src/features/comment/inTree/Comments.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 31) ---\nimport { useAppDispatch, useAppSelector } from \"#/store\";\n\nimport { receivedComments } from \"../commentSlice\";\nimport { VgerCommentSortType } from \"../CommentSort\";\nimport { CommentsContext } from \"./CommentsContext\";\nimport CommentTree, { MAX_COMMENT_DEPTH } from \"./CommentTree\";\nimport LoadParentComments from \"./LoadParentComments\";\n\nimport styles from \"./Comments.module.css\";\n\nconst MAX_COMMENT_PATH_CONTEXT_DEPTH = 2;\n\n\n--- Snippet 2 (Line 203) ---\n  useEffect(() => {\n    if (scrolledRef.current) return;\n    if (focusCommentIfNeeded()) scrolledRef.current = true;\n  }, [filteredComments, focusCommentIfNeeded]);\n\n  const commentTree = useMemo(() => {\n    return filteredComments.length\n      ? buildCommentsTreeWithMissing(\n          filteredComments,\n"}]}]},"uuid":"1aa37725-6b05-4fae-bcea-f46d6091524e","timestamp":"2025-12-24T03:12:37.517Z","toolUseResult":[{"type":"text","text":"Repository: woocommerce/woocommerce\nPath: plugins/woocommerce/client/blocks/assets/js/blocks/product-reviews/inner-blocks/review-template/edit.tsx\nURL: https://github.com/woocommerce/woocommerce/blob/trunk/plugins/woocommerce/client/blocks/assets/js/blocks/product-reviews/inner-blocks/review-template/edit.tsx\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 177) ---\n\t\t\t};\n\t\t},\n\t\t[ clientId, commentQuery ]\n\t);\n\n\tlet commentTree = useCommentList(\n\t\t// Reverse the order of top comments if needed.\n\t\tcommentOrder === 'desc' && topLevelComments\n\t\t\t? [\n\t\t\t\t\t...( topLevelComments as Array< {\n\t\t\t\t\t\tid: number;\n\n\n--- Snippet 2 (Line 202) ---\n\n\tif ( ! postId ) {\n\t\tcommentTree = getCommentsPlaceholder( {\n\t\t\tperPage: commentsPerPage,\n\t\t\tpageComments,\n\t\t} );\n\t}\n\n\tif ( ! commentTree.length ) {\n"},{"type":"text","text":"Repository: opensumi/core\nPath: packages/comments/src/browser/tree/tree-model.service.ts\nURL: https://github.com/opensumi/core/blob/main/packages/comments/src/browser/tree/tree-model.service.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 11) ---\nexport interface IEditorTreeHandle extends IRecycleTreeHandle {\n  hasDirectFocus: () => boolean;\n}\n\n@Injectable({ multiple: true })\nexport class CommentTreeModel extends TreeModel {\n  constructor(@Optional() root: CommentRoot) {\n    super();\n    this.init(root);\n  }\n}\n\n\n--- Snippet 2 (Line 31) ---\n  @Autowired(WorkbenchEditorService)\n  protected readonly editorService: WorkbenchEditorService;\n\n  private _treeModel: CommentTreeModel;\n\n  private _whenReady: Promise<void>;\n\n  private _decorations: DecorationsManager;\n  private _commentTreeHandle: IRecycleTreeHandle;\n"},{"type":"text","text":"Repository: Chocobozzz/PeerTube\nPath: client/src/app/+video-watch/shared/comment/video-comment.component.ts\nURL: https://github.com/Chocobozzz/PeerTube/blob/develop/client/src/app/%2Bvideo-watch/shared/comment/video-comment.component.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 44) ---\n  readonly comment = input<VideoComment>(undefined)\n  readonly parentComments = input<VideoComment[]>([])\n  readonly inReplyToCommentId = input<number>(undefined)\n  readonly highlightedComment = input(false)\n  readonly firstInThread = input(false)\n  readonly commentTree = model<VideoCommentThreadTree>(undefined)\n  readonly redraftValue = model<string>(undefined)\n\n  readonly wantedToReply = output<VideoComment>()\n  readonly wantedToDelete = output<VideoComment>()\n  readonly wantedToApprove = output<VideoComment>()\n\n\n--- Snippet 2 (Line 80) ---\n  onCommentReplyCreated (createdComment: VideoComment) {\n    if (!this.commentTree()) {\n      this.commentTree.set({\n        comment: this.comment(),\n        hasDisplayedChildren: false,\n        children: []\n      })\n\n      this.threadCreated.emit(this.commentTree())\n"},{"type":"text","text":"Repository: solana-labs/governance-ui\nPath: hub/components/FeedItem/index.tsx\nURL: https://github.com/solana-labs/governance-ui/blob/main/hub/components/FeedItem/index.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 10) ---\nimport { useJWT } from '@hub/hooks/useJWT';\nimport { useQuery } from '@hub/hooks/useQuery';\nimport { ECOSYSTEM_PAGE } from '@hub/lib/constants';\nimport * as RE from '@hub/types/Result';\n\nimport { AdditionalCommentTree } from './AdditionalCommentTree';\nimport * as Back from './Back';\nimport * as CommentTree from './CommentTree';\nimport * as Footer from './Footer';\nimport * as gql from './gql';\nimport * as Header from './Header';\nimport * as ReplyBox from './ReplyBox';\nimport * as Title from './Title';\n\n\n--- Snippet 2 (Line 64) ---\n  );\n\n  const router = useRouter();\n\n  const firstPageEndCursor = RE.isOk(commentsResult)\n    ? commentsResult.data.feedItemCommentTree.pageInfo.endCursor\n    : null;\n"},{"type":"text","text":"Repository: dream-num/univer\nPath: packages/thread-comment-ui/src/views/thread-comment-tree/index.tsx\nURL: https://github.com/dream-num/univer/blob/dev/packages/thread-comment-ui/src/views/thread-comment-tree/index.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 22) ---\nimport { borderClassName, clsx, Dropdown, scrollbarClassName, Tooltip } from '@univerjs/design';\nimport { DeleteIcon, MoreHorizontalIcon, ReplyToCommentIcon, ResolvedIcon, SolveIcon } from '@univerjs/icons';\nimport {\n    AddCommentCommand,\n    DeleteCommentCommand,\n    DeleteCommentTreeCommand,\n    getDT,\n    ResolveCommentCommand,\n    ThreadCommentModel,\n    UpdateCommentCommand,\n} from '@univerjs/thread-comment';\n\n\n--- Snippet 2 (Line 35) ---\nimport { debounceTime } from 'rxjs';\nimport { SetActiveCommentOperation } from '../../commands/operations/comment.operations';\nimport { ThreadCommentEditor } from '../thread-comment-editor';\nimport { transformDocument2TextNodes, transformTextNodes2Document } from '../thread-comment-editor/util';\n\nexport interface IThreadCommentTreeProps {\n    full?: boolean;\n    id?: string;\n    unitId: string;\n"},{"type":"text","text":"Repository: solana-labs/governance-ui\nPath: hub/components/FeedItem/AdditionalCommentTree/index.tsx\nURL: https://github.com/solana-labs/governance-ui/blob/main/hub/components/FeedItem/AdditionalCommentTree/index.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport type { PublicKey } from '@solana/web3.js';\nimport { pipe } from 'fp-ts/function';\n\nimport * as CommentTree from '../CommentTree';\nimport * as gql from '../gql';\nimport { EnteredViewport } from '@hub/components/Home/Feed/AdditionalPage/EnteredViewport';\nimport { useQuery } from '@hub/hooks/useQuery';\nimport * as RE from '@hub/types/Result';\n\n\n\n--- Snippet 2 (Line 16) ---\n  userIsAdmin?: boolean;\n  onLoadMore?(cursor: string): void;\n  onRefresh?(): void;\n}\n\nexport function AdditionalCommentTree(props: Props) {\n  const [commentsResult] = useQuery(gql.getCommentsResp, {\n    query: gql.getMoreComments,\n    variables: { after: props.cursor, feedItemId: props.feedItemId },\n  });\n\n"},{"type":"text","text":"Repository: dream-num/univer\nPath: packages/thread-comment-ui/src/views/thread-comment-panel/index.tsx\nURL: https://github.com/dream-num/univer/blob/dev/packages/thread-comment-ui/src/views/thread-comment-panel/index.tsx\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 15) ---\n */\n\nimport type { Nullable } from '@univerjs/core';\nimport type { IThreadComment } from '@univerjs/thread-comment';\nimport type { Observable } from 'rxjs';\nimport type { IThreadCommentTreeProps } from '../thread-comment-tree';\nimport { ICommandService, LocaleService, UniverInstanceType, UserManagerService } from '@univerjs/core';\nimport { Button, Select } from '@univerjs/design';\nimport { IncreaseIcon } from '@univerjs/icons';\nimport { ThreadCommentModel } from '@univerjs/thread-comment';\nimport { useDependency, useObservable } from '@univerjs/ui';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { SetActiveCommentOperation } from '../../commands/operations/comment.operations';\nimport { ThreadCommentPanelService } from '../../services/thread-comment-panel.service';\nimport { ThreadCommentTree } from '../thread-comment-tree';\n\nexport interface IThreadCommentPanelProps {\n    unitId: string;\n    subUnitId$: Observable<string | undefined>;\n    type: UniverInstanceType;\n"},{"type":"text","text":"Repository: solana-labs/governance-ui\nPath: hub/components/FeedItem/gql.ts\nURL: https://github.com/solana-labs/governance-ui/blob/main/hub/components/FeedItem/gql.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 33) ---\n`;\n\nexport const getComments = gql`\n  ${feedItemComment}\n\n  query getCommentTree($feedItemId: RealmFeedItemID!) {\n    feedItemCommentTree(first: 10, feedItemId: $feedItemId, depth: 6) {\n      edges {\n        cursor\n        node {\n          ...Comment\n          replies {\n\n\n--- Snippet 2 (Line 76) ---\n\nexport const getMoreComments = gql`\n  ${feedItemComment}\n\n  query getMoreComments($feedItemId: RealmFeedItemID!, $after: Cursor!) {\n    feedItemCommentTree(feedItemId: $feedItemId, depth: 6, after: $after) {\n      edges {\n        cursor\n"},{"type":"text","text":"Repository: opensumi/core\nPath: packages/comments/src/browser/comments-panel.view.tsx\nURL: https://github.com/opensumi/core/blob/main/packages/comments/src/browser/comments-panel.view.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 5) ---\n\nimport { ICommentsFeatureRegistry } from '../common';\n\nimport styles from './comments.module.less';\nimport { COMMENT_TREE_NODE_HEIGHT, CommentNodeRendered, ICommentNodeRenderedProps } from './tree/comment-node';\nimport { CommentModelService, CommentTreeModel } from './tree/tree-model.service';\n\nexport const CommentsPanel: FC<{ viewState: ViewState }> = ({ viewState }) => {\n  const commentModelService = useInjectable<CommentModelService>(CommentModelService);\n  const [model, setModel] = useState<CommentTreeModel | undefined>();\n  const wrapperRef: RefObject<HTMLDivElement> = useRef(null);\n\n  const commentsFeatureRegistry = useInjectable<ICommentsFeatureRegistry>(ICommentsFeatureRegistry);\n\n  const { handleTreeBlur } = commentModelService;\n\n  useEffect(() => {\n    setModel(commentModelService.treeModel);\n    const disposable = commentModelService.onDidUpdateTreeModel((model?: CommentTreeModel) => {\n      setModel(model);\n    });\n"},{"type":"text","text":"Repository: aeharding/voyager\nPath: src/features/comment/inTree/Comments.tsx\nURL: https://github.com/aeharding/voyager/blob/main/src/features/comment/inTree/Comments.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 31) ---\nimport { useAppDispatch, useAppSelector } from \"#/store\";\n\nimport { receivedComments } from \"../commentSlice\";\nimport { VgerCommentSortType } from \"../CommentSort\";\nimport { CommentsContext } from \"./CommentsContext\";\nimport CommentTree, { MAX_COMMENT_DEPTH } from \"./CommentTree\";\nimport LoadParentComments from \"./LoadParentComments\";\n\nimport styles from \"./Comments.module.css\";\n\nconst MAX_COMMENT_PATH_CONTEXT_DEPTH = 2;\n\n\n--- Snippet 2 (Line 203) ---\n  useEffect(() => {\n    if (scrolledRef.current) return;\n    if (focusCommentIfNeeded()) scrolledRef.current = true;\n  }, [filteredComments, focusCommentIfNeeded]);\n\n  const commentTree = useMemo(() => {\n    return filteredComments.length\n      ? buildCommentsTreeWithMissing(\n          filteredComments,\n"}]}
{"parentUuid":"1aa37725-6b05-4fae-bcea-f46d6091524e","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01YRoEWi9HmfiZdb2RTuqTZe","type":"message","role":"assistant","content":[{"type":"text","text":"Let me search for more specific patterns around vote handling, community/subreddit models, and Q&A forum implementations:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12071,"cache_read_input_tokens":20220,"cache_creation":{"ephemeral_5m_input_tokens":12071,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnGnRNjwVExqYbwL8uv","type":"assistant","uuid":"8b4c9d64-9fe4-42e0-b29e-a4dcfddf80f2","timestamp":"2025-12-24T03:12:42.567Z"}
{"parentUuid":"8b4c9d64-9fe4-42e0-b29e-a4dcfddf80f2","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01YRoEWi9HmfiZdb2RTuqTZe","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01P9haE4aG8rFpWRbXZgYqhz","name":"mcp__grep__searchGitHub","input":{"query":"(?s)model Community.*posts","useRegexp":true,"language":["Prisma"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12071,"cache_read_input_tokens":20220,"cache_creation":{"ephemeral_5m_input_tokens":12071,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnGnRNjwVExqYbwL8uv","type":"assistant","uuid":"fea24a28-e424-49b2-8b99-aaa200799811","timestamp":"2025-12-24T03:12:44.065Z"}
{"parentUuid":"fea24a28-e424-49b2-8b99-aaa200799811","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01YRoEWi9HmfiZdb2RTuqTZe","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_016uhuCCGpHtyVuxtnuokECA","name":"mcp__grep__searchGitHub","input":{"query":"handleUpvote","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12071,"cache_read_input_tokens":20220,"cache_creation":{"ephemeral_5m_input_tokens":12071,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnGnRNjwVExqYbwL8uv","type":"assistant","uuid":"e835c4a9-b4f1-4d45-b222-01cbb36289fa","timestamp":"2025-12-24T03:12:45.068Z"}
{"parentUuid":"e835c4a9-b4f1-4d45-b222-01cbb36289fa","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01YRoEWi9HmfiZdb2RTuqTZe","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01EUSh3RwEtCg3ptPbscSPt2","name":"mcp__grep__searchGitHub","input":{"query":"(?s)interface.*Post.*votes.*comments","useRegexp":true,"language":["TypeScript"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12071,"cache_read_input_tokens":20220,"cache_creation":{"ephemeral_5m_input_tokens":12071,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnGnRNjwVExqYbwL8uv","type":"assistant","uuid":"80beef0e-c92b-4d7a-9a40-b12f3254b423","timestamp":"2025-12-24T03:12:46.201Z"}
{"parentUuid":"80beef0e-c92b-4d7a-9a40-b12f3254b423","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01YRoEWi9HmfiZdb2RTuqTZe","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_012MifR9ZkhTYXD1Qp8aEJrD","name":"mcp__grep__searchGitHub","input":{"query":"buildCommentsTree","language":["TypeScript","JavaScript"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":12071,"cache_read_input_tokens":20220,"cache_creation":{"ephemeral_5m_input_tokens":12071,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnGnRNjwVExqYbwL8uv","type":"assistant","uuid":"1f7b861a-8189-43dd-a9fd-46b37780d6f5","timestamp":"2025-12-24T03:12:46.878Z"}
{"parentUuid":"1f7b861a-8189-43dd-a9fd-46b37780d6f5","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01P9haE4aG8rFpWRbXZgYqhz","type":"tool_result","content":[{"type":"text","text":"No results found for your query."}]}]},"uuid":"a4492160-6e18-440a-a69f-96c089f41170","timestamp":"2025-12-24T03:12:47.163Z","toolUseResult":[{"type":"text","text":"No results found for your query."}]}
{"parentUuid":"a4492160-6e18-440a-a69f-96c089f41170","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016uhuCCGpHtyVuxtnuokECA","type":"tool_result","content":[{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/utils/questions/vote/useVote.ts\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/utils/questions/vote/useVote.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 19) ---\n  vote: BackendVote | null,\n  opts: UseVoteOptions,\n) => {\n  const { setDownVote, setNoVote, setUpVote } = opts;\n\n  const handleUpvote = () => {\n    // Either upvote or remove upvote\n    if (vote && vote.vote === 'UPVOTE') {\n      setNoVote();\n    } else {\n      setUpVote();\n\n\n--- Snippet 2 (Line 37) ---\n    } else {\n      setDownVote();\n    }\n  };\n\n  return { handleDownvote, handleUpvote };\n};\n\ntype MutationKey = Parameters<typeof trpc.useMutation>[0];\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/components/questions/card/question/BaseQuestionCard.tsx\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/components/questions/card/question/BaseQuestionCard.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 157) ---\n  showAddToList,\n  onDelete,\n  truncateContent = true,\n}: BaseQuestionCardProps) {\n  const [showReceivedForm, setShowReceivedForm] = useState(false);\n  const { handleDownvote, handleUpvote, vote } = useQuestionVote(questionId);\n\n  const locations = useMemo(() => {\n    if (countries === undefined) {\n      return undefined;\n    }\n\n\n--- Snippet 2 (Line 188) ---\n            <VotingButtons\n              size=\"sm\"\n              upvoteCount={upvoteCount}\n              vote={vote}\n              onDownvote={handleDownvote}\n              onUpvote={handleUpvote}\n            />\n          </div>\n          <div className=\"hidden md:block\">\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/components/questions/comments/QuestionCommentListItem.tsx\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/components/questions/comments/QuestionCommentListItem.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 12) ---\n\nexport default function QuestionCommentListItem({\n  questionCommentId,\n  ...restProps\n}: QuestionCommentListItemProps) {\n  const { handleDownvote, handleUpvote, vote } =\n    useQuestionCommentVote(questionCommentId);\n\n  return (\n    <CommentListItem\n      vote={vote}\n      onDownvote={handleDownvote}\n      onUpvote={handleUpvote}\n      {...restProps}\n    />\n  );\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/components/questions/comments/AnswerCommentListItem.tsx\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/components/questions/comments/AnswerCommentListItem.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 12) ---\n\nexport default function AnswerCommentListItem({\n  answerCommentId,\n  ...restProps\n}: AnswerCommentListItemProps) {\n  const { handleDownvote, handleUpvote, vote } =\n    useAnswerCommentVote(answerCommentId);\n\n  return (\n    <CommentListItem\n      vote={vote}\n      onDownvote={handleDownvote}\n      onUpvote={handleUpvote}\n      {...restProps}\n    />\n  );\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/components/questions/VotingButtons.tsx\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/components/questions/VotingButtons.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 26) ---\n  onDownvote,\n  onUpvote,\n  upvoteCount,\n  size = 'md',\n}: VotingButtonsProps) {\n  const handleUpvoteClick = useProtectedCallback(() => {\n    onUpvote();\n  });\n\n  const handleDownvoteClick = useProtectedCallback(() => {\n    onDownvote();\n\n\n--- Snippet 2 (Line 46) ---\n        )}\n        type=\"button\"\n        onClick={(event) => {\n          event.preventDefault();\n          event.stopPropagation();\n          handleUpvoteClick();\n        }}>\n        <ChevronUpIcon\n          className={clsx(\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/components/questions/card/AnswerCard.tsx\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/components/questions/card/AnswerCard.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 28) ---\n  commentCount,\n  votingButtonsSize,\n  upvoteCount,\n  showHover,\n}: AnswerCardProps) {\n  const { handleUpvote, handleDownvote, vote } = useAnswerVote(answerId);\n\n  return (\n    <article\n      className={clsx(\n        'flex gap-4 rounded-md border border-slate-200 bg-white p-4 sm:rounded-lg',\n\n\n--- Snippet 2 (Line 41) ---\n      <VotingButtons\n        size={votingButtonsSize}\n        upvoteCount={upvoteCount}\n        vote={vote}\n        onDownvote={handleDownvote}\n        onUpvote={handleUpvote}\n      />\n      <div className=\"flex w-full flex-col gap-2\">\n        <div className=\"flex items-center gap-2\">\n"},{"type":"text","text":"Repository: stemmlerjs/ddd-forum\nPath: public/app/src/modules/forum/hocs/withVoting.tsx\nURL: https://github.com/stemmlerjs/ddd-forum/blob/master/public/app/src/modules/forum/hocs/withVoting.tsx\nLicense: ISC\n\nSnippets:\n--- Snippet 1 (Line 15) ---\n\n    handleUpvoteComment (commentId: string) {\n      this.props.upvoteComment(commentId);\n    }\n\n    handleDownvoteComment (commentId: string) {\n      this.props.downvoteComment(commentId);\n    }\n\n    handleUpvotePost (postSlug: string) {\n      this.props.upvotePost(postSlug)\n    }\n\n    handleDownvotePost (postSlug: string) {\n      this.props.downvotePost(postSlug);\n    }\n\n    render () {\n      return (\n        <WrappedComponent\n          upvoteComment={(commentId: string) => this.handleUpvoteComment(commentId)}\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/app/workspace/[workspaceId]/w/[workflowId]/components/panel/components/copilot/components/copilot-message/hooks/use-message-feedback.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/app/workspace/%5BworkspaceId%5D/w/%5BworkflowId%5D/components/panel/components/copilot/components/copilot-message/hooks/use-message-feedback.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 172) ---\n  )\n\n  /**\n   * Handles upvote action\n   */\n  const handleUpvote = useCallback(async () => {\n    setShowDownvoteSuccess(false)\n    setShowUpvoteSuccess(true)\n    await submitFeedback(true)\n  }, [submitFeedback])\n\n\n\n--- Snippet 2 (Line 188) ---\n    setShowDownvoteSuccess(true)\n    await submitFeedback(false)\n  }, [submitFeedback])\n\n  return {\n    handleUpvote,\n    handleDownvote,\n  }\n"},{"type":"text","text":"Repository: toss/frontend-fundamentals\nPath: fundamentals/today-i-learned/src/components/features/discussions/PostCard.tsx\nURL: https://github.com/toss/frontend-fundamentals/blob/main/fundamentals/today-i-learned/src/components/features/discussions/PostCard.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 49) ---\n    isUpdating,\n    isDeleting,\n    isDeleteError\n  } = usePostActions({ currentUserLogin });\n\n  const { handleLike: defaultHandleLike, handleUpvote: defaultHandleUpvote } =\n    usePostReactions({ discussion });\n\n  const { openModal, EditPostModal, isOpen } = useEditPostModal({\n    onSubmit: async (title, content) => {\n      await handleEdit(discussion, { title, body: content });\n\n\n--- Snippet 2 (Line 126) ---\n        </div>\n\n        <InteractionButtons\n          discussion={discussion}\n          onLike={onLike || defaultHandleLike}\n          onUpvote={onUpvote || defaultHandleUpvote}\n          hasUserLiked={hasUserLiked}\n          hasUserUpvoted={hasUserUpvoted}\n          heartCount={heartCount}\n"},{"type":"text","text":"Repository: LemmyNet/lemmy-ui\nPath: src/shared/components/common/vote-buttons.tsx\nURL: https://github.com/LemmyNet/lemmy-ui/blob/main/src/shared/components/common/vote-buttons.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 132) ---\n  return [scoreStr, upvotePctStr, upvoteStr, downvoteStr]\n    .filter(Boolean)\n    .join(\" ¬∑ \");\n}\n\nfunction handleUpvote(i: VoteButtons | VoteButtonsCompact) {\n  i.setState({ upvoteLoading: true });\n\n  switch (i.props.voteContentType) {\n    case \"comment\":\n      i.props.onVote({\n\n\n--- Snippet 2 (Line 235) ---\n              subject,\n              voteContentType,\n              creator_id,\n            )}\n            disabled={this.props.disabled}\n            onClick={linkEvent(this, handleUpvote)}\n            aria-label={I18NextService.i18n.t(\"upvote\")}\n            aria-pressed={this.props.myVoteIsUpvote === true}\n          >\n"}]}]},"uuid":"0cb0cbd7-f0fa-42c5-998f-23f96429c036","timestamp":"2025-12-24T03:12:47.444Z","toolUseResult":[{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/utils/questions/vote/useVote.ts\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/utils/questions/vote/useVote.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 19) ---\n  vote: BackendVote | null,\n  opts: UseVoteOptions,\n) => {\n  const { setDownVote, setNoVote, setUpVote } = opts;\n\n  const handleUpvote = () => {\n    // Either upvote or remove upvote\n    if (vote && vote.vote === 'UPVOTE') {\n      setNoVote();\n    } else {\n      setUpVote();\n\n\n--- Snippet 2 (Line 37) ---\n    } else {\n      setDownVote();\n    }\n  };\n\n  return { handleDownvote, handleUpvote };\n};\n\ntype MutationKey = Parameters<typeof trpc.useMutation>[0];\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/components/questions/card/question/BaseQuestionCard.tsx\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/components/questions/card/question/BaseQuestionCard.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 157) ---\n  showAddToList,\n  onDelete,\n  truncateContent = true,\n}: BaseQuestionCardProps) {\n  const [showReceivedForm, setShowReceivedForm] = useState(false);\n  const { handleDownvote, handleUpvote, vote } = useQuestionVote(questionId);\n\n  const locations = useMemo(() => {\n    if (countries === undefined) {\n      return undefined;\n    }\n\n\n--- Snippet 2 (Line 188) ---\n            <VotingButtons\n              size=\"sm\"\n              upvoteCount={upvoteCount}\n              vote={vote}\n              onDownvote={handleDownvote}\n              onUpvote={handleUpvote}\n            />\n          </div>\n          <div className=\"hidden md:block\">\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/components/questions/comments/QuestionCommentListItem.tsx\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/components/questions/comments/QuestionCommentListItem.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 12) ---\n\nexport default function QuestionCommentListItem({\n  questionCommentId,\n  ...restProps\n}: QuestionCommentListItemProps) {\n  const { handleDownvote, handleUpvote, vote } =\n    useQuestionCommentVote(questionCommentId);\n\n  return (\n    <CommentListItem\n      vote={vote}\n      onDownvote={handleDownvote}\n      onUpvote={handleUpvote}\n      {...restProps}\n    />\n  );\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/components/questions/comments/AnswerCommentListItem.tsx\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/components/questions/comments/AnswerCommentListItem.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 12) ---\n\nexport default function AnswerCommentListItem({\n  answerCommentId,\n  ...restProps\n}: AnswerCommentListItemProps) {\n  const { handleDownvote, handleUpvote, vote } =\n    useAnswerCommentVote(answerCommentId);\n\n  return (\n    <CommentListItem\n      vote={vote}\n      onDownvote={handleDownvote}\n      onUpvote={handleUpvote}\n      {...restProps}\n    />\n  );\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/components/questions/VotingButtons.tsx\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/components/questions/VotingButtons.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 26) ---\n  onDownvote,\n  onUpvote,\n  upvoteCount,\n  size = 'md',\n}: VotingButtonsProps) {\n  const handleUpvoteClick = useProtectedCallback(() => {\n    onUpvote();\n  });\n\n  const handleDownvoteClick = useProtectedCallback(() => {\n    onDownvote();\n\n\n--- Snippet 2 (Line 46) ---\n        )}\n        type=\"button\"\n        onClick={(event) => {\n          event.preventDefault();\n          event.stopPropagation();\n          handleUpvoteClick();\n        }}>\n        <ChevronUpIcon\n          className={clsx(\n"},{"type":"text","text":"Repository: yangshun/tech-interview-handbook\nPath: apps/portal/src/components/questions/card/AnswerCard.tsx\nURL: https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/components/questions/card/AnswerCard.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 28) ---\n  commentCount,\n  votingButtonsSize,\n  upvoteCount,\n  showHover,\n}: AnswerCardProps) {\n  const { handleUpvote, handleDownvote, vote } = useAnswerVote(answerId);\n\n  return (\n    <article\n      className={clsx(\n        'flex gap-4 rounded-md border border-slate-200 bg-white p-4 sm:rounded-lg',\n\n\n--- Snippet 2 (Line 41) ---\n      <VotingButtons\n        size={votingButtonsSize}\n        upvoteCount={upvoteCount}\n        vote={vote}\n        onDownvote={handleDownvote}\n        onUpvote={handleUpvote}\n      />\n      <div className=\"flex w-full flex-col gap-2\">\n        <div className=\"flex items-center gap-2\">\n"},{"type":"text","text":"Repository: stemmlerjs/ddd-forum\nPath: public/app/src/modules/forum/hocs/withVoting.tsx\nURL: https://github.com/stemmlerjs/ddd-forum/blob/master/public/app/src/modules/forum/hocs/withVoting.tsx\nLicense: ISC\n\nSnippets:\n--- Snippet 1 (Line 15) ---\n\n    handleUpvoteComment (commentId: string) {\n      this.props.upvoteComment(commentId);\n    }\n\n    handleDownvoteComment (commentId: string) {\n      this.props.downvoteComment(commentId);\n    }\n\n    handleUpvotePost (postSlug: string) {\n      this.props.upvotePost(postSlug)\n    }\n\n    handleDownvotePost (postSlug: string) {\n      this.props.downvotePost(postSlug);\n    }\n\n    render () {\n      return (\n        <WrappedComponent\n          upvoteComment={(commentId: string) => this.handleUpvoteComment(commentId)}\n"},{"type":"text","text":"Repository: simstudioai/sim\nPath: apps/sim/app/workspace/[workspaceId]/w/[workflowId]/components/panel/components/copilot/components/copilot-message/hooks/use-message-feedback.ts\nURL: https://github.com/simstudioai/sim/blob/main/apps/sim/app/workspace/%5BworkspaceId%5D/w/%5BworkflowId%5D/components/panel/components/copilot/components/copilot-message/hooks/use-message-feedback.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 172) ---\n  )\n\n  /**\n   * Handles upvote action\n   */\n  const handleUpvote = useCallback(async () => {\n    setShowDownvoteSuccess(false)\n    setShowUpvoteSuccess(true)\n    await submitFeedback(true)\n  }, [submitFeedback])\n\n\n\n--- Snippet 2 (Line 188) ---\n    setShowDownvoteSuccess(true)\n    await submitFeedback(false)\n  }, [submitFeedback])\n\n  return {\n    handleUpvote,\n    handleDownvote,\n  }\n"},{"type":"text","text":"Repository: toss/frontend-fundamentals\nPath: fundamentals/today-i-learned/src/components/features/discussions/PostCard.tsx\nURL: https://github.com/toss/frontend-fundamentals/blob/main/fundamentals/today-i-learned/src/components/features/discussions/PostCard.tsx\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 49) ---\n    isUpdating,\n    isDeleting,\n    isDeleteError\n  } = usePostActions({ currentUserLogin });\n\n  const { handleLike: defaultHandleLike, handleUpvote: defaultHandleUpvote } =\n    usePostReactions({ discussion });\n\n  const { openModal, EditPostModal, isOpen } = useEditPostModal({\n    onSubmit: async (title, content) => {\n      await handleEdit(discussion, { title, body: content });\n\n\n--- Snippet 2 (Line 126) ---\n        </div>\n\n        <InteractionButtons\n          discussion={discussion}\n          onLike={onLike || defaultHandleLike}\n          onUpvote={onUpvote || defaultHandleUpvote}\n          hasUserLiked={hasUserLiked}\n          hasUserUpvoted={hasUserUpvoted}\n          heartCount={heartCount}\n"},{"type":"text","text":"Repository: LemmyNet/lemmy-ui\nPath: src/shared/components/common/vote-buttons.tsx\nURL: https://github.com/LemmyNet/lemmy-ui/blob/main/src/shared/components/common/vote-buttons.tsx\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 132) ---\n  return [scoreStr, upvotePctStr, upvoteStr, downvoteStr]\n    .filter(Boolean)\n    .join(\" ¬∑ \");\n}\n\nfunction handleUpvote(i: VoteButtons | VoteButtonsCompact) {\n  i.setState({ upvoteLoading: true });\n\n  switch (i.props.voteContentType) {\n    case \"comment\":\n      i.props.onVote({\n\n\n--- Snippet 2 (Line 235) ---\n              subject,\n              voteContentType,\n              creator_id,\n            )}\n            disabled={this.props.disabled}\n            onClick={linkEvent(this, handleUpvote)}\n            aria-label={I18NextService.i18n.t(\"upvote\")}\n            aria-pressed={this.props.myVoteIsUpvote === true}\n          >\n"}]}
{"parentUuid":"0cb0cbd7-f0fa-42c5-998f-23f96429c036","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01EUSh3RwEtCg3ptPbscSPt2","type":"tool_result","content":[{"type":"text","text":"Repository: DIYgod/RSSHub\nPath: lib/routes/daily/source.ts\nURL: https://github.com/DIYgod/RSSHub/blob/master/lib/routes/daily/source.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 8) ---\ninterface Source {\n    id: string;\n    name: string;\n    handle: string;\n    image: string;\n    permalink: string;\n    description: string;\n    type: string;\n}\n\nconst sourceFeedQuery = `\nquery SourceFeed($source: ID!, $loggedIn: Boolean! = false, $first: Int, $after: String, $ranking: Ranking, $supportedTypes: [String!]) {\n  page: sourceFeed(\n    source: $source\n    first: $first\n    after: $after\n    ranking: $ranking\n    supportedTypes: $supportedTypes\n  ) {\n    ...FeedPostConnection\n  }\n"},{"type":"text","text":"Repository: elizaOS/eliza\nPath: packages/service-interfaces/src/interfaces/post.ts\nURL: https://github.com/elizaOS/eliza/blob/develop/packages/service-interfaces/src/interfaces/post.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nexport interface PostMedia {\n  id: UUID;\n  url: string;\n  type: 'image' | 'video' | 'audio' | 'document';\n  mimeType: string;\n  size: number;\n  width?: number;\n  height?: number;\n  duration?: number;\n  thumbnail?: string;\n  description?: string;\n  altText?: string;\n}\n\nexport interface PostLocation {\n  name: string;\n  address?: string;\n  coordinates?: {\n    latitude: number;\n    longitude: number;\n  };\n"},{"type":"text","text":"Repository: getfider/fider\nPath: public/models/post.ts\nURL: https://github.com/getfider/fider/blob/main/public/models/post.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { User } from \"./identity\"\n\nexport interface Post {\n  id: number\n  number: number\n  slug: string\n  title: string\n  description: string\n  createdAt: string\n  status: string\n  user: User\n  hasVoted: boolean\n  response: PostResponse | null\n  votesCount: number\n  commentsCount: number\n  tags: string[]\n}\n\nexport class PostStatus {\n  constructor(public title: string, public value: string, public show: boolean, public closed: boolean, public filterable: boolean) {}\n"},{"type":"text","text":"Repository: getfider/fider\nPath: public/services/actions/post.ts\nURL: https://github.com/getfider/fider/blob/main/public/services/actions/post.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nexport interface SearchPostsParams {\n  query?: string\n  view?: string\n  limit?: number\n  tags?: string[]\n  myVotes?: boolean\n  noTags?: boolean\n  myPosts?: boolean\n  statuses?: string[]\n}\n\nexport const searchPosts = async (params: SearchPostsParams): Promise<Result<Post[]>> => {\n  let qsParams = querystring.stringify({\n    tags: params.tags,\n    statuses: params.statuses,\n    query: params.query,\n    view: params.view,\n    limit: params.limit,\n  })\n  if (params.myVotes) {\n    qsParams += `&myvotes=true`\n"},{"type":"text","text":"Repository: clintonwoo/hackernews-react-graphql\nPath: server/graphql-resolvers.ts\nURL: https://github.com/clintonwoo/hackernews-react-graphql/blob/master/server/graphql-resolvers.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 15) ---\nexport interface IGraphQlSchemaContext {\n  commentService: CommentService;\n  feedService: FeedService;\n  newsItemService: NewsItemService;\n  userService: UserService;\n  userId: string | undefined;\n}\n\nexport const resolvers: IResolvers<any, IGraphQlSchemaContext> = {\n  /*\n    http://dev.apollodata.com/tools/graphql-tools/resolvers.html\n    \n    Resolver function signature:\n      fieldName(obj, args, context, info) { result }\n    \n    obj: The object that contains the result returned from the\n      resolver on the parent field, or, in the case of a top-level\n      Query field, the rootValue passed from the server configuration.\n      This argument enables the nested nature of GraphQL queries.\n\n    context: This is an object shared by all resolvers in a particular\n"},{"type":"text","text":"Repository: deta/surf\nPath: packages/types/src/resources/post.types.ts\nURL: https://github.com/deta/surf/blob/main/packages/types/src/resources/post.types.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport interface ResourceDataPost {\n  // basic information\n  post_id: string // unique identifier for the post\n  url: string // URL of the post on the original site\n  title: string | null // the title of the post\n  date_published: string // when the post was originally published\n  date_edited: string | null // when the post was last updated / modified\n  edited: boolean | null // whether the post was edited\n\n  // information about the site\n  site_name: string // name of the site the post was published on\n  site_icon: string // URL to a icon / favicon representing the site\n\n  // author related information\n  author: string | null // who created the post\n  author_fullname: string | null // the full name of the author\n  author_image: string | null // a image URL of the author / profile picture\n  author_url: string | null // a url pointing to the author themselves\n\n  // content related information\n  excerpt: string | null // a summary of the collectables content\n"},{"type":"text","text":"Repository: DimensionDev/Maskbook\nPath: packages/web3-providers/src/types/Social.ts\nURL: https://github.com/DimensionDev/Maskbook/blob/develop/packages/web3-providers/src/types/Social.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\n    export interface Tag {\n        tagId: string\n        label: string\n    }\n    export enum NetworkType {\n        Ethereum = 'Ethereum',\n    }\n    export enum Source {\n        Farcaster = 'Farcaster',\n        Lens = 'Lens',\n    }\n    export enum SourceInURL {\n        Farcaster = 'farcaster',\n        Lens = 'lens',\n    }\n    export type SocialSource = Source.Farcaster | Source.Lens\n\n    /** Normalized Channel, different from Farcaster's */\n    export interface Channel {\n        source: SocialSource\n        id: string\n"},{"type":"text","text":"Repository: stemmlerjs/ddd-forum\nPath: src/modules/forum/domain/post.ts\nURL: https://github.com/stemmlerjs/ddd-forum/blob/master/src/modules/forum/domain/post.ts\nLicense: ISC\n\nSnippets:\n--- Snippet 1 (Line 31) ---\nexport interface PostProps {\n  memberId: MemberId;\n  slug: PostSlug;\n  title: PostTitle;\n  type: PostType;\n  text?: PostText;\n  link?: PostLink;\n  comments?: Comments;\n  votes?: PostVotes;\n  totalNumComments?: number;\n  points?: number; // posts can have negative or positive valued points\n  dateTimePosted?: string | Date;\n}\n\nexport class Post extends AggregateRoot<PostProps> {\n\n  get postId (): PostId {\n    return PostId.create(this._id)\n      .getValue();\n  }\n\n"},{"type":"text","text":"Repository: toss/frontend-fundamentals\nPath: fundamentals/today-i-learned/src/hooks/usePostReactions.ts\nURL: https://github.com/toss/frontend-fundamentals/blob/main/fundamentals/today-i-learned/src/hooks/usePostReactions.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 12) ---\ninterface UsePostReactionsParams {\n  discussion?: GitHubDiscussion;\n}\n\ninterface PostReactionCallbacks {\n  onLikeSuccess?: (discussion: GitHubDiscussion) => void;\n  onCommentSuccess?: (discussion: GitHubDiscussion) => void;\n  onUpvoteSuccess?: (discussion: GitHubDiscussion) => void;\n}\n\nexport function usePostReactions({ discussion }: UsePostReactionsParams = {}) {\n  const { user } = useAuth();\n  const { mutate: toggleReaction } = useToggleDiscussionReaction();\n  const { handleApiError } = useErrorHandler();\n  const queryClient = useQueryClient();\n\n  // Helper function to check if user has reacted\n  const hasUserReacted = useCallback(\n    (discussionData: GitHubDiscussion, content: \"HEART\" | \"THUMBS_UP\") => {\n      return hasUserReactedUtil(\n        discussionData.reactions,\n"},{"type":"text","text":"Repository: dailydotdev/apps\nPath: packages/shared/src/lib/boot.ts\nURL: https://github.com/dailydotdev/apps/blob/main/packages/shared/src/lib/boot.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport { decrypt } from '../components/crypto';\nimport type { MarketingCta } from '../components/marketingCta/common';\nimport type { Feed } from '../graphql/feed';\nimport type { Continent } from './geo';\n\ninterface NotificationsBootData {\n  unreadNotificationsCount: number;\n}\n\nexport type PostBootData = Pick<\n  Post,\n  | 'id'\n  | 'title'\n  | 'commentsPermalink'\n  | 'trending'\n  | 'summary'\n  | 'numUpvotes'\n  | 'numComments'\n  | 'bookmarked'\n  | 'source'\n  | 'image'\n"}]}]},"uuid":"384eded2-3a08-4539-b00a-14174b013a31","timestamp":"2025-12-24T03:12:48.076Z","toolUseResult":[{"type":"text","text":"Repository: DIYgod/RSSHub\nPath: lib/routes/daily/source.ts\nURL: https://github.com/DIYgod/RSSHub/blob/master/lib/routes/daily/source.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 8) ---\ninterface Source {\n    id: string;\n    name: string;\n    handle: string;\n    image: string;\n    permalink: string;\n    description: string;\n    type: string;\n}\n\nconst sourceFeedQuery = `\nquery SourceFeed($source: ID!, $loggedIn: Boolean! = false, $first: Int, $after: String, $ranking: Ranking, $supportedTypes: [String!]) {\n  page: sourceFeed(\n    source: $source\n    first: $first\n    after: $after\n    ranking: $ranking\n    supportedTypes: $supportedTypes\n  ) {\n    ...FeedPostConnection\n  }\n"},{"type":"text","text":"Repository: elizaOS/eliza\nPath: packages/service-interfaces/src/interfaces/post.ts\nURL: https://github.com/elizaOS/eliza/blob/develop/packages/service-interfaces/src/interfaces/post.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 3) ---\nexport interface PostMedia {\n  id: UUID;\n  url: string;\n  type: 'image' | 'video' | 'audio' | 'document';\n  mimeType: string;\n  size: number;\n  width?: number;\n  height?: number;\n  duration?: number;\n  thumbnail?: string;\n  description?: string;\n  altText?: string;\n}\n\nexport interface PostLocation {\n  name: string;\n  address?: string;\n  coordinates?: {\n    latitude: number;\n    longitude: number;\n  };\n"},{"type":"text","text":"Repository: getfider/fider\nPath: public/models/post.ts\nURL: https://github.com/getfider/fider/blob/main/public/models/post.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nimport { User } from \"./identity\"\n\nexport interface Post {\n  id: number\n  number: number\n  slug: string\n  title: string\n  description: string\n  createdAt: string\n  status: string\n  user: User\n  hasVoted: boolean\n  response: PostResponse | null\n  votesCount: number\n  commentsCount: number\n  tags: string[]\n}\n\nexport class PostStatus {\n  constructor(public title: string, public value: string, public show: boolean, public closed: boolean, public filterable: boolean) {}\n"},{"type":"text","text":"Repository: getfider/fider\nPath: public/services/actions/post.ts\nURL: https://github.com/getfider/fider/blob/main/public/services/actions/post.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nexport interface SearchPostsParams {\n  query?: string\n  view?: string\n  limit?: number\n  tags?: string[]\n  myVotes?: boolean\n  noTags?: boolean\n  myPosts?: boolean\n  statuses?: string[]\n}\n\nexport const searchPosts = async (params: SearchPostsParams): Promise<Result<Post[]>> => {\n  let qsParams = querystring.stringify({\n    tags: params.tags,\n    statuses: params.statuses,\n    query: params.query,\n    view: params.view,\n    limit: params.limit,\n  })\n  if (params.myVotes) {\n    qsParams += `&myvotes=true`\n"},{"type":"text","text":"Repository: clintonwoo/hackernews-react-graphql\nPath: server/graphql-resolvers.ts\nURL: https://github.com/clintonwoo/hackernews-react-graphql/blob/master/server/graphql-resolvers.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 15) ---\nexport interface IGraphQlSchemaContext {\n  commentService: CommentService;\n  feedService: FeedService;\n  newsItemService: NewsItemService;\n  userService: UserService;\n  userId: string | undefined;\n}\n\nexport const resolvers: IResolvers<any, IGraphQlSchemaContext> = {\n  /*\n    http://dev.apollodata.com/tools/graphql-tools/resolvers.html\n    \n    Resolver function signature:\n      fieldName(obj, args, context, info) { result }\n    \n    obj: The object that contains the result returned from the\n      resolver on the parent field, or, in the case of a top-level\n      Query field, the rootValue passed from the server configuration.\n      This argument enables the nested nature of GraphQL queries.\n\n    context: This is an object shared by all resolvers in a particular\n"},{"type":"text","text":"Repository: deta/surf\nPath: packages/types/src/resources/post.types.ts\nURL: https://github.com/deta/surf/blob/main/packages/types/src/resources/post.types.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 1) ---\nexport interface ResourceDataPost {\n  // basic information\n  post_id: string // unique identifier for the post\n  url: string // URL of the post on the original site\n  title: string | null // the title of the post\n  date_published: string // when the post was originally published\n  date_edited: string | null // when the post was last updated / modified\n  edited: boolean | null // whether the post was edited\n\n  // information about the site\n  site_name: string // name of the site the post was published on\n  site_icon: string // URL to a icon / favicon representing the site\n\n  // author related information\n  author: string | null // who created the post\n  author_fullname: string | null // the full name of the author\n  author_image: string | null // a image URL of the author / profile picture\n  author_url: string | null // a url pointing to the author themselves\n\n  // content related information\n  excerpt: string | null // a summary of the collectables content\n"},{"type":"text","text":"Repository: DimensionDev/Maskbook\nPath: packages/web3-providers/src/types/Social.ts\nURL: https://github.com/DimensionDev/Maskbook/blob/develop/packages/web3-providers/src/types/Social.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\n    export interface Tag {\n        tagId: string\n        label: string\n    }\n    export enum NetworkType {\n        Ethereum = 'Ethereum',\n    }\n    export enum Source {\n        Farcaster = 'Farcaster',\n        Lens = 'Lens',\n    }\n    export enum SourceInURL {\n        Farcaster = 'farcaster',\n        Lens = 'lens',\n    }\n    export type SocialSource = Source.Farcaster | Source.Lens\n\n    /** Normalized Channel, different from Farcaster's */\n    export interface Channel {\n        source: SocialSource\n        id: string\n"},{"type":"text","text":"Repository: stemmlerjs/ddd-forum\nPath: src/modules/forum/domain/post.ts\nURL: https://github.com/stemmlerjs/ddd-forum/blob/master/src/modules/forum/domain/post.ts\nLicense: ISC\n\nSnippets:\n--- Snippet 1 (Line 31) ---\nexport interface PostProps {\n  memberId: MemberId;\n  slug: PostSlug;\n  title: PostTitle;\n  type: PostType;\n  text?: PostText;\n  link?: PostLink;\n  comments?: Comments;\n  votes?: PostVotes;\n  totalNumComments?: number;\n  points?: number; // posts can have negative or positive valued points\n  dateTimePosted?: string | Date;\n}\n\nexport class Post extends AggregateRoot<PostProps> {\n\n  get postId (): PostId {\n    return PostId.create(this._id)\n      .getValue();\n  }\n\n"},{"type":"text","text":"Repository: toss/frontend-fundamentals\nPath: fundamentals/today-i-learned/src/hooks/usePostReactions.ts\nURL: https://github.com/toss/frontend-fundamentals/blob/main/fundamentals/today-i-learned/src/hooks/usePostReactions.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 12) ---\ninterface UsePostReactionsParams {\n  discussion?: GitHubDiscussion;\n}\n\ninterface PostReactionCallbacks {\n  onLikeSuccess?: (discussion: GitHubDiscussion) => void;\n  onCommentSuccess?: (discussion: GitHubDiscussion) => void;\n  onUpvoteSuccess?: (discussion: GitHubDiscussion) => void;\n}\n\nexport function usePostReactions({ discussion }: UsePostReactionsParams = {}) {\n  const { user } = useAuth();\n  const { mutate: toggleReaction } = useToggleDiscussionReaction();\n  const { handleApiError } = useErrorHandler();\n  const queryClient = useQueryClient();\n\n  // Helper function to check if user has reacted\n  const hasUserReacted = useCallback(\n    (discussionData: GitHubDiscussion, content: \"HEART\" | \"THUMBS_UP\") => {\n      return hasUserReactedUtil(\n        discussionData.reactions,\n"},{"type":"text","text":"Repository: dailydotdev/apps\nPath: packages/shared/src/lib/boot.ts\nURL: https://github.com/dailydotdev/apps/blob/main/packages/shared/src/lib/boot.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 8) ---\nimport { decrypt } from '../components/crypto';\nimport type { MarketingCta } from '../components/marketingCta/common';\nimport type { Feed } from '../graphql/feed';\nimport type { Continent } from './geo';\n\ninterface NotificationsBootData {\n  unreadNotificationsCount: number;\n}\n\nexport type PostBootData = Pick<\n  Post,\n  | 'id'\n  | 'title'\n  | 'commentsPermalink'\n  | 'trending'\n  | 'summary'\n  | 'numUpvotes'\n  | 'numComments'\n  | 'bookmarked'\n  | 'source'\n  | 'image'\n"}]}
{"parentUuid":"384eded2-3a08-4539-b00a-14174b013a31","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_012MifR9ZkhTYXD1Qp8aEJrD","type":"tool_result","content":[{"type":"text","text":"Repository: aeharding/voyager\nPath: src/helpers/lemmy.ts\nURL: https://github.com/aeharding/voyager/blob/main/src/helpers/lemmy.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 84) ---\n\nexport function canModify(comment: Comment) {\n  return !comment.deleted && !comment.removed;\n}\n\nexport function buildCommentsTree(\n  comments: CommentView[],\n  parentComment: boolean,\n): CommentNodeI[] {\n  const map = new Map<number, CommentNodeI>();\n  const depthOffset = !parentComment\n\n\n--- Snippet 2 (Line 143) ---\n * missing comments for a given node\n *\n * NOTE: This function mutates the tree to add `missing` to each node!\n */\nexport function buildCommentsTreeWithMissing(\n  comments: CommentView[],\n  parentComment: boolean,\n): CommentNodeI[] {\n  const tree = buildCommentsTree(comments, parentComment);\n"},{"type":"text","text":"Repository: LemmyNet/lemmy-ui\nPath: src/shared/utils/app.ts\nURL: https://github.com/LemmyNet/lemmy-ui/blob/main/src/shared/utils/app.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 56) ---\nimport { isBrowser } from \"@utils/browser\";\nimport Toastify from \"toastify-js\";\nimport { isAnimatedImage } from \"./media\";\nimport { httpBackendUrl } from \"./env\";\n\nexport function buildCommentsTree<T extends CommentSlimView>(\n  comments: T[],\n  parentCommentId?: CommentId,\n): CommentNodeI<T>[] {\n  const map = new Map<number, CommentNodeI<T>>();\n  const parentComment = comments.find(c => c.comment.id === parentCommentId);\n"},{"type":"text","text":"Repository: Xyphyn/photon\nPath: src/lib/feature/comment/comments.svelte.ts\nURL: https://github.com/Xyphyn/photon/blob/main/src/lib/feature/comment/comments.svelte.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 23) ---\nfunction getDepthFromComment(comment?: Comment): number | undefined {\n  const len = comment?.path.split('.').length\n  return len ? len - 2 : undefined\n}\n\nexport function buildCommentsTree(\n  comments: CommentView[],\n  baseDepth: number = 0,\n  filter: (c: CommentView) => boolean = () => true,\n): CommentNodeI[] {\n  const map = new SvelteMap<number, CommentNodeI>()\n"}]}]},"uuid":"09f22bc6-fc00-461e-a9c6-0fdf0a4a2aed","timestamp":"2025-12-24T03:12:48.440Z","toolUseResult":[{"type":"text","text":"Repository: aeharding/voyager\nPath: src/helpers/lemmy.ts\nURL: https://github.com/aeharding/voyager/blob/main/src/helpers/lemmy.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 84) ---\n\nexport function canModify(comment: Comment) {\n  return !comment.deleted && !comment.removed;\n}\n\nexport function buildCommentsTree(\n  comments: CommentView[],\n  parentComment: boolean,\n): CommentNodeI[] {\n  const map = new Map<number, CommentNodeI>();\n  const depthOffset = !parentComment\n\n\n--- Snippet 2 (Line 143) ---\n * missing comments for a given node\n *\n * NOTE: This function mutates the tree to add `missing` to each node!\n */\nexport function buildCommentsTreeWithMissing(\n  comments: CommentView[],\n  parentComment: boolean,\n): CommentNodeI[] {\n  const tree = buildCommentsTree(comments, parentComment);\n"},{"type":"text","text":"Repository: LemmyNet/lemmy-ui\nPath: src/shared/utils/app.ts\nURL: https://github.com/LemmyNet/lemmy-ui/blob/main/src/shared/utils/app.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 56) ---\nimport { isBrowser } from \"@utils/browser\";\nimport Toastify from \"toastify-js\";\nimport { isAnimatedImage } from \"./media\";\nimport { httpBackendUrl } from \"./env\";\n\nexport function buildCommentsTree<T extends CommentSlimView>(\n  comments: T[],\n  parentCommentId?: CommentId,\n): CommentNodeI<T>[] {\n  const map = new Map<number, CommentNodeI<T>>();\n  const parentComment = comments.find(c => c.comment.id === parentCommentId);\n"},{"type":"text","text":"Repository: Xyphyn/photon\nPath: src/lib/feature/comment/comments.svelte.ts\nURL: https://github.com/Xyphyn/photon/blob/main/src/lib/feature/comment/comments.svelte.ts\nLicense: AGPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 23) ---\nfunction getDepthFromComment(comment?: Comment): number | undefined {\n  const len = comment?.path.split('.').length\n  return len ? len - 2 : undefined\n}\n\nexport function buildCommentsTree(\n  comments: CommentView[],\n  baseDepth: number = 0,\n  filter: (c: CommentView) => boolean = () => true,\n): CommentNodeI[] {\n  const map = new SvelteMap<number, CommentNodeI>()\n"}]}
{"parentUuid":"09f22bc6-fc00-461e-a9c6-0fdf0a4a2aed","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_011AdfL6Vemg9QxE5NUP9xJK","type":"message","role":"assistant","content":[{"type":"text","text":"Let me get a few more specific patterns for the database schema, Prisma models, and recursive comment rendering:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":6742,"cache_read_input_tokens":32291,"cache_creation":{"ephemeral_5m_input_tokens":6742,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnHb9VWksP1cTnKYHPp","type":"assistant","uuid":"e3ad9e71-9d8e-446f-b95a-533df34bcd04","timestamp":"2025-12-24T03:12:51.983Z"}
{"parentUuid":"e3ad9e71-9d8e-446f-b95a-533df34bcd04","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_011AdfL6Vemg9QxE5NUP9xJK","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01QD11mt8xzeRz9um2HUmCVc","name":"mcp__grep__searchGitHub","input":{"query":"model Post {","language":["Prisma"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":6742,"cache_read_input_tokens":32291,"cache_creation":{"ephemeral_5m_input_tokens":6742,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnHb9VWksP1cTnKYHPp","type":"assistant","uuid":"af617712-6e79-44c9-bbe1-f6d91ad0ca82","timestamp":"2025-12-24T03:12:53.024Z"}
{"parentUuid":"af617712-6e79-44c9-bbe1-f6d91ad0ca82","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_011AdfL6Vemg9QxE5NUP9xJK","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_017euSanp1yDXY3yw1cw7ktZ","name":"mcp__grep__searchGitHub","input":{"query":"model Vote {","language":["Prisma"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":6742,"cache_read_input_tokens":32291,"cache_creation":{"ephemeral_5m_input_tokens":6742,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnHb9VWksP1cTnKYHPp","type":"assistant","uuid":"86675128-6f6b-4254-b1c5-8b009b687955","timestamp":"2025-12-24T03:12:53.704Z"}
{"parentUuid":"86675128-6f6b-4254-b1c5-8b009b687955","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_011AdfL6Vemg9QxE5NUP9xJK","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01TvbyvXdz1jF6Uq2dVhTyg9","name":"mcp__grep__searchGitHub","input":{"query":"RecursiveComment","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":6742,"cache_read_input_tokens":32291,"cache_creation":{"ephemeral_5m_input_tokens":6742,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnHb9VWksP1cTnKYHPp","type":"assistant","uuid":"f746d3ab-dfce-4fd4-9116-b98fb15194ef","timestamp":"2025-12-24T03:12:55.246Z"}
{"parentUuid":"f746d3ab-dfce-4fd4-9116-b98fb15194ef","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_011AdfL6Vemg9QxE5NUP9xJK","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014mY7WyUb8PyXfPZMTL8eX1","name":"mcp__grep__searchGitHub","input":{"query":"CommentNode","language":["TypeScript","TSX"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":6742,"cache_read_input_tokens":32291,"cache_creation":{"ephemeral_5m_input_tokens":6742,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnHb9VWksP1cTnKYHPp","type":"assistant","uuid":"d9df3825-c82b-4dc5-8c3f-6b635ea0f3d1","timestamp":"2025-12-24T03:12:55.930Z"}
{"parentUuid":"d9df3825-c82b-4dc5-8c3f-6b635ea0f3d1","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01QD11mt8xzeRz9um2HUmCVc","type":"tool_result","content":[{"type":"text","text":"No results found for your query."}]}]},"uuid":"0ad56dfd-6871-407c-8d54-eff361e8b050","timestamp":"2025-12-24T03:12:56.230Z","toolUseResult":[{"type":"text","text":"No results found for your query."}]}
{"parentUuid":"0ad56dfd-6871-407c-8d54-eff361e8b050","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017euSanp1yDXY3yw1cw7ktZ","type":"tool_result","content":[{"type":"text","text":"No results found for your query."}]}]},"uuid":"5af7480a-4d6c-43e3-abe3-fc7c4d4b9d99","timestamp":"2025-12-24T03:12:56.498Z","toolUseResult":[{"type":"text","text":"No results found for your query."}]}
{"parentUuid":"5af7480a-4d6c-43e3-abe3-fc7c4d4b9d99","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TvbyvXdz1jF6Uq2dVhTyg9","type":"tool_result","content":[{"type":"text","text":"Repository: CrowdDotDev/crowd.dev\nPath: services/libs/integrations/src/integrations/reddit/processStream.ts\nURL: https://github.com/CrowdDotDev/crowd.dev/blob/main/services/libs/integrations/src/integrations/reddit/processStream.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 17) ---\n  RedditMoreCommentsResponse,\n  RedditPostsResponse,\n  RedditStreamType,\n} from './types'\n\nasync function recursiveCommentParser(\n  kind: string,\n  comment: RedditComment | RedditMoreChildren,\n  sourceParentId: string,\n  ctx: IProcessStreamContext,\n) {\n\n\n--- Snippet 2 (Line 76) ---\n  const repliesWrapped = comment.replies.data.children\n\n  // For each reply, we need to recurse to get it parsed either as an activity or a new stream\n  for (const replyWrapped of repliesWrapped) {\n    const reply = replyWrapped.data\n    await recursiveCommentParser(replyWrapped.kind, reply, sourceParentId, ctx)\n  }\n}\n\n"},{"type":"text","text":"Repository: dessalines/flowchat\nPath: ui/src/app/components/discussion/discussion.component.ts\nURL: https://github.com/dessalines/flowchat/blob/master/ui/src/app/components/discussion/discussion.component.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 23) ---\n  public maxDepth: number = 20;\n\n  public users: Array<User>;\n  public newCommentId: number;\n\n  public recursiveCommentStopper: boolean = false;\n\n  public isReplying: boolean = false;\n\n  public userServiceWatcher: Subscription;\n  public threadedChatSubscription: Subscription;\n\n\n--- Snippet 2 (Line 254) ---\n      return;\n    }\n\n\n    // Do a recursive loop to find and push the new comment\n    this.recursiveComment(editedComment, this.comments, false);\n    this.recursiveCommentStopper = false;\n\n    // Focus on the new comment if not replying\n"},{"type":"text","text":"Repository: parlez-vous/server\nPath: src/routes/embed/get-comments.ts\nURL: https://github.com/parlez-vous/server/blob/master/src/routes/embed/get-comments.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 19) ---\nimport { omit } from 'utils'\nimport { postIdDecoder, cuidDecoder } from 'routes/parser-utils'\n\ntype RouteError = Errors.RouteError\n\n// RecursiveCommentTree is a comment with an indefinite level of nested replies / comments\ntype RecursiveCommentTree = Comment.WithRepliesAndAuthor[]\n\ntype CommentsMap = Record<Comment['id'], FlattenedComment>\n\ninterface CommentResponse {\n  comments: CommentsMap\n  topLevelComments: Array<Comment['id']>\n  postId: Site['id']\n}\n\nconst flattenRecursiveCommentTree = (\n  tree: RecursiveCommentTree,\n  postId: Cuid,\n  leafIds: Array<Comment['id']>\n): CommentsMap =>\n"},{"type":"text","text":"Repository: chafan-dev/chafan-pwa\nPath: src/common.ts\nURL: https://github.com/chafan-dev/chafan-pwa/blob/master/src/common.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 589) ---\n    });\n    await this.$router.push(`/channels/${channelId}`);\n    */\n  }\n\n  recursiveCommentsCount(comments: IComment[]): number {\n    return (\n      comments.length +\n      comments.reduce(\n        (sum, comment) => sum + this.recursiveCommentsCount(comment.child_comments),\n        0\n      )\n    );\n  }\n}\n"}]}]},"uuid":"2c7648e7-1f96-4510-9fc7-9cac0e638fe6","timestamp":"2025-12-24T03:12:56.806Z","toolUseResult":[{"type":"text","text":"Repository: CrowdDotDev/crowd.dev\nPath: services/libs/integrations/src/integrations/reddit/processStream.ts\nURL: https://github.com/CrowdDotDev/crowd.dev/blob/main/services/libs/integrations/src/integrations/reddit/processStream.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 17) ---\n  RedditMoreCommentsResponse,\n  RedditPostsResponse,\n  RedditStreamType,\n} from './types'\n\nasync function recursiveCommentParser(\n  kind: string,\n  comment: RedditComment | RedditMoreChildren,\n  sourceParentId: string,\n  ctx: IProcessStreamContext,\n) {\n\n\n--- Snippet 2 (Line 76) ---\n  const repliesWrapped = comment.replies.data.children\n\n  // For each reply, we need to recurse to get it parsed either as an activity or a new stream\n  for (const replyWrapped of repliesWrapped) {\n    const reply = replyWrapped.data\n    await recursiveCommentParser(replyWrapped.kind, reply, sourceParentId, ctx)\n  }\n}\n\n"},{"type":"text","text":"Repository: dessalines/flowchat\nPath: ui/src/app/components/discussion/discussion.component.ts\nURL: https://github.com/dessalines/flowchat/blob/master/ui/src/app/components/discussion/discussion.component.ts\nLicense: GPL-3.0\n\nSnippets:\n--- Snippet 1 (Line 23) ---\n  public maxDepth: number = 20;\n\n  public users: Array<User>;\n  public newCommentId: number;\n\n  public recursiveCommentStopper: boolean = false;\n\n  public isReplying: boolean = false;\n\n  public userServiceWatcher: Subscription;\n  public threadedChatSubscription: Subscription;\n\n\n--- Snippet 2 (Line 254) ---\n      return;\n    }\n\n\n    // Do a recursive loop to find and push the new comment\n    this.recursiveComment(editedComment, this.comments, false);\n    this.recursiveCommentStopper = false;\n\n    // Focus on the new comment if not replying\n"},{"type":"text","text":"Repository: parlez-vous/server\nPath: src/routes/embed/get-comments.ts\nURL: https://github.com/parlez-vous/server/blob/master/src/routes/embed/get-comments.ts\nLicense: Unknown\n\nSnippets:\n--- Snippet 1 (Line 19) ---\nimport { omit } from 'utils'\nimport { postIdDecoder, cuidDecoder } from 'routes/parser-utils'\n\ntype RouteError = Errors.RouteError\n\n// RecursiveCommentTree is a comment with an indefinite level of nested replies / comments\ntype RecursiveCommentTree = Comment.WithRepliesAndAuthor[]\n\ntype CommentsMap = Record<Comment['id'], FlattenedComment>\n\ninterface CommentResponse {\n  comments: CommentsMap\n  topLevelComments: Array<Comment['id']>\n  postId: Site['id']\n}\n\nconst flattenRecursiveCommentTree = (\n  tree: RecursiveCommentTree,\n  postId: Cuid,\n  leafIds: Array<Comment['id']>\n): CommentsMap =>\n"},{"type":"text","text":"Repository: chafan-dev/chafan-pwa\nPath: src/common.ts\nURL: https://github.com/chafan-dev/chafan-pwa/blob/master/src/common.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 589) ---\n    });\n    await this.$router.push(`/channels/${channelId}`);\n    */\n  }\n\n  recursiveCommentsCount(comments: IComment[]): number {\n    return (\n      comments.length +\n      comments.reduce(\n        (sum, comment) => sum + this.recursiveCommentsCount(comment.child_comments),\n        0\n      )\n    );\n  }\n}\n"}]}
{"parentUuid":"2c7648e7-1f96-4510-9fc7-9cac0e638fe6","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014mY7WyUb8PyXfPZMTL8eX1","type":"tool_result","content":[{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 11) ---\nimport { ICommentService } from './commentService.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { CommentNode } from './commentNode.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICommentThreadWidget } from '../common/commentThreadWidget.js';\nimport { IMarkdownRendererExtraOptions } from '../../../../platform/markdown/browser/markdownRenderer.js';\nimport { ICellRange } from '../../notebook/common/notebookRange.js';\nimport { IRange } from '../../../../editor/common/core/range.js';\nimport { LayoutableEditor } from './simpleCommentEditor.js';\n\nexport class CommentThreadBody<T extends IRange | ICellRange = IRange> extends Disposable {\n\tprivate _commentsElement!: HTMLElement;\n\tprivate _commentElements: CommentNode<T>[] = [];\n\tprivate _resizeObserver: MutationObserver | null = null;\n\tprivate _focusedComment: number | undefined = undefined;\n\tprivate _onDidResize = new Emitter<dom.Dimension>();\n\tonDidResize = this._onDidResize.event;\n\n\tprivate _commentDisposable = new DisposableMap<CommentNode<T>, DisposableStore>();\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/platform/userDataSync/common/settingsMerge.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/platform/userDataSync/common/settingsMerge.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 360) ---\n\t\t\t*/\n\t\t\tif (sourcePreviousSettingNode) {\n\t\t\t\tconst targetPreviousSetting = findSettingNode(sourcePreviousSettingNode.setting!.key, targetTree);\n\t\t\t\tif (targetPreviousSetting) {\n\t\t\t\t\tconst targetNextSetting = findNextSettingNode(targetTree.indexOf(targetPreviousSetting), targetTree);\n\t\t\t\t\tconst sourceCommentNodes = findNodesBetween(sourceTree, sourcePreviousSettingNode, sourceTree[sourceNodeIndex]);\n\t\t\t\t\tif (targetNextSetting) {\n\t\t\t\t\t\tconst targetCommentNodes = findNodesBetween(targetTree, targetPreviousSetting, targetNextSetting);\n\t\t\t\t\t\tconst targetCommentNode = findLastMatchingTargetCommentNode(sourceCommentNodes, targetCommentNodes);\n\t\t\t\t\t\tif (targetCommentNode) {\n\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetCommentNode), insertAfter: true }; /* Insert after comment */\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetNextSetting), insertAfter: false }; /* Insert before target next setting */\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst targetCommentNodes = findNodesBetween(targetTree, targetPreviousSetting, targetTree[targetTree.length - 1]);\n\t\t\t\t\t\tconst targetCommentNode = findLastMatchingTargetCommentNode(sourceCommentNodes, targetCommentNodes);\n\t\t\t\t\t\tif (targetCommentNode) {\n\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetCommentNode), insertAfter: true }; /* Insert after comment */\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn { index: targetTree.length - 1, insertAfter: true }; /* Insert at the end */\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/contrib/comments/browser/commentsTreeViewer.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/comments/browser/commentsTreeViewer.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 6) ---\nimport * as dom from '../../../../base/browser/dom.js';\nimport * as nls from '../../../../nls.js';\nimport { renderMarkdown } from '../../../../base/browser/markdownRenderer.js';\nimport { IDisposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { IResourceLabel, ResourceLabels } from '../../../browser/labels.js';\nimport { CommentNode, ResourceWithCommentThreads } from '../common/commentModel.js';\nimport { ITreeContextMenuEvent, ITreeFilter, ITreeNode, TreeFilterResult, TreeVisibility } from '../../../../base/browser/ui/tree/tree.js';\nimport { IListVirtualDelegate, IListRenderer } from '../../../../base/browser/ui/list/list.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IListService, IWorkbenchAsyncDataTreeOptions, WorkbenchObjectTree } from '../../../../platform/list/browser/listService.js';\n\n\n--- Snippet 2 (Line 75) ---\n}\n\nclass CommentsModelVirtualDelegate implements IListVirtualDelegate<ResourceWithCommentThreads | CommentNode> {\n\tprivate static readonly RESOURCE_ID = 'resource-with-comments';\n\tprivate static readonly COMMENT_ID = 'comment-node';\n\n\n\tgetHeight(element: any): number {\n\t\tif ((element instanceof CommentNode) && element.hasReply()) {\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/contrib/comments/common/commentModel.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/comments/common/commentModel.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 11) ---\n\tuniqueOwner: string;\n\towner: string;\n\townerLabel: string;\n}\n\nexport class CommentNode {\n\tisRoot: boolean = false;\n\treplies: CommentNode[] = [];\n\tpublic readonly threadId: string;\n\tpublic readonly range: IRange | undefined;\n\tpublic readonly threadState: CommentThreadState | undefined;\n\tpublic readonly threadRelevance: CommentThreadApplicability | undefined;\n\tpublic readonly contextValue: string | undefined;\n\n\n--- Snippet 2 (Line 64) ---\nexport class ResourceWithCommentThreads {\n\tid: string;\n\tuniqueOwner: string;\n\towner: string;\n\townerLabel: string | undefined;\n\tcommentThreads: CommentNode[]; // The top level comments on the file. Replys are nested under each node.\n\tresource: URI;\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/contrib/comments/browser/commentsView.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/comments/browser/commentsView.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 7) ---\nimport * as nls from '../../../../nls.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { CommentNode, ICommentThreadChangedEvent, ResourceWithCommentThreads } from '../common/commentModel.js';\nimport { ICommentService, IWorkspaceCommentThreadsEvent } from './commentService.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { ResourceLabels } from '../../../browser/labels.js';\nimport { CommentsList, COMMENTS_VIEW_TITLE, Filter } from './commentsTreeViewer.js';\nimport { IViewPaneOptions, FilterViewPane } from '../../../browser/parts/views/viewPane.js';\n\n\n--- Snippet 2 (Line 51) ---\n\tshowResolved?: boolean;\n\tshowUnresolved?: boolean;\n\tsortBy?: CommentsSortOrder;\n}\n\ntype CommentsTreeNode = CommentsModel | ResourceWithCommentThreads | CommentNode;\n\nfunction createResourceCommentsIterator(model: ICommentsModel): Iterable<ITreeElement<CommentsTreeNode>> {\n\tconst result: ITreeElement<CommentsTreeNode>[] = [];\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/contrib/comments/browser/commentsAccessibleView.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/comments/browser/commentsAccessibleView.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 13) ---\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { COMMENTS_VIEW_ID, CommentsMenus } from './commentsTreeViewer.js';\nimport { CommentsPanel, CONTEXT_KEY_COMMENT_FOCUSED } from './commentsView.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport { ICommentService } from './commentService.js';\nimport { CommentNode } from '../common/commentModel.js';\nimport { CommentContextKeys } from '../common/commentContextKeys.js';\nimport { moveToNextCommentInThread as findNextCommentInThread, revealCommentThread } from './commentsController.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { isCodeEditor } from '../../../../editor/browser/editorBrowser.js';\n\n\n--- Snippet 2 (Line 39) ---\n\t\tconst focusedCommentNode = commentsView?.focusedCommentNode;\n\n\t\tif (!commentsView || !focusedCommentNode) {\n\t\t\treturn;\n\t\t}\n\t\tconst menus = this._register(new CommentsMenus(menuService));\n\t\tmenus.setContextKeyService(contextKeyService);\n\n\t\treturn new CommentsAccessibleContentProvider(commentsView, focusedCommentNode, menus);\n"},{"type":"text","text":"Repository: angular/angular\nPath: packages/compiler/src/render3/view/template.ts\nURL: https://github.com/angular/angular/blob/main/packages/compiler/src/render3/view/template.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 116) ---\n   * This option is required by tooling that needs to know the location of comment nodes within the\n   * AST. A concrete example is @angular-eslint which requires this in order to enable\n   * \"eslint-disable\" comments within HTML templates, which then allows users to turn off specific\n   * rules on a case by case basis, instead of for their whole project within a configuration file.\n   */\n  collectCommentNodes?: boolean;\n\n  /** Whether the @ block syntax is enabled. */\n  enableBlockSyntax?: boolean;\n\n  /** Whether the `@let` syntax is enabled. */\n\n\n--- Snippet 2 (Line 166) ---\n      nodes: [],\n      styleUrls: [],\n      styles: [],\n      ngContentSelectors: [],\n    };\n    if (options.collectCommentNodes) {\n      parsedTemplate.commentNodes = [];\n    }\n    return parsedTemplate;\n"},{"type":"text","text":"Repository: microsoft/TypeScript\nPath: src/services/codefixes/convertTypedefToType.ts\nURL: https://github.com/microsoft/TypeScript/blob/main/src/services/codefixes/convertTypedefToType.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 85) ---\n    const commentNode = node.parent;\n\n    const { leftSibling, rightSibling } = getLeftAndRightSiblings(node);\n\n    let pos = commentNode.getStart();\n    let prefix = \"\";\n\n    // the first @typedef is the comment block with a text comment above\n    if (!leftSibling && commentNode.comment) {\n        pos = findEndOfTextBetween(commentNode, commentNode.getStart(), node.getStart());\n        prefix = `${newLine} */${newLine}`;\n    }\n\n    if (leftSibling) {\n        if (fixAll && isJSDocTypedefTag(leftSibling)) {\n            // Don't need to keep empty comment clock between created interfaces\n            pos = node.getStart();\n            prefix = \"\";\n        }\n        else {\n            pos = findEndOfTextBetween(commentNode, leftSibling.getStart(), node.getStart());\n"},{"type":"text","text":"Repository: voideditor/void\nPath: src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nURL: https://github.com/voideditor/void/blob/main/src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 9) ---\nimport * as languages from '../../../../editor/common/languages.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { ICommentService } from './commentService.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { CommentNode } from './commentNode.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICommentThreadWidget } from '../common/commentThreadWidget.js';\nimport { IMarkdownRendererOptions, MarkdownRenderer } from '../../../../editor/browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\n\n\n--- Snippet 2 (Line 25) ---\nexport class CommentThreadBody<T extends IRange | ICellRange = IRange> extends Disposable {\n\tprivate _commentsElement!: HTMLElement;\n\tprivate _commentElements: CommentNode<T>[] = [];\n\tprivate _resizeObserver: any;\n\tprivate _focusedComment: number | undefined = undefined;\n\tprivate _onDidResize = new Emitter<dom.Dimension>();\n\tonDidResize = this._onDidResize.event;\n\n\tprivate _commentDisposable = new DisposableMap<CommentNode<T>, DisposableStore>();\n"},{"type":"text","text":"Repository: microsoft/azuredatastudio\nPath: src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nURL: https://github.com/microsoft/azuredatastudio/blob/main/src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 9) ---\nimport * as languages from 'vs/editor/common/languages';\nimport { Emitter } from 'vs/base/common/event';\nimport { ICommentService } from 'vs/workbench/contrib/comments/browser/commentService';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { CommentNode } from 'vs/workbench/contrib/comments/browser/commentNode';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { URI } from 'vs/base/common/uri';\nimport { ICommentThreadWidget } from 'vs/workbench/contrib/comments/common/commentThreadWidget';\nimport { IMarkdownRendererOptions, MarkdownRenderer } from 'vs/editor/contrib/markdownRenderer/browser/markdownRenderer';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\n\n\n--- Snippet 2 (Line 24) ---\nexport class CommentThreadBody<T extends IRange | ICellRange = IRange> extends Disposable {\n\tprivate _commentsElement!: HTMLElement;\n\tprivate _commentElements: CommentNode<T>[] = [];\n\tprivate _resizeObserver: any;\n\tprivate _focusedComment: number | undefined = undefined;\n\tprivate _onDidResize = new Emitter<dom.Dimension>();\n\tonDidResize = this._onDidResize.event;\n\n\tprivate _commentDisposable = new Map<CommentNode<T>, IDisposable>();\n"}]}]},"uuid":"442f166e-ec3d-4c9a-9ebd-d8ae349c3017","timestamp":"2025-12-24T03:12:57.098Z","toolUseResult":[{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 11) ---\nimport { ICommentService } from './commentService.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { CommentNode } from './commentNode.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICommentThreadWidget } from '../common/commentThreadWidget.js';\nimport { IMarkdownRendererExtraOptions } from '../../../../platform/markdown/browser/markdownRenderer.js';\nimport { ICellRange } from '../../notebook/common/notebookRange.js';\nimport { IRange } from '../../../../editor/common/core/range.js';\nimport { LayoutableEditor } from './simpleCommentEditor.js';\n\nexport class CommentThreadBody<T extends IRange | ICellRange = IRange> extends Disposable {\n\tprivate _commentsElement!: HTMLElement;\n\tprivate _commentElements: CommentNode<T>[] = [];\n\tprivate _resizeObserver: MutationObserver | null = null;\n\tprivate _focusedComment: number | undefined = undefined;\n\tprivate _onDidResize = new Emitter<dom.Dimension>();\n\tonDidResize = this._onDidResize.event;\n\n\tprivate _commentDisposable = new DisposableMap<CommentNode<T>, DisposableStore>();\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/platform/userDataSync/common/settingsMerge.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/platform/userDataSync/common/settingsMerge.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 360) ---\n\t\t\t*/\n\t\t\tif (sourcePreviousSettingNode) {\n\t\t\t\tconst targetPreviousSetting = findSettingNode(sourcePreviousSettingNode.setting!.key, targetTree);\n\t\t\t\tif (targetPreviousSetting) {\n\t\t\t\t\tconst targetNextSetting = findNextSettingNode(targetTree.indexOf(targetPreviousSetting), targetTree);\n\t\t\t\t\tconst sourceCommentNodes = findNodesBetween(sourceTree, sourcePreviousSettingNode, sourceTree[sourceNodeIndex]);\n\t\t\t\t\tif (targetNextSetting) {\n\t\t\t\t\t\tconst targetCommentNodes = findNodesBetween(targetTree, targetPreviousSetting, targetNextSetting);\n\t\t\t\t\t\tconst targetCommentNode = findLastMatchingTargetCommentNode(sourceCommentNodes, targetCommentNodes);\n\t\t\t\t\t\tif (targetCommentNode) {\n\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetCommentNode), insertAfter: true }; /* Insert after comment */\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetNextSetting), insertAfter: false }; /* Insert before target next setting */\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst targetCommentNodes = findNodesBetween(targetTree, targetPreviousSetting, targetTree[targetTree.length - 1]);\n\t\t\t\t\t\tconst targetCommentNode = findLastMatchingTargetCommentNode(sourceCommentNodes, targetCommentNodes);\n\t\t\t\t\t\tif (targetCommentNode) {\n\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetCommentNode), insertAfter: true }; /* Insert after comment */\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn { index: targetTree.length - 1, insertAfter: true }; /* Insert at the end */\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/contrib/comments/browser/commentsTreeViewer.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/comments/browser/commentsTreeViewer.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 6) ---\nimport * as dom from '../../../../base/browser/dom.js';\nimport * as nls from '../../../../nls.js';\nimport { renderMarkdown } from '../../../../base/browser/markdownRenderer.js';\nimport { IDisposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { IResourceLabel, ResourceLabels } from '../../../browser/labels.js';\nimport { CommentNode, ResourceWithCommentThreads } from '../common/commentModel.js';\nimport { ITreeContextMenuEvent, ITreeFilter, ITreeNode, TreeFilterResult, TreeVisibility } from '../../../../base/browser/ui/tree/tree.js';\nimport { IListVirtualDelegate, IListRenderer } from '../../../../base/browser/ui/list/list.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IListService, IWorkbenchAsyncDataTreeOptions, WorkbenchObjectTree } from '../../../../platform/list/browser/listService.js';\n\n\n--- Snippet 2 (Line 75) ---\n}\n\nclass CommentsModelVirtualDelegate implements IListVirtualDelegate<ResourceWithCommentThreads | CommentNode> {\n\tprivate static readonly RESOURCE_ID = 'resource-with-comments';\n\tprivate static readonly COMMENT_ID = 'comment-node';\n\n\n\tgetHeight(element: any): number {\n\t\tif ((element instanceof CommentNode) && element.hasReply()) {\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/contrib/comments/common/commentModel.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/comments/common/commentModel.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 11) ---\n\tuniqueOwner: string;\n\towner: string;\n\townerLabel: string;\n}\n\nexport class CommentNode {\n\tisRoot: boolean = false;\n\treplies: CommentNode[] = [];\n\tpublic readonly threadId: string;\n\tpublic readonly range: IRange | undefined;\n\tpublic readonly threadState: CommentThreadState | undefined;\n\tpublic readonly threadRelevance: CommentThreadApplicability | undefined;\n\tpublic readonly contextValue: string | undefined;\n\n\n--- Snippet 2 (Line 64) ---\nexport class ResourceWithCommentThreads {\n\tid: string;\n\tuniqueOwner: string;\n\towner: string;\n\townerLabel: string | undefined;\n\tcommentThreads: CommentNode[]; // The top level comments on the file. Replys are nested under each node.\n\tresource: URI;\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/contrib/comments/browser/commentsView.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/comments/browser/commentsView.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 7) ---\nimport * as nls from '../../../../nls.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { CommentNode, ICommentThreadChangedEvent, ResourceWithCommentThreads } from '../common/commentModel.js';\nimport { ICommentService, IWorkspaceCommentThreadsEvent } from './commentService.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { ResourceLabels } from '../../../browser/labels.js';\nimport { CommentsList, COMMENTS_VIEW_TITLE, Filter } from './commentsTreeViewer.js';\nimport { IViewPaneOptions, FilterViewPane } from '../../../browser/parts/views/viewPane.js';\n\n\n--- Snippet 2 (Line 51) ---\n\tshowResolved?: boolean;\n\tshowUnresolved?: boolean;\n\tsortBy?: CommentsSortOrder;\n}\n\ntype CommentsTreeNode = CommentsModel | ResourceWithCommentThreads | CommentNode;\n\nfunction createResourceCommentsIterator(model: ICommentsModel): Iterable<ITreeElement<CommentsTreeNode>> {\n\tconst result: ITreeElement<CommentsTreeNode>[] = [];\n"},{"type":"text","text":"Repository: microsoft/vscode\nPath: src/vs/workbench/contrib/comments/browser/commentsAccessibleView.ts\nURL: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/contrib/comments/browser/commentsAccessibleView.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 13) ---\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { COMMENTS_VIEW_ID, CommentsMenus } from './commentsTreeViewer.js';\nimport { CommentsPanel, CONTEXT_KEY_COMMENT_FOCUSED } from './commentsView.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport { ICommentService } from './commentService.js';\nimport { CommentNode } from '../common/commentModel.js';\nimport { CommentContextKeys } from '../common/commentContextKeys.js';\nimport { moveToNextCommentInThread as findNextCommentInThread, revealCommentThread } from './commentsController.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { isCodeEditor } from '../../../../editor/browser/editorBrowser.js';\n\n\n--- Snippet 2 (Line 39) ---\n\t\tconst focusedCommentNode = commentsView?.focusedCommentNode;\n\n\t\tif (!commentsView || !focusedCommentNode) {\n\t\t\treturn;\n\t\t}\n\t\tconst menus = this._register(new CommentsMenus(menuService));\n\t\tmenus.setContextKeyService(contextKeyService);\n\n\t\treturn new CommentsAccessibleContentProvider(commentsView, focusedCommentNode, menus);\n"},{"type":"text","text":"Repository: angular/angular\nPath: packages/compiler/src/render3/view/template.ts\nURL: https://github.com/angular/angular/blob/main/packages/compiler/src/render3/view/template.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 116) ---\n   * This option is required by tooling that needs to know the location of comment nodes within the\n   * AST. A concrete example is @angular-eslint which requires this in order to enable\n   * \"eslint-disable\" comments within HTML templates, which then allows users to turn off specific\n   * rules on a case by case basis, instead of for their whole project within a configuration file.\n   */\n  collectCommentNodes?: boolean;\n\n  /** Whether the @ block syntax is enabled. */\n  enableBlockSyntax?: boolean;\n\n  /** Whether the `@let` syntax is enabled. */\n\n\n--- Snippet 2 (Line 166) ---\n      nodes: [],\n      styleUrls: [],\n      styles: [],\n      ngContentSelectors: [],\n    };\n    if (options.collectCommentNodes) {\n      parsedTemplate.commentNodes = [];\n    }\n    return parsedTemplate;\n"},{"type":"text","text":"Repository: microsoft/TypeScript\nPath: src/services/codefixes/convertTypedefToType.ts\nURL: https://github.com/microsoft/TypeScript/blob/main/src/services/codefixes/convertTypedefToType.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 85) ---\n    const commentNode = node.parent;\n\n    const { leftSibling, rightSibling } = getLeftAndRightSiblings(node);\n\n    let pos = commentNode.getStart();\n    let prefix = \"\";\n\n    // the first @typedef is the comment block with a text comment above\n    if (!leftSibling && commentNode.comment) {\n        pos = findEndOfTextBetween(commentNode, commentNode.getStart(), node.getStart());\n        prefix = `${newLine} */${newLine}`;\n    }\n\n    if (leftSibling) {\n        if (fixAll && isJSDocTypedefTag(leftSibling)) {\n            // Don't need to keep empty comment clock between created interfaces\n            pos = node.getStart();\n            prefix = \"\";\n        }\n        else {\n            pos = findEndOfTextBetween(commentNode, leftSibling.getStart(), node.getStart());\n"},{"type":"text","text":"Repository: voideditor/void\nPath: src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nURL: https://github.com/voideditor/void/blob/main/src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nLicense: Apache-2.0\n\nSnippets:\n--- Snippet 1 (Line 9) ---\nimport * as languages from '../../../../editor/common/languages.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { ICommentService } from './commentService.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { CommentNode } from './commentNode.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICommentThreadWidget } from '../common/commentThreadWidget.js';\nimport { IMarkdownRendererOptions, MarkdownRenderer } from '../../../../editor/browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\n\n\n--- Snippet 2 (Line 25) ---\nexport class CommentThreadBody<T extends IRange | ICellRange = IRange> extends Disposable {\n\tprivate _commentsElement!: HTMLElement;\n\tprivate _commentElements: CommentNode<T>[] = [];\n\tprivate _resizeObserver: any;\n\tprivate _focusedComment: number | undefined = undefined;\n\tprivate _onDidResize = new Emitter<dom.Dimension>();\n\tonDidResize = this._onDidResize.event;\n\n\tprivate _commentDisposable = new DisposableMap<CommentNode<T>, DisposableStore>();\n"},{"type":"text","text":"Repository: microsoft/azuredatastudio\nPath: src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nURL: https://github.com/microsoft/azuredatastudio/blob/main/src/vs/workbench/contrib/comments/browser/commentThreadBody.ts\nLicense: MIT\n\nSnippets:\n--- Snippet 1 (Line 9) ---\nimport * as languages from 'vs/editor/common/languages';\nimport { Emitter } from 'vs/base/common/event';\nimport { ICommentService } from 'vs/workbench/contrib/comments/browser/commentService';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { CommentNode } from 'vs/workbench/contrib/comments/browser/commentNode';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { URI } from 'vs/base/common/uri';\nimport { ICommentThreadWidget } from 'vs/workbench/contrib/comments/common/commentThreadWidget';\nimport { IMarkdownRendererOptions, MarkdownRenderer } from 'vs/editor/contrib/markdownRenderer/browser/markdownRenderer';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\n\n\n--- Snippet 2 (Line 24) ---\nexport class CommentThreadBody<T extends IRange | ICellRange = IRange> extends Disposable {\n\tprivate _commentsElement!: HTMLElement;\n\tprivate _commentElements: CommentNode<T>[] = [];\n\tprivate _resizeObserver: any;\n\tprivate _focusedComment: number | undefined = undefined;\n\tprivate _onDidResize = new Emitter<dom.Dimension>();\n\tonDidResize = this._onDidResize.event;\n\n\tprivate _commentDisposable = new Map<CommentNode<T>, IDisposable>();\n"}]}
{"parentUuid":"442f166e-ec3d-4c9a-9ebd-d8ae349c3017","isSidechain":true,"userType":"external","cwd":"/Users/imorgado","sessionId":"7d3f96bf-848f-45e3-b6c8-f538f513563e","version":"2.0.76","gitBranch":"","agentId":"a2c977b","slug":"eager-discovering-sky","message":{"model":"claude-opus-4-5-20251101","id":"msg_01DgoihkrcYcEa449HED4MJh","type":"message","role":"assistant","content":[{"type":"text","text":"Now I have comprehensive research. Let me compile the findings into a summary of best patterns for implementing Reddit-style features.\n\n---\n\n## Summary: Reddit-Style Forum Implementation Patterns\n\nBased on analysis of real-world implementations from GitHub repositories, here are the best patterns for building Reddit-style features:\n\n---\n\n### 1. Communities/Subreddits Structure\n\n**Database Schema Pattern** (from InsForge reddit-clone template):\n```sql\n-- Communities table (subreddits)\nCREATE TABLE communities (\n  id UUID PRIMARY KEY,\n  name VARCHAR(255) UNIQUE NOT NULL,\n  description TEXT,\n  created_at TIMESTAMP DEFAULT NOW()\n);\n```\n\n**TypeScript Interface Pattern** (from transitive-bullshit/agentic):\n```typescript\ninterface Post {\n  id: string;\n  name: string;           // Reddit uses `t3_<id>` format\n  title: string;\n  subreddit: string;      // Community name\n  selftext?: string;\n  author: string;\n  url: string;\n  permalink: string;\n  score: number;\n}\n```\n\n**Key Features:**\n- Communities have unique names (like `r/programming`)\n- Posts belong to a single community\n- Communities can have moderators, rules, and descriptions\n\n---\n\n### 2. Upvote/Downvote System\n\n**VoteType Enum Pattern** (from ashishps1/awesome-low-level-design):\n```typescript\n// /solutions/typescript/src/StackOverflow/VoteTypeEnum.ts\nexport enum VoteTypeEnum {\n  UPVOTE = 1,\n  DOWNVOTE = -1,\n}\n\n// Reputation system for Q&A forums\nexport enum ReputationTypeEnum {\n  QUESTION_UPVOTE = 5,\n  QUESTION_DOWNVOTE = -2,\n  ANSWER_UPVOTE = 10,\n  ANSWER_DOWNVOTE = -2,\n  ANSWER_ACCEPTED = 15,\n}\n```\n\n**Vote Hook Pattern** (from yangshun/tech-interview-handbook):\n```typescript\n// /apps/portal/src/utils/questions/vote/useVote.ts\nconst handleUpvote = () => {\n  // Toggle logic: if already upvoted, remove vote; otherwise upvote\n  if (vote && vote.vote === 'UPVOTE') {\n    setNoVote();\n  } else {\n    setUpVote();\n  }\n};\n\nconst handleDownvote = () => {\n  if (vote && vote.vote === 'DOWNVOTE') {\n    setNoVote();\n  } else {\n    setDownVote();\n  }\n};\n```\n\n**Vote Buttons Component Pattern** (from LemmyNet/lemmy-ui):\n```typescript\n// /src/shared/components/common/vote-buttons.tsx\nfunction handleUpvote(i: VoteButtons) {\n  i.setState({ upvoteLoading: true });\n  \n  switch (i.props.voteContentType) {\n    case \"comment\":\n      i.props.onVote({\n        comment_id: i.props.id,\n        score: i.props.myVoteIsUpvote ? 0 : 1,  // Toggle\n      });\n      break;\n    case \"post\":\n      // Similar pattern for posts\n      break;\n  }\n}\n```\n\n**Key Features:**\n- Votes are stored per-user (one vote per user per item)\n- Toggle behavior: clicking same vote type removes the vote\n- Score = upvotes - downvotes\n- Loading states for optimistic UI updates\n\n---\n\n### 3. Threaded Comments System\n\n**Comment Interface with Parent Reference** (from metersphere/metersphere):\n```typescript\n// /frontend/src/components/business/ms-comment/types.ts\nexport interface CommentItem {\n  id: string;\n  createUser: string;\n  parentId: string;           // Parent comment ID for threading\n  notifier: string;\n  replyUser: string;\n  createTime: number;\n  updateTime: number;\n  content: string;\n  commentUserInfos: CommentUserInfo[];\n  childComments: CommentItem[];  // Nested replies\n}\n```\n\n**Comment Creation with Parent ID** (from outline/outline):\n```typescript\n// /server/routes/api/comments/comments.ts\nasync (ctx) => {\n  const { id, documentId, parentCommentId } = ctx.input.body;\n  \n  if (parentCommentId) {\n    const parentComment = await this.commentRepo.findById(parentCommentId);\n    \n    // Validate parent exists and belongs to same document\n    if (!parentComment || parentComment.pageId !== page.id) {\n      throw new BadRequestException('Parent comment not found');\n    }\n    \n    // Limit nesting depth (common pattern)\n    if (parentComment.parentCommentId !== null) {\n      throw new BadRequestException('You cannot reply to a reply');\n    }\n  }\n  \n  return await this.commentRepo.insertComment({\n    documentId,\n    content,\n    parentCommentId,\n  });\n}\n```\n\n**Building Comment Trees** (from aeharding/voyager - Lemmy client):\n```typescript\n// /src/helpers/lemmy.ts\nexport function buildCommentsTree(\n  comments: CommentView[],\n  parentComment: boolean,\n): CommentNodeI[] {\n  const map = new Map<number, CommentNodeI>();\n  const depthOffset = !parentComment ? 0 : 1;\n  \n  // First pass: create nodes\n  for (const comment of comments) {\n    map.set(comment.comment.id, {\n      comment,\n      children: [],\n      depth: getDepth(comment) - depthOffset,\n    });\n  }\n  \n  // Second pass: build tree structure\n  const roots: CommentNodeI[] = [];\n  for (const comment of comments) {\n    const node = map.get(comment.comment.id)!;\n    const parentId = getParentId(comment);\n    \n    if (parentId && map.has(parentId)) {\n      map.get(parentId)!.children.push(node);\n    } else {\n      roots.push(node);\n    }\n  }\n  \n  return roots;\n}\n```\n\n**CommentNode Class Pattern** (from microsoft/vscode):\n```typescript\n// /src/vs/workbench/contrib/comments/common/commentModel.ts\nexport class CommentNode {\n  isRoot: boolean = false;\n  replies: CommentNode[] = [];\n  public readonly threadId: string;\n  public readonly range: IRange | undefined;\n  public readonly threadState: CommentThreadState | undefined;\n  public readonly contextValue: string | undefined;\n}\n```\n\n---\n\n### 4. Q&A Forum Pattern\n\n**Post with Votes and Comments Interface** (from stemmlerjs/ddd-forum):\n```typescript\n// /src/modules/forum/domain/post.ts\nexport interface PostProps {\n  memberId: MemberId;\n  slug: PostSlug;\n  title: PostTitle;\n  type: PostType;           // 'text' | 'link'\n  text?: PostText;\n  link?: PostLink;\n  comments?: Comments;\n  votes?: PostVotes;\n  totalNumComments?: number;\n  points?: number;          // Can be negative or positive\n  dateTimePosted?: string | Date;\n}\n```\n\n**Question/Answer with Voting** (from yangshun/tech-interview-handbook):\n```typescript\n// Sorting by votes\nconst sortCondition = \n  input.sortType === SortType.TOP\n    ? [\n        { upvotes: input.sortOrder },\n        { id: input.sortOrder },\n      ]\n    : [\n        { updatedAt: input.sortOrder },\n        { id: input.sortOrder },\n      ];\n```\n\n**Post Model with Vote Tracking** (from getfider/fider):\n```typescript\n// /public/models/post.ts\nexport interface Post {\n  id: number;\n  number: number;\n  slug: string;\n  title: string;\n  description: string;\n  status: string;\n  user: User;\n  hasVoted: boolean;        // Current user's vote status\n  votesCount: number;\n  commentsCount: number;\n  tags: string[];\n}\n```\n\n---\n\n### 5. Key Implementation Recommendations\n\n| Feature | Best Practice |\n|---------|---------------|\n| **Vote Storage** | Store individual votes with userId + targetId + voteType; compute score on read |\n| **Comment Threading** | Use `parentCommentId` nullable field; limit depth (2-3 levels common) |\n| **Tree Building** | Two-pass algorithm: create map, then link parent-child relationships |\n| **Optimistic Updates** | Update UI immediately, rollback on API failure |\n| **Sorting** | Support \"Top\" (by votes), \"New\" (by date), \"Hot\" (algorithm combining both) |\n| **Community Isolation** | Posts belong to exactly one community; use foreign key |\n\n---\n\n### 6. Notable Open Source Implementations\n\n| Repository | Description | License |\n|------------|-------------|---------|\n| **stemmlerjs/ddd-forum** | Full DDD implementation with voting HOC | ISC |\n| **LemmyNet/lemmy-ui** | Reddit alternative with complete vote system | AGPL-3.0 |\n| **yangshun/tech-interview-handbook** | Q&A with votes, comments, answers | MIT |\n| **aeharding/voyager** | Lemmy client with comment tree building | AGPL-3.0 |\n| **InsForge/InsForge** | Reddit clone database template | Apache-2.0 |\n\n---\n\n### Sources:\n- [tech-interview-handbook voting hooks](https://github.com/yangshun/tech-interview-handbook/blob/main/apps/portal/src/utils/questions/vote/useVote.ts)\n- [lemmy-ui vote buttons](https://github.com/LemmyNet/lemmy-ui/blob/main/src/shared/components/common/vote-buttons.tsx)\n- [voyager comment tree builder](https://github.com/aeharding/voyager/blob/main/src/helpers/lemmy.ts)\n- [ddd-forum post domain](https://github.com/stemmlerjs/ddd-forum/blob/master/src/modules/forum/domain/post.ts)\n- [outline comment service](https://github.com/outline/outline/blob/main/server/routes/api/comments/comments.ts)\n- [metersphere comment types](https://github.com/metersphere/metersphere/blob/v3.x/frontend/src/components/business/ms-comment/types.ts)\n- [awesome-low-level-design VoteType](https://github.com/ashishps1/awesome-low-level-design/blob/main/solutions/typescript/src/StackOverflow/VoteTypeEnum.ts)\n- [InsForge reddit-clone template](https://github.com/InsForge/InsForge/blob/main/frontend/src/features/database/templates/reddit-clone.ts)"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":5785,"cache_read_input_tokens":39033,"cache_creation":{"ephemeral_5m_input_tokens":5785,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWQnJEDRxVM4LAnURrbZ4","type":"assistant","uuid":"84881e2a-8155-4a0f-bf99-34750394b35b","timestamp":"2025-12-24T03:13:51.237Z"}
