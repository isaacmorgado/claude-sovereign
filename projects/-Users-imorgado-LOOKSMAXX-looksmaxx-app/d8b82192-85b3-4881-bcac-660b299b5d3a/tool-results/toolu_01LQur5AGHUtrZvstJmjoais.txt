     1→/**
     2→ * PSL (Pretty Scale Level) Type Definitions
     3→ *
     4→ * Comprehensive types for the PSL scoring system including:
     5→ * - Height input and rating
     6→ * - Body composition analysis
     7→ * - PSL calculation results
     8→ * - Tier classification
     9→ */
    10→
    11→// ============================================
    12→// INPUT TYPES
    13→// ============================================
    14→
    15→export type Gender = 'male' | 'female';
    16→
    17→export type MuscleLevel = 'low' | 'medium' | 'medium-high' | 'high' | 'very-high' | 'extreme';
    18→
    19→export interface BodyAnalysis {
    20→  bodyFatPercent: number;
    21→  muscleLevel: MuscleLevel;
    22→}
    23→
    24→export interface PSLInput {
    25→  faceScore: number;        // 0-10 from harmony analysis
    26→  heightCm: number;         // User input height in cm
    27→  gender: Gender;
    28→  bodyAnalysis?: BodyAnalysis;  // From AI vision (paid)
    29→  failos?: string[];        // Detected major failos
    30→}
    31→
    32→// ============================================
    33→// BREAKDOWN TYPES
    34→// ============================================
    35→
    36→export interface ComponentScore {
    37→  raw: number;              // Original 0-10 score
    38→  weighted: number;         // After applying weight (e.g., × 0.75)
    39→}
    40→
    41→export interface BonusBreakdown {
    42→  threshold: number;        // Face/Height/Body threshold bonuses
    43→  synergy: number;          // Pair/Triple synergy bonuses
    44→  total: number;            // Sum of all bonuses
    45→}
    46→
    47→export interface PSLBreakdown {
    48→  face: ComponentScore;
    49→  height: ComponentScore;
    50→  body: ComponentScore;
    51→  bonuses: BonusBreakdown;
    52→  penalties: number;
    53→}
    54→
    55→// ============================================
    56→// TIER TYPES
    57→// ============================================
    58→
    59→export type PSLTier =
    60→  | 'Deformity'
    61→  | 'Subhuman'
    62→  | 'Incel'
    63→  | 'LTN'
    64→  | 'MTN'
    65→  | 'HTN'
    66→  | 'Chadlite'
    67→  | 'Chad'
    68→  | 'Gigachad'
    69→  | 'True Mogger';
    70→
    71→export interface TierInfo {
    72→  name: PSLTier;
    73→  minScore: number;
    74→  maxScore: number;
    75→  percentile: number;
    76→  description: string;
    77→  color: string;
    78→}
    79→
    80→// ============================================
    81→// RESULT TYPES
    82→// ============================================
    83→
    84→export interface PSLResult {
    85→  score: number;            // Final PSL 0-10
    86→  tier: PSLTier;            // Tier name
    87→  percentile: number;       // Population percentile
    88→  breakdown: PSLBreakdown;
    89→  potential: number;        // Estimated max with improvements
    90→}
    91→
    92→// ============================================
    93→// HEIGHT RATING TABLES
    94→// ============================================
    95→
    96→export interface HeightRatingEntry {
    97→  heightCm: number;
    98→  rating: number;
    99→  displayHeight: string;    // e.g., "5'10\" (178cm)"
   100→}
   101→
   102→// ============================================
   103→// BODY RATING TABLES
   104→// ============================================
   105→
   106→export interface BodyRatingEntry {
   107→  bodyFatMin: number;
   108→  bodyFatMax: number;
   109→  muscleLevel: MuscleLevel;
   110→  rating: number;
   111→  description: string;
   112→}
   113→
   114→// ============================================
   115→// CONSTANTS
   116→// ============================================
   117→
   118→export const PSL_WEIGHTS = {
   119→  face: 0.75,
   120→  height: 0.20,
   121→  body: 0.05,
   122→} as const;
   123→
   124→export const THRESHOLD_BONUSES = {
   125→  face: 0.30,      // Face >= 8.5
   126→  height: 0.20,    // Height >= 8.5
   127→  body: 0.10,      // Body >= 8.5
   128→} as const;
   129→
   130→export const SYNERGY_BONUSES = {
   131→  faceHeight: 0.15,    // Face + Height >= 8.5
   132→  faceBody: 0.10,      // Face + Body >= 8.5
   133→  heightBody: 0.05,    // Height + Body >= 8.5
   134→  triple: 0.35,        // All three >= 8.5 (replaces pair bonuses)
   135→} as const;
   136→
   137→export const TIER_DEFINITIONS: TierInfo[] = [
   138→  { name: 'Deformity', minScore: 0.0, maxScore: 1.0, percentile: 0.01, description: 'Medical intervention territory', color: '#4a0000' },
   139→  { name: 'Subhuman', minScore: 1.25, maxScore: 1.75, percentile: 0.1, description: 'Genetic outlier', color: '#7f0000' },
   140→  { name: 'Incel', minScore: 2.0, maxScore: 3.0, percentile: 2.5, description: 'Visibly below average', color: '#b91c1c' },
   141→  { name: 'LTN', minScore: 3.5, maxScore: 4.5, percentile: 13.59, description: 'Low Tier Normie', color: '#dc2626' },
   142→  { name: 'MTN', minScore: 4.75, maxScore: 5.25, percentile: 50.0, description: 'Mid Tier Normie - Average', color: '#f59e0b' },
   143→  { name: 'HTN', minScore: 5.5, maxScore: 6.5, percentile: 86.41, description: 'High Tier Normie', color: '#84cc16' },
   144→  { name: 'Chadlite', minScore: 7.0, maxScore: 8.0, percentile: 97.5, description: 'Attractive, local star', color: '#22c55e' },
   145→  { name: 'Chad', minScore: 8.25, maxScore: 8.75, percentile: 99.9, description: 'Very attractive, elite', color: '#06b6d4' },
   146→  { name: 'Gigachad', minScore: 9.0, maxScore: 9.5, percentile: 99.99, description: 'Mythical tier', color: '#8b5cf6' },
   147→  { name: 'True Mogger', minScore: 9.5, maxScore: 10.0, percentile: 99.999, description: 'Theoretical limit', color: '#ec4899' },
   148→];
   149→
   150→// Height rating lookup tables
   151→export const MALE_HEIGHT_RATINGS: HeightRatingEntry[] = [
   152→  { heightCm: 157, rating: 1.0, displayHeight: '<5\'3" (<160cm)' },
   153→  { heightCm: 160, rating: 2.0, displayHeight: '5\'3" (160cm)' },
   154→  { heightCm: 165, rating: 3.0, displayHeight: '5\'5" (165cm)' },
   155→  { heightCm: 170, rating: 4.0, displayHeight: '5\'7" (170cm)' },
   156→  { heightCm: 175, rating: 5.0, displayHeight: '5\'9" (175cm)' },
   157→  { heightCm: 178, rating: 5.5, displayHeight: '5\'10" (178cm)' },
   158→  { heightCm: 180, rating: 6.0, displayHeight: '5\'11" (180cm)' },
   159→  { heightCm: 183, rating: 7.0, displayHeight: '6\'0" (183cm)' },
   160→  { heightCm: 185, rating: 7.5, displayHeight: '6\'1" (185cm)' },
   161→  { heightCm: 188, rating: 8.0, displayHeight: '6\'2" (188cm)' },
   162→  { heightCm: 190, rating: 8.5, displayHeight: '6\'3" (190cm)' },
   163→  { heightCm: 193, rating: 9.0, displayHeight: '6\'4" (193cm)' },
   164→  { heightCm: 196, rating: 9.5, displayHeight: '6\'5"+ (196cm+)' },
   165→];
   166→
   167→export const FEMALE_HEIGHT_RATINGS: HeightRatingEntry[] = [
   168→  { heightCm: 147, rating: 1.0, displayHeight: '<4\'11" (<150cm)' },
   169→  { heightCm: 150, rating: 2.0, displayHeight: '4\'11" (150cm)' },
   170→  { heightCm: 155, rating: 3.5, displayHeight: '5\'1" (155cm)' },
   171→  { heightCm: 160, rating: 5.0, displayHeight: '5\'3" (160cm)' },
   172→  { heightCm: 165, rating: 6.0, displayHeight: '5\'5" (165cm)' },
   173→  { heightCm: 168, rating: 6.5, displayHeight: '5\'6" (168cm)' },
   174→  { heightCm: 170, rating: 7.0, displayHeight: '5\'7" (170cm)' },
   175→  { heightCm: 173, rating: 7.5, displayHeight: '5\'8" (173cm)' },
   176→  { heightCm: 175, rating: 8.0, displayHeight: '5\'9" (175cm)' },
   177→  { heightCm: 178, rating: 8.5, displayHeight: '5\'10" (178cm)' },
   178→  { heightCm: 180, rating: 9.0, displayHeight: '5\'11" (180cm)' },
   179→  { heightCm: 183, rating: 9.0, displayHeight: '6\'0"+ (183cm+)' }, // Cap at 9.0 for females
   180→];
   181→
   182→// Body rating table
   183→export const BODY_RATINGS: BodyRatingEntry[] = [
   184→  { bodyFatMin: 25, bodyFatMax: 100, muscleLevel: 'low', rating: 2.5, description: 'Overweight, no definition' },
   185→  { bodyFatMin: 20, bodyFatMax: 25, muscleLevel: 'low', rating: 4.0, description: 'Soft, minimal definition' },
   186→  { bodyFatMin: 18, bodyFatMax: 22, muscleLevel: 'medium', rating: 5.25, description: 'Average, some definition' },
   187→  { bodyFatMin: 15, bodyFatMax: 18, muscleLevel: 'medium', rating: 6.25, description: 'Lean, visible abs starting' },
   188→  { bodyFatMin: 12, bodyFatMax: 15, muscleLevel: 'medium-high', rating: 7.25, description: 'Athletic, clear definition' },
   189→  { bodyFatMin: 10, bodyFatMax: 12, muscleLevel: 'high', rating: 8.25, description: 'Shredded, competition lean' },
   190→  { bodyFatMin: 8, bodyFatMax: 10, muscleLevel: 'very-high', rating: 9.25, description: 'Elite physique' },
   191→  { bodyFatMin: 0, bodyFatMax: 8, muscleLevel: 'extreme', rating: 9.75, description: 'IFBB Pro tier' },
   192→];
   193→
   194→// ============================================
   195→// UTILITY TYPES
   196→// ============================================
   197→
   198→export interface HeightInputState {
   199→  heightCm: number | null;
   200→  heightFeet: number | null;
   201→  heightInches: number | null;
   202→  inputMode: 'metric' | 'imperial';
   203→}
   204→
   205→export interface PSLContextValue {
   206→  // State
   207→  heightCm: number | null;
   208→  inputMode: 'metric' | 'imperial';
   209→  pslResult: PSLResult | null;
   210→
   211→  // Actions
   212→  setHeightCm: (height: number) => void;
   213→  setInputMode: (mode: 'metric' | 'imperial') => void;
   214→  calculatePSL: (faceScore: number, gender: Gender, bodyAnalysis?: BodyAnalysis, failos?: string[]) => PSLResult;
   215→}
   216→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
