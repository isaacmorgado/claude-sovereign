79:function MediaRenderer({ media }: MediaRendererProps) {
80-  const [hasError, setHasError] = useState(false);
81-  const [isLoading, setIsLoading] = useState(true);
82-
83-  const handleError = useCallback(() => {
84-    setHasError(true);
85-    setIsLoading(false);
86-  }, []);
87-
88-  const handleLoad = useCallback(() => {
89-    setIsLoading(false);
90-  }, []);
91-
92-  const placementClasses = {
93-    inline: 'max-w-lg mx-auto',
94-    hero: 'w-full',
95-    'full-width': 'w-full',
96-  };
97-
98-  const isGif = media.type === 'gif' || media.url.endsWith('.gif');
99-
100-  // Show styled placeholder if image failed to load or doesn't exist
101-  if (hasError) {
102-    return (
103-      <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>
104-        <div className="relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5">
105-          <div className="aspect-video flex items-center justify-center p-8">
106-            <div className="text-center max-w-sm">
107-              <div className="w-16 h-16 bg-cyan-500/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/20">
108-                {isGif ? (
109-                  <div className="w-6 h-6 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin" />
110-                ) : (
111-                  <Sparkles size={28} className="text-cyan-400" />
112-                )}
113-              </div>
114-              <p className="text-neutral-300 font-black uppercase tracking-wider text-sm mb-2">{media.alt}</p>
115-              {media.caption && (
116-                <p className="text-neutral-600 text-xs">{media.caption}</p>
117-              )}
118-            </div>
119-          </div>
120-        </div>
121-      </figure>
122-    );
123-  }
124-
125-  return (
126-    <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>
127-      <div className="relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5">
128-        {/* Loading skeleton */}
129-        {isLoading && (
130-          <div className="absolute inset-0 bg-neutral-900/40 animate-pulse flex items-center justify-center">
131-            <div className="w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin" />
132-          </div>
133-        )}
134-
135-        {isGif ? (
136-          // Use img for GIFs to preserve animation
137-          // eslint-disable-next-line @next/next/no-img-element
138-          <img
139-            src={media.url}