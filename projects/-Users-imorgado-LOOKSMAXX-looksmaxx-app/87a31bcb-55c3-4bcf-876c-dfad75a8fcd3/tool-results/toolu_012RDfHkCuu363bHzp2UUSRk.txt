     1→'use client';
     2→
     3→import { useState, useCallback } from 'react';
     4→import { motion, AnimatePresence } from 'framer-motion';
     5→import {
     6→  BookOpen,
     7→  Dumbbell,
     8→  Sparkles,
     9→  Clock,
    10→  ChevronRight,
    11→  Search,
    12→  Brain,
    13→  Wrench,
    14→  TrendingDown,
    15→  Calendar,
    16→  Target,
    17→  Heart,
    18→  Utensils,
    19→  Droplet,
    20→  X,
    21→  ArrowLeft,
    22→  MessageSquare,
    23→  ExternalLink,
    24→  ShoppingCart,
    25→  CheckCircle2,
    26→} from 'lucide-react';
    27→import Image from 'next/image';
    28→import Link from 'next/link';
    29→import { TabContent } from '../ResultsLayout';
    30→import {
    31→  GUIDE_CATEGORIES,
    32→  getGuidesByCategory,
    33→  getTotalGuideCount,
    34→  getTotalReadTime,
    35→  getGuideProductById,
    36→  getGuidesByGender,
    37→} from '@/data/guides';
    38→import { Guide, GuideCategory, GuideMedia } from '@/types/guides';
    39→import { useRegion } from '@/contexts/RegionContext';
    40→import { useResults } from '@/contexts/ResultsContext';
    41→import ReactMarkdown from 'react-markdown';
    42→import remarkGfm from 'remark-gfm';
    43→
    44→// ============================================
    45→// ICON MAPPING
    46→// ============================================
    47→
    48→const ICON_MAP: Record<string, React.ReactNode> = {
    49→  BookOpen: <BookOpen size={20} />,
    50→  Dumbbell: <Dumbbell size={20} />,
    51→  Sparkles: <Sparkles size={20} />,
    52→  Brain: <Brain size={20} />,
    53→  Wrench: <Wrench size={20} />,
    54→  TrendingDown: <TrendingDown size={20} />,
    55→  Calendar: <Calendar size={20} />,
    56→  Target: <Target size={20} />,
    57→  Heart: <Heart size={20} />,
    58→  Utensils: <Utensils size={20} />,
    59→  Droplet: <Droplet size={20} />,
    60→};
    61→
    62→function getIconComponent(iconName: string, size = 20): React.ReactNode {
    63→  // Check icon map first
    64→  const mappedIcon = ICON_MAP[iconName];
    65→  if (mappedIcon) return mappedIcon;
    66→
    67→  // Fallback to BookOpen
    68→  return <BookOpen size={size} />;
    69→}
    70→
    71→// ============================================
    72→// MEDIA RENDERER
    73→// ============================================
    74→
    75→interface MediaRendererProps {
    76→  media: GuideMedia;
    77→}
    78→
    79→function MediaRenderer({ media }: MediaRendererProps) {
    80→  const [hasError, setHasError] = useState(false);
    81→  const [isLoading, setIsLoading] = useState(true);
    82→
    83→  const handleError = useCallback(() => {
    84→    setHasError(true);
    85→    setIsLoading(false);
    86→  }, []);
    87→
    88→  const handleLoad = useCallback(() => {
    89→    setIsLoading(false);
    90→  }, []);
    91→
    92→  const placementClasses = {
    93→    inline: 'max-w-lg mx-auto',
    94→    hero: 'w-full',
    95→    'full-width': 'w-full',
    96→  };
    97→
    98→  const isGif = media.type === 'gif' || media.url.endsWith('.gif');
    99→
   100→  // Show styled placeholder if image failed to load or doesn't exist
   101→  if (hasError) {
   102→    return (
   103→      <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>
   104→        <div className="relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5">
   105→          <div className="aspect-video flex items-center justify-center p-8">
   106→            <div className="text-center max-w-sm">
   107→              <div className="w-16 h-16 bg-cyan-500/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/20">
   108→                {isGif ? (
   109→                  <div className="w-6 h-6 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin" />
   110→                ) : (
   111→                  <Sparkles size={28} className="text-cyan-400" />
   112→                )}
   113→              </div>
   114→              <p className="text-neutral-300 font-black uppercase tracking-wider text-sm mb-2">{media.alt}</p>
   115→              {media.caption && (
   116→                <p className="text-neutral-600 text-xs">{media.caption}</p>
   117→              )}
   118→            </div>
   119→          </div>
   120→        </div>
   121→      </figure>
   122→    );
   123→  }
   124→
   125→  return (
   126→    <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>
   127→      <div className="relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5">
   128→        {/* Loading skeleton */}
   129→        {isLoading && (
   130→          <div className="absolute inset-0 bg-neutral-900/40 animate-pulse flex items-center justify-center">
   131→            <div className="w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin" />
   132→          </div>
   133→        )}
   134→
   135→        {isGif ? (
   136→          // Use img for GIFs to preserve animation
   137→          // eslint-disable-next-line @next/next/no-img-element
   138→          <img
   139→            src={media.url}
   140→            alt={media.alt}
   141→            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}
   142→            loading="lazy"
   143→            onError={handleError}
   144→            onLoad={handleLoad}
   145→          />
   146→        ) : (
   147→          <Image
   148→            src={media.url}
   149→            alt={media.alt}
   150→            width={media.width || 800}
   151→            height={media.height || 450}
   152→            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}
   153→            onError={handleError}
   154→            onLoad={handleLoad}
   155→          />
   156→        )}
   157→      </div>
   158→      {media.caption && (
   159→        <figcaption className="mt-4 text-center text-[10px] font-black uppercase tracking-widest text-neutral-600">
   160→          {media.caption}
   161→        </figcaption>
   162→      )}
   163→    </figure>
   164→  );
   165→}
   166→
   167→// ============================================
   168→// PRODUCT CALLOUT (CONVERSION OPTIMIZED)
   169→// ============================================
   170→
   171→interface ProductCalloutProps {
   172→  productId: string;
   173→}
   174→
   175→function ProductCallout({ productId }: ProductCalloutProps) {
   176→  const { getLink } = useRegion();
   177→  const product = getGuideProductById(productId);
   178→
   179→  if (!product) return null;
   180→
   181→  const link = getLink(product.regionLinks, product.directLink);
   182→
   183→  return (
   184→    <div className="my-6 p-5 rounded-2xl bg-neutral-900/40 border border-white/5 hover:border-cyan-500/20 transition-all">
   185→      <div className="flex items-center gap-4">
   186→        {/* Product Image */}
   187→        {product.imageUrl && (
   188→          <div className="w-16 h-16 rounded-xl bg-neutral-900 border border-white/10 overflow-hidden flex-shrink-0">
   189→            <Image
   190→              src={product.imageUrl}
   191→              alt={product.name}
   192→              width={64}
   193→              height={64}
   194→              className="w-full h-full object-cover"
   195→            />
   196→          </div>
   197→        )}
   198→
   199→        {/* Product Info */}
   200→        <div className="flex-1 min-w-0">
   201→          <div className="flex items-center gap-2 mb-1">
   202→            <h4 className="font-black uppercase tracking-wide text-white truncate">{product.name}</h4>
   203→            {product.brand && (
   204→              <span className="text-[10px] font-black uppercase tracking-widest text-neutral-600">{product.brand}</span>
   205→            )}
   206→          </div>
   207→          <p className="text-sm text-cyan-400 italic">&ldquo;{product.tagline}&rdquo;</p>
   208→        </div>
   209→
   210→        {/* CTA Button */}
   211→        <a
   212→          href={link}
   213→          target="_blank"
   214→          rel="noopener noreferrer"
   215→          className="flex-shrink-0 flex items-center gap-2 px-5 py-2.5 rounded-xl bg-cyan-500 hover:bg-cyan-400 text-black font-black uppercase tracking-wider text-xs transition-colors"
   216→        >
   217→          <ShoppingCart size={14} />
   218→          <span className="hidden sm:inline">BUY</span>
   219→        </a>
   220→      </div>
   221→    </div>
   222→  );
   223→}
   224→
   225→// ============================================
   226→// FORUM DISCUSSION LINK
   227→// ============================================
   228→
   229→interface ForumDiscussionLinkProps {
   230→  forumCategory?: string;
   231→  guideTitle: string;
   232→}
   233→
   234→function ForumDiscussionLink({ forumCategory, guideTitle }: ForumDiscussionLinkProps) {
   235→  if (!forumCategory) return null;
   236→
   237→  return (
   238→    <div className="mt-8 p-6 rounded-2xl bg-neutral-900/40 border border-white/5">
   239→      <div className="flex items-center gap-3 mb-4">
   240→        <div className="w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center">
   241→          <MessageSquare size={20} className="text-purple-400" />
   242→        </div>
   243→        <div>
   244→          <h3 className="font-black uppercase tracking-wide text-white">DISCUSS THIS GUIDE</h3>
   245→          <p className="text-[10px] font-bold uppercase tracking-wider text-neutral-600">Join the community conversation</p>
   246→        </div>
   247→      </div>
   248→
   249→      <p className="text-sm text-neutral-400 mb-5">
   250→        Have questions about {guideTitle.toLowerCase()}? Want to share your experience?
   251→        Join the discussion in our community forum.
   252→      </p>
   253→
   254→      <Link
   255→        href={`/forum/${forumCategory}`}
   256→        className="inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-purple-500/30 text-purple-400 font-black uppercase tracking-wider text-xs transition-all"
   257→      >
   258→        <MessageSquare size={14} />
   259→        GO TO FORUM
   260→        <ExternalLink size={12} />
   261→      </Link>
   262→    </div>
   263→  );
   264→}
   265→
   266→// ============================================
   267→// GUIDE STATS CARD
   268→// ============================================
   269→
   270→function GuideStatsCard() {
   271→  const totalGuides = getTotalGuideCount();
   272→  const totalMinutes = getTotalReadTime();
   273→
   274→  return (
   275→    <motion.div
   276→      className="rounded-[2rem] bg-neutral-900/40 border border-white/5 p-6 mb-8"
   277→      initial={{ opacity: 0, y: 20 }}
   278→      animate={{ opacity: 1, y: 0 }}
   279→    >
   280→      <div className="flex items-center gap-4 mb-6">
   281→        <div className="w-12 h-12 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center">
   282→          <BookOpen size={22} className="text-cyan-400" />
   283→        </div>
   284→        <div>
   285→          <h2 className="text-xl font-black italic uppercase tracking-tight text-white">PRODUCT <span className="text-cyan-400">GUIDES</span></h2>
   286→          <p className="text-[10px] font-black uppercase tracking-[0.2em] text-neutral-600">EVIDENCE-BASED LOOKSMAXXING RESOURCES</p>
   287→        </div>
   288→      </div>
   289→
   290→      <div className="grid grid-cols-2 gap-4">
   291→        <div className="rounded-xl bg-neutral-900/50 border border-white/5 p-4">
   292→          <div className="text-3xl font-black text-white mb-1">{totalGuides}</div>
   293→          <div className="text-[10px] font-black uppercase tracking-widest text-neutral-600">TOTAL GUIDES</div>
   294→        </div>
   295→        <div className="rounded-xl bg-neutral-900/50 border border-white/5 p-4">
   296→          <div className="flex items-center gap-2 mb-1">
   297→            <Clock size={18} className="text-cyan-400" />
   298→            <div className="text-3xl font-black text-white">{totalMinutes}</div>
   299→          </div>
   300→          <div className="text-[10px] font-black uppercase tracking-widest text-neutral-600">MINUTES OF CONTENT</div>
   301→        </div>
   302→      </div>
   303→    </motion.div>
   304→  );
   305→}
   306→
   307→// ============================================
   308→// GUIDE VIEWER MODAL
   309→// ============================================
   310→
   311→interface GuideViewerProps {
   312→  guide: Guide;
   313→  onClose: () => void;
   314→  onSwitchGuide: (guide: Guide) => void;
   315→  allGuides: Guide[];
   316→  gender: 'male' | 'female';
   317→}
   318→
   319→function GuideViewer({ guide, onClose, onSwitchGuide, allGuides, gender }: GuideViewerProps) {
   320→  const [currentSection, setCurrentSection] = useState(0);
   321→  const [isSidebarOpen, setIsSidebarOpen] = useState(false);
   322→  const [expandedCategories, setExpandedCategories] = useState<string[]>(() => {
   323→    // Find the category of the current guide and expand it by default
   324→    const currentCategory = GUIDE_CATEGORIES.find(c => c.guideIds.includes(guide.id));
   325→    return currentCategory ? [currentCategory.id] : [];
   326→  });
   327→
   328→  const section = guide.sections[currentSection];
   329→
   330→  if (!section) return null;
   331→
   332→  // Calculate reading progress (0% at start, 100% at last section)
   333→  const progress = guide.sections.length > 1
   334→    ? (currentSection / (guide.sections.length - 1)) * 100
   335→    : 100;
   336→
   337→  const toggleCategory = (categoryId: string) => {
   338→    setExpandedCategories(prev =>
   339→      prev.includes(categoryId)
   340→        ? prev.filter(id => id !== categoryId)
   341→        : [...prev, categoryId]
   342→    );
   343→  };
   344→
   345→  // Filter categories by gender
   346→  const filteredCategories = GUIDE_CATEGORIES.filter(cat => {
   347→    if (cat.id === 'male' && gender === 'female') return false;
   348→    if (cat.id === 'female' && gender === 'male') return false;
   349→    return true;
   350→  });
   351→
   352→  const colorClasses: Record<string, { text: string; bg: string; border: string }> = {
   353→    blue: { text: 'text-cyan-400', bg: 'bg-cyan-500/10', border: 'border-cyan-500/20' },
   354→    purple: { text: 'text-purple-400', bg: 'bg-purple-500/10', border: 'border-purple-500/20' },
   355→    amber: { text: 'text-amber-400', bg: 'bg-amber-500/10', border: 'border-amber-500/20' },
   356→    pink: { text: 'text-pink-400', bg: 'bg-pink-500/10', border: 'border-pink-500/20' },
   357→    emerald: { text: 'text-emerald-400', bg: 'bg-emerald-500/10', border: 'border-emerald-500/20' },
   358→    red: { text: 'text-red-400', bg: 'bg-red-500/10', border: 'border-red-500/20' },
   359→  };
   360→
   361→  return (
   362→    <motion.div
   363→      initial={{ opacity: 0 }}
   364→      animate={{ opacity: 1 }}
   365→      exit={{ opacity: 0 }}
   366→      className="fixed inset-0 z-50 bg-black"
   367→    >
   368→      {/* Header */}
   369→      <div className="sticky top-0 z-20 bg-black/95 backdrop-blur-md border-b border-neutral-900">
   370→        <div className="flex items-center justify-between px-4 lg:px-8 py-3">
   371→          <button
   372→            onClick={onClose}
   373→            className="flex items-center gap-2 text-neutral-500 hover:text-cyan-400 text-xs font-black uppercase tracking-widest transition-colors"
   374→          >
   375→            <ArrowLeft size={14} />
   376→            <span className="hidden sm:inline">BACK TO GUIDES</span>
   377→          </button>
   378→
   379→          {/* Progress bar */}
   380→          <div className="hidden md:flex items-center gap-4 flex-1 max-w-md mx-8">
   381→            <div className="flex-1 h-1 bg-neutral-900 rounded-full overflow-hidden">
   382→              <motion.div
   383→                className="h-full bg-gradient-to-r from-cyan-500 to-cyan-400"
   384→                initial={{ width: 0 }}
   385→                animate={{ width: `${progress}%` }}
   386→                transition={{ duration: 0.3 }}
   387→              />
   388→            </div>
   389→            <span className="text-[10px] font-black uppercase tracking-widest text-neutral-600 whitespace-nowrap">
   390→              {currentSection + 1} / {guide.sections.length}
   391→            </span>
   392→          </div>
   393→
   394→          <div className="flex items-center gap-3">
   395→            {/* Mobile menu button */}
   396→            <button
   397→              onClick={() => setIsSidebarOpen(!isSidebarOpen)}
   398→              className="lg:hidden p-2 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10 transition-colors"
   399→            >
   400→              <BookOpen size={18} className="text-neutral-400" />
   401→            </button>
   402→            <button
   403→              onClick={onClose}
   404→              className="p-2 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10 transition-colors"
   405→            >
   406→              <X size={18} className="text-neutral-400" />
   407→            </button>
   408→          </div>
   409→        </div>
   410→      </div>
   411→
   412→      {/* Main Layout: Sidebar + Content */}
   413→      <div className="flex h-[calc(100vh-57px)]">
   414→        {/* Sidebar Navigation */}
   415→        <aside
   416→          className={`
   417→            fixed lg:relative inset-y-0 left-0 z-30 lg:z-0
   418→            w-72 lg:w-80 bg-black lg:bg-neutral-950/50
   419→            border-r border-neutral-900
   420→            transform transition-transform duration-300 ease-in-out
   421→            ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}
   422→            flex flex-col
   423→          `}
   424→        >
   425→          {/* Sidebar Header */}
   426→          <div className="p-4 border-b border-neutral-900">
   427→            <div className="text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-2">
   428→              ALL GUIDES
   429→            </div>
   430→            <p className="text-xs text-neutral-500">Select a lesson below</p>
   431→          </div>
   432→
   433→          {/* Categories & Guides List */}
   434→          <nav className="flex-1 overflow-y-auto p-3">
   435→            {filteredCategories.map(category => {
   436→              const categoryGuides = allGuides.filter(g => category.guideIds.includes(g.id));
   437→              if (categoryGuides.length === 0) return null;
   438→
   439→              const isExpanded = expandedCategories.includes(category.id);
   440→              const styles = colorClasses[category.color] || colorClasses.blue;
   441→              const hasCurrentGuide = categoryGuides.some(g => g.id === guide.id);
   442→
   443→              return (
   444→                <div key={category.id} className="mb-2">
   445→                  {/* Category Header */}
   446→                  <button
   447→                    onClick={() => toggleCategory(category.id)}
   448→                    className={`
   449→                      w-full text-left px-3 py-3 rounded-xl transition-all
   450→                      flex items-center gap-3 group
   451→                      ${hasCurrentGuide ? `${styles.bg} border ${styles.border}` : 'hover:bg-neutral-900/50 border border-transparent'}
   452→                    `}
   453→                  >
   454→                    <div className={`w-8 h-8 rounded-xl ${styles.bg} border ${styles.border} flex items-center justify-center ${styles.text} flex-shrink-0`}>
   455→                      {getIconComponent(category.icon, 16)}
   456→                    </div>
   457→                    <div className="flex-1 min-w-0">
   458→                      <span className={`text-xs font-black uppercase tracking-wide block ${hasCurrentGuide ? 'text-white' : 'text-neutral-400 group-hover:text-white'}`}>
   459→                        {category.name}
   460→                      </span>
   461→                      <span className="text-[10px] text-neutral-600">
   462→                        {categoryGuides.length} guide{categoryGuides.length !== 1 ? 's' : ''}
   463→                      </span>
   464→                    </div>
   465→                    <ChevronRight
   466→                      size={14}
   467→                      className={`${styles.text} transition-transform ${isExpanded ? 'rotate-90' : ''}`}
   468→                    />
   469→                  </button>
   470→
   471→                  {/* Guides List (collapsible) */}
   472→                  <AnimatePresence>
   473→                    {isExpanded && (
   474→                      <motion.ul
   475→                        initial={{ height: 0, opacity: 0 }}
   476→                        animate={{ height: 'auto', opacity: 1 }}
   477→                        exit={{ height: 0, opacity: 0 }}
   478→                        transition={{ duration: 0.2 }}
   479→                        className="overflow-hidden ml-4 mt-1 space-y-0.5"
   480→                      >
   481→                        {categoryGuides.map(g => {
   482→                          const isCurrentGuide = g.id === guide.id;
   483→                          return (
   484→                            <li key={g.id}>
   485→                              <button
   486→                                onClick={() => {
   487→                                  if (isCurrentGuide) {
   488→                                    // Already on this guide, just close sidebar on mobile
   489→                                    setIsSidebarOpen(false);
   490→                                  } else {
   491→                                    onSwitchGuide(g);
   492→                                    setIsSidebarOpen(false);
   493→                                  }
   494→                                }}
   495→                                className={`
   496→                                  w-full text-left px-3 py-2 rounded-lg transition-all
   497→                                  flex items-center gap-2 group
   498→                                  ${isCurrentGuide
   499→                                    ? `${styles.bg} border ${styles.border}`
   500→                                    : 'hover:bg-neutral-900/30 border border-transparent'
   501→                                  }
   502→                                `}
   503→                              >
   504→                                <span className={`w-1.5 h-1.5 rounded-full flex-shrink-0 ${isCurrentGuide ? styles.text.replace('text-', 'bg-') : 'bg-neutral-700'}`} />
   505→                                <span className={`text-xs font-medium truncate ${isCurrentGuide ? 'text-white' : 'text-neutral-500 group-hover:text-neutral-300'}`}>
   506→                                  {g.title}
   507→                                </span>
   508→                                {isCurrentGuide && (
   509→                                  <span className="ml-auto text-[8px] font-black uppercase tracking-wider text-neutral-600">
   510→                                    VIEWING
   511→                                  </span>
   512→                                )}
   513→                              </button>
   514→                            </li>
   515→                          );
   516→                        })}
   517→                      </motion.ul>
   518→                    )}
   519→                  </AnimatePresence>
   520→                </div>
   521→              );
   522→            })}
   523→          </nav>
   524→
   525→          {/* Current Guide Sections */}
   526→          <div className="border-t border-neutral-900">
   527→            <div className="p-3">
   528→              <div className="text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-3 px-2 flex items-center gap-2">
   529→                <BookOpen size={10} />
   530→                SECTIONS
   531→              </div>
   532→              <ul className="space-y-0.5 max-h-48 overflow-y-auto">
   533→                {guide.sections.map((s, idx) => (
   534→                  <li key={s.id}>
   535→                    <button
   536→                      onClick={() => {
   537→                        setCurrentSection(idx);
   538→                        setIsSidebarOpen(false);
   539→                      }}
   540→                      className={`
   541→                        w-full text-left px-3 py-2 rounded-lg transition-all
   542→                        flex items-center gap-2 group
   543→                        ${currentSection === idx
   544→                          ? 'bg-cyan-500/10 border border-cyan-500/20'
   545→                          : 'hover:bg-neutral-900/30 border border-transparent'
   546→                        }
   547→                      `}
   548→                    >
   549→                      <span
   550→                        className={`
   551→                          flex-shrink-0 w-5 h-5 rounded text-[9px] font-black
   552→                          flex items-center justify-center transition-colors
   553→                          ${currentSection === idx
   554→                            ? 'bg-cyan-500 text-black'
   555→                            : idx < currentSection
   556→                              ? 'bg-green-500/20 text-green-400'
   557→                              : 'bg-neutral-900 border border-white/10 text-neutral-600'
   558→                          }
   559→                        `}
   560→                      >
   561→                        {idx < currentSection ? <CheckCircle2 size={10} /> : idx + 1}
   562→                      </span>
   563→                      <span className={`text-[10px] font-bold uppercase tracking-wide truncate ${currentSection === idx ? 'text-white' : 'text-neutral-500'}`}>
   564→                        {s.title}
   565→                      </span>
   566→                    </button>
   567→                  </li>
   568→                ))}
   569→              </ul>
   570→            </div>
   571→          </div>
   572→
   573→          {/* Sidebar Footer */}
   574→          <div className="p-4 border-t border-neutral-900">
   575→            <div className="flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-neutral-600 mb-2">
   576→              <span>PROGRESS</span>
   577→              <span>{Math.round(progress)}%</span>
   578→            </div>
   579→            <div className="h-1.5 bg-neutral-900 rounded-full overflow-hidden">
   580→              <motion.div
   581→                className="h-full bg-gradient-to-r from-cyan-500 to-green-500"
   582→                animate={{ width: `${progress}%` }}
   583→              />
   584→            </div>
   585→          </div>
   586→        </aside>
   587→
   588→        {/* Mobile sidebar overlay */}
   589→        {isSidebarOpen && (
   590→          <div
   591→            className="fixed inset-0 bg-black/60 backdrop-blur-sm z-20 lg:hidden"
   592→            onClick={() => setIsSidebarOpen(false)}
   593→          />
   594→        )}
   595→
   596→        {/* Main Content Area */}
   597→        <main className="flex-1 overflow-y-auto">
   598→          <article className="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-10 lg:py-16">
   599→            {/* Hero Media (only on first section) */}
   600→            {guide.heroMedia && currentSection === 0 && (
   601→              <div className="mb-10">
   602→                <MediaRenderer media={guide.heroMedia} />
   603→              </div>
   604→            )}
   605→
   606→            {/* Article Header (only on first section) */}
   607→            {currentSection === 0 && (
   608→              <header className="mb-12">
   609→                <div className="inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-[10px] font-black uppercase tracking-widest text-cyan-400 mb-6">
   610→                  {getIconComponent(guide.icon, 12)}
   611→                  <span>GUIDE</span>
   612→                </div>
   613→
   614→                <h1 className="text-3xl md:text-4xl font-black tracking-tighter italic uppercase text-white mb-4 leading-tight">
   615→                  {guide.title.split(' ').slice(0, -1).join(' ')} <span className="text-cyan-400">{guide.title.split(' ').slice(-1)}</span>
   616→                </h1>
   617→
   618→                <p className="text-neutral-400 text-base leading-relaxed">
   619→                  {guide.description}
   620→                </p>
   621→              </header>
   622→            )}
   623→
   624→            {/* Section Content */}
   625→            <AnimatePresence mode="wait">
   626→              <motion.section
   627→                key={section.id}
   628→                initial={{ opacity: 0, x: 20 }}
   629→                animate={{ opacity: 1, x: 0 }}
   630→                exit={{ opacity: 0, x: -20 }}
   631→                transition={{ duration: 0.3 }}
   632→              >
   633→                {/* Section Title - Largest heading in section content */}
   634→                <h2 className="text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-8 flex items-center gap-4">
   635→                  {section.title}
   636→                  <div className="flex-1 h-px bg-neutral-800" />
   637→                </h2>
   638→
   639→                {/* Tips Callout */}
   640→                {section.tips && section.tips.length > 0 && (
   641→                  <aside className="mb-10 p-6 rounded-2xl bg-cyan-500/5 border border-cyan-500/10">
   642→                    <h4 className="text-[10px] font-black uppercase tracking-[0.3em] text-cyan-400 mb-4">
   643→                      QUICK TIPS
   644→                    </h4>
   645→                    <ul className="space-y-3">
   646→                      {section.tips.map((tip, i) => (
   647→                        <li key={i} className="flex items-start gap-3 text-neutral-300">
   648→                          <span className="flex-shrink-0 w-5 h-5 bg-cyan-500/20 rounded-lg flex items-center justify-center mt-0.5">
   649→                            <span className="text-cyan-400 text-[10px] font-black">{i + 1}</span>
   650→                          </span>
   651→                          <span className="leading-relaxed text-sm">{tip}</span>
   652→                        </li>
   653→                      ))}
   654→                    </ul>
   655→                  </aside>
   656→                )}
   657→
   658→                {/* Warnings Callout */}
   659→                {section.warnings && section.warnings.length > 0 && (
   660→                  <aside className="mb-10 p-6 rounded-2xl bg-amber-500/5 border border-amber-500/10">
   661→                    <h4 className="text-[10px] font-black uppercase tracking-[0.3em] text-amber-400 mb-4">
   662→                      IMPORTANT
   663→                    </h4>
   664→                    <ul className="space-y-3">
   665→                      {section.warnings.map((warning, i) => (
   666→                        <li key={i} className="flex items-start gap-3 text-neutral-300">
   667→                          <span className="text-amber-400 mt-1">*</span>
   668→                          <span className="leading-relaxed text-sm">{warning}</span>
   669→                        </li>
   670→                      ))}
   671→                    </ul>
   672→                  </aside>
   673→                )}
   674→
   675→                {/* Hero Media for Section */}
   676→                {section.media && section.media.filter(m => m.placement === 'hero').map(media => (
   677→                  <div key={media.id} className="mb-10">
   678→                    <MediaRenderer media={media} />
   679→                  </div>
   680→                ))}
   681→
   682→                {/* Article Body - Custom Markdown Rendering */}
   683→                <div className="article-content">
   684→                  <ReactMarkdown
   685→                    remarkPlugins={[remarkGfm]}
   686→                    components={{
   687→                      // Paragraphs with generous spacing
   688→                      p: ({ children }) => (
   689→                        <p className="text-neutral-400 text-base leading-[1.8] mb-6 font-medium">
   690→                          {children}
   691→                        </p>
   692→                      ),
   693→                      // Headers with clear hierarchy (smaller than section title)
   694→                      h1: ({ children }) => (
   695→                        <h3 className="text-xl font-black italic uppercase text-white mt-12 mb-6 tracking-tight flex items-center gap-3">
   696→                          <span className="w-1.5 h-8 bg-cyan-500 rounded-full" />
   697→                          {children}
   698→                        </h3>
   699→                      ),
   700→                      h2: ({ children }) => (
   701→                        <div className="mt-10 mb-6 p-4 rounded-xl bg-neutral-900/60 border border-white/5">
   702→                          <h4 className="text-base font-black uppercase text-cyan-400 tracking-wide flex items-center gap-2">
   703→                            <span className="w-2 h-2 bg-cyan-400 rounded-full" />
   704→                            {children}
   705→                          </h4>
   706→                        </div>
   707→                      ),
   708→                      h3: ({ children }) => (
   709→                        <h5 className="text-sm font-black uppercase text-white mt-8 mb-4 tracking-wide pl-4 border-l-2 border-purple-500/50">
   710→                          {children}
   711→                        </h5>
   712→                      ),
   713→                      // Strong text
   714→                      strong: ({ children }) => (
   715→                        <strong className="font-black text-white">
   716→                          {children}
   717→                        </strong>
   718→                      ),
   719→                      // Emphasis
   720→                      em: ({ children }) => (
   721→                        <em className="text-neutral-500 not-italic">
   722→                          {children}
   723→                        </em>
   724→                      ),
   725→                      // Lists with proper spacing
   726→                      ul: ({ children }) => (
   727→                        <ul className="my-6 ml-0 space-y-3">
   728→                          {children}
   729→                        </ul>
   730→                      ),
   731→                      ol: ({ children }) => (
   732→                        <ol className="my-6 ml-0 space-y-3 list-decimal list-inside">
   733→                          {children}
   734→                        </ol>
   735→                      ),
   736→                      li: ({ children }) => (
   737→                        <li className="text-neutral-400 text-base leading-[1.8] flex items-start gap-3 font-medium">
   738→                          <span className="text-cyan-500 mt-1.5 flex-shrink-0">*</span>
   739→                          <span>{children}</span>
   740→                        </li>
   741→                      ),
   742→                      // Tables - styled beautifully
   743→                      table: ({ children }) => (
   744→                        <div className="my-8 overflow-x-auto rounded-2xl border border-white/5">
   745→                          <table className="w-full text-left">
   746→                            {children}
   747→                          </table>
   748→                        </div>
   749→                      ),
   750→                      thead: ({ children }) => (
   751→                        <thead className="bg-neutral-900/80 border-b border-white/5">
   752→                          {children}
   753→                        </thead>
   754→                      ),
   755→                      tbody: ({ children }) => (
   756→                        <tbody className="divide-y divide-white/5">
   757→                          {children}
   758→                        </tbody>
   759→                      ),
   760→                      tr: ({ children }) => (
   761→                        <tr className="hover:bg-neutral-900/50 transition-colors">
   762→                          {children}
   763→                        </tr>
   764→                      ),
   765→                      th: ({ children }) => (
   766→                        <th className="px-4 py-3 text-[10px] font-black uppercase tracking-widest text-cyan-400">
   767→                          {children}
   768→                        </th>
   769→                      ),
   770→                      td: ({ children }) => (
   771→                        <td className="px-4 py-3 text-neutral-400 text-sm font-medium">
   772→                          {children}
   773→                        </td>
   774→                      ),
   775→                      // Blockquotes
   776→                      blockquote: ({ children }) => (
   777→                        <blockquote className="my-8 pl-6 border-l-2 border-cyan-500 bg-neutral-900/30 py-4 pr-6 rounded-r-xl">
   778→                          {children}
   779→                        </blockquote>
   780→                      ),
   781→                      // Code
   782→                      code: ({ children }) => (
   783→                        <code className="text-cyan-400 bg-neutral-900 px-2 py-1 rounded-lg text-sm font-mono">
   784→                          {children}
   785→                        </code>
   786→                      ),
   787→                      // Links
   788→                      a: ({ href, children }) => (
   789→                        <a
   790→                          href={href}
   791→                          className="text-cyan-400 hover:text-cyan-300 underline underline-offset-4 decoration-cyan-500/30 hover:decoration-cyan-400 transition-colors font-bold"
   792→                          target="_blank"
   793→                          rel="noopener noreferrer"
   794→                        >
   795→                          {children}
   796→                        </a>
   797→                      ),
   798→                      // Horizontal rule
   799→                      hr: () => (
   800→                        <hr className="my-10 border-neutral-900" />
   801→                      ),
   802→                    }}
   803→                  >
   804→                    {section.content}
   805→                  </ReactMarkdown>
   806→                </div>
   807→
   808→                {/* Inline Media */}
   809→                {section.media && section.media.filter(m => m.placement !== 'hero').map(media => (
   810→                  <div key={media.id} className="my-10">
   811→                    <MediaRenderer media={media} />
   812→                  </div>
   813→                ))}
   814→
   815→                {/* Product Recommendations */}
   816→                {section.products && section.products.length > 0 && (
   817→                  <div className="mt-12 pt-8 border-t border-neutral-900">
   818→                    <h4 className="text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-6 flex items-center gap-4">
   819→                      RECOMMENDED PRODUCTS
   820→                      <div className="flex-1 h-px bg-neutral-800" />
   821→                    </h4>
   822→                    <div className="space-y-4">
   823→                      {section.products.map(productId => (
   824→                        <ProductCallout key={productId} productId={productId} />
   825→                      ))}
   826→                    </div>
   827→                  </div>
   828→                )}
   829→
   830→                {/* Section Navigation */}
   831→                <nav className="flex items-center justify-between mt-16 pt-8 border-t border-neutral-900">
   832→                  <button
   833→                    onClick={() => setCurrentSection(Math.max(0, currentSection - 1))}
   834→                    disabled={currentSection === 0}
   835→                    className={`flex items-center gap-3 group transition-all ${currentSection === 0
   836→                      ? 'text-neutral-800 cursor-not-allowed'
   837→                      : 'text-neutral-500 hover:text-white'
   838→                      }`}
   839→                  >
   840→                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === 0 ? 'bg-neutral-900/30' : 'bg-neutral-900/50 border border-white/5 group-hover:border-white/10'
   841→                      }`}>
   842→                      <ArrowLeft size={18} />
   843→                    </div>
   844→                    <div className="hidden sm:block text-left">
   845→                      <div className="text-[10px] font-black uppercase tracking-widest text-neutral-700 mb-1">PREVIOUS</div>
   846→                      {currentSection > 0 && (
   847→                        <div className="text-xs font-bold uppercase tracking-wide text-neutral-400">{guide.sections[currentSection - 1].title}</div>
   848→                      )}
   849→                    </div>
   850→                  </button>
   851→
   852→                  <button
   853→                    onClick={() => setCurrentSection(Math.min(guide.sections.length - 1, currentSection + 1))}
   854→                    disabled={currentSection === guide.sections.length - 1}
   855→                    className={`flex items-center gap-3 group transition-all ${currentSection === guide.sections.length - 1
   856→                      ? 'text-neutral-800 cursor-not-allowed'
   857→                      : 'text-neutral-500 hover:text-white'
   858→                      }`}
   859→                  >
   860→                    <div className="hidden sm:block text-right">
   861→                      <div className="text-[10px] font-black uppercase tracking-widest text-neutral-700 mb-1">NEXT</div>
   862→                      {currentSection < guide.sections.length - 1 && (
   863→                        <div className="text-xs font-bold uppercase tracking-wide text-neutral-400">{guide.sections[currentSection + 1].title}</div>
   864→                      )}
   865→                    </div>
   866→                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === guide.sections.length - 1
   867→                      ? 'bg-neutral-900/30'
   868→                      : 'bg-cyan-500/10 border border-cyan-500/20 group-hover:bg-cyan-500/20'
   869→                      }`}>
   870→                      <ChevronRight size={18} className={currentSection === guide.sections.length - 1 ? '' : 'text-cyan-400'} />
   871→                    </div>
   872→                  </button>
   873→                </nav>
   874→              </motion.section>
   875→            </AnimatePresence>
   876→
   877→            {/* Forum Discussion Link (after last section) */}
   878→            {currentSection === guide.sections.length - 1 && (
   879→              <div className="mt-16">
   880→                <ForumDiscussionLink
   881→                  forumCategory={guide.forumCategory}
   882→                  guideTitle={guide.title}
   883→                />
   884→              </div>
   885→            )}
   886→          </article>
   887→        </main>
   888→      </div>
   889→    </motion.div>
   890→  );
   891→}
   892→
   893→// ============================================
   894→// GUIDE CARD
   895→// ============================================
   896→
   897→interface GuideCardProps {
   898→  guide: Guide;
   899→  index: number;
   900→  onOpen: (guide: Guide) => void;
   901→}
   902→
   903→function GuideCard({ guide, index, onOpen }: GuideCardProps) {
   904→  const getCategoryColor = (guideId: string) => {
   905→    const category = GUIDE_CATEGORIES.find(c => c.guideIds.includes(guideId));
   906→    if (!category) return 'cyan';
   907→    const colorMap: Record<string, string> = {
   908→      blue: 'cyan',
   909→      purple: 'purple',
   910→      amber: 'amber',
   911→      pink: 'pink',
   912→      emerald: 'emerald',
   913→      red: 'red',
   914→    };
   915→    return colorMap[category.color] || 'cyan';
   916→  };
   917→
   918→  const color = getCategoryColor(guide.id);
   919→
   920→  const colorClasses: Record<string, { bg: string; border: string; text: string; iconBg: string }> = {
   921→    cyan: {
   922→      bg: 'bg-neutral-900/40',
   923→      border: 'border-white/5 hover:border-cyan-500/20',
   924→      text: 'text-cyan-400',
   925→      iconBg: 'bg-neutral-900 border border-white/10',
   926→    },
   927→    purple: {
   928→      bg: 'bg-neutral-900/40',
   929→      border: 'border-white/5 hover:border-purple-500/20',
   930→      text: 'text-purple-400',
   931→      iconBg: 'bg-neutral-900 border border-white/10',
   932→    },
   933→    amber: {
   934→      bg: 'bg-neutral-900/40',
   935→      border: 'border-white/5 hover:border-amber-500/20',
   936→      text: 'text-amber-400',
   937→      iconBg: 'bg-neutral-900 border border-white/10',
   938→    },
   939→    pink: {
   940→      bg: 'bg-neutral-900/40',
   941→      border: 'border-white/5 hover:border-pink-500/20',
   942→      text: 'text-pink-400',
   943→      iconBg: 'bg-neutral-900 border border-white/10',
   944→    },
   945→    emerald: {
   946→      bg: 'bg-neutral-900/40',
   947→      border: 'border-white/5 hover:border-emerald-500/20',
   948→      text: 'text-emerald-400',
   949→      iconBg: 'bg-neutral-900 border border-white/10',
   950→    },
   951→    red: {
   952→      bg: 'bg-neutral-900/40',
   953→      border: 'border-white/5 hover:border-red-500/20',
   954→      text: 'text-red-400',
   955→      iconBg: 'bg-neutral-900 border border-white/10',
   956→    },
   957→  };
   958→
   959→  const styles = colorClasses[color] || colorClasses.cyan;
   960→
   961→  return (
   962→    <motion.div
   963→      onClick={() => onOpen(guide)}
   964→      className={`${styles.bg} ${styles.border} border rounded-2xl p-5 transition-all cursor-pointer group`}
   965→      initial={{ opacity: 0, y: 20 }}
   966→      animate={{ opacity: 1, y: 0 }}
   967→      transition={{ delay: index * 0.05 }}
   968→      whileHover={{ y: -2 }}
   969→    >
   970→      <div className="flex items-start justify-between mb-4">
   971→        <div className={`w-10 h-10 ${styles.iconBg} rounded-xl flex items-center justify-center ${styles.text}`}>
   972→          {getIconComponent(guide.icon)}
   973→        </div>
   974→        <div className="flex items-center gap-1.5 px-2 py-1 rounded-lg bg-neutral-900/50 border border-white/5">
   975→          <Clock size={10} className="text-neutral-600" />
   976→          <span className="text-[10px] font-black uppercase tracking-wider text-neutral-500">{guide.estimatedReadTime} MIN</span>
   977→        </div>
   978→      </div>
   979→
   980→      <h3 className="font-black uppercase tracking-tight text-white mb-1 group-hover:text-cyan-400 transition-colors">
   981→        {guide.title}
   982→      </h3>
   983→
   984→      {guide.subtitle && (
   985→        <p className="text-[10px] font-bold uppercase tracking-wider text-neutral-600 mb-2">{guide.subtitle}</p>
   986→      )}
   987→
   988→      <p className="text-sm text-neutral-500 mb-4 line-clamp-2 font-medium">{guide.description}</p>
   989→
   990→      <div className="flex items-center justify-between pt-3 border-t border-white/5">
   991→        <div className="flex items-center gap-2">
   992→          <span className="text-[10px] font-black uppercase tracking-widest text-neutral-600">
   993→            {guide.sections.length} SECTIONS
   994→          </span>
   995→          {guide.productIds && guide.productIds.length > 0 && (
   996→            <>
   997→              <span className="w-1 h-1 rounded-full bg-neutral-800" />
   998→              <span className="text-[10px] font-black uppercase tracking-widest text-neutral-600">
   999→                {guide.productIds.length} PRODUCTS
  1000→              </span>
  1001→            </>
  1002→          )}
  1003→        </div>
  1004→        <ChevronRight size={16} className="text-neutral-700 group-hover:text-cyan-400 transition-colors" />
  1005→      </div>
  1006→    </motion.div>
  1007→  );
  1008→}
  1009→
  1010→// ============================================
  1011→// CATEGORY SECTION
  1012→// ============================================
  1013→
  1014→interface CategorySectionProps {
  1015→  category: GuideCategory;
  1016→  onOpenGuide: (guide: Guide) => void;
  1017→  gender: 'male' | 'female';
  1018→}
  1019→
  1020→function CategorySection({ category, onOpenGuide, gender }: CategorySectionProps) {
  1021→  // Skip gender-specific categories for the opposite gender
  1022→  if (category.id === 'male' && gender === 'female') return null;
  1023→  if (category.id === 'female' && gender === 'male') return null;
  1024→
  1025→  const guides = getGuidesByCategory(category.id);
  1026→
  1027→  if (guides.length === 0) return null;
  1028→
  1029→  const colorClasses: Record<string, { text: string; iconBg: string }> = {
  1030→    blue: { text: 'text-cyan-400', iconBg: 'bg-neutral-900 border border-white/10' },
  1031→    purple: { text: 'text-purple-400', iconBg: 'bg-neutral-900 border border-white/10' },
  1032→    pink: { text: 'text-pink-400', iconBg: 'bg-neutral-900 border border-white/10' },
  1033→    cyan: { text: 'text-cyan-400', iconBg: 'bg-neutral-900 border border-white/10' },
  1034→    emerald: { text: 'text-emerald-400', iconBg: 'bg-neutral-900 border border-white/10' },
  1035→    red: { text: 'text-red-400', iconBg: 'bg-neutral-900 border border-white/10' },
  1036→    amber: { text: 'text-amber-400', iconBg: 'bg-neutral-900 border border-white/10' },
  1037→  };
  1038→
  1039→  const styles = colorClasses[category.color] || colorClasses.cyan;
  1040→
  1041→  return (
  1042→    <div className="mb-12">
  1043→      {/* Category Header */}
  1044→      <div className="flex items-center gap-4 mb-6">
  1045→        <div className={`w-10 h-10 ${styles.iconBg} rounded-xl flex items-center justify-center ${styles.text}`}>
  1046→          {getIconComponent(category.icon)}
  1047→        </div>
  1048→        <div className="flex-1">
  1049→          <h3 className="text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 flex items-center gap-4">
  1050→            {category.name}
  1051→            <div className="flex-1 h-px bg-neutral-800" />
  1052→          </h3>
  1053→          <p className="text-[10px] font-bold uppercase tracking-wider text-neutral-700 mt-1">{category.description}</p>
  1054→        </div>
  1055→      </div>
  1056→
  1057→      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
  1058→        {guides.map((guide, idx) => (
  1059→          <GuideCard key={guide.id} guide={guide} index={idx} onOpen={onOpenGuide} />
  1060→        ))}
  1061→      </div>
  1062→    </div>
  1063→  );
  1064→}
  1065→
  1066→// ============================================
  1067→// SEARCH BAR
  1068→// ============================================
  1069→
  1070→interface SearchBarProps {
  1071→  query: string;
  1072→  onQueryChange: (query: string) => void;
  1073→}
  1074→
  1075→function SearchBar({ query, onQueryChange }: SearchBarProps) {
  1076→  return (
  1077→    <div className="relative mb-8">
  1078→      <Search size={16} className="absolute left-4 top-1/2 -translate-y-1/2 text-neutral-600" />
  1079→      <input
  1080→        type="text"
  1081→        placeholder="SEARCH GUIDES..."
  1082→        value={query}
  1083→        onChange={(e) => onQueryChange(e.target.value)}
  1084→        className="w-full bg-neutral-900/40 border border-white/5 rounded-xl pl-11 pr-4 py-3.5 text-white placeholder:text-neutral-600 placeholder:font-black placeholder:uppercase placeholder:tracking-widest placeholder:text-xs focus:outline-none focus:border-cyan-500/30 transition-colors font-medium text-sm"
  1085→      />
  1086→    </div>
  1087→  );
  1088→}
  1089→
  1090→// ============================================
  1091→// MAIN TAB COMPONENT
  1092→// ============================================
  1093→
  1094→export function GuidesTab() {
  1095→  const [searchQuery, setSearchQuery] = useState('');
  1096→  const [selectedGuide, setSelectedGuide] = useState<Guide | null>(null);
  1097→  const { gender } = useResults();
  1098→
  1099→  // Filter guides by gender (excludes opposite gender's specific guides)
  1100→  const genderFilteredGuides = getGuidesByGender(gender);
  1101→
  1102→  const filteredGuides = searchQuery.trim()
  1103→    ? genderFilteredGuides.filter(g =>
  1104→        g.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
  1105→        g.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
  1106→        (g.subtitle && g.subtitle.toLowerCase().includes(searchQuery.toLowerCase())) ||
  1107→        (g.tags && g.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase())))
  1108→      )
  1109→    : null;
  1110→
  1111→  const handleOpenGuide = (guide: Guide) => {
  1112→    setSelectedGuide(guide);
  1113→  };
  1114→
  1115→  const handleCloseGuide = () => {
  1116→    setSelectedGuide(null);
  1117→  };
  1118→
  1119→  const handleSwitchGuide = (guide: Guide) => {
  1120→    setSelectedGuide(guide);
  1121→  };
  1122→
  1123→  return (
  1124→    <>
  1125→      <TabContent
  1126→        title="Product Guides"
  1127→        subtitle="Evidence-based guides for optimal results"
  1128→      >
  1129→        <div className="max-w-5xl mx-auto">
  1130→          <GuideStatsCard />
  1131→
  1132→          <SearchBar query={searchQuery} onQueryChange={setSearchQuery} />
  1133→
  1134→          {filteredGuides ? (
  1135→            // Search Results
  1136→            <div>
  1137→              <p className="text-[10px] font-black uppercase tracking-widest text-neutral-600 mb-6">
  1138→                FOUND {filteredGuides.length} GUIDE{filteredGuides.length !== 1 ? 'S' : ''} MATCHING &ldquo;{searchQuery.toUpperCase()}&rdquo;
  1139→              </p>
  1140→              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
  1141→                {filteredGuides.map((guide, idx) => (
  1142→                  <GuideCard key={guide.id} guide={guide} index={idx} onOpen={handleOpenGuide} />
  1143→                ))}
  1144→              </div>
  1145→              {filteredGuides.length === 0 && (
  1146→                <div className="text-center py-16">
  1147→                  <div className="w-16 h-16 rounded-2xl bg-neutral-900 border border-white/10 flex items-center justify-center mx-auto mb-4">
  1148→                    <Search size={24} className="text-neutral-700" />
  1149→                  </div>
  1150→                  <p className="text-[10px] font-black uppercase tracking-widest text-neutral-600">NO GUIDES FOUND MATCHING YOUR SEARCH</p>
  1151→                </div>
  1152→              )}
  1153→            </div>
  1154→          ) : (
  1155→            // Category View
  1156→            <div>
  1157→              {GUIDE_CATEGORIES.map(category => (
  1158→                <CategorySection key={category.id} category={category} onOpenGuide={handleOpenGuide} gender={gender} />
  1159→              ))}
  1160→            </div>
  1161→          )}
  1162→        </div>
  1163→      </TabContent>
  1164→
  1165→      {/* Guide Viewer Modal */}
  1166→      <AnimatePresence>
  1167→        {selectedGuide && (
  1168→          <GuideViewer
  1169→            guide={selectedGuide}
  1170→            onClose={handleCloseGuide}
  1171→            onSwitchGuide={handleSwitchGuide}
  1172→            allGuides={genderFilteredGuides}
  1173→            gender={gender}
  1174→          />
  1175→        )}
  1176→      </AnimatePresence>
  1177→    </>
  1178→  );
  1179→}
  1180→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
