     1→-- Migration 017: Add forum quotas to users table
     2→-- Adds columns for tracking monthly post and comment quotas
     3→
     4→-- Add forum quota columns to users table
     5→ALTER TABLE users
     6→ADD COLUMN IF NOT EXISTS forum_posts_this_month INTEGER DEFAULT 0 NOT NULL,
     7→ADD COLUMN IF NOT EXISTS forum_comments_this_month INTEGER DEFAULT 0 NOT NULL,
     8→ADD COLUMN IF NOT EXISTS quota_reset_date TIMESTAMP WITH TIME ZONE DEFAULT (DATE_TRUNC('month', NOW()) + INTERVAL '1 month') NOT NULL;
     9→
    10→-- Create index for quota reset date to efficiently find users needing reset
    11→CREATE INDEX IF NOT EXISTS idx_users_quota_reset_date ON users (quota_reset_date);
    12→
    13→-- Add comment to document the columns
    14→COMMENT ON COLUMN users.forum_posts_this_month IS 'Number of forum posts created this month';
    15→COMMENT ON COLUMN users.forum_comments_this_month IS 'Number of forum comments created this month';
    16→COMMENT ON COLUMN users.quota_reset_date IS 'Date when monthly quotas reset (first of next month)';
    17→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
