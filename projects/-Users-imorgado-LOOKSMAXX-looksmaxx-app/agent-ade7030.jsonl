{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","type":"user","message":{"role":"user","content":"Redesign /Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/tabs/GuidesTab.tsx to match this premium design style from the FAQ/Sources pages:\n\nDESIGN PATTERNS TO APPLY:\n1. Headers: `text-3xl font-black tracking-tighter italic uppercase` with cyan accent spans\n2. Section headers: `text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600` with divider line (`flex-1 h-px bg-neutral-800`)\n3. Cards: `rounded-2xl bg-neutral-900/40 border border-white/5 hover:border-white/10`\n4. Badges: `font-black uppercase tracking-wider rounded-lg` with subtle bg and border\n5. Labels: `text-[10px] font-bold uppercase tracking-wider text-neutral-600`\n6. Buttons: `rounded-xl bg-neutral-900/50 border border-white/5` with hover states\n7. Premium containers: `rounded-[2rem] bg-neutral-900/40 border border-white/5 p-5`\n8. Icons in boxes: `w-10 h-10 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center`\n\nMake sure to:\n- Update all badges to use UPPERCASE text with tracking-wider\n- Use consistent rounded-xl or rounded-2xl on cards\n- Add subtle borders with white/5 opacity\n- Use font-black for important text\n- Keep the functionality intact, just update the styling\n\nWrite the updated file directly."},"uuid":"a1bd3cc6-41b1-43f4-a58c-3682fe27ca3a","timestamp":"2025-12-26T20:36:38.759Z"}
{"parentUuid":"a1bd3cc6-41b1-43f4-a58c-3682fe27ca3a","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_01C7H2BPRKprKx8c4Dbtc2ov","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01GMNhcUD317MDjzR9zv87N3","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/tabs/GuidesTab.tsx"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":35481,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":35481,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWVwWAyry7P12yy35tDdB","type":"assistant","uuid":"09dd83eb-7e7e-48d7-a7b5-899f652dd00c","timestamp":"2025-12-26T20:36:44.530Z"}
{"parentUuid":"09dd83eb-7e7e-48d7-a7b5-899f652dd00c","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_01C7H2BPRKprKx8c4Dbtc2ov","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Hy6Rg2Fr1hHq4h5bddMFJ3","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/app/faq/page.tsx"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":35481,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":35481,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWVwWAyry7P12yy35tDdB","type":"assistant","uuid":"bfebeaa1-77c1-4073-8a6b-41b34d40425f","timestamp":"2025-12-26T20:36:45.268Z"}
{"parentUuid":"bfebeaa1-77c1-4073-8a6b-41b34d40425f","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_01C7H2BPRKprKx8c4Dbtc2ov","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013VgEWoSCB91YRGZFj8S2PY","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/app/sources/page.tsx"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":35481,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":35481,"ephemeral_1h_input_tokens":0},"output_tokens":215,"service_tier":"standard"}},"requestId":"req_011CWVwWAyry7P12yy35tDdB","type":"assistant","uuid":"a0e0a7a2-a45c-496d-96be-427dab25d6ab","timestamp":"2025-12-26T20:36:45.939Z"}
{"parentUuid":"a0e0a7a2-a45c-496d-96be-427dab25d6ab","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Hy6Rg2Fr1hHq4h5bddMFJ3","type":"tool_result","content":"     1→'use client';\n     2→\n     3→import React from 'react';\n     4→import Link from 'next/link';\n     5→import { ArrowLeft } from 'lucide-react';\n     6→\n     7→const faqs = [\n     8→    {\n     9→        category: \"General\",\n    10→        items: [\n    11→            { q: \"What is LooksMaxx AI?\", a: \"LooksMaxx AI is a premium facial morphometric engine that uses artificial intelligence to analyze facial landmarks, symmetry, and proportions based on established aesthetic scientific canons.\" },\n    12→            { q: \"Is this medically accurate?\", a: \"While our algorithms are based on anthropometric research and neo-classical canons, this is an aesthetic validation tool, not a medical diagnosis device. Always consult with a board-certified plastic surgeon for medical advice.\" },\n    13→        ]\n    14→    },\n    15→    {\n    16→        category: \"Analysis & Metrics\",\n    17→        items: [\n    18→            { q: \"How many ratios do you track?\", a: \"Our Pro engine tracks over 60 distinct facial ratios, including the golden ratio, canthal tilt, gonial angle, midface height, and more.\" },\n    19→            { q: \"What is the PSL scale?\", a: \"The 'Pretty Scale Level' (PSL) is a standardized aesthetic metric used in high-fashion and modeling industries to quantify facial attractiveness on a 1-10 scale based on developmental stability and harmony.\" },\n    20→        ]\n    21→    },\n    22→    {\n    23→        category: \"Privacy & Security\",\n    24→        items: [\n    25→            { q: \"Are my photos private?\", a: \"Yes. Your photos are processed securely and are never shared with third parties. You have the right to delete your data at any time from your settings.\" },\n    26→            { q: \"Do you store my biometric data?\", a: \"We only store the landmark coordinates and resultant scores to provide your analysis history. Raw images can be deleted immediately after processing.\" },\n    27→        ]\n    28→    }\n    29→];\n    30→\n    31→export default function FAQPage() {\n    32→    return (\n    33→        <main className=\"min-h-screen bg-black text-white selection:bg-cyan-500/30\">\n    34→            <div className=\"max-w-4xl mx-auto px-6 pt-32 pb-20\">\n    35→                <Link href=\"/\" className=\"inline-flex items-center gap-2 text-neutral-500 hover:text-cyan-400 text-xs font-black uppercase tracking-widest mb-12 transition-colors\">\n    36→                    <ArrowLeft size={14} />\n    37→                    Back to Labs\n    38→                </Link>\n    39→\n    40→                <header className=\"mb-20\">\n    41→                    <h1 className=\"text-5xl font-black tracking-tighter italic uppercase mb-4\">\n    42→                        Knowledge <span className=\"text-cyan-400\">Base</span>\n    43→                    </h1>\n    44→                    <p className=\"text-neutral-500 font-medium max-w-md uppercase text-xs tracking-[0.2em]\">\n    45→                        Frequently Asked Questions & Technical Documentation\n    46→                    </p>\n    47→                </header>\n    48→\n    49→                <div className=\"space-y-16\">\n    50→                    {faqs.map((cat, idx) => (\n    51→                        <section key={idx}>\n    52→                            <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-8 flex items-center gap-4\">\n    53→                                {cat.category}\n    54→                                <div className=\"flex-1 h-px bg-neutral-900\" />\n    55→                            </h2>\n    56→                            <div className=\"space-y-4\">\n    57→                                {cat.items.map((item, iIdx) => (\n    58→                                    <div key={iIdx} className=\"p-8 rounded-3xl bg-neutral-900/30 border border-white/5 hover:border-white/10 transition-colors\">\n    59→                                        <h3 className=\"text-lg font-black italic uppercase text-white mb-4\">{item.q}</h3>\n    60→                                        <p className=\"text-neutral-400 text-sm font-medium leading-relaxed\">{item.a}</p>\n    61→                                    </div>\n    62→                                ))}\n    63→                            </div>\n    64→                        </section>\n    65→                    ))}\n    66→                </div>\n    67→\n    68→                <footer className=\"mt-20 pt-12 border-t border-neutral-900 flex flex-col items-center gap-6\">\n    69→                    <p className=\"text-neutral-600 text-[10px] font-black uppercase tracking-widest\">Still have technical queries?</p>\n    70→                    <Link href=\"mailto:support@looksmaxx.app\" className=\"h-12 px-8 rounded-2xl bg-white/5 border border-white/10 text-white font-black uppercase tracking-widest text-xs flex items-center hover:bg-white/10 transition-all\">\n    71→                        Contact Ops\n    72→                    </Link>\n    73→                </footer>\n    74→            </div>\n    75→        </main>\n    76→    );\n    77→}\n    78→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"23436aa4-948f-4f7d-be39-f20936c7cfc5","timestamp":"2025-12-26T20:36:45.978Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/app/faq/page.tsx","content":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { ArrowLeft } from 'lucide-react';\n\nconst faqs = [\n    {\n        category: \"General\",\n        items: [\n            { q: \"What is LooksMaxx AI?\", a: \"LooksMaxx AI is a premium facial morphometric engine that uses artificial intelligence to analyze facial landmarks, symmetry, and proportions based on established aesthetic scientific canons.\" },\n            { q: \"Is this medically accurate?\", a: \"While our algorithms are based on anthropometric research and neo-classical canons, this is an aesthetic validation tool, not a medical diagnosis device. Always consult with a board-certified plastic surgeon for medical advice.\" },\n        ]\n    },\n    {\n        category: \"Analysis & Metrics\",\n        items: [\n            { q: \"How many ratios do you track?\", a: \"Our Pro engine tracks over 60 distinct facial ratios, including the golden ratio, canthal tilt, gonial angle, midface height, and more.\" },\n            { q: \"What is the PSL scale?\", a: \"The 'Pretty Scale Level' (PSL) is a standardized aesthetic metric used in high-fashion and modeling industries to quantify facial attractiveness on a 1-10 scale based on developmental stability and harmony.\" },\n        ]\n    },\n    {\n        category: \"Privacy & Security\",\n        items: [\n            { q: \"Are my photos private?\", a: \"Yes. Your photos are processed securely and are never shared with third parties. You have the right to delete your data at any time from your settings.\" },\n            { q: \"Do you store my biometric data?\", a: \"We only store the landmark coordinates and resultant scores to provide your analysis history. Raw images can be deleted immediately after processing.\" },\n        ]\n    }\n];\n\nexport default function FAQPage() {\n    return (\n        <main className=\"min-h-screen bg-black text-white selection:bg-cyan-500/30\">\n            <div className=\"max-w-4xl mx-auto px-6 pt-32 pb-20\">\n                <Link href=\"/\" className=\"inline-flex items-center gap-2 text-neutral-500 hover:text-cyan-400 text-xs font-black uppercase tracking-widest mb-12 transition-colors\">\n                    <ArrowLeft size={14} />\n                    Back to Labs\n                </Link>\n\n                <header className=\"mb-20\">\n                    <h1 className=\"text-5xl font-black tracking-tighter italic uppercase mb-4\">\n                        Knowledge <span className=\"text-cyan-400\">Base</span>\n                    </h1>\n                    <p className=\"text-neutral-500 font-medium max-w-md uppercase text-xs tracking-[0.2em]\">\n                        Frequently Asked Questions & Technical Documentation\n                    </p>\n                </header>\n\n                <div className=\"space-y-16\">\n                    {faqs.map((cat, idx) => (\n                        <section key={idx}>\n                            <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-8 flex items-center gap-4\">\n                                {cat.category}\n                                <div className=\"flex-1 h-px bg-neutral-900\" />\n                            </h2>\n                            <div className=\"space-y-4\">\n                                {cat.items.map((item, iIdx) => (\n                                    <div key={iIdx} className=\"p-8 rounded-3xl bg-neutral-900/30 border border-white/5 hover:border-white/10 transition-colors\">\n                                        <h3 className=\"text-lg font-black italic uppercase text-white mb-4\">{item.q}</h3>\n                                        <p className=\"text-neutral-400 text-sm font-medium leading-relaxed\">{item.a}</p>\n                                    </div>\n                                ))}\n                            </div>\n                        </section>\n                    ))}\n                </div>\n\n                <footer className=\"mt-20 pt-12 border-t border-neutral-900 flex flex-col items-center gap-6\">\n                    <p className=\"text-neutral-600 text-[10px] font-black uppercase tracking-widest\">Still have technical queries?</p>\n                    <Link href=\"mailto:support@looksmaxx.app\" className=\"h-12 px-8 rounded-2xl bg-white/5 border border-white/10 text-white font-black uppercase tracking-widest text-xs flex items-center hover:bg-white/10 transition-all\">\n                        Contact Ops\n                    </Link>\n                </footer>\n            </div>\n        </main>\n    );\n}\n","numLines":78,"startLine":1,"totalLines":78}}}
{"parentUuid":"23436aa4-948f-4f7d-be39-f20936c7cfc5","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013VgEWoSCB91YRGZFj8S2PY","type":"tool_result","content":"     1→'use client';\n     2→\n     3→import React from 'react';\n     4→import Link from 'next/link';\n     5→import { ArrowLeft, BookOpen, FileText, Globe, User } from 'lucide-react';\n     6→\n     7→const sources = [\n     8→    {\n     9→        title: \"The Neo-Classical Canons of Facial Proportion\",\n    10→        author: \"Farkas LG, Hreczko TA, Kolar JC, Munro IR.\",\n    11→        publication: \"Plastic and Reconstructive Surgery Journal (1985)\",\n    12→        link: \"https://pubmed.ncbi.nlm.nih.gov/3991668/\",\n    13→        snippet: \"Establishing the quantitative measurements for the 'ideal' facial structure based on European Renaissance standards and verified through anthropometric analysis of 2,326 healthy subjects.\"\n    14→    },\n    15→    {\n    16→        title: \"Vertical Facial Proportions and the Golden Ratio\",\n    17→        author: \"Jefferson Y.\",\n    18→        publication: \"Journal of General Orthodontics (2004)\",\n    19→        link: \"https://pubmed.ncbi.nlm.nih.gov/15317378/\",\n    20→        snippet: \"Exploring the relationship between facial harmony, the divine proportion (phi), and its role in orthodontic treatment and aesthetic perception.\"\n    21→    },\n    22→    {\n    23→        title: \"The Mandibular Plane Angle and Facial Harmony\",\n    24→        author: \"Ricketts RM.\",\n    25→        publication: \"American Journal of Orthodontics (1960)\",\n    26→        link: \"https://pubmed.ncbi.nlm.nih.gov/13741364/\",\n    27→        snippet: \"A critical study on the relationship between mandibular slope, gonial angle, and perceived masculinity/femininity in human profiles.\"\n    28→    },\n    29→    {\n    30→        title: \"Canthal Tilt and the Perception of Attractiveness\",\n    31→        author: \"Bashour M.\",\n    32→        publication: \"Aesthetic Plastic Surgery (2006)\",\n    33→        link: \"https://pubmed.ncbi.nlm.nih.gov/16544067/\",\n    34→        snippet: \"Standardizing the measurement of lateral canthal tilt and its statistically significant correlation with perceived facial vitality and youth.\"\n    35→    }\n    36→];\n    37→\n    38→export default function SourcesPage() {\n    39→    return (\n    40→        <main className=\"min-h-screen bg-black text-white selection:bg-cyan-500/30\">\n    41→            <div className=\"max-w-4xl mx-auto px-6 pt-32 pb-20\">\n    42→                <Link href=\"/\" className=\"inline-flex items-center gap-2 text-neutral-500 hover:text-cyan-400 text-xs font-black uppercase tracking-widest mb-12 transition-colors\">\n    43→                    <ArrowLeft size={14} />\n    44→                    Back to Labs\n    45→                </Link>\n    46→\n    47→                <header className=\"mb-20\">\n    48→                    <h1 className=\"text-5xl font-black tracking-tighter italic uppercase mb-4\">\n    49→                        Aesthetic <span className=\"text-cyan-400\">Methodology</span>\n    50→                    </h1>\n    51→                    <p className=\"text-neutral-500 font-medium max-w-md uppercase text-xs tracking-[0.2em]\">\n    52→                        Scientific Foundations & Peer-Reviewed Source Citations\n    53→                    </p>\n    54→                </header>\n    55→\n    56→                <div className=\"space-y-24\">\n    57→                    <section className=\"p-10 rounded-[2.5rem] bg-neutral-900/40 border border-white/5 relative overflow-hidden\">\n    58→                        <div className=\"absolute top-0 right-0 p-8 opacity-10\">\n    59→                            <BookOpen size={120} />\n    60→                        </div>\n    61→                        <h2 className=\"text-xs font-black uppercase tracking-[0.4em] text-cyan-500 mb-6\">Our Approach</h2>\n    62→                        <p className=\"text-xl font-bold italic text-neutral-200 leading-relaxed mb-6\">\n    63→                            &ldquo;FACIAL HARMONY IS NOT SUBJECTIVE—IT IS A BIOMETRIC EQUILIBRIUM.&rdquo;\n    64→                        </p>\n    65→                        <p className=\"text-neutral-500 text-sm leading-relaxed max-w-2xl\">\n    66→                            Every score generated by LOOKSMAXX LABS is derived from comparative analysis against the Neo-Classical Canons, Average Composite Models, and modern high-fashion developmental stability metrics. Our engine uses Computer Vision (CV) to identify landmarks with 99.8% precision across diverse lighting conditions.\n    67→                        </p>\n    68→                    </section>\n    69→\n    70→                    <section>\n    71→                        <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-12 flex items-center gap-4\">\n    72→                            Peer-Reviewed Citations\n    73→                            <div className=\"flex-1 h-px bg-neutral-900\" />\n    74→                        </h2>\n    75→                        <div className=\"space-y-16\">\n    76→                            {sources.map((source, idx) => (\n    77→                                <div key={idx} className=\"group relative\">\n    78→                                    <div className=\"absolute -left-6 top-0 bottom-0 w-1 bg-cyan-500/0 group-hover:bg-cyan-500/50 transition-all\" />\n    79→                                    <div className=\"flex gap-8 items-start\">\n    80→                                        <div className=\"w-14 h-14 rounded-2xl bg-neutral-900 border border-white/10 flex items-center justify-center shrink-0 group-hover:border-cyan-500/50 transition-colors shadow-2xl\">\n    81→                                            <FileText size={20} className=\"text-neutral-500 group-hover:text-cyan-400\" />\n    82→                                        </div>\n    83→                                        <div>\n    84→                                            <h3 className=\"text-xl font-black italic uppercase text-white mb-3 leading-[1.1] tracking-tight group-hover:text-cyan-400 transition-colors\">\n    85→                                                {source.title}\n    86→                                            </h3>\n    87→                                            <div className=\"flex flex-wrap items-center gap-x-4 gap-y-2 mb-4\">\n    88→                                                <div className=\"flex items-center gap-2 px-2 py-0.5 rounded bg-white/5 border border-white/10 text-[10px] font-black uppercase tracking-widest text-neutral-300\">\n    89→                                                    <User size={10} className=\"text-cyan-500\" />\n    90→                                                    {source.author.split(',')[0]} ET AL.\n    91→                                                </div>\n    92→                                                <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n    93→                                                    {source.publication}\n    94→                                                </div>\n    95→                                            </div>\n    96→                                            <p className=\"text-neutral-400 text-sm font-medium leading-relaxed mb-6 max-w-3xl border-l border-neutral-800 pl-6 italic\">\n    97→                                                {source.snippet}\n    98→                                            </p>\n    99→                                            <a\n   100→                                                href={source.link}\n   101→                                                target=\"_blank\"\n   102→                                                rel=\"noopener noreferrer\"\n   103→                                                className=\"inline-flex items-center gap-3 px-4 py-2 rounded-xl bg-neutral-900 border border-white/5 text-cyan-400 text-[10px] font-black uppercase tracking-[0.2em] hover:bg-neutral-800 hover:border-cyan-500/30 transition-all\"\n   104→                                            >\n   105→                                                Protocol Archive <Globe size={12} />\n   106→                                            </a>\n   107→                                        </div>\n   108→                                    </div>\n   109→                                </div>\n   110→                            ))}\n   111→                        </div>\n   112→                    </section>\n   113→                </div>\n   114→\n   115→                <footer className=\"mt-32 pt-12 border-t border-neutral-900 text-center\">\n   116→                    <p className=\"text-neutral-700 text-[10px] font-mono uppercase tracking-[0.2em]\">\n   117→                        Engine: Quantum-V4.2 | Citations Verified: 2025.12.23\n   118→                    </p>\n   119→                </footer>\n   120→            </div>\n   121→        </main>\n   122→    );\n   123→}\n   124→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"377227e4-7fb7-4054-8350-0f2d1fc88352","timestamp":"2025-12-26T20:36:45.978Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/app/sources/page.tsx","content":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { ArrowLeft, BookOpen, FileText, Globe, User } from 'lucide-react';\n\nconst sources = [\n    {\n        title: \"The Neo-Classical Canons of Facial Proportion\",\n        author: \"Farkas LG, Hreczko TA, Kolar JC, Munro IR.\",\n        publication: \"Plastic and Reconstructive Surgery Journal (1985)\",\n        link: \"https://pubmed.ncbi.nlm.nih.gov/3991668/\",\n        snippet: \"Establishing the quantitative measurements for the 'ideal' facial structure based on European Renaissance standards and verified through anthropometric analysis of 2,326 healthy subjects.\"\n    },\n    {\n        title: \"Vertical Facial Proportions and the Golden Ratio\",\n        author: \"Jefferson Y.\",\n        publication: \"Journal of General Orthodontics (2004)\",\n        link: \"https://pubmed.ncbi.nlm.nih.gov/15317378/\",\n        snippet: \"Exploring the relationship between facial harmony, the divine proportion (phi), and its role in orthodontic treatment and aesthetic perception.\"\n    },\n    {\n        title: \"The Mandibular Plane Angle and Facial Harmony\",\n        author: \"Ricketts RM.\",\n        publication: \"American Journal of Orthodontics (1960)\",\n        link: \"https://pubmed.ncbi.nlm.nih.gov/13741364/\",\n        snippet: \"A critical study on the relationship between mandibular slope, gonial angle, and perceived masculinity/femininity in human profiles.\"\n    },\n    {\n        title: \"Canthal Tilt and the Perception of Attractiveness\",\n        author: \"Bashour M.\",\n        publication: \"Aesthetic Plastic Surgery (2006)\",\n        link: \"https://pubmed.ncbi.nlm.nih.gov/16544067/\",\n        snippet: \"Standardizing the measurement of lateral canthal tilt and its statistically significant correlation with perceived facial vitality and youth.\"\n    }\n];\n\nexport default function SourcesPage() {\n    return (\n        <main className=\"min-h-screen bg-black text-white selection:bg-cyan-500/30\">\n            <div className=\"max-w-4xl mx-auto px-6 pt-32 pb-20\">\n                <Link href=\"/\" className=\"inline-flex items-center gap-2 text-neutral-500 hover:text-cyan-400 text-xs font-black uppercase tracking-widest mb-12 transition-colors\">\n                    <ArrowLeft size={14} />\n                    Back to Labs\n                </Link>\n\n                <header className=\"mb-20\">\n                    <h1 className=\"text-5xl font-black tracking-tighter italic uppercase mb-4\">\n                        Aesthetic <span className=\"text-cyan-400\">Methodology</span>\n                    </h1>\n                    <p className=\"text-neutral-500 font-medium max-w-md uppercase text-xs tracking-[0.2em]\">\n                        Scientific Foundations & Peer-Reviewed Source Citations\n                    </p>\n                </header>\n\n                <div className=\"space-y-24\">\n                    <section className=\"p-10 rounded-[2.5rem] bg-neutral-900/40 border border-white/5 relative overflow-hidden\">\n                        <div className=\"absolute top-0 right-0 p-8 opacity-10\">\n                            <BookOpen size={120} />\n                        </div>\n                        <h2 className=\"text-xs font-black uppercase tracking-[0.4em] text-cyan-500 mb-6\">Our Approach</h2>\n                        <p className=\"text-xl font-bold italic text-neutral-200 leading-relaxed mb-6\">\n                            &ldquo;FACIAL HARMONY IS NOT SUBJECTIVE—IT IS A BIOMETRIC EQUILIBRIUM.&rdquo;\n                        </p>\n                        <p className=\"text-neutral-500 text-sm leading-relaxed max-w-2xl\">\n                            Every score generated by LOOKSMAXX LABS is derived from comparative analysis against the Neo-Classical Canons, Average Composite Models, and modern high-fashion developmental stability metrics. Our engine uses Computer Vision (CV) to identify landmarks with 99.8% precision across diverse lighting conditions.\n                        </p>\n                    </section>\n\n                    <section>\n                        <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-12 flex items-center gap-4\">\n                            Peer-Reviewed Citations\n                            <div className=\"flex-1 h-px bg-neutral-900\" />\n                        </h2>\n                        <div className=\"space-y-16\">\n                            {sources.map((source, idx) => (\n                                <div key={idx} className=\"group relative\">\n                                    <div className=\"absolute -left-6 top-0 bottom-0 w-1 bg-cyan-500/0 group-hover:bg-cyan-500/50 transition-all\" />\n                                    <div className=\"flex gap-8 items-start\">\n                                        <div className=\"w-14 h-14 rounded-2xl bg-neutral-900 border border-white/10 flex items-center justify-center shrink-0 group-hover:border-cyan-500/50 transition-colors shadow-2xl\">\n                                            <FileText size={20} className=\"text-neutral-500 group-hover:text-cyan-400\" />\n                                        </div>\n                                        <div>\n                                            <h3 className=\"text-xl font-black italic uppercase text-white mb-3 leading-[1.1] tracking-tight group-hover:text-cyan-400 transition-colors\">\n                                                {source.title}\n                                            </h3>\n                                            <div className=\"flex flex-wrap items-center gap-x-4 gap-y-2 mb-4\">\n                                                <div className=\"flex items-center gap-2 px-2 py-0.5 rounded bg-white/5 border border-white/10 text-[10px] font-black uppercase tracking-widest text-neutral-300\">\n                                                    <User size={10} className=\"text-cyan-500\" />\n                                                    {source.author.split(',')[0]} ET AL.\n                                                </div>\n                                                <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n                                                    {source.publication}\n                                                </div>\n                                            </div>\n                                            <p className=\"text-neutral-400 text-sm font-medium leading-relaxed mb-6 max-w-3xl border-l border-neutral-800 pl-6 italic\">\n                                                {source.snippet}\n                                            </p>\n                                            <a\n                                                href={source.link}\n                                                target=\"_blank\"\n                                                rel=\"noopener noreferrer\"\n                                                className=\"inline-flex items-center gap-3 px-4 py-2 rounded-xl bg-neutral-900 border border-white/5 text-cyan-400 text-[10px] font-black uppercase tracking-[0.2em] hover:bg-neutral-800 hover:border-cyan-500/30 transition-all\"\n                                            >\n                                                Protocol Archive <Globe size={12} />\n                                            </a>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </section>\n                </div>\n\n                <footer className=\"mt-32 pt-12 border-t border-neutral-900 text-center\">\n                    <p className=\"text-neutral-700 text-[10px] font-mono uppercase tracking-[0.2em]\">\n                        Engine: Quantum-V4.2 | Citations Verified: 2025.12.23\n                    </p>\n                </footer>\n            </div>\n        </main>\n    );\n}\n","numLines":124,"startLine":1,"totalLines":124}}}
{"parentUuid":"377227e4-7fb7-4054-8350-0f2d1fc88352","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01GMNhcUD317MDjzR9zv87N3","type":"tool_result","content":"     1→'use client';\n     2→\n     3→import { useState, useCallback } from 'react';\n     4→import { motion, AnimatePresence } from 'framer-motion';\n     5→import {\n     6→  BookOpen,\n     7→  Dumbbell,\n     8→  Sparkles,\n     9→  Clock,\n    10→  ChevronRight,\n    11→  Search,\n    12→  Brain,\n    13→  Wrench,\n    14→  TrendingDown,\n    15→  Calendar,\n    16→  Target,\n    17→  Heart,\n    18→  Utensils,\n    19→  Droplet,\n    20→  X,\n    21→  ArrowLeft,\n    22→  MessageSquare,\n    23→  ExternalLink,\n    24→  ShoppingCart,\n    25→  CheckCircle2,\n    26→} from 'lucide-react';\n    27→import Image from 'next/image';\n    28→import Link from 'next/link';\n    29→import { TabContent } from '../ResultsLayout';\n    30→import {\n    31→  GUIDE_CATEGORIES,\n    32→  getGuidesByCategory,\n    33→  getTotalGuideCount,\n    34→  getTotalReadTime,\n    35→  getGuideProductById,\n    36→  getGuidesByGender,\n    37→} from '@/data/guides';\n    38→import { Guide, GuideCategory, GuideMedia } from '@/types/guides';\n    39→import { useRegion } from '@/contexts/RegionContext';\n    40→import { useResults } from '@/contexts/ResultsContext';\n    41→import ReactMarkdown from 'react-markdown';\n    42→import remarkGfm from 'remark-gfm';\n    43→\n    44→// ============================================\n    45→// ICON MAPPING\n    46→// ============================================\n    47→\n    48→const ICON_MAP: Record<string, React.ReactNode> = {\n    49→  BookOpen: <BookOpen size={20} />,\n    50→  Dumbbell: <Dumbbell size={20} />,\n    51→  Sparkles: <Sparkles size={20} />,\n    52→  Brain: <Brain size={20} />,\n    53→  Wrench: <Wrench size={20} />,\n    54→  TrendingDown: <TrendingDown size={20} />,\n    55→  Calendar: <Calendar size={20} />,\n    56→  Target: <Target size={20} />,\n    57→  Heart: <Heart size={20} />,\n    58→  Utensils: <Utensils size={20} />,\n    59→  Droplet: <Droplet size={20} />,\n    60→};\n    61→\n    62→function getIconComponent(iconName: string, size = 20): React.ReactNode {\n    63→  // Check icon map first\n    64→  const mappedIcon = ICON_MAP[iconName];\n    65→  if (mappedIcon) return mappedIcon;\n    66→\n    67→  // Fallback to BookOpen\n    68→  return <BookOpen size={size} />;\n    69→}\n    70→\n    71→// ============================================\n    72→// MEDIA RENDERER\n    73→// ============================================\n    74→\n    75→interface MediaRendererProps {\n    76→  media: GuideMedia;\n    77→}\n    78→\n    79→function MediaRenderer({ media }: MediaRendererProps) {\n    80→  const [hasError, setHasError] = useState(false);\n    81→  const [isLoading, setIsLoading] = useState(true);\n    82→\n    83→  const handleError = useCallback(() => {\n    84→    setHasError(true);\n    85→    setIsLoading(false);\n    86→  }, []);\n    87→\n    88→  const handleLoad = useCallback(() => {\n    89→    setIsLoading(false);\n    90→  }, []);\n    91→\n    92→  const placementClasses = {\n    93→    inline: 'max-w-lg mx-auto',\n    94→    hero: 'w-full',\n    95→    'full-width': 'w-full',\n    96→  };\n    97→\n    98→  const isGif = media.type === 'gif' || media.url.endsWith('.gif');\n    99→\n   100→  // Show styled placeholder if image failed to load or doesn't exist\n   101→  if (hasError) {\n   102→    return (\n   103→      <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n   104→        <div className=\"relative rounded-2xl overflow-hidden bg-gradient-to-br from-neutral-900 to-neutral-950 border border-neutral-800\">\n   105→          <div className=\"aspect-video flex items-center justify-center p-8\">\n   106→            <div className=\"text-center max-w-sm\">\n   107→              <div className=\"w-16 h-16 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/20\">\n   108→                {isGif ? (\n   109→                  <div className=\"w-6 h-6 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin\" />\n   110→                ) : (\n   111→                  <Sparkles size={28} className=\"text-cyan-400\" />\n   112→                )}\n   113→              </div>\n   114→              <p className=\"text-neutral-300 font-medium mb-2\">{media.alt}</p>\n   115→              {media.caption && (\n   116→                <p className=\"text-neutral-500 text-sm\">{media.caption}</p>\n   117→              )}\n   118→            </div>\n   119→          </div>\n   120→        </div>\n   121→      </figure>\n   122→    );\n   123→  }\n   124→\n   125→  return (\n   126→    <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n   127→      <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900 border border-neutral-800\">\n   128→        {/* Loading skeleton */}\n   129→        {isLoading && (\n   130→          <div className=\"absolute inset-0 bg-neutral-900 animate-pulse flex items-center justify-center\">\n   131→            <div className=\"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin\" />\n   132→          </div>\n   133→        )}\n   134→\n   135→        {isGif ? (\n   136→          // Use img for GIFs to preserve animation\n   137→          // eslint-disable-next-line @next/next/no-img-element\n   138→          <img\n   139→            src={media.url}\n   140→            alt={media.alt}\n   141→            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n   142→            loading=\"lazy\"\n   143→            onError={handleError}\n   144→            onLoad={handleLoad}\n   145→          />\n   146→        ) : (\n   147→          <Image\n   148→            src={media.url}\n   149→            alt={media.alt}\n   150→            width={media.width || 800}\n   151→            height={media.height || 450}\n   152→            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n   153→            onError={handleError}\n   154→            onLoad={handleLoad}\n   155→          />\n   156→        )}\n   157→      </div>\n   158→      {media.caption && (\n   159→        <figcaption className=\"mt-4 text-center text-sm text-neutral-500 italic\">\n   160→          {media.caption}\n   161→        </figcaption>\n   162→      )}\n   163→    </figure>\n   164→  );\n   165→}\n   166→\n   167→// ============================================\n   168→// PRODUCT CALLOUT (CONVERSION OPTIMIZED)\n   169→// ============================================\n   170→\n   171→interface ProductCalloutProps {\n   172→  productId: string;\n   173→}\n   174→\n   175→function ProductCallout({ productId }: ProductCalloutProps) {\n   176→  const { getLink } = useRegion();\n   177→  const product = getGuideProductById(productId);\n   178→\n   179→  if (!product) return null;\n   180→\n   181→  const link = getLink(product.regionLinks, product.directLink);\n   182→\n   183→  return (\n   184→    <div className=\"my-6 p-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20 rounded-xl\">\n   185→      <div className=\"flex items-center gap-4\">\n   186→        {/* Product Image */}\n   187→        {product.imageUrl && (\n   188→          <div className=\"w-16 h-16 bg-neutral-800 rounded-lg overflow-hidden flex-shrink-0\">\n   189→            <Image\n   190→              src={product.imageUrl}\n   191→              alt={product.name}\n   192→              width={64}\n   193→              height={64}\n   194→              className=\"w-full h-full object-cover\"\n   195→            />\n   196→          </div>\n   197→        )}\n   198→\n   199→        {/* Product Info */}\n   200→        <div className=\"flex-1 min-w-0\">\n   201→          <div className=\"flex items-center gap-2\">\n   202→            <h4 className=\"font-semibold text-white truncate\">{product.name}</h4>\n   203→            {product.brand && (\n   204→              <span className=\"text-xs text-neutral-500\">{product.brand}</span>\n   205→            )}\n   206→          </div>\n   207→          <p className=\"text-sm text-cyan-300 italic\">&ldquo;{product.tagline}&rdquo;</p>\n   208→        </div>\n   209→\n   210→        {/* CTA Button */}\n   211→        <a\n   212→          href={link}\n   213→          target=\"_blank\"\n   214→          rel=\"noopener noreferrer\"\n   215→          className=\"flex-shrink-0 flex items-center gap-2 px-4 py-2 bg-cyan-500 hover:bg-cyan-400 text-black font-medium rounded-lg transition-colors\"\n   216→        >\n   217→          <ShoppingCart size={16} />\n   218→          <span className=\"hidden sm:inline\">Buy Now</span>\n   219→        </a>\n   220→      </div>\n   221→    </div>\n   222→  );\n   223→}\n   224→\n   225→// ============================================\n   226→// FORUM DISCUSSION LINK\n   227→// ============================================\n   228→\n   229→interface ForumDiscussionLinkProps {\n   230→  forumCategory?: string;\n   231→  guideTitle: string;\n   232→}\n   233→\n   234→function ForumDiscussionLink({ forumCategory, guideTitle }: ForumDiscussionLinkProps) {\n   235→  if (!forumCategory) return null;\n   236→\n   237→  return (\n   238→    <div className=\"mt-8 p-6 bg-neutral-900/50 border border-neutral-800 rounded-xl\">\n   239→      <div className=\"flex items-center gap-3 mb-3\">\n   240→        <div className=\"w-10 h-10 bg-purple-500/10 rounded-xl flex items-center justify-center\">\n   241→          <MessageSquare size={20} className=\"text-purple-400\" />\n   242→        </div>\n   243→        <div>\n   244→          <h3 className=\"font-semibold text-white\">Discuss This Guide</h3>\n   245→          <p className=\"text-sm text-neutral-400\">Join the community conversation</p>\n   246→        </div>\n   247→      </div>\n   248→\n   249→      <p className=\"text-sm text-neutral-400 mb-4\">\n   250→        Have questions about {guideTitle.toLowerCase()}? Want to share your experience?\n   251→        Join the discussion in our community forum.\n   252→      </p>\n   253→\n   254→      <Link\n   255→        href={`/forum/${forumCategory}`}\n   256→        className=\"inline-flex items-center gap-2 px-4 py-2 bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 border border-purple-500/30 rounded-lg transition-colors\"\n   257→      >\n   258→        <MessageSquare size={16} />\n   259→        Go to Forum\n   260→        <ExternalLink size={14} />\n   261→      </Link>\n   262→    </div>\n   263→  );\n   264→}\n   265→\n   266→// ============================================\n   267→// GUIDE STATS CARD\n   268→// ============================================\n   269→\n   270→function GuideStatsCard() {\n   271→  const totalGuides = getTotalGuideCount();\n   272→  const totalMinutes = getTotalReadTime();\n   273→\n   274→  return (\n   275→    <motion.div\n   276→      className=\"bg-gradient-to-br from-neutral-900 to-neutral-950 border border-neutral-800 rounded-2xl p-6 mb-6\"\n   277→      initial={{ opacity: 0, y: 20 }}\n   278→      animate={{ opacity: 1, y: 0 }}\n   279→    >\n   280→      <div className=\"flex items-center gap-3 mb-4\">\n   281→        <div className=\"w-10 h-10 bg-cyan-500/10 rounded-xl flex items-center justify-center\">\n   282→          <BookOpen size={20} className=\"text-cyan-400\" />\n   283→        </div>\n   284→        <div>\n   285→          <h2 className=\"font-semibold text-white\">Product Guides</h2>\n   286→          <p className=\"text-sm text-neutral-400\">Evidence-based looksmaxxing resources</p>\n   287→        </div>\n   288→      </div>\n   289→\n   290→      <div className=\"grid grid-cols-2 gap-4\">\n   291→        <div className=\"bg-neutral-900/50 rounded-xl p-4\">\n   292→          <div className=\"text-2xl font-bold text-white mb-1\">{totalGuides}</div>\n   293→          <div className=\"text-xs text-neutral-500\">Total Guides</div>\n   294→        </div>\n   295→        <div className=\"bg-neutral-900/50 rounded-xl p-4\">\n   296→          <div className=\"flex items-center gap-1.5 mb-1\">\n   297→            <Clock size={16} className=\"text-cyan-400\" />\n   298→            <div className=\"text-2xl font-bold text-white\">{totalMinutes}</div>\n   299→          </div>\n   300→          <div className=\"text-xs text-neutral-500\">Minutes of Content</div>\n   301→        </div>\n   302→      </div>\n   303→    </motion.div>\n   304→  );\n   305→}\n   306→\n   307→// ============================================\n   308→// GUIDE VIEWER MODAL\n   309→// ============================================\n   310→\n   311→interface GuideViewerProps {\n   312→  guide: Guide;\n   313→  onClose: () => void;\n   314→}\n   315→\n   316→function GuideViewer({ guide, onClose }: GuideViewerProps) {\n   317→  const [currentSection, setCurrentSection] = useState(0);\n   318→  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n   319→\n   320→  const section = guide.sections[currentSection];\n   321→\n   322→  if (!section) return null;\n   323→\n   324→  // Calculate reading progress (0% at start, 100% at last section)\n   325→  const progress = guide.sections.length > 1\n   326→    ? (currentSection / (guide.sections.length - 1)) * 100\n   327→    : 100;\n   328→\n   329→  return (\n   330→    <motion.div\n   331→      initial={{ opacity: 0 }}\n   332→      animate={{ opacity: 1 }}\n   333→      exit={{ opacity: 0 }}\n   334→      className=\"fixed inset-0 z-50 bg-neutral-950\"\n   335→    >\n   336→      {/* Header */}\n   337→      <div className=\"sticky top-0 z-20 bg-neutral-950/95 backdrop-blur-md border-b border-neutral-900\">\n   338→        <div className=\"flex items-center justify-between px-4 lg:px-8 py-3\">\n   339→          <button\n   340→            onClick={onClose}\n   341→            className=\"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors\"\n   342→          >\n   343→            <ArrowLeft size={20} />\n   344→            <span className=\"hidden sm:inline text-sm\">Back to Guides</span>\n   345→          </button>\n   346→\n   347→          {/* Progress bar */}\n   348→          <div className=\"hidden md:flex items-center gap-4 flex-1 max-w-md mx-8\">\n   349→            <div className=\"flex-1 h-1 bg-neutral-800 rounded-full overflow-hidden\">\n   350→              <motion.div\n   351→                className=\"h-full bg-gradient-to-r from-cyan-500 to-blue-500\"\n   352→                initial={{ width: 0 }}\n   353→                animate={{ width: `${progress}%` }}\n   354→                transition={{ duration: 0.3 }}\n   355→              />\n   356→            </div>\n   357→            <span className=\"text-xs text-neutral-500 whitespace-nowrap\">\n   358→              {currentSection + 1} / {guide.sections.length}\n   359→            </span>\n   360→          </div>\n   361→\n   362→          <div className=\"flex items-center gap-3\">\n   363→            {/* Mobile menu button */}\n   364→            <button\n   365→              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n   366→              className=\"lg:hidden p-2 hover:bg-neutral-900 rounded-lg transition-colors\"\n   367→            >\n   368→              <BookOpen size={20} className=\"text-neutral-400\" />\n   369→            </button>\n   370→            <button\n   371→              onClick={onClose}\n   372→              className=\"p-2 hover:bg-neutral-900 rounded-lg transition-colors\"\n   373→            >\n   374→              <X size={20} className=\"text-neutral-400\" />\n   375→            </button>\n   376→          </div>\n   377→        </div>\n   378→      </div>\n   379→\n   380→      {/* Main Layout: Sidebar + Content */}\n   381→      <div className=\"flex h-[calc(100vh-57px)]\">\n   382→        {/* Sidebar Navigation */}\n   383→        <aside\n   384→          className={`\n   385→            fixed lg:relative inset-y-0 left-0 z-30 lg:z-0\n   386→            w-72 lg:w-80 bg-neutral-950 lg:bg-neutral-950/50\n   387→            border-r border-neutral-900\n   388→            transform transition-transform duration-300 ease-in-out\n   389→            ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n   390→            flex flex-col\n   391→          `}\n   392→        >\n   393→          {/* Sidebar Header */}\n   394→          <div className=\"p-6 border-b border-neutral-900\">\n   395→            <div className=\"flex items-center gap-3 mb-3\">\n   396→              <div className=\"w-10 h-10 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl flex items-center justify-center text-cyan-400\">\n   397→                {getIconComponent(guide.icon, 20)}\n   398→              </div>\n   399→              <div className=\"flex-1 min-w-0\">\n   400→                <h2 className=\"font-semibold text-white truncate\">{guide.title}</h2>\n   401→                <div className=\"flex items-center gap-2 text-xs text-neutral-500\">\n   402→                  <Clock size={12} />\n   403→                  <span>{guide.estimatedReadTime} min</span>\n   404→                </div>\n   405→              </div>\n   406→            </div>\n   407→            {guide.subtitle && (\n   408→              <p className=\"text-sm text-neutral-500 italic\">{guide.subtitle}</p>\n   409→            )}\n   410→          </div>\n   411→\n   412→          {/* Section List */}\n   413→          <nav className=\"flex-1 overflow-y-auto p-4\">\n   414→            <div className=\"text-xs font-semibold text-neutral-600 uppercase tracking-wider mb-3 px-2\">\n   415→              Sections\n   416→            </div>\n   417→            <ul className=\"space-y-1\">\n   418→              {guide.sections.map((s, idx) => (\n   419→                <li key={s.id}>\n   420→                  <button\n   421→                    onClick={() => {\n   422→                      setCurrentSection(idx);\n   423→                      setIsSidebarOpen(false);\n   424→                    }}\n   425→                    className={`\n   426→                      w-full text-left px-3 py-3 rounded-xl transition-all\n   427→                      flex items-start gap-3 group\n   428→                      ${currentSection === idx\n   429→                        ? 'bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20'\n   430→                        : 'hover:bg-neutral-900 border border-transparent'\n   431→                      }\n   432→                    `}\n   433→                  >\n   434→                    {/* Section number */}\n   435→                    <span\n   436→                      className={`\n   437→                        flex-shrink-0 w-6 h-6 rounded-lg text-xs font-bold\n   438→                        flex items-center justify-center transition-colors\n   439→                        ${currentSection === idx\n   440→                          ? 'bg-cyan-500 text-black'\n   441→                          : idx < currentSection\n   442→                            ? 'bg-green-500/20 text-green-400'\n   443→                            : 'bg-neutral-800 text-neutral-500 group-hover:bg-neutral-700'\n   444→                        }\n   445→                      `}\n   446→                    >\n   447→                      {idx < currentSection ? (\n   448→                        <CheckCircle2 size={14} />\n   449→                      ) : (\n   450→                        idx + 1\n   451→                      )}\n   452→                    </span>\n   453→\n   454→                    {/* Section info */}\n   455→                    <div className=\"flex-1 min-w-0\">\n   456→                      <p\n   457→                        className={`text-sm font-medium truncate ${currentSection === idx ? 'text-white' : 'text-neutral-400 group-hover:text-neutral-200'\n   458→                          }`}\n   459→                      >\n   460→                        {s.title}\n   461→                      </p>\n   462→                      {/* Show media indicator if section has media */}\n   463→                      {s.media && s.media.length > 0 && (\n   464→                        <div className=\"flex items-center gap-1 mt-1\">\n   465→                          <Sparkles size={10} className=\"text-amber-400\" />\n   466→                          <span className=\"text-xs text-neutral-600\">\n   467→                            {s.media.length} visual{s.media.length > 1 ? 's' : ''}\n   468→                          </span>\n   469→                        </div>\n   470→                      )}\n   471→                    </div>\n   472→                  </button>\n   473→                </li>\n   474→              ))}\n   475→            </ul>\n   476→          </nav>\n   477→\n   478→          {/* Sidebar Footer */}\n   479→          <div className=\"p-4 border-t border-neutral-900\">\n   480→            <div className=\"flex items-center justify-between text-xs text-neutral-600 mb-2\">\n   481→              <span>Progress</span>\n   482→              <span>{Math.round(progress)}%</span>\n   483→            </div>\n   484→            <div className=\"h-1.5 bg-neutral-800 rounded-full overflow-hidden\">\n   485→              <motion.div\n   486→                className=\"h-full bg-gradient-to-r from-cyan-500 to-green-500\"\n   487→                animate={{ width: `${progress}%` }}\n   488→              />\n   489→            </div>\n   490→          </div>\n   491→        </aside>\n   492→\n   493→        {/* Mobile sidebar overlay */}\n   494→        {isSidebarOpen && (\n   495→          <div\n   496→            className=\"fixed inset-0 bg-black/60 z-20 lg:hidden\"\n   497→            onClick={() => setIsSidebarOpen(false)}\n   498→          />\n   499→        )}\n   500→\n   501→        {/* Main Content Area */}\n   502→        <main className=\"flex-1 overflow-y-auto\">\n   503→          <article className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-10 lg:py-16\">\n   504→            {/* Hero Media (only on first section) */}\n   505→            {guide.heroMedia && currentSection === 0 && (\n   506→              <div className=\"mb-10\">\n   507→                <MediaRenderer media={guide.heroMedia} />\n   508→              </div>\n   509→            )}\n   510→\n   511→            {/* Article Header (only on first section) */}\n   512→            {currentSection === 0 && (\n   513→              <header className=\"mb-12\">\n   514→                <div className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-cyan-500/10 text-cyan-400 rounded-full text-xs font-medium mb-4\">\n   515→                  {getIconComponent(guide.icon, 14)}\n   516→                  <span className=\"uppercase tracking-wider\">Guide</span>\n   517→                </div>\n   518→\n   519→                <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-4 leading-tight\">\n   520→                  {guide.title}\n   521→                </h1>\n   522→\n   523→                <p className=\"text-neutral-300 text-lg leading-relaxed\">\n   524→                  {guide.description}\n   525→                </p>\n   526→              </header>\n   527→            )}\n   528→\n   529→            {/* Section Content */}\n   530→            <AnimatePresence mode=\"wait\">\n   531→              <motion.section\n   532→                key={section.id}\n   533→                initial={{ opacity: 0, x: 20 }}\n   534→                animate={{ opacity: 1, x: 0 }}\n   535→                exit={{ opacity: 0, x: -20 }}\n   536→                transition={{ duration: 0.3 }}\n   537→              >\n   538→                {/* Section Title - Largest heading in section content */}\n   539→                <h2 className=\"text-3xl md:text-4xl font-bold text-white mb-8 pb-4 border-b border-neutral-900\">\n   540→                  {section.title}\n   541→                </h2>\n   542→\n   543→                {/* Tips Callout */}\n   544→                {section.tips && section.tips.length > 0 && (\n   545→                  <aside className=\"mb-10 p-6 bg-gradient-to-br from-cyan-500/5 to-cyan-600/5 border-l-4 border-cyan-500 rounded-r-xl\">\n   546→                    <h4 className=\"text-sm font-semibold text-cyan-400 uppercase tracking-wider mb-4\">\n   547→                      Quick Tips\n   548→                    </h4>\n   549→                    <ul className=\"space-y-3\">\n   550→                      {section.tips.map((tip, i) => (\n   551→                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n   552→                          <span className=\"flex-shrink-0 w-5 h-5 bg-cyan-500/20 rounded-full flex items-center justify-center mt-0.5\">\n   553→                            <span className=\"text-cyan-400 text-xs font-bold\">{i + 1}</span>\n   554→                          </span>\n   555→                          <span className=\"leading-relaxed\">{tip}</span>\n   556→                        </li>\n   557→                      ))}\n   558→                    </ul>\n   559→                  </aside>\n   560→                )}\n   561→\n   562→                {/* Warnings Callout */}\n   563→                {section.warnings && section.warnings.length > 0 && (\n   564→                  <aside className=\"mb-10 p-6 bg-gradient-to-br from-amber-500/5 to-amber-600/5 border-l-4 border-amber-500 rounded-r-xl\">\n   565→                    <h4 className=\"text-sm font-semibold text-amber-400 uppercase tracking-wider mb-4\">\n   566→                      ⚠️ Important\n   567→                    </h4>\n   568→                    <ul className=\"space-y-3\">\n   569→                      {section.warnings.map((warning, i) => (\n   570→                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n   571→                          <span className=\"text-amber-400 mt-1\">•</span>\n   572→                          <span className=\"leading-relaxed\">{warning}</span>\n   573→                        </li>\n   574→                      ))}\n   575→                    </ul>\n   576→                  </aside>\n   577→                )}\n   578→\n   579→                {/* Hero Media for Section */}\n   580→                {section.media && section.media.filter(m => m.placement === 'hero').map(media => (\n   581→                  <div key={media.id} className=\"mb-10\">\n   582→                    <MediaRenderer media={media} />\n   583→                  </div>\n   584→                ))}\n   585→\n   586→                {/* Article Body - Custom Markdown Rendering */}\n   587→                <div className=\"article-content\">\n   588→                  <ReactMarkdown\n   589→                    remarkPlugins={[remarkGfm]}\n   590→                    components={{\n   591→                      // Paragraphs with generous spacing\n   592→                      p: ({ children }) => (\n   593→                        <p className=\"text-neutral-300 text-lg leading-[1.8] mb-6\">\n   594→                          {children}\n   595→                        </p>\n   596→                      ),\n   597→                      // Headers with clear hierarchy (smaller than section title)\n   598→                      h1: ({ children }) => (\n   599→                        <h3 className=\"text-2xl md:text-3xl font-bold text-white mt-12 mb-6\">\n   600→                          {children}\n   601→                        </h3>\n   602→                      ),\n   603→                      h2: ({ children }) => (\n   604→                        <h4 className=\"text-xl md:text-2xl font-bold text-white mt-10 mb-5 pb-3 border-b border-neutral-800\">\n   605→                          {children}\n   606→                        </h4>\n   607→                      ),\n   608→                      h3: ({ children }) => (\n   609→                        <h5 className=\"text-lg md:text-xl font-semibold text-white mt-8 mb-4\">\n   610→                          {children}\n   611→                        </h5>\n   612→                      ),\n   613→                      // Strong text\n   614→                      strong: ({ children }) => (\n   615→                        <strong className=\"font-semibold text-white\">\n   616→                          {children}\n   617→                        </strong>\n   618→                      ),\n   619→                      // Emphasis\n   620→                      em: ({ children }) => (\n   621→                        <em className=\"text-neutral-400 not-italic\">\n   622→                          {children}\n   623→                        </em>\n   624→                      ),\n   625→                      // Lists with proper spacing\n   626→                      ul: ({ children }) => (\n   627→                        <ul className=\"my-6 ml-0 space-y-3\">\n   628→                          {children}\n   629→                        </ul>\n   630→                      ),\n   631→                      ol: ({ children }) => (\n   632→                        <ol className=\"my-6 ml-0 space-y-3 list-decimal list-inside\">\n   633→                          {children}\n   634→                        </ol>\n   635→                      ),\n   636→                      li: ({ children }) => (\n   637→                        <li className=\"text-neutral-300 text-lg leading-[1.8] flex items-start gap-3\">\n   638→                          <span className=\"text-cyan-500 mt-1.5 flex-shrink-0\">•</span>\n   639→                          <span>{children}</span>\n   640→                        </li>\n   641→                      ),\n   642→                      // Tables - styled beautifully\n   643→                      table: ({ children }) => (\n   644→                        <div className=\"my-8 overflow-x-auto rounded-xl border border-neutral-800\">\n   645→                          <table className=\"w-full text-left\">\n   646→                            {children}\n   647→                          </table>\n   648→                        </div>\n   649→                      ),\n   650→                      thead: ({ children }) => (\n   651→                        <thead className=\"bg-neutral-900/80 border-b border-neutral-800\">\n   652→                          {children}\n   653→                        </thead>\n   654→                      ),\n   655→                      tbody: ({ children }) => (\n   656→                        <tbody className=\"divide-y divide-neutral-800/50\">\n   657→                          {children}\n   658→                        </tbody>\n   659→                      ),\n   660→                      tr: ({ children }) => (\n   661→                        <tr className=\"hover:bg-neutral-900/50 transition-colors\">\n   662→                          {children}\n   663→                        </tr>\n   664→                      ),\n   665→                      th: ({ children }) => (\n   666→                        <th className=\"px-4 py-3 text-sm font-semibold text-cyan-400 uppercase tracking-wider\">\n   667→                          {children}\n   668→                        </th>\n   669→                      ),\n   670→                      td: ({ children }) => (\n   671→                        <td className=\"px-4 py-3 text-neutral-300\">\n   672→                          {children}\n   673→                        </td>\n   674→                      ),\n   675→                      // Blockquotes\n   676→                      blockquote: ({ children }) => (\n   677→                        <blockquote className=\"my-8 pl-6 border-l-4 border-cyan-500 bg-neutral-900/50 py-4 pr-6 rounded-r-lg\">\n   678→                          {children}\n   679→                        </blockquote>\n   680→                      ),\n   681→                      // Code\n   682→                      code: ({ children }) => (\n   683→                        <code className=\"text-cyan-400 bg-neutral-900 px-2 py-1 rounded text-base\">\n   684→                          {children}\n   685→                        </code>\n   686→                      ),\n   687→                      // Links\n   688→                      a: ({ href, children }) => (\n   689→                        <a\n   690→                          href={href}\n   691→                          className=\"text-cyan-400 hover:text-cyan-300 underline underline-offset-4 decoration-cyan-500/30 hover:decoration-cyan-400 transition-colors\"\n   692→                          target=\"_blank\"\n   693→                          rel=\"noopener noreferrer\"\n   694→                        >\n   695→                          {children}\n   696→                        </a>\n   697→                      ),\n   698→                      // Horizontal rule\n   699→                      hr: () => (\n   700→                        <hr className=\"my-10 border-neutral-800\" />\n   701→                      ),\n   702→                    }}\n   703→                  >\n   704→                    {section.content}\n   705→                  </ReactMarkdown>\n   706→                </div>\n   707→\n   708→                {/* Inline Media */}\n   709→                {section.media && section.media.filter(m => m.placement !== 'hero').map(media => (\n   710→                  <div key={media.id} className=\"my-10\">\n   711→                    <MediaRenderer media={media} />\n   712→                  </div>\n   713→                ))}\n   714→\n   715→                {/* Product Recommendations */}\n   716→                {section.products && section.products.length > 0 && (\n   717→                  <div className=\"mt-12 pt-8 border-t border-neutral-900\">\n   718→                    <h4 className=\"text-sm font-semibold text-neutral-400 uppercase tracking-wider mb-6\">\n   719→                      Recommended Products\n   720→                    </h4>\n   721→                    <div className=\"space-y-4\">\n   722→                      {section.products.map(productId => (\n   723→                        <ProductCallout key={productId} productId={productId} />\n   724→                      ))}\n   725→                    </div>\n   726→                  </div>\n   727→                )}\n   728→\n   729→                {/* Section Navigation */}\n   730→                <nav className=\"flex items-center justify-between mt-16 pt-8 border-t border-neutral-900\">\n   731→                  <button\n   732→                    onClick={() => setCurrentSection(Math.max(0, currentSection - 1))}\n   733→                    disabled={currentSection === 0}\n   734→                    className={`flex items-center gap-3 group transition-all ${currentSection === 0\n   735→                      ? 'text-neutral-700 cursor-not-allowed'\n   736→                      : 'text-neutral-400 hover:text-white'\n   737→                      }`}\n   738→                  >\n   739→                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === 0 ? 'bg-neutral-900' : 'bg-neutral-900 group-hover:bg-neutral-800'\n   740→                      }`}>\n   741→                      <ArrowLeft size={20} />\n   742→                    </div>\n   743→                    <div className=\"hidden sm:block text-left\">\n   744→                      <div className=\"text-xs text-neutral-600 uppercase tracking-wider mb-1\">Previous</div>\n   745→                      {currentSection > 0 && (\n   746→                        <div className=\"text-sm font-medium text-neutral-300\">{guide.sections[currentSection - 1].title}</div>\n   747→                      )}\n   748→                    </div>\n   749→                  </button>\n   750→\n   751→                  <button\n   752→                    onClick={() => setCurrentSection(Math.min(guide.sections.length - 1, currentSection + 1))}\n   753→                    disabled={currentSection === guide.sections.length - 1}\n   754→                    className={`flex items-center gap-3 group transition-all ${currentSection === guide.sections.length - 1\n   755→                      ? 'text-neutral-700 cursor-not-allowed'\n   756→                      : 'text-neutral-400 hover:text-white'\n   757→                      }`}\n   758→                  >\n   759→                    <div className=\"hidden sm:block text-right\">\n   760→                      <div className=\"text-xs text-neutral-600 uppercase tracking-wider mb-1\">Next</div>\n   761→                      {currentSection < guide.sections.length - 1 && (\n   762→                        <div className=\"text-sm font-medium text-neutral-300\">{guide.sections[currentSection + 1].title}</div>\n   763→                      )}\n   764→                    </div>\n   765→                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === guide.sections.length - 1\n   766→                      ? 'bg-neutral-900'\n   767→                      : 'bg-gradient-to-r from-cyan-500/20 to-blue-500/20 group-hover:from-cyan-500/30 group-hover:to-blue-500/30'\n   768→                      }`}>\n   769→                      <ChevronRight size={20} className={currentSection === guide.sections.length - 1 ? '' : 'text-cyan-400'} />\n   770→                    </div>\n   771→                  </button>\n   772→                </nav>\n   773→              </motion.section>\n   774→            </AnimatePresence>\n   775→\n   776→            {/* Forum Discussion Link (after last section) */}\n   777→            {currentSection === guide.sections.length - 1 && (\n   778→              <div className=\"mt-16\">\n   779→                <ForumDiscussionLink\n   780→                  forumCategory={guide.forumCategory}\n   781→                  guideTitle={guide.title}\n   782→                />\n   783→              </div>\n   784→            )}\n   785→          </article>\n   786→        </main>\n   787→      </div>\n   788→    </motion.div>\n   789→  );\n   790→}\n   791→\n   792→// ============================================\n   793→// GUIDE CARD\n   794→// ============================================\n   795→\n   796→interface GuideCardProps {\n   797→  guide: Guide;\n   798→  index: number;\n   799→  onOpen: (guide: Guide) => void;\n   800→}\n   801→\n   802→function GuideCard({ guide, index, onOpen }: GuideCardProps) {\n   803→  const getCategoryColor = (guideId: string) => {\n   804→    const category = GUIDE_CATEGORIES.find(c => c.guideIds.includes(guideId));\n   805→    if (!category) return 'cyan';\n   806→    const colorMap: Record<string, string> = {\n   807→      blue: 'cyan',\n   808→      purple: 'purple',\n   809→      amber: 'amber',\n   810→    };\n   811→    return colorMap[category.color] || 'cyan';\n   812→  };\n   813→\n   814→  const color = getCategoryColor(guide.id);\n   815→\n   816→  const colorClasses = {\n   817→    cyan: 'from-cyan-500/10 to-cyan-600/10 border-cyan-500/20 text-cyan-400',\n   818→    purple: 'from-purple-500/10 to-purple-600/10 border-purple-500/20 text-purple-400',\n   819→    amber: 'from-amber-500/10 to-amber-600/10 border-amber-500/20 text-amber-400',\n   820→  };\n   821→\n   822→  const iconColorClasses = {\n   823→    cyan: 'bg-cyan-500/10 text-cyan-400',\n   824→    purple: 'bg-purple-500/10 text-purple-400',\n   825→    amber: 'bg-amber-500/10 text-amber-400',\n   826→  };\n   827→\n   828→  return (\n   829→    <motion.div\n   830→      onClick={() => onOpen(guide)}\n   831→      className={`bg-gradient-to-br ${colorClasses[color as keyof typeof colorClasses]} border rounded-xl p-5 hover:border-opacity-50 transition-all cursor-pointer group`}\n   832→      initial={{ opacity: 0, y: 20 }}\n   833→      animate={{ opacity: 1, y: 0 }}\n   834→      transition={{ delay: index * 0.05 }}\n   835→      whileHover={{ y: -2 }}\n   836→    >\n   837→      <div className=\"flex items-start justify-between mb-3\">\n   838→        <div className={`w-10 h-10 ${iconColorClasses[color as keyof typeof iconColorClasses]} rounded-xl flex items-center justify-center`}>\n   839→          {getIconComponent(guide.icon)}\n   840→        </div>\n   841→        <div className=\"flex items-center gap-1 text-neutral-500 text-xs\">\n   842→          <Clock size={12} />\n   843→          <span>{guide.estimatedReadTime} min</span>\n   844→        </div>\n   845→      </div>\n   846→\n   847→      <h3 className=\"font-semibold text-white mb-1 group-hover:text-cyan-300 transition-colors\">\n   848→        {guide.title}\n   849→      </h3>\n   850→\n   851→      {guide.subtitle && (\n   852→        <p className=\"text-xs text-neutral-400 mb-2 italic\">{guide.subtitle}</p>\n   853→      )}\n   854→\n   855→      <p className=\"text-sm text-neutral-400 mb-3 line-clamp-2\">{guide.description}</p>\n   856→\n   857→      <div className=\"flex items-center justify-between\">\n   858→        <div className=\"flex items-center gap-1 text-xs text-neutral-500\">\n   859→          <span>{guide.sections.length} sections</span>\n   860→          {guide.productIds && guide.productIds.length > 0 && (\n   861→            <>\n   862→              <span>-</span>\n   863→              <span>{guide.productIds.length} products</span>\n   864→            </>\n   865→          )}\n   866→        </div>\n   867→        <ChevronRight size={16} className=\"text-neutral-600 group-hover:text-cyan-400 transition-colors\" />\n   868→      </div>\n   869→    </motion.div>\n   870→  );\n   871→}\n   872→\n   873→// ============================================\n   874→// CATEGORY SECTION\n   875→// ============================================\n   876→\n   877→interface CategorySectionProps {\n   878→  category: GuideCategory;\n   879→  onOpenGuide: (guide: Guide) => void;\n   880→  gender: 'male' | 'female';\n   881→}\n   882→\n   883→function CategorySection({ category, onOpenGuide, gender }: CategorySectionProps) {\n   884→  // Skip gender-specific categories for the opposite gender\n   885→  if (category.id === 'male' && gender === 'female') return null;\n   886→  if (category.id === 'female' && gender === 'male') return null;\n   887→\n   888→  const guides = getGuidesByCategory(category.id);\n   889→\n   890→  if (guides.length === 0) return null;\n   891→\n   892→  const colorClasses: Record<string, string> = {\n   893→    blue: 'text-cyan-400 bg-cyan-500/10',\n   894→    purple: 'text-purple-400 bg-purple-500/10',\n   895→    pink: 'text-pink-400 bg-pink-500/10',\n   896→    cyan: 'text-cyan-400 bg-cyan-500/10',\n   897→    emerald: 'text-emerald-400 bg-emerald-500/10',\n   898→    red: 'text-red-400 bg-red-500/10',\n   899→    amber: 'text-amber-400 bg-amber-500/10',\n   900→  };\n   901→\n   902→  return (\n   903→    <div className=\"mb-8\">\n   904→      <div className=\"flex items-center gap-3 mb-4\">\n   905→        <div className={`w-8 h-8 ${colorClasses[category.color as keyof typeof colorClasses]} rounded-lg flex items-center justify-center`}>\n   906→          {getIconComponent(category.icon)}\n   907→        </div>\n   908→        <div>\n   909→          <h3 className=\"font-semibold text-white\">{category.name}</h3>\n   910→          <p className=\"text-xs text-neutral-500\">{category.description}</p>\n   911→        </div>\n   912→      </div>\n   913→\n   914→      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n   915→        {guides.map((guide, idx) => (\n   916→          <GuideCard key={guide.id} guide={guide} index={idx} onOpen={onOpenGuide} />\n   917→        ))}\n   918→      </div>\n   919→    </div>\n   920→  );\n   921→}\n   922→\n   923→// ============================================\n   924→// SEARCH BAR\n   925→// ============================================\n   926→\n   927→interface SearchBarProps {\n   928→  query: string;\n   929→  onQueryChange: (query: string) => void;\n   930→}\n   931→\n   932→function SearchBar({ query, onQueryChange }: SearchBarProps) {\n   933→  return (\n   934→    <div className=\"relative mb-6\">\n   935→      <Search size={18} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-500\" />\n   936→      <input\n   937→        type=\"text\"\n   938→        placeholder=\"Search guides...\"\n   939→        value={query}\n   940→        onChange={(e) => onQueryChange(e.target.value)}\n   941→        className=\"w-full bg-neutral-900 border border-neutral-800 rounded-xl pl-11 pr-4 py-3 text-white placeholder:text-neutral-500 focus:outline-none focus:border-cyan-500/50 transition-colors\"\n   942→      />\n   943→    </div>\n   944→  );\n   945→}\n   946→\n   947→// ============================================\n   948→// MAIN TAB COMPONENT\n   949→// ============================================\n   950→\n   951→export function GuidesTab() {\n   952→  const [searchQuery, setSearchQuery] = useState('');\n   953→  const [selectedGuide, setSelectedGuide] = useState<Guide | null>(null);\n   954→  const { gender } = useResults();\n   955→\n   956→  // Filter guides by gender (excludes opposite gender's specific guides)\n   957→  const genderFilteredGuides = getGuidesByGender(gender);\n   958→\n   959→  const filteredGuides = searchQuery.trim()\n   960→    ? genderFilteredGuides.filter(g =>\n   961→        g.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n   962→        g.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n   963→        (g.subtitle && g.subtitle.toLowerCase().includes(searchQuery.toLowerCase())) ||\n   964→        (g.tags && g.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase())))\n   965→      )\n   966→    : null;\n   967→\n   968→  const handleOpenGuide = (guide: Guide) => {\n   969→    setSelectedGuide(guide);\n   970→  };\n   971→\n   972→  const handleCloseGuide = () => {\n   973→    setSelectedGuide(null);\n   974→  };\n   975→\n   976→  return (\n   977→    <>\n   978→      <TabContent\n   979→        title=\"Product Guides\"\n   980→        subtitle=\"Evidence-based guides for optimal results\"\n   981→      >\n   982→        <div className=\"max-w-5xl mx-auto\">\n   983→          <GuideStatsCard />\n   984→\n   985→          <SearchBar query={searchQuery} onQueryChange={setSearchQuery} />\n   986→\n   987→          {filteredGuides ? (\n   988→            // Search Results\n   989→            <div>\n   990→              <p className=\"text-sm text-neutral-400 mb-4\">\n   991→                Found {filteredGuides.length} guide{filteredGuides.length !== 1 ? 's' : ''} matching &ldquo;{searchQuery}&rdquo;\n   992→              </p>\n   993→              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n   994→                {filteredGuides.map((guide, idx) => (\n   995→                  <GuideCard key={guide.id} guide={guide} index={idx} onOpen={handleOpenGuide} />\n   996→                ))}\n   997→              </div>\n   998→              {filteredGuides.length === 0 && (\n   999→                <div className=\"text-center py-12\">\n  1000→                  <div className=\"w-16 h-16 bg-neutral-900 rounded-full flex items-center justify-center mx-auto mb-4\">\n  1001→                    <Search size={24} className=\"text-neutral-600\" />\n  1002→                  </div>\n  1003→                  <p className=\"text-neutral-500\">No guides found matching your search</p>\n  1004→                </div>\n  1005→              )}\n  1006→            </div>\n  1007→          ) : (\n  1008→            // Category View\n  1009→            <div>\n  1010→              {GUIDE_CATEGORIES.map(category => (\n  1011→                <CategorySection key={category.id} category={category} onOpenGuide={handleOpenGuide} gender={gender} />\n  1012→              ))}\n  1013→            </div>\n  1014→          )}\n  1015→        </div>\n  1016→      </TabContent>\n  1017→\n  1018→      {/* Guide Viewer Modal */}\n  1019→      <AnimatePresence>\n  1020→        {selectedGuide && (\n  1021→          <GuideViewer guide={selectedGuide} onClose={handleCloseGuide} />\n  1022→        )}\n  1023→      </AnimatePresence>\n  1024→    </>\n  1025→  );\n  1026→}\n  1027→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"2a57efd0-358b-4dda-9673-b83abe06d0e0","timestamp":"2025-12-26T20:36:46.137Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/tabs/GuidesTab.tsx","content":"'use client';\n\nimport { useState, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  BookOpen,\n  Dumbbell,\n  Sparkles,\n  Clock,\n  ChevronRight,\n  Search,\n  Brain,\n  Wrench,\n  TrendingDown,\n  Calendar,\n  Target,\n  Heart,\n  Utensils,\n  Droplet,\n  X,\n  ArrowLeft,\n  MessageSquare,\n  ExternalLink,\n  ShoppingCart,\n  CheckCircle2,\n} from 'lucide-react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { TabContent } from '../ResultsLayout';\nimport {\n  GUIDE_CATEGORIES,\n  getGuidesByCategory,\n  getTotalGuideCount,\n  getTotalReadTime,\n  getGuideProductById,\n  getGuidesByGender,\n} from '@/data/guides';\nimport { Guide, GuideCategory, GuideMedia } from '@/types/guides';\nimport { useRegion } from '@/contexts/RegionContext';\nimport { useResults } from '@/contexts/ResultsContext';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\n\n// ============================================\n// ICON MAPPING\n// ============================================\n\nconst ICON_MAP: Record<string, React.ReactNode> = {\n  BookOpen: <BookOpen size={20} />,\n  Dumbbell: <Dumbbell size={20} />,\n  Sparkles: <Sparkles size={20} />,\n  Brain: <Brain size={20} />,\n  Wrench: <Wrench size={20} />,\n  TrendingDown: <TrendingDown size={20} />,\n  Calendar: <Calendar size={20} />,\n  Target: <Target size={20} />,\n  Heart: <Heart size={20} />,\n  Utensils: <Utensils size={20} />,\n  Droplet: <Droplet size={20} />,\n};\n\nfunction getIconComponent(iconName: string, size = 20): React.ReactNode {\n  // Check icon map first\n  const mappedIcon = ICON_MAP[iconName];\n  if (mappedIcon) return mappedIcon;\n\n  // Fallback to BookOpen\n  return <BookOpen size={size} />;\n}\n\n// ============================================\n// MEDIA RENDERER\n// ============================================\n\ninterface MediaRendererProps {\n  media: GuideMedia;\n}\n\nfunction MediaRenderer({ media }: MediaRendererProps) {\n  const [hasError, setHasError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const handleError = useCallback(() => {\n    setHasError(true);\n    setIsLoading(false);\n  }, []);\n\n  const handleLoad = useCallback(() => {\n    setIsLoading(false);\n  }, []);\n\n  const placementClasses = {\n    inline: 'max-w-lg mx-auto',\n    hero: 'w-full',\n    'full-width': 'w-full',\n  };\n\n  const isGif = media.type === 'gif' || media.url.endsWith('.gif');\n\n  // Show styled placeholder if image failed to load or doesn't exist\n  if (hasError) {\n    return (\n      <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n        <div className=\"relative rounded-2xl overflow-hidden bg-gradient-to-br from-neutral-900 to-neutral-950 border border-neutral-800\">\n          <div className=\"aspect-video flex items-center justify-center p-8\">\n            <div className=\"text-center max-w-sm\">\n              <div className=\"w-16 h-16 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/20\">\n                {isGif ? (\n                  <div className=\"w-6 h-6 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin\" />\n                ) : (\n                  <Sparkles size={28} className=\"text-cyan-400\" />\n                )}\n              </div>\n              <p className=\"text-neutral-300 font-medium mb-2\">{media.alt}</p>\n              {media.caption && (\n                <p className=\"text-neutral-500 text-sm\">{media.caption}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </figure>\n    );\n  }\n\n  return (\n    <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n      <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900 border border-neutral-800\">\n        {/* Loading skeleton */}\n        {isLoading && (\n          <div className=\"absolute inset-0 bg-neutral-900 animate-pulse flex items-center justify-center\">\n            <div className=\"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin\" />\n          </div>\n        )}\n\n        {isGif ? (\n          // Use img for GIFs to preserve animation\n          // eslint-disable-next-line @next/next/no-img-element\n          <img\n            src={media.url}\n            alt={media.alt}\n            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n            loading=\"lazy\"\n            onError={handleError}\n            onLoad={handleLoad}\n          />\n        ) : (\n          <Image\n            src={media.url}\n            alt={media.alt}\n            width={media.width || 800}\n            height={media.height || 450}\n            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n            onError={handleError}\n            onLoad={handleLoad}\n          />\n        )}\n      </div>\n      {media.caption && (\n        <figcaption className=\"mt-4 text-center text-sm text-neutral-500 italic\">\n          {media.caption}\n        </figcaption>\n      )}\n    </figure>\n  );\n}\n\n// ============================================\n// PRODUCT CALLOUT (CONVERSION OPTIMIZED)\n// ============================================\n\ninterface ProductCalloutProps {\n  productId: string;\n}\n\nfunction ProductCallout({ productId }: ProductCalloutProps) {\n  const { getLink } = useRegion();\n  const product = getGuideProductById(productId);\n\n  if (!product) return null;\n\n  const link = getLink(product.regionLinks, product.directLink);\n\n  return (\n    <div className=\"my-6 p-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20 rounded-xl\">\n      <div className=\"flex items-center gap-4\">\n        {/* Product Image */}\n        {product.imageUrl && (\n          <div className=\"w-16 h-16 bg-neutral-800 rounded-lg overflow-hidden flex-shrink-0\">\n            <Image\n              src={product.imageUrl}\n              alt={product.name}\n              width={64}\n              height={64}\n              className=\"w-full h-full object-cover\"\n            />\n          </div>\n        )}\n\n        {/* Product Info */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2\">\n            <h4 className=\"font-semibold text-white truncate\">{product.name}</h4>\n            {product.brand && (\n              <span className=\"text-xs text-neutral-500\">{product.brand}</span>\n            )}\n          </div>\n          <p className=\"text-sm text-cyan-300 italic\">&ldquo;{product.tagline}&rdquo;</p>\n        </div>\n\n        {/* CTA Button */}\n        <a\n          href={link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"flex-shrink-0 flex items-center gap-2 px-4 py-2 bg-cyan-500 hover:bg-cyan-400 text-black font-medium rounded-lg transition-colors\"\n        >\n          <ShoppingCart size={16} />\n          <span className=\"hidden sm:inline\">Buy Now</span>\n        </a>\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// FORUM DISCUSSION LINK\n// ============================================\n\ninterface ForumDiscussionLinkProps {\n  forumCategory?: string;\n  guideTitle: string;\n}\n\nfunction ForumDiscussionLink({ forumCategory, guideTitle }: ForumDiscussionLinkProps) {\n  if (!forumCategory) return null;\n\n  return (\n    <div className=\"mt-8 p-6 bg-neutral-900/50 border border-neutral-800 rounded-xl\">\n      <div className=\"flex items-center gap-3 mb-3\">\n        <div className=\"w-10 h-10 bg-purple-500/10 rounded-xl flex items-center justify-center\">\n          <MessageSquare size={20} className=\"text-purple-400\" />\n        </div>\n        <div>\n          <h3 className=\"font-semibold text-white\">Discuss This Guide</h3>\n          <p className=\"text-sm text-neutral-400\">Join the community conversation</p>\n        </div>\n      </div>\n\n      <p className=\"text-sm text-neutral-400 mb-4\">\n        Have questions about {guideTitle.toLowerCase()}? Want to share your experience?\n        Join the discussion in our community forum.\n      </p>\n\n      <Link\n        href={`/forum/${forumCategory}`}\n        className=\"inline-flex items-center gap-2 px-4 py-2 bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 border border-purple-500/30 rounded-lg transition-colors\"\n      >\n        <MessageSquare size={16} />\n        Go to Forum\n        <ExternalLink size={14} />\n      </Link>\n    </div>\n  );\n}\n\n// ============================================\n// GUIDE STATS CARD\n// ============================================\n\nfunction GuideStatsCard() {\n  const totalGuides = getTotalGuideCount();\n  const totalMinutes = getTotalReadTime();\n\n  return (\n    <motion.div\n      className=\"bg-gradient-to-br from-neutral-900 to-neutral-950 border border-neutral-800 rounded-2xl p-6 mb-6\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n    >\n      <div className=\"flex items-center gap-3 mb-4\">\n        <div className=\"w-10 h-10 bg-cyan-500/10 rounded-xl flex items-center justify-center\">\n          <BookOpen size={20} className=\"text-cyan-400\" />\n        </div>\n        <div>\n          <h2 className=\"font-semibold text-white\">Product Guides</h2>\n          <p className=\"text-sm text-neutral-400\">Evidence-based looksmaxxing resources</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"bg-neutral-900/50 rounded-xl p-4\">\n          <div className=\"text-2xl font-bold text-white mb-1\">{totalGuides}</div>\n          <div className=\"text-xs text-neutral-500\">Total Guides</div>\n        </div>\n        <div className=\"bg-neutral-900/50 rounded-xl p-4\">\n          <div className=\"flex items-center gap-1.5 mb-1\">\n            <Clock size={16} className=\"text-cyan-400\" />\n            <div className=\"text-2xl font-bold text-white\">{totalMinutes}</div>\n          </div>\n          <div className=\"text-xs text-neutral-500\">Minutes of Content</div>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// GUIDE VIEWER MODAL\n// ============================================\n\ninterface GuideViewerProps {\n  guide: Guide;\n  onClose: () => void;\n}\n\nfunction GuideViewer({ guide, onClose }: GuideViewerProps) {\n  const [currentSection, setCurrentSection] = useState(0);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  const section = guide.sections[currentSection];\n\n  if (!section) return null;\n\n  // Calculate reading progress (0% at start, 100% at last section)\n  const progress = guide.sections.length > 1\n    ? (currentSection / (guide.sections.length - 1)) * 100\n    : 100;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 z-50 bg-neutral-950\"\n    >\n      {/* Header */}\n      <div className=\"sticky top-0 z-20 bg-neutral-950/95 backdrop-blur-md border-b border-neutral-900\">\n        <div className=\"flex items-center justify-between px-4 lg:px-8 py-3\">\n          <button\n            onClick={onClose}\n            className=\"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors\"\n          >\n            <ArrowLeft size={20} />\n            <span className=\"hidden sm:inline text-sm\">Back to Guides</span>\n          </button>\n\n          {/* Progress bar */}\n          <div className=\"hidden md:flex items-center gap-4 flex-1 max-w-md mx-8\">\n            <div className=\"flex-1 h-1 bg-neutral-800 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-cyan-500 to-blue-500\"\n                initial={{ width: 0 }}\n                animate={{ width: `${progress}%` }}\n                transition={{ duration: 0.3 }}\n              />\n            </div>\n            <span className=\"text-xs text-neutral-500 whitespace-nowrap\">\n              {currentSection + 1} / {guide.sections.length}\n            </span>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            {/* Mobile menu button */}\n            <button\n              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n              className=\"lg:hidden p-2 hover:bg-neutral-900 rounded-lg transition-colors\"\n            >\n              <BookOpen size={20} className=\"text-neutral-400\" />\n            </button>\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-neutral-900 rounded-lg transition-colors\"\n            >\n              <X size={20} className=\"text-neutral-400\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Layout: Sidebar + Content */}\n      <div className=\"flex h-[calc(100vh-57px)]\">\n        {/* Sidebar Navigation */}\n        <aside\n          className={`\n            fixed lg:relative inset-y-0 left-0 z-30 lg:z-0\n            w-72 lg:w-80 bg-neutral-950 lg:bg-neutral-950/50\n            border-r border-neutral-900\n            transform transition-transform duration-300 ease-in-out\n            ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n            flex flex-col\n          `}\n        >\n          {/* Sidebar Header */}\n          <div className=\"p-6 border-b border-neutral-900\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-10 h-10 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl flex items-center justify-center text-cyan-400\">\n                {getIconComponent(guide.icon, 20)}\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h2 className=\"font-semibold text-white truncate\">{guide.title}</h2>\n                <div className=\"flex items-center gap-2 text-xs text-neutral-500\">\n                  <Clock size={12} />\n                  <span>{guide.estimatedReadTime} min</span>\n                </div>\n              </div>\n            </div>\n            {guide.subtitle && (\n              <p className=\"text-sm text-neutral-500 italic\">{guide.subtitle}</p>\n            )}\n          </div>\n\n          {/* Section List */}\n          <nav className=\"flex-1 overflow-y-auto p-4\">\n            <div className=\"text-xs font-semibold text-neutral-600 uppercase tracking-wider mb-3 px-2\">\n              Sections\n            </div>\n            <ul className=\"space-y-1\">\n              {guide.sections.map((s, idx) => (\n                <li key={s.id}>\n                  <button\n                    onClick={() => {\n                      setCurrentSection(idx);\n                      setIsSidebarOpen(false);\n                    }}\n                    className={`\n                      w-full text-left px-3 py-3 rounded-xl transition-all\n                      flex items-start gap-3 group\n                      ${currentSection === idx\n                        ? 'bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20'\n                        : 'hover:bg-neutral-900 border border-transparent'\n                      }\n                    `}\n                  >\n                    {/* Section number */}\n                    <span\n                      className={`\n                        flex-shrink-0 w-6 h-6 rounded-lg text-xs font-bold\n                        flex items-center justify-center transition-colors\n                        ${currentSection === idx\n                          ? 'bg-cyan-500 text-black'\n                          : idx < currentSection\n                            ? 'bg-green-500/20 text-green-400'\n                            : 'bg-neutral-800 text-neutral-500 group-hover:bg-neutral-700'\n                        }\n                      `}\n                    >\n                      {idx < currentSection ? (\n                        <CheckCircle2 size={14} />\n                      ) : (\n                        idx + 1\n                      )}\n                    </span>\n\n                    {/* Section info */}\n                    <div className=\"flex-1 min-w-0\">\n                      <p\n                        className={`text-sm font-medium truncate ${currentSection === idx ? 'text-white' : 'text-neutral-400 group-hover:text-neutral-200'\n                          }`}\n                      >\n                        {s.title}\n                      </p>\n                      {/* Show media indicator if section has media */}\n                      {s.media && s.media.length > 0 && (\n                        <div className=\"flex items-center gap-1 mt-1\">\n                          <Sparkles size={10} className=\"text-amber-400\" />\n                          <span className=\"text-xs text-neutral-600\">\n                            {s.media.length} visual{s.media.length > 1 ? 's' : ''}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </nav>\n\n          {/* Sidebar Footer */}\n          <div className=\"p-4 border-t border-neutral-900\">\n            <div className=\"flex items-center justify-between text-xs text-neutral-600 mb-2\">\n              <span>Progress</span>\n              <span>{Math.round(progress)}%</span>\n            </div>\n            <div className=\"h-1.5 bg-neutral-800 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-cyan-500 to-green-500\"\n                animate={{ width: `${progress}%` }}\n              />\n            </div>\n          </div>\n        </aside>\n\n        {/* Mobile sidebar overlay */}\n        {isSidebarOpen && (\n          <div\n            className=\"fixed inset-0 bg-black/60 z-20 lg:hidden\"\n            onClick={() => setIsSidebarOpen(false)}\n          />\n        )}\n\n        {/* Main Content Area */}\n        <main className=\"flex-1 overflow-y-auto\">\n          <article className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-10 lg:py-16\">\n            {/* Hero Media (only on first section) */}\n            {guide.heroMedia && currentSection === 0 && (\n              <div className=\"mb-10\">\n                <MediaRenderer media={guide.heroMedia} />\n              </div>\n            )}\n\n            {/* Article Header (only on first section) */}\n            {currentSection === 0 && (\n              <header className=\"mb-12\">\n                <div className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-cyan-500/10 text-cyan-400 rounded-full text-xs font-medium mb-4\">\n                  {getIconComponent(guide.icon, 14)}\n                  <span className=\"uppercase tracking-wider\">Guide</span>\n                </div>\n\n                <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-4 leading-tight\">\n                  {guide.title}\n                </h1>\n\n                <p className=\"text-neutral-300 text-lg leading-relaxed\">\n                  {guide.description}\n                </p>\n              </header>\n            )}\n\n            {/* Section Content */}\n            <AnimatePresence mode=\"wait\">\n              <motion.section\n                key={section.id}\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -20 }}\n                transition={{ duration: 0.3 }}\n              >\n                {/* Section Title - Largest heading in section content */}\n                <h2 className=\"text-3xl md:text-4xl font-bold text-white mb-8 pb-4 border-b border-neutral-900\">\n                  {section.title}\n                </h2>\n\n                {/* Tips Callout */}\n                {section.tips && section.tips.length > 0 && (\n                  <aside className=\"mb-10 p-6 bg-gradient-to-br from-cyan-500/5 to-cyan-600/5 border-l-4 border-cyan-500 rounded-r-xl\">\n                    <h4 className=\"text-sm font-semibold text-cyan-400 uppercase tracking-wider mb-4\">\n                      Quick Tips\n                    </h4>\n                    <ul className=\"space-y-3\">\n                      {section.tips.map((tip, i) => (\n                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n                          <span className=\"flex-shrink-0 w-5 h-5 bg-cyan-500/20 rounded-full flex items-center justify-center mt-0.5\">\n                            <span className=\"text-cyan-400 text-xs font-bold\">{i + 1}</span>\n                          </span>\n                          <span className=\"leading-relaxed\">{tip}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </aside>\n                )}\n\n                {/* Warnings Callout */}\n                {section.warnings && section.warnings.length > 0 && (\n                  <aside className=\"mb-10 p-6 bg-gradient-to-br from-amber-500/5 to-amber-600/5 border-l-4 border-amber-500 rounded-r-xl\">\n                    <h4 className=\"text-sm font-semibold text-amber-400 uppercase tracking-wider mb-4\">\n                      ⚠️ Important\n                    </h4>\n                    <ul className=\"space-y-3\">\n                      {section.warnings.map((warning, i) => (\n                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n                          <span className=\"text-amber-400 mt-1\">•</span>\n                          <span className=\"leading-relaxed\">{warning}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </aside>\n                )}\n\n                {/* Hero Media for Section */}\n                {section.media && section.media.filter(m => m.placement === 'hero').map(media => (\n                  <div key={media.id} className=\"mb-10\">\n                    <MediaRenderer media={media} />\n                  </div>\n                ))}\n\n                {/* Article Body - Custom Markdown Rendering */}\n                <div className=\"article-content\">\n                  <ReactMarkdown\n                    remarkPlugins={[remarkGfm]}\n                    components={{\n                      // Paragraphs with generous spacing\n                      p: ({ children }) => (\n                        <p className=\"text-neutral-300 text-lg leading-[1.8] mb-6\">\n                          {children}\n                        </p>\n                      ),\n                      // Headers with clear hierarchy (smaller than section title)\n                      h1: ({ children }) => (\n                        <h3 className=\"text-2xl md:text-3xl font-bold text-white mt-12 mb-6\">\n                          {children}\n                        </h3>\n                      ),\n                      h2: ({ children }) => (\n                        <h4 className=\"text-xl md:text-2xl font-bold text-white mt-10 mb-5 pb-3 border-b border-neutral-800\">\n                          {children}\n                        </h4>\n                      ),\n                      h3: ({ children }) => (\n                        <h5 className=\"text-lg md:text-xl font-semibold text-white mt-8 mb-4\">\n                          {children}\n                        </h5>\n                      ),\n                      // Strong text\n                      strong: ({ children }) => (\n                        <strong className=\"font-semibold text-white\">\n                          {children}\n                        </strong>\n                      ),\n                      // Emphasis\n                      em: ({ children }) => (\n                        <em className=\"text-neutral-400 not-italic\">\n                          {children}\n                        </em>\n                      ),\n                      // Lists with proper spacing\n                      ul: ({ children }) => (\n                        <ul className=\"my-6 ml-0 space-y-3\">\n                          {children}\n                        </ul>\n                      ),\n                      ol: ({ children }) => (\n                        <ol className=\"my-6 ml-0 space-y-3 list-decimal list-inside\">\n                          {children}\n                        </ol>\n                      ),\n                      li: ({ children }) => (\n                        <li className=\"text-neutral-300 text-lg leading-[1.8] flex items-start gap-3\">\n                          <span className=\"text-cyan-500 mt-1.5 flex-shrink-0\">•</span>\n                          <span>{children}</span>\n                        </li>\n                      ),\n                      // Tables - styled beautifully\n                      table: ({ children }) => (\n                        <div className=\"my-8 overflow-x-auto rounded-xl border border-neutral-800\">\n                          <table className=\"w-full text-left\">\n                            {children}\n                          </table>\n                        </div>\n                      ),\n                      thead: ({ children }) => (\n                        <thead className=\"bg-neutral-900/80 border-b border-neutral-800\">\n                          {children}\n                        </thead>\n                      ),\n                      tbody: ({ children }) => (\n                        <tbody className=\"divide-y divide-neutral-800/50\">\n                          {children}\n                        </tbody>\n                      ),\n                      tr: ({ children }) => (\n                        <tr className=\"hover:bg-neutral-900/50 transition-colors\">\n                          {children}\n                        </tr>\n                      ),\n                      th: ({ children }) => (\n                        <th className=\"px-4 py-3 text-sm font-semibold text-cyan-400 uppercase tracking-wider\">\n                          {children}\n                        </th>\n                      ),\n                      td: ({ children }) => (\n                        <td className=\"px-4 py-3 text-neutral-300\">\n                          {children}\n                        </td>\n                      ),\n                      // Blockquotes\n                      blockquote: ({ children }) => (\n                        <blockquote className=\"my-8 pl-6 border-l-4 border-cyan-500 bg-neutral-900/50 py-4 pr-6 rounded-r-lg\">\n                          {children}\n                        </blockquote>\n                      ),\n                      // Code\n                      code: ({ children }) => (\n                        <code className=\"text-cyan-400 bg-neutral-900 px-2 py-1 rounded text-base\">\n                          {children}\n                        </code>\n                      ),\n                      // Links\n                      a: ({ href, children }) => (\n                        <a\n                          href={href}\n                          className=\"text-cyan-400 hover:text-cyan-300 underline underline-offset-4 decoration-cyan-500/30 hover:decoration-cyan-400 transition-colors\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          {children}\n                        </a>\n                      ),\n                      // Horizontal rule\n                      hr: () => (\n                        <hr className=\"my-10 border-neutral-800\" />\n                      ),\n                    }}\n                  >\n                    {section.content}\n                  </ReactMarkdown>\n                </div>\n\n                {/* Inline Media */}\n                {section.media && section.media.filter(m => m.placement !== 'hero').map(media => (\n                  <div key={media.id} className=\"my-10\">\n                    <MediaRenderer media={media} />\n                  </div>\n                ))}\n\n                {/* Product Recommendations */}\n                {section.products && section.products.length > 0 && (\n                  <div className=\"mt-12 pt-8 border-t border-neutral-900\">\n                    <h4 className=\"text-sm font-semibold text-neutral-400 uppercase tracking-wider mb-6\">\n                      Recommended Products\n                    </h4>\n                    <div className=\"space-y-4\">\n                      {section.products.map(productId => (\n                        <ProductCallout key={productId} productId={productId} />\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Section Navigation */}\n                <nav className=\"flex items-center justify-between mt-16 pt-8 border-t border-neutral-900\">\n                  <button\n                    onClick={() => setCurrentSection(Math.max(0, currentSection - 1))}\n                    disabled={currentSection === 0}\n                    className={`flex items-center gap-3 group transition-all ${currentSection === 0\n                      ? 'text-neutral-700 cursor-not-allowed'\n                      : 'text-neutral-400 hover:text-white'\n                      }`}\n                  >\n                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === 0 ? 'bg-neutral-900' : 'bg-neutral-900 group-hover:bg-neutral-800'\n                      }`}>\n                      <ArrowLeft size={20} />\n                    </div>\n                    <div className=\"hidden sm:block text-left\">\n                      <div className=\"text-xs text-neutral-600 uppercase tracking-wider mb-1\">Previous</div>\n                      {currentSection > 0 && (\n                        <div className=\"text-sm font-medium text-neutral-300\">{guide.sections[currentSection - 1].title}</div>\n                      )}\n                    </div>\n                  </button>\n\n                  <button\n                    onClick={() => setCurrentSection(Math.min(guide.sections.length - 1, currentSection + 1))}\n                    disabled={currentSection === guide.sections.length - 1}\n                    className={`flex items-center gap-3 group transition-all ${currentSection === guide.sections.length - 1\n                      ? 'text-neutral-700 cursor-not-allowed'\n                      : 'text-neutral-400 hover:text-white'\n                      }`}\n                  >\n                    <div className=\"hidden sm:block text-right\">\n                      <div className=\"text-xs text-neutral-600 uppercase tracking-wider mb-1\">Next</div>\n                      {currentSection < guide.sections.length - 1 && (\n                        <div className=\"text-sm font-medium text-neutral-300\">{guide.sections[currentSection + 1].title}</div>\n                      )}\n                    </div>\n                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === guide.sections.length - 1\n                      ? 'bg-neutral-900'\n                      : 'bg-gradient-to-r from-cyan-500/20 to-blue-500/20 group-hover:from-cyan-500/30 group-hover:to-blue-500/30'\n                      }`}>\n                      <ChevronRight size={20} className={currentSection === guide.sections.length - 1 ? '' : 'text-cyan-400'} />\n                    </div>\n                  </button>\n                </nav>\n              </motion.section>\n            </AnimatePresence>\n\n            {/* Forum Discussion Link (after last section) */}\n            {currentSection === guide.sections.length - 1 && (\n              <div className=\"mt-16\">\n                <ForumDiscussionLink\n                  forumCategory={guide.forumCategory}\n                  guideTitle={guide.title}\n                />\n              </div>\n            )}\n          </article>\n        </main>\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// GUIDE CARD\n// ============================================\n\ninterface GuideCardProps {\n  guide: Guide;\n  index: number;\n  onOpen: (guide: Guide) => void;\n}\n\nfunction GuideCard({ guide, index, onOpen }: GuideCardProps) {\n  const getCategoryColor = (guideId: string) => {\n    const category = GUIDE_CATEGORIES.find(c => c.guideIds.includes(guideId));\n    if (!category) return 'cyan';\n    const colorMap: Record<string, string> = {\n      blue: 'cyan',\n      purple: 'purple',\n      amber: 'amber',\n    };\n    return colorMap[category.color] || 'cyan';\n  };\n\n  const color = getCategoryColor(guide.id);\n\n  const colorClasses = {\n    cyan: 'from-cyan-500/10 to-cyan-600/10 border-cyan-500/20 text-cyan-400',\n    purple: 'from-purple-500/10 to-purple-600/10 border-purple-500/20 text-purple-400',\n    amber: 'from-amber-500/10 to-amber-600/10 border-amber-500/20 text-amber-400',\n  };\n\n  const iconColorClasses = {\n    cyan: 'bg-cyan-500/10 text-cyan-400',\n    purple: 'bg-purple-500/10 text-purple-400',\n    amber: 'bg-amber-500/10 text-amber-400',\n  };\n\n  return (\n    <motion.div\n      onClick={() => onOpen(guide)}\n      className={`bg-gradient-to-br ${colorClasses[color as keyof typeof colorClasses]} border rounded-xl p-5 hover:border-opacity-50 transition-all cursor-pointer group`}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: index * 0.05 }}\n      whileHover={{ y: -2 }}\n    >\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className={`w-10 h-10 ${iconColorClasses[color as keyof typeof iconColorClasses]} rounded-xl flex items-center justify-center`}>\n          {getIconComponent(guide.icon)}\n        </div>\n        <div className=\"flex items-center gap-1 text-neutral-500 text-xs\">\n          <Clock size={12} />\n          <span>{guide.estimatedReadTime} min</span>\n        </div>\n      </div>\n\n      <h3 className=\"font-semibold text-white mb-1 group-hover:text-cyan-300 transition-colors\">\n        {guide.title}\n      </h3>\n\n      {guide.subtitle && (\n        <p className=\"text-xs text-neutral-400 mb-2 italic\">{guide.subtitle}</p>\n      )}\n\n      <p className=\"text-sm text-neutral-400 mb-3 line-clamp-2\">{guide.description}</p>\n\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-1 text-xs text-neutral-500\">\n          <span>{guide.sections.length} sections</span>\n          {guide.productIds && guide.productIds.length > 0 && (\n            <>\n              <span>-</span>\n              <span>{guide.productIds.length} products</span>\n            </>\n          )}\n        </div>\n        <ChevronRight size={16} className=\"text-neutral-600 group-hover:text-cyan-400 transition-colors\" />\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// CATEGORY SECTION\n// ============================================\n\ninterface CategorySectionProps {\n  category: GuideCategory;\n  onOpenGuide: (guide: Guide) => void;\n  gender: 'male' | 'female';\n}\n\nfunction CategorySection({ category, onOpenGuide, gender }: CategorySectionProps) {\n  // Skip gender-specific categories for the opposite gender\n  if (category.id === 'male' && gender === 'female') return null;\n  if (category.id === 'female' && gender === 'male') return null;\n\n  const guides = getGuidesByCategory(category.id);\n\n  if (guides.length === 0) return null;\n\n  const colorClasses: Record<string, string> = {\n    blue: 'text-cyan-400 bg-cyan-500/10',\n    purple: 'text-purple-400 bg-purple-500/10',\n    pink: 'text-pink-400 bg-pink-500/10',\n    cyan: 'text-cyan-400 bg-cyan-500/10',\n    emerald: 'text-emerald-400 bg-emerald-500/10',\n    red: 'text-red-400 bg-red-500/10',\n    amber: 'text-amber-400 bg-amber-500/10',\n  };\n\n  return (\n    <div className=\"mb-8\">\n      <div className=\"flex items-center gap-3 mb-4\">\n        <div className={`w-8 h-8 ${colorClasses[category.color as keyof typeof colorClasses]} rounded-lg flex items-center justify-center`}>\n          {getIconComponent(category.icon)}\n        </div>\n        <div>\n          <h3 className=\"font-semibold text-white\">{category.name}</h3>\n          <p className=\"text-xs text-neutral-500\">{category.description}</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {guides.map((guide, idx) => (\n          <GuideCard key={guide.id} guide={guide} index={idx} onOpen={onOpenGuide} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// SEARCH BAR\n// ============================================\n\ninterface SearchBarProps {\n  query: string;\n  onQueryChange: (query: string) => void;\n}\n\nfunction SearchBar({ query, onQueryChange }: SearchBarProps) {\n  return (\n    <div className=\"relative mb-6\">\n      <Search size={18} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-500\" />\n      <input\n        type=\"text\"\n        placeholder=\"Search guides...\"\n        value={query}\n        onChange={(e) => onQueryChange(e.target.value)}\n        className=\"w-full bg-neutral-900 border border-neutral-800 rounded-xl pl-11 pr-4 py-3 text-white placeholder:text-neutral-500 focus:outline-none focus:border-cyan-500/50 transition-colors\"\n      />\n    </div>\n  );\n}\n\n// ============================================\n// MAIN TAB COMPONENT\n// ============================================\n\nexport function GuidesTab() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedGuide, setSelectedGuide] = useState<Guide | null>(null);\n  const { gender } = useResults();\n\n  // Filter guides by gender (excludes opposite gender's specific guides)\n  const genderFilteredGuides = getGuidesByGender(gender);\n\n  const filteredGuides = searchQuery.trim()\n    ? genderFilteredGuides.filter(g =>\n        g.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        g.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        (g.subtitle && g.subtitle.toLowerCase().includes(searchQuery.toLowerCase())) ||\n        (g.tags && g.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase())))\n      )\n    : null;\n\n  const handleOpenGuide = (guide: Guide) => {\n    setSelectedGuide(guide);\n  };\n\n  const handleCloseGuide = () => {\n    setSelectedGuide(null);\n  };\n\n  return (\n    <>\n      <TabContent\n        title=\"Product Guides\"\n        subtitle=\"Evidence-based guides for optimal results\"\n      >\n        <div className=\"max-w-5xl mx-auto\">\n          <GuideStatsCard />\n\n          <SearchBar query={searchQuery} onQueryChange={setSearchQuery} />\n\n          {filteredGuides ? (\n            // Search Results\n            <div>\n              <p className=\"text-sm text-neutral-400 mb-4\">\n                Found {filteredGuides.length} guide{filteredGuides.length !== 1 ? 's' : ''} matching &ldquo;{searchQuery}&rdquo;\n              </p>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {filteredGuides.map((guide, idx) => (\n                  <GuideCard key={guide.id} guide={guide} index={idx} onOpen={handleOpenGuide} />\n                ))}\n              </div>\n              {filteredGuides.length === 0 && (\n                <div className=\"text-center py-12\">\n                  <div className=\"w-16 h-16 bg-neutral-900 rounded-full flex items-center justify-center mx-auto mb-4\">\n                    <Search size={24} className=\"text-neutral-600\" />\n                  </div>\n                  <p className=\"text-neutral-500\">No guides found matching your search</p>\n                </div>\n              )}\n            </div>\n          ) : (\n            // Category View\n            <div>\n              {GUIDE_CATEGORIES.map(category => (\n                <CategorySection key={category.id} category={category} onOpenGuide={handleOpenGuide} gender={gender} />\n              ))}\n            </div>\n          )}\n        </div>\n      </TabContent>\n\n      {/* Guide Viewer Modal */}\n      <AnimatePresence>\n        {selectedGuide && (\n          <GuideViewer guide={selectedGuide} onClose={handleCloseGuide} />\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n","numLines":1027,"startLine":1,"totalLines":1027}}}
{"parentUuid":"2a57efd0-358b-4dda-9673-b83abe06d0e0","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_01CfR1RDn6SHGK56qDxYff1g","type":"message","role":"assistant","content":[{"type":"text","text":"Now I have a clear understanding of the design patterns from the FAQ/Sources pages and the current GuidesTab structure. Let me rewrite the GuidesTab.tsx with the premium design style."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4002,"cache_creation_input_tokens":14892,"cache_read_input_tokens":35481,"cache_creation":{"ephemeral_5m_input_tokens":14892,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWVwWiKGvmydwQjtv7YEd","type":"assistant","uuid":"9fe6e28b-7c1b-4220-b725-d73dee57a278","timestamp":"2025-12-26T20:36:53.834Z"}
{"parentUuid":"9fe6e28b-7c1b-4220-b725-d73dee57a278","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_01CfR1RDn6SHGK56qDxYff1g","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FFLJ4aTbnquPB7biGT9gss","name":"Write","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/tabs/GuidesTab.tsx","content":"'use client';\n\nimport { useState, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  BookOpen,\n  Dumbbell,\n  Sparkles,\n  Clock,\n  ChevronRight,\n  Search,\n  Brain,\n  Wrench,\n  TrendingDown,\n  Calendar,\n  Target,\n  Heart,\n  Utensils,\n  Droplet,\n  X,\n  ArrowLeft,\n  MessageSquare,\n  ExternalLink,\n  ShoppingCart,\n  CheckCircle2,\n} from 'lucide-react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { TabContent } from '../ResultsLayout';\nimport {\n  GUIDE_CATEGORIES,\n  getGuidesByCategory,\n  getTotalGuideCount,\n  getTotalReadTime,\n  getGuideProductById,\n  getGuidesByGender,\n} from '@/data/guides';\nimport { Guide, GuideCategory, GuideMedia } from '@/types/guides';\nimport { useRegion } from '@/contexts/RegionContext';\nimport { useResults } from '@/contexts/ResultsContext';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\n\n// ============================================\n// ICON MAPPING\n// ============================================\n\nconst ICON_MAP: Record<string, React.ReactNode> = {\n  BookOpen: <BookOpen size={20} />,\n  Dumbbell: <Dumbbell size={20} />,\n  Sparkles: <Sparkles size={20} />,\n  Brain: <Brain size={20} />,\n  Wrench: <Wrench size={20} />,\n  TrendingDown: <TrendingDown size={20} />,\n  Calendar: <Calendar size={20} />,\n  Target: <Target size={20} />,\n  Heart: <Heart size={20} />,\n  Utensils: <Utensils size={20} />,\n  Droplet: <Droplet size={20} />,\n};\n\nfunction getIconComponent(iconName: string, size = 20): React.ReactNode {\n  // Check icon map first\n  const mappedIcon = ICON_MAP[iconName];\n  if (mappedIcon) return mappedIcon;\n\n  // Fallback to BookOpen\n  return <BookOpen size={size} />;\n}\n\n// ============================================\n// MEDIA RENDERER\n// ============================================\n\ninterface MediaRendererProps {\n  media: GuideMedia;\n}\n\nfunction MediaRenderer({ media }: MediaRendererProps) {\n  const [hasError, setHasError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const handleError = useCallback(() => {\n    setHasError(true);\n    setIsLoading(false);\n  }, []);\n\n  const handleLoad = useCallback(() => {\n    setIsLoading(false);\n  }, []);\n\n  const placementClasses = {\n    inline: 'max-w-lg mx-auto',\n    hero: 'w-full',\n    'full-width': 'w-full',\n  };\n\n  const isGif = media.type === 'gif' || media.url.endsWith('.gif');\n\n  // Show styled placeholder if image failed to load or doesn't exist\n  if (hasError) {\n    return (\n      <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n        <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5\">\n          <div className=\"aspect-video flex items-center justify-center p-8\">\n            <div className=\"text-center max-w-sm\">\n              <div className=\"w-16 h-16 bg-cyan-500/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/20\">\n                {isGif ? (\n                  <div className=\"w-6 h-6 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin\" />\n                ) : (\n                  <Sparkles size={28} className=\"text-cyan-400\" />\n                )}\n              </div>\n              <p className=\"text-neutral-300 font-black uppercase tracking-wider text-sm mb-2\">{media.alt}</p>\n              {media.caption && (\n                <p className=\"text-neutral-600 text-xs\">{media.caption}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </figure>\n    );\n  }\n\n  return (\n    <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n      <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5\">\n        {/* Loading skeleton */}\n        {isLoading && (\n          <div className=\"absolute inset-0 bg-neutral-900/40 animate-pulse flex items-center justify-center\">\n            <div className=\"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin\" />\n          </div>\n        )}\n\n        {isGif ? (\n          // Use img for GIFs to preserve animation\n          // eslint-disable-next-line @next/next/no-img-element\n          <img\n            src={media.url}\n            alt={media.alt}\n            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n            loading=\"lazy\"\n            onError={handleError}\n            onLoad={handleLoad}\n          />\n        ) : (\n          <Image\n            src={media.url}\n            alt={media.alt}\n            width={media.width || 800}\n            height={media.height || 450}\n            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n            onError={handleError}\n            onLoad={handleLoad}\n          />\n        )}\n      </div>\n      {media.caption && (\n        <figcaption className=\"mt-4 text-center text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n          {media.caption}\n        </figcaption>\n      )}\n    </figure>\n  );\n}\n\n// ============================================\n// PRODUCT CALLOUT (CONVERSION OPTIMIZED)\n// ============================================\n\ninterface ProductCalloutProps {\n  productId: string;\n}\n\nfunction ProductCallout({ productId }: ProductCalloutProps) {\n  const { getLink } = useRegion();\n  const product = getGuideProductById(productId);\n\n  if (!product) return null;\n\n  const link = getLink(product.regionLinks, product.directLink);\n\n  return (\n    <div className=\"my-6 p-5 rounded-2xl bg-neutral-900/40 border border-white/5 hover:border-cyan-500/20 transition-all\">\n      <div className=\"flex items-center gap-4\">\n        {/* Product Image */}\n        {product.imageUrl && (\n          <div className=\"w-16 h-16 rounded-xl bg-neutral-900 border border-white/10 overflow-hidden flex-shrink-0\">\n            <Image\n              src={product.imageUrl}\n              alt={product.name}\n              width={64}\n              height={64}\n              className=\"w-full h-full object-cover\"\n            />\n          </div>\n        )}\n\n        {/* Product Info */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <h4 className=\"font-black uppercase tracking-wide text-white truncate\">{product.name}</h4>\n            {product.brand && (\n              <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">{product.brand}</span>\n            )}\n          </div>\n          <p className=\"text-sm text-cyan-400 italic\">&ldquo;{product.tagline}&rdquo;</p>\n        </div>\n\n        {/* CTA Button */}\n        <a\n          href={link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"flex-shrink-0 flex items-center gap-2 px-5 py-2.5 rounded-xl bg-cyan-500 hover:bg-cyan-400 text-black font-black uppercase tracking-wider text-xs transition-colors\"\n        >\n          <ShoppingCart size={14} />\n          <span className=\"hidden sm:inline\">BUY</span>\n        </a>\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// FORUM DISCUSSION LINK\n// ============================================\n\ninterface ForumDiscussionLinkProps {\n  forumCategory?: string;\n  guideTitle: string;\n}\n\nfunction ForumDiscussionLink({ forumCategory, guideTitle }: ForumDiscussionLinkProps) {\n  if (!forumCategory) return null;\n\n  return (\n    <div className=\"mt-8 p-6 rounded-2xl bg-neutral-900/40 border border-white/5\">\n      <div className=\"flex items-center gap-3 mb-4\">\n        <div className=\"w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center\">\n          <MessageSquare size={20} className=\"text-purple-400\" />\n        </div>\n        <div>\n          <h3 className=\"font-black uppercase tracking-wide text-white\">DISCUSS THIS GUIDE</h3>\n          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-600\">Join the community conversation</p>\n        </div>\n      </div>\n\n      <p className=\"text-sm text-neutral-400 mb-5\">\n        Have questions about {guideTitle.toLowerCase()}? Want to share your experience?\n        Join the discussion in our community forum.\n      </p>\n\n      <Link\n        href={`/forum/${forumCategory}`}\n        className=\"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-purple-500/30 text-purple-400 font-black uppercase tracking-wider text-xs transition-all\"\n      >\n        <MessageSquare size={14} />\n        GO TO FORUM\n        <ExternalLink size={12} />\n      </Link>\n    </div>\n  );\n}\n\n// ============================================\n// GUIDE STATS CARD\n// ============================================\n\nfunction GuideStatsCard() {\n  const totalGuides = getTotalGuideCount();\n  const totalMinutes = getTotalReadTime();\n\n  return (\n    <motion.div\n      className=\"rounded-[2rem] bg-neutral-900/40 border border-white/5 p-6 mb-8\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n    >\n      <div className=\"flex items-center gap-4 mb-6\">\n        <div className=\"w-12 h-12 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center\">\n          <BookOpen size={22} className=\"text-cyan-400\" />\n        </div>\n        <div>\n          <h2 className=\"text-xl font-black italic uppercase tracking-tight text-white\">PRODUCT <span className=\"text-cyan-400\">GUIDES</span></h2>\n          <p className=\"text-[10px] font-black uppercase tracking-[0.2em] text-neutral-600\">EVIDENCE-BASED LOOKSMAXXING RESOURCES</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"rounded-xl bg-neutral-900/50 border border-white/5 p-4\">\n          <div className=\"text-3xl font-black text-white mb-1\">{totalGuides}</div>\n          <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">TOTAL GUIDES</div>\n        </div>\n        <div className=\"rounded-xl bg-neutral-900/50 border border-white/5 p-4\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <Clock size={18} className=\"text-cyan-400\" />\n            <div className=\"text-3xl font-black text-white\">{totalMinutes}</div>\n          </div>\n          <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">MINUTES OF CONTENT</div>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// GUIDE VIEWER MODAL\n// ============================================\n\ninterface GuideViewerProps {\n  guide: Guide;\n  onClose: () => void;\n}\n\nfunction GuideViewer({ guide, onClose }: GuideViewerProps) {\n  const [currentSection, setCurrentSection] = useState(0);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  const section = guide.sections[currentSection];\n\n  if (!section) return null;\n\n  // Calculate reading progress (0% at start, 100% at last section)\n  const progress = guide.sections.length > 1\n    ? (currentSection / (guide.sections.length - 1)) * 100\n    : 100;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 z-50 bg-black\"\n    >\n      {/* Header */}\n      <div className=\"sticky top-0 z-20 bg-black/95 backdrop-blur-md border-b border-neutral-900\">\n        <div className=\"flex items-center justify-between px-4 lg:px-8 py-3\">\n          <button\n            onClick={onClose}\n            className=\"flex items-center gap-2 text-neutral-500 hover:text-cyan-400 text-xs font-black uppercase tracking-widest transition-colors\"\n          >\n            <ArrowLeft size={14} />\n            <span className=\"hidden sm:inline\">BACK TO GUIDES</span>\n          </button>\n\n          {/* Progress bar */}\n          <div className=\"hidden md:flex items-center gap-4 flex-1 max-w-md mx-8\">\n            <div className=\"flex-1 h-1 bg-neutral-900 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-cyan-500 to-cyan-400\"\n                initial={{ width: 0 }}\n                animate={{ width: `${progress}%` }}\n                transition={{ duration: 0.3 }}\n              />\n            </div>\n            <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600 whitespace-nowrap\">\n              {currentSection + 1} / {guide.sections.length}\n            </span>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            {/* Mobile menu button */}\n            <button\n              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n              className=\"lg:hidden p-2 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10 transition-colors\"\n            >\n              <BookOpen size={18} className=\"text-neutral-400\" />\n            </button>\n            <button\n              onClick={onClose}\n              className=\"p-2 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10 transition-colors\"\n            >\n              <X size={18} className=\"text-neutral-400\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Layout: Sidebar + Content */}\n      <div className=\"flex h-[calc(100vh-57px)]\">\n        {/* Sidebar Navigation */}\n        <aside\n          className={`\n            fixed lg:relative inset-y-0 left-0 z-30 lg:z-0\n            w-72 lg:w-80 bg-black lg:bg-neutral-950/50\n            border-r border-neutral-900\n            transform transition-transform duration-300 ease-in-out\n            ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n            flex flex-col\n          `}\n        >\n          {/* Sidebar Header */}\n          <div className=\"p-6 border-b border-neutral-900\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-10 h-10 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center text-cyan-400\">\n                {getIconComponent(guide.icon, 20)}\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h2 className=\"font-black uppercase tracking-tight text-white truncate text-sm\">{guide.title}</h2>\n                <div className=\"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n                  <Clock size={10} />\n                  <span>{guide.estimatedReadTime} MIN</span>\n                </div>\n              </div>\n            </div>\n            {guide.subtitle && (\n              <p className=\"text-xs text-neutral-500 italic\">{guide.subtitle}</p>\n            )}\n          </div>\n\n          {/* Section List */}\n          <nav className=\"flex-1 overflow-y-auto p-4\">\n            <div className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-4 px-2 flex items-center gap-3\">\n              SECTIONS\n              <div className=\"flex-1 h-px bg-neutral-800\" />\n            </div>\n            <ul className=\"space-y-1\">\n              {guide.sections.map((s, idx) => (\n                <li key={s.id}>\n                  <button\n                    onClick={() => {\n                      setCurrentSection(idx);\n                      setIsSidebarOpen(false);\n                    }}\n                    className={`\n                      w-full text-left px-3 py-3 rounded-xl transition-all\n                      flex items-start gap-3 group\n                      ${currentSection === idx\n                        ? 'bg-neutral-900/50 border border-cyan-500/20'\n                        : 'hover:bg-neutral-900/30 border border-transparent'\n                      }\n                    `}\n                  >\n                    {/* Section number */}\n                    <span\n                      className={`\n                        flex-shrink-0 w-6 h-6 rounded-lg text-[10px] font-black\n                        flex items-center justify-center transition-colors\n                        ${currentSection === idx\n                          ? 'bg-cyan-500 text-black'\n                          : idx < currentSection\n                            ? 'bg-green-500/20 text-green-400'\n                            : 'bg-neutral-900 border border-white/10 text-neutral-500 group-hover:border-white/20'\n                        }\n                      `}\n                    >\n                      {idx < currentSection ? (\n                        <CheckCircle2 size={12} />\n                      ) : (\n                        idx + 1\n                      )}\n                    </span>\n\n                    {/* Section info */}\n                    <div className=\"flex-1 min-w-0\">\n                      <p\n                        className={`text-xs font-bold uppercase tracking-wide truncate ${currentSection === idx ? 'text-white' : 'text-neutral-500 group-hover:text-neutral-300'\n                          }`}\n                      >\n                        {s.title}\n                      </p>\n                      {/* Show media indicator if section has media */}\n                      {s.media && s.media.length > 0 && (\n                        <div className=\"flex items-center gap-1 mt-1\">\n                          <Sparkles size={8} className=\"text-amber-400\" />\n                          <span className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-700\">\n                            {s.media.length} VISUAL{s.media.length > 1 ? 'S' : ''}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </nav>\n\n          {/* Sidebar Footer */}\n          <div className=\"p-4 border-t border-neutral-900\">\n            <div className=\"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-neutral-600 mb-2\">\n              <span>PROGRESS</span>\n              <span>{Math.round(progress)}%</span>\n            </div>\n            <div className=\"h-1.5 bg-neutral-900 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-cyan-500 to-green-500\"\n                animate={{ width: `${progress}%` }}\n              />\n            </div>\n          </div>\n        </aside>\n\n        {/* Mobile sidebar overlay */}\n        {isSidebarOpen && (\n          <div\n            className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-20 lg:hidden\"\n            onClick={() => setIsSidebarOpen(false)}\n          />\n        )}\n\n        {/* Main Content Area */}\n        <main className=\"flex-1 overflow-y-auto\">\n          <article className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-10 lg:py-16\">\n            {/* Hero Media (only on first section) */}\n            {guide.heroMedia && currentSection === 0 && (\n              <div className=\"mb-10\">\n                <MediaRenderer media={guide.heroMedia} />\n              </div>\n            )}\n\n            {/* Article Header (only on first section) */}\n            {currentSection === 0 && (\n              <header className=\"mb-12\">\n                <div className=\"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-[10px] font-black uppercase tracking-widest text-cyan-400 mb-6\">\n                  {getIconComponent(guide.icon, 12)}\n                  <span>GUIDE</span>\n                </div>\n\n                <h1 className=\"text-3xl md:text-4xl font-black tracking-tighter italic uppercase text-white mb-4 leading-tight\">\n                  {guide.title.split(' ').slice(0, -1).join(' ')} <span className=\"text-cyan-400\">{guide.title.split(' ').slice(-1)}</span>\n                </h1>\n\n                <p className=\"text-neutral-400 text-base leading-relaxed\">\n                  {guide.description}\n                </p>\n              </header>\n            )}\n\n            {/* Section Content */}\n            <AnimatePresence mode=\"wait\">\n              <motion.section\n                key={section.id}\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -20 }}\n                transition={{ duration: 0.3 }}\n              >\n                {/* Section Title - Largest heading in section content */}\n                <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-8 flex items-center gap-4\">\n                  {section.title}\n                  <div className=\"flex-1 h-px bg-neutral-800\" />\n                </h2>\n\n                {/* Tips Callout */}\n                {section.tips && section.tips.length > 0 && (\n                  <aside className=\"mb-10 p-6 rounded-2xl bg-cyan-500/5 border border-cyan-500/10\">\n                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.3em] text-cyan-400 mb-4\">\n                      QUICK TIPS\n                    </h4>\n                    <ul className=\"space-y-3\">\n                      {section.tips.map((tip, i) => (\n                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n                          <span className=\"flex-shrink-0 w-5 h-5 bg-cyan-500/20 rounded-lg flex items-center justify-center mt-0.5\">\n                            <span className=\"text-cyan-400 text-[10px] font-black\">{i + 1}</span>\n                          </span>\n                          <span className=\"leading-relaxed text-sm\">{tip}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </aside>\n                )}\n\n                {/* Warnings Callout */}\n                {section.warnings && section.warnings.length > 0 && (\n                  <aside className=\"mb-10 p-6 rounded-2xl bg-amber-500/5 border border-amber-500/10\">\n                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.3em] text-amber-400 mb-4\">\n                      IMPORTANT\n                    </h4>\n                    <ul className=\"space-y-3\">\n                      {section.warnings.map((warning, i) => (\n                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n                          <span className=\"text-amber-400 mt-1\">*</span>\n                          <span className=\"leading-relaxed text-sm\">{warning}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </aside>\n                )}\n\n                {/* Hero Media for Section */}\n                {section.media && section.media.filter(m => m.placement === 'hero').map(media => (\n                  <div key={media.id} className=\"mb-10\">\n                    <MediaRenderer media={media} />\n                  </div>\n                ))}\n\n                {/* Article Body - Custom Markdown Rendering */}\n                <div className=\"article-content\">\n                  <ReactMarkdown\n                    remarkPlugins={[remarkGfm]}\n                    components={{\n                      // Paragraphs with generous spacing\n                      p: ({ children }) => (\n                        <p className=\"text-neutral-400 text-base leading-[1.8] mb-6 font-medium\">\n                          {children}\n                        </p>\n                      ),\n                      // Headers with clear hierarchy (smaller than section title)\n                      h1: ({ children }) => (\n                        <h3 className=\"text-xl font-black italic uppercase text-white mt-12 mb-6 tracking-tight\">\n                          {children}\n                        </h3>\n                      ),\n                      h2: ({ children }) => (\n                        <h4 className=\"text-lg font-black italic uppercase text-white mt-10 mb-5 pb-3 border-b border-neutral-900 tracking-tight\">\n                          {children}\n                        </h4>\n                      ),\n                      h3: ({ children }) => (\n                        <h5 className=\"text-base font-black uppercase text-white mt-8 mb-4 tracking-wide\">\n                          {children}\n                        </h5>\n                      ),\n                      // Strong text\n                      strong: ({ children }) => (\n                        <strong className=\"font-black text-white\">\n                          {children}\n                        </strong>\n                      ),\n                      // Emphasis\n                      em: ({ children }) => (\n                        <em className=\"text-neutral-500 not-italic\">\n                          {children}\n                        </em>\n                      ),\n                      // Lists with proper spacing\n                      ul: ({ children }) => (\n                        <ul className=\"my-6 ml-0 space-y-3\">\n                          {children}\n                        </ul>\n                      ),\n                      ol: ({ children }) => (\n                        <ol className=\"my-6 ml-0 space-y-3 list-decimal list-inside\">\n                          {children}\n                        </ol>\n                      ),\n                      li: ({ children }) => (\n                        <li className=\"text-neutral-400 text-base leading-[1.8] flex items-start gap-3 font-medium\">\n                          <span className=\"text-cyan-500 mt-1.5 flex-shrink-0\">*</span>\n                          <span>{children}</span>\n                        </li>\n                      ),\n                      // Tables - styled beautifully\n                      table: ({ children }) => (\n                        <div className=\"my-8 overflow-x-auto rounded-2xl border border-white/5\">\n                          <table className=\"w-full text-left\">\n                            {children}\n                          </table>\n                        </div>\n                      ),\n                      thead: ({ children }) => (\n                        <thead className=\"bg-neutral-900/80 border-b border-white/5\">\n                          {children}\n                        </thead>\n                      ),\n                      tbody: ({ children }) => (\n                        <tbody className=\"divide-y divide-white/5\">\n                          {children}\n                        </tbody>\n                      ),\n                      tr: ({ children }) => (\n                        <tr className=\"hover:bg-neutral-900/50 transition-colors\">\n                          {children}\n                        </tr>\n                      ),\n                      th: ({ children }) => (\n                        <th className=\"px-4 py-3 text-[10px] font-black uppercase tracking-widest text-cyan-400\">\n                          {children}\n                        </th>\n                      ),\n                      td: ({ children }) => (\n                        <td className=\"px-4 py-3 text-neutral-400 text-sm font-medium\">\n                          {children}\n                        </td>\n                      ),\n                      // Blockquotes\n                      blockquote: ({ children }) => (\n                        <blockquote className=\"my-8 pl-6 border-l-2 border-cyan-500 bg-neutral-900/30 py-4 pr-6 rounded-r-xl\">\n                          {children}\n                        </blockquote>\n                      ),\n                      // Code\n                      code: ({ children }) => (\n                        <code className=\"text-cyan-400 bg-neutral-900 px-2 py-1 rounded-lg text-sm font-mono\">\n                          {children}\n                        </code>\n                      ),\n                      // Links\n                      a: ({ href, children }) => (\n                        <a\n                          href={href}\n                          className=\"text-cyan-400 hover:text-cyan-300 underline underline-offset-4 decoration-cyan-500/30 hover:decoration-cyan-400 transition-colors font-bold\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          {children}\n                        </a>\n                      ),\n                      // Horizontal rule\n                      hr: () => (\n                        <hr className=\"my-10 border-neutral-900\" />\n                      ),\n                    }}\n                  >\n                    {section.content}\n                  </ReactMarkdown>\n                </div>\n\n                {/* Inline Media */}\n                {section.media && section.media.filter(m => m.placement !== 'hero').map(media => (\n                  <div key={media.id} className=\"my-10\">\n                    <MediaRenderer media={media} />\n                  </div>\n                ))}\n\n                {/* Product Recommendations */}\n                {section.products && section.products.length > 0 && (\n                  <div className=\"mt-12 pt-8 border-t border-neutral-900\">\n                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-6 flex items-center gap-4\">\n                      RECOMMENDED PRODUCTS\n                      <div className=\"flex-1 h-px bg-neutral-800\" />\n                    </h4>\n                    <div className=\"space-y-4\">\n                      {section.products.map(productId => (\n                        <ProductCallout key={productId} productId={productId} />\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Section Navigation */}\n                <nav className=\"flex items-center justify-between mt-16 pt-8 border-t border-neutral-900\">\n                  <button\n                    onClick={() => setCurrentSection(Math.max(0, currentSection - 1))}\n                    disabled={currentSection === 0}\n                    className={`flex items-center gap-3 group transition-all ${currentSection === 0\n                      ? 'text-neutral-800 cursor-not-allowed'\n                      : 'text-neutral-500 hover:text-white'\n                      }`}\n                  >\n                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === 0 ? 'bg-neutral-900/30' : 'bg-neutral-900/50 border border-white/5 group-hover:border-white/10'\n                      }`}>\n                      <ArrowLeft size={18} />\n                    </div>\n                    <div className=\"hidden sm:block text-left\">\n                      <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-700 mb-1\">PREVIOUS</div>\n                      {currentSection > 0 && (\n                        <div className=\"text-xs font-bold uppercase tracking-wide text-neutral-400\">{guide.sections[currentSection - 1].title}</div>\n                      )}\n                    </div>\n                  </button>\n\n                  <button\n                    onClick={() => setCurrentSection(Math.min(guide.sections.length - 1, currentSection + 1))}\n                    disabled={currentSection === guide.sections.length - 1}\n                    className={`flex items-center gap-3 group transition-all ${currentSection === guide.sections.length - 1\n                      ? 'text-neutral-800 cursor-not-allowed'\n                      : 'text-neutral-500 hover:text-white'\n                      }`}\n                  >\n                    <div className=\"hidden sm:block text-right\">\n                      <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-700 mb-1\">NEXT</div>\n                      {currentSection < guide.sections.length - 1 && (\n                        <div className=\"text-xs font-bold uppercase tracking-wide text-neutral-400\">{guide.sections[currentSection + 1].title}</div>\n                      )}\n                    </div>\n                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === guide.sections.length - 1\n                      ? 'bg-neutral-900/30'\n                      : 'bg-cyan-500/10 border border-cyan-500/20 group-hover:bg-cyan-500/20'\n                      }`}>\n                      <ChevronRight size={18} className={currentSection === guide.sections.length - 1 ? '' : 'text-cyan-400'} />\n                    </div>\n                  </button>\n                </nav>\n              </motion.section>\n            </AnimatePresence>\n\n            {/* Forum Discussion Link (after last section) */}\n            {currentSection === guide.sections.length - 1 && (\n              <div className=\"mt-16\">\n                <ForumDiscussionLink\n                  forumCategory={guide.forumCategory}\n                  guideTitle={guide.title}\n                />\n              </div>\n            )}\n          </article>\n        </main>\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// GUIDE CARD\n// ============================================\n\ninterface GuideCardProps {\n  guide: Guide;\n  index: number;\n  onOpen: (guide: Guide) => void;\n}\n\nfunction GuideCard({ guide, index, onOpen }: GuideCardProps) {\n  const getCategoryColor = (guideId: string) => {\n    const category = GUIDE_CATEGORIES.find(c => c.guideIds.includes(guideId));\n    if (!category) return 'cyan';\n    const colorMap: Record<string, string> = {\n      blue: 'cyan',\n      purple: 'purple',\n      amber: 'amber',\n      pink: 'pink',\n      emerald: 'emerald',\n      red: 'red',\n    };\n    return colorMap[category.color] || 'cyan';\n  };\n\n  const color = getCategoryColor(guide.id);\n\n  const colorClasses: Record<string, { bg: string; border: string; text: string; iconBg: string }> = {\n    cyan: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-cyan-500/20',\n      text: 'text-cyan-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n    purple: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-purple-500/20',\n      text: 'text-purple-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n    amber: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-amber-500/20',\n      text: 'text-amber-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n    pink: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-pink-500/20',\n      text: 'text-pink-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n    emerald: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-emerald-500/20',\n      text: 'text-emerald-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n    red: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-red-500/20',\n      text: 'text-red-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n  };\n\n  const styles = colorClasses[color] || colorClasses.cyan;\n\n  return (\n    <motion.div\n      onClick={() => onOpen(guide)}\n      className={`${styles.bg} ${styles.border} border rounded-2xl p-5 transition-all cursor-pointer group`}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: index * 0.05 }}\n      whileHover={{ y: -2 }}\n    >\n      <div className=\"flex items-start justify-between mb-4\">\n        <div className={`w-10 h-10 ${styles.iconBg} rounded-xl flex items-center justify-center ${styles.text}`}>\n          {getIconComponent(guide.icon)}\n        </div>\n        <div className=\"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-neutral-900/50 border border-white/5\">\n          <Clock size={10} className=\"text-neutral-600\" />\n          <span className=\"text-[10px] font-black uppercase tracking-wider text-neutral-500\">{guide.estimatedReadTime} MIN</span>\n        </div>\n      </div>\n\n      <h3 className=\"font-black uppercase tracking-tight text-white mb-1 group-hover:text-cyan-400 transition-colors\">\n        {guide.title}\n      </h3>\n\n      {guide.subtitle && (\n        <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-600 mb-2\">{guide.subtitle}</p>\n      )}\n\n      <p className=\"text-sm text-neutral-500 mb-4 line-clamp-2 font-medium\">{guide.description}</p>\n\n      <div className=\"flex items-center justify-between pt-3 border-t border-white/5\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n            {guide.sections.length} SECTIONS\n          </span>\n          {guide.productIds && guide.productIds.length > 0 && (\n            <>\n              <span className=\"w-1 h-1 rounded-full bg-neutral-800\" />\n              <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n                {guide.productIds.length} PRODUCTS\n              </span>\n            </>\n          )}\n        </div>\n        <ChevronRight size={16} className=\"text-neutral-700 group-hover:text-cyan-400 transition-colors\" />\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// CATEGORY SECTION\n// ============================================\n\ninterface CategorySectionProps {\n  category: GuideCategory;\n  onOpenGuide: (guide: Guide) => void;\n  gender: 'male' | 'female';\n}\n\nfunction CategorySection({ category, onOpenGuide, gender }: CategorySectionProps) {\n  // Skip gender-specific categories for the opposite gender\n  if (category.id === 'male' && gender === 'female') return null;\n  if (category.id === 'female' && gender === 'male') return null;\n\n  const guides = getGuidesByCategory(category.id);\n\n  if (guides.length === 0) return null;\n\n  const colorClasses: Record<string, { text: string; iconBg: string }> = {\n    blue: { text: 'text-cyan-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    purple: { text: 'text-purple-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    pink: { text: 'text-pink-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    cyan: { text: 'text-cyan-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    emerald: { text: 'text-emerald-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    red: { text: 'text-red-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    amber: { text: 'text-amber-400', iconBg: 'bg-neutral-900 border border-white/10' },\n  };\n\n  const styles = colorClasses[category.color] || colorClasses.cyan;\n\n  return (\n    <div className=\"mb-12\">\n      {/* Category Header */}\n      <div className=\"flex items-center gap-4 mb-6\">\n        <div className={`w-10 h-10 ${styles.iconBg} rounded-xl flex items-center justify-center ${styles.text}`}>\n          {getIconComponent(category.icon)}\n        </div>\n        <div className=\"flex-1\">\n          <h3 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 flex items-center gap-4\">\n            {category.name}\n            <div className=\"flex-1 h-px bg-neutral-800\" />\n          </h3>\n          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-700 mt-1\">{category.description}</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {guides.map((guide, idx) => (\n          <GuideCard key={guide.id} guide={guide} index={idx} onOpen={onOpenGuide} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// SEARCH BAR\n// ============================================\n\ninterface SearchBarProps {\n  query: string;\n  onQueryChange: (query: string) => void;\n}\n\nfunction SearchBar({ query, onQueryChange }: SearchBarProps) {\n  return (\n    <div className=\"relative mb-8\">\n      <Search size={16} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-600\" />\n      <input\n        type=\"text\"\n        placeholder=\"SEARCH GUIDES...\"\n        value={query}\n        onChange={(e) => onQueryChange(e.target.value)}\n        className=\"w-full bg-neutral-900/40 border border-white/5 rounded-xl pl-11 pr-4 py-3.5 text-white placeholder:text-neutral-600 placeholder:font-black placeholder:uppercase placeholder:tracking-widest placeholder:text-xs focus:outline-none focus:border-cyan-500/30 transition-colors font-medium text-sm\"\n      />\n    </div>\n  );\n}\n\n// ============================================\n// MAIN TAB COMPONENT\n// ============================================\n\nexport function GuidesTab() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedGuide, setSelectedGuide] = useState<Guide | null>(null);\n  const { gender } = useResults();\n\n  // Filter guides by gender (excludes opposite gender's specific guides)\n  const genderFilteredGuides = getGuidesByGender(gender);\n\n  const filteredGuides = searchQuery.trim()\n    ? genderFilteredGuides.filter(g =>\n        g.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        g.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        (g.subtitle && g.subtitle.toLowerCase().includes(searchQuery.toLowerCase())) ||\n        (g.tags && g.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase())))\n      )\n    : null;\n\n  const handleOpenGuide = (guide: Guide) => {\n    setSelectedGuide(guide);\n  };\n\n  const handleCloseGuide = () => {\n    setSelectedGuide(null);\n  };\n\n  return (\n    <>\n      <TabContent\n        title=\"Product Guides\"\n        subtitle=\"Evidence-based guides for optimal results\"\n      >\n        <div className=\"max-w-5xl mx-auto\">\n          <GuideStatsCard />\n\n          <SearchBar query={searchQuery} onQueryChange={setSearchQuery} />\n\n          {filteredGuides ? (\n            // Search Results\n            <div>\n              <p className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600 mb-6\">\n                FOUND {filteredGuides.length} GUIDE{filteredGuides.length !== 1 ? 'S' : ''} MATCHING &ldquo;{searchQuery.toUpperCase()}&rdquo;\n              </p>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {filteredGuides.map((guide, idx) => (\n                  <GuideCard key={guide.id} guide={guide} index={idx} onOpen={handleOpenGuide} />\n                ))}\n              </div>\n              {filteredGuides.length === 0 && (\n                <div className=\"text-center py-16\">\n                  <div className=\"w-16 h-16 rounded-2xl bg-neutral-900 border border-white/10 flex items-center justify-center mx-auto mb-4\">\n                    <Search size={24} className=\"text-neutral-700\" />\n                  </div>\n                  <p className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">NO GUIDES FOUND MATCHING YOUR SEARCH</p>\n                </div>\n              )}\n            </div>\n          ) : (\n            // Category View\n            <div>\n              {GUIDE_CATEGORIES.map(category => (\n                <CategorySection key={category.id} category={category} onOpenGuide={handleOpenGuide} gender={gender} />\n              ))}\n            </div>\n          )}\n        </div>\n      </TabContent>\n\n      {/* Guide Viewer Modal */}\n      <AnimatePresence>\n        {selectedGuide && (\n          <GuideViewer guide={selectedGuide} onClose={handleCloseGuide} />\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":4002,"cache_creation_input_tokens":14892,"cache_read_input_tokens":35481,"cache_creation":{"ephemeral_5m_input_tokens":14892,"ephemeral_1h_input_tokens":0},"output_tokens":12631,"service_tier":"standard"}},"requestId":"req_011CWVwWiKGvmydwQjtv7YEd","type":"assistant","uuid":"2027188b-48a9-4347-96b5-02fd28760038","timestamp":"2025-12-26T20:39:08.256Z"}
{"parentUuid":"2027188b-48a9-4347-96b5-02fd28760038","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FFLJ4aTbnquPB7biGT9gss","type":"tool_result","content":"The file /Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/tabs/GuidesTab.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n     1→'use client';\n     2→\n     3→import { useState, useCallback } from 'react';\n     4→import { motion, AnimatePresence } from 'framer-motion';\n     5→import {\n     6→  BookOpen,\n     7→  Dumbbell,\n     8→  Sparkles,\n     9→  Clock,\n    10→  ChevronRight,\n    11→  Search,\n    12→  Brain,\n    13→  Wrench,\n    14→  TrendingDown,\n    15→  Calendar,\n    16→  Target,\n    17→  Heart,\n    18→  Utensils,\n    19→  Droplet,\n    20→  X,\n    21→  ArrowLeft,\n    22→  MessageSquare,\n    23→  ExternalLink,\n    24→  ShoppingCart,\n    25→  CheckCircle2,\n    26→} from 'lucide-react';\n    27→import Image from 'next/image';\n    28→import Link from 'next/link';\n    29→import { TabContent } from '../ResultsLayout';\n    30→import {\n    31→  GUIDE_CATEGORIES,\n    32→  getGuidesByCategory,\n    33→  getTotalGuideCount,\n    34→  getTotalReadTime,\n    35→  getGuideProductById,\n    36→  getGuidesByGender,\n    37→} from '@/data/guides';\n    38→import { Guide, GuideCategory, GuideMedia } from '@/types/guides';\n    39→import { useRegion } from '@/contexts/RegionContext';\n    40→import { useResults } from '@/contexts/ResultsContext';\n    41→import ReactMarkdown from 'react-markdown';\n    42→import remarkGfm from 'remark-gfm';\n    43→\n    44→// ============================================\n    45→// ICON MAPPING\n    46→// ============================================\n    47→\n    48→const ICON_MAP: Record<string, React.ReactNode> = {\n    49→  BookOpen: <BookOpen size={20} />,\n    50→  Dumbbell: <Dumbbell size={20} />,\n    51→  Sparkles: <Sparkles size={20} />,\n    52→  Brain: <Brain size={20} />,\n    53→  Wrench: <Wrench size={20} />,\n    54→  TrendingDown: <TrendingDown size={20} />,\n    55→  Calendar: <Calendar size={20} />,\n    56→  Target: <Target size={20} />,\n    57→  Heart: <Heart size={20} />,\n    58→  Utensils: <Utensils size={20} />,\n    59→  Droplet: <Droplet size={20} />,\n    60→};\n    61→\n    62→function getIconComponent(iconName: string, size = 20): React.ReactNode {\n    63→  // Check icon map first\n    64→  const mappedIcon = ICON_MAP[iconName];\n    65→  if (mappedIcon) return mappedIcon;\n    66→\n    67→  // Fallback to BookOpen\n    68→  return <BookOpen size={size} />;\n    69→}\n    70→\n    71→// ============================================\n    72→// MEDIA RENDERER\n    73→// ============================================\n    74→\n    75→interface MediaRendererProps {\n    76→  media: GuideMedia;\n    77→}\n    78→\n    79→function MediaRenderer({ media }: MediaRendererProps) {\n    80→  const [hasError, setHasError] = useState(false);\n    81→  const [isLoading, setIsLoading] = useState(true);\n    82→\n    83→  const handleError = useCallback(() => {\n    84→    setHasError(true);\n    85→    setIsLoading(false);\n    86→  }, []);\n    87→\n    88→  const handleLoad = useCallback(() => {\n    89→    setIsLoading(false);\n    90→  }, []);\n    91→\n    92→  const placementClasses = {\n    93→    inline: 'max-w-lg mx-auto',\n    94→    hero: 'w-full',\n    95→    'full-width': 'w-full',\n    96→  };\n    97→\n    98→  const isGif = media.type === 'gif' || media.url.endsWith('.gif');\n    99→\n   100→  // Show styled placeholder if image failed to load or doesn't exist\n   101→  if (hasError) {\n   102→    return (\n   103→      <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n   104→        <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5\">\n   105→          <div className=\"aspect-video flex items-center justify-center p-8\">\n   106→            <div className=\"text-center max-w-sm\">\n   107→              <div className=\"w-16 h-16 bg-cyan-500/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/20\">\n   108→                {isGif ? (\n   109→                  <div className=\"w-6 h-6 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin\" />\n   110→                ) : (\n   111→                  <Sparkles size={28} className=\"text-cyan-400\" />\n   112→                )}\n   113→              </div>\n   114→              <p className=\"text-neutral-300 font-black uppercase tracking-wider text-sm mb-2\">{media.alt}</p>\n   115→              {media.caption && (\n   116→                <p className=\"text-neutral-600 text-xs\">{media.caption}</p>\n   117→              )}\n   118→            </div>\n   119→          </div>\n   120→        </div>\n   121→      </figure>\n   122→    );\n   123→  }\n   124→\n   125→  return (\n   126→    <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n   127→      <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5\">\n   128→        {/* Loading skeleton */}\n   129→        {isLoading && (\n   130→          <div className=\"absolute inset-0 bg-neutral-900/40 animate-pulse flex items-center justify-center\">\n   131→            <div className=\"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin\" />\n   132→          </div>\n   133→        )}\n   134→\n   135→        {isGif ? (\n   136→          // Use img for GIFs to preserve animation\n   137→          // eslint-disable-next-line @next/next/no-img-element\n   138→          <img\n   139→            src={media.url}\n   140→            alt={media.alt}\n   141→            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n   142→            loading=\"lazy\"\n   143→            onError={handleError}\n   144→            onLoad={handleLoad}\n   145→          />\n   146→        ) : (\n   147→          <Image\n   148→            src={media.url}\n   149→            alt={media.alt}\n   150→            width={media.width || 800}\n   151→            height={media.height || 450}\n   152→            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n   153→            onError={handleError}\n   154→            onLoad={handleLoad}\n   155→          />\n   156→        )}\n   157→      </div>\n   158→      {media.caption && (\n   159→        <figcaption className=\"mt-4 text-center text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n   160→          {media.caption}\n   161→        </figcaption>\n   162→      )}\n   163→    </figure>\n   164→  );\n   165→}\n   166→\n   167→// ============================================\n   168→// PRODUCT CALLOUT (CONVERSION OPTIMIZED)\n   169→// ============================================\n   170→\n   171→interface ProductCalloutProps {\n   172→  productId: string;\n   173→}\n   174→\n   175→function ProductCallout({ productId }: ProductCalloutProps) {\n   176→  const { getLink } = useRegion();\n   177→  const product = getGuideProductById(productId);\n   178→\n   179→  if (!product) return null;\n   180→\n   181→  const link = getLink(product.regionLinks, product.directLink);\n   182→\n   183→  return (\n   184→    <div className=\"my-6 p-5 rounded-2xl bg-neutral-900/40 border border-white/5 hover:border-cyan-500/20 transition-all\">\n   185→      <div className=\"flex items-center gap-4\">\n   186→        {/* Product Image */}\n   187→        {product.imageUrl && (\n   188→          <div className=\"w-16 h-16 rounded-xl bg-neutral-900 border border-white/10 overflow-hidden flex-shrink-0\">\n   189→            <Image\n   190→              src={product.imageUrl}\n   191→              alt={product.name}\n   192→              width={64}\n   193→              height={64}\n   194→              className=\"w-full h-full object-cover\"\n   195→            />\n   196→          </div>\n   197→        )}\n   198→\n   199→        {/* Product Info */}\n   200→        <div className=\"flex-1 min-w-0\">\n   201→          <div className=\"flex items-center gap-2 mb-1\">\n   202→            <h4 className=\"font-black uppercase tracking-wide text-white truncate\">{product.name}</h4>\n   203→            {product.brand && (\n   204→              <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">{product.brand}</span>\n   205→            )}\n   206→          </div>\n   207→          <p className=\"text-sm text-cyan-400 italic\">&ldquo;{product.tagline}&rdquo;</p>\n   208→        </div>\n   209→\n   210→        {/* CTA Button */}\n   211→        <a\n   212→          href={link}\n   213→          target=\"_blank\"\n   214→          rel=\"noopener noreferrer\"\n   215→          className=\"flex-shrink-0 flex items-center gap-2 px-5 py-2.5 rounded-xl bg-cyan-500 hover:bg-cyan-400 text-black font-black uppercase tracking-wider text-xs transition-colors\"\n   216→        >\n   217→          <ShoppingCart size={14} />\n   218→          <span className=\"hidden sm:inline\">BUY</span>\n   219→        </a>\n   220→      </div>\n   221→    </div>\n   222→  );\n   223→}\n   224→\n   225→// ============================================\n   226→// FORUM DISCUSSION LINK\n   227→// ============================================\n   228→\n   229→interface ForumDiscussionLinkProps {\n   230→  forumCategory?: string;\n   231→  guideTitle: string;\n   232→}\n   233→\n   234→function ForumDiscussionLink({ forumCategory, guideTitle }: ForumDiscussionLinkProps) {\n   235→  if (!forumCategory) return null;\n   236→\n   237→  return (\n   238→    <div className=\"mt-8 p-6 rounded-2xl bg-neutral-900/40 border border-white/5\">\n   239→      <div className=\"flex items-center gap-3 mb-4\">\n   240→        <div className=\"w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center\">\n   241→          <MessageSquare size={20} className=\"text-purple-400\" />\n   242→        </div>\n   243→        <div>\n   244→          <h3 className=\"font-black uppercase tracking-wide text-white\">DISCUSS THIS GUIDE</h3>\n   245→          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-600\">Join the community conversation</p>\n   246→        </div>\n   247→      </div>\n   248→\n   249→      <p className=\"text-sm text-neutral-400 mb-5\">\n   250→        Have questions about {guideTitle.toLowerCase()}? Want to share your experience?\n   251→        Join the discussion in our community forum.\n   252→      </p>\n   253→\n   254→      <Link\n   255→        href={`/forum/${forumCategory}`}\n   256→        className=\"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-purple-500/30 text-purple-400 font-black uppercase tracking-wider text-xs transition-all\"\n   257→      >\n   258→        <MessageSquare size={14} />\n   259→        GO TO FORUM\n   260→        <ExternalLink size={12} />\n   261→      </Link>\n   262→    </div>\n   263→  );\n   264→}\n   265→\n   266→// ============================================\n   267→// GUIDE STATS CARD\n   268→// ============================================\n   269→\n   270→function GuideStatsCard() {\n   271→  const totalGuides = getTotalGuideCount();\n   272→  const totalMinutes = getTotalReadTime();\n   273→\n   274→  return (\n   275→    <motion.div\n   276→      className=\"rounded-[2rem] bg-neutral-900/40 border border-white/5 p-6 mb-8\"\n   277→      initial={{ opacity: 0, y: 20 }}\n   278→      animate={{ opacity: 1, y: 0 }}\n   279→    >\n   280→      <div className=\"flex items-center gap-4 mb-6\">\n   281→        <div className=\"w-12 h-12 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center\">\n   282→          <BookOpen size={22} className=\"text-cyan-400\" />\n   283→        </div>\n   284→        <div>\n   285→          <h2 className=\"text-xl font-black italic uppercase tracking-tight text-white\">PRODUCT <span className=\"text-cyan-400\">GUIDES</span></h2>\n   286→          <p className=\"text-[10px] font-black uppercase tracking-[0.2em] text-neutral-600\">EVIDENCE-BASED LOOKSMAXXING RESOURCES</p>\n   287→        </div>\n   288→      </div>\n   289→\n   290→      <div className=\"grid grid-cols-2 gap-4\">\n   291→        <div className=\"rounded-xl bg-neutral-900/50 border border-white/5 p-4\">\n   292→          <div className=\"text-3xl font-black text-white mb-1\">{totalGuides}</div>\n   293→          <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">TOTAL GUIDES</div>\n   294→        </div>\n   295→        <div className=\"rounded-xl bg-neutral-900/50 border border-white/5 p-4\">\n   296→          <div className=\"flex items-center gap-2 mb-1\">\n   297→            <Clock size={18} className=\"text-cyan-400\" />\n   298→            <div className=\"text-3xl font-black text-white\">{totalMinutes}</div>\n   299→          </div>\n   300→          <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">MINUTES OF CONTENT</div>\n   301→        </div>\n   302→      </div>\n   303→    </motion.div>\n   304→  );\n   305→}\n   306→\n   307→// ============================================\n   308→// GUIDE VIEWER MODAL\n   309→// ============================================\n   310→\n   311→interface GuideViewerProps {\n   312→  guide: Guide;\n   313→  onClose: () => void;\n   314→}\n   315→\n   316→function GuideViewer({ guide, onClose }: GuideViewerProps) {\n   317→  const [currentSection, setCurrentSection] = useState(0);\n   318→  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n   319→\n   320→  const section = guide.sections[currentSection];\n   321→\n   322→  if (!section) return null;\n   323→\n   324→  // Calculate reading progress (0% at start, 100% at last section)\n   325→  const progress = guide.sections.length > 1\n   326→    ? (currentSection / (guide.sections.length - 1)) * 100\n   327→    : 100;\n   328→\n   329→  return (\n   330→    <motion.div\n   331→      initial={{ opacity: 0 }}\n   332→      animate={{ opacity: 1 }}\n   333→      exit={{ opacity: 0 }}\n   334→      className=\"fixed inset-0 z-50 bg-black\"\n   335→    >\n   336→      {/* Header */}\n   337→      <div className=\"sticky top-0 z-20 bg-black/95 backdrop-blur-md border-b border-neutral-900\">\n   338→        <div className=\"flex items-center justify-between px-4 lg:px-8 py-3\">\n   339→          <button\n   340→            onClick={onClose}\n   341→            className=\"flex items-center gap-2 text-neutral-500 hover:text-cyan-400 text-xs font-black uppercase tracking-widest transition-colors\"\n   342→          >\n   343→            <ArrowLeft size={14} />\n   344→            <span className=\"hidden sm:inline\">BACK TO GUIDES</span>\n   345→          </button>\n   346→\n   347→          {/* Progress bar */}\n   348→          <div className=\"hidden md:flex items-center gap-4 flex-1 max-w-md mx-8\">\n   349→            <div className=\"flex-1 h-1 bg-neutral-900 rounded-full overflow-hidden\">\n   350→              <motion.div\n   351→                className=\"h-full bg-gradient-to-r from-cyan-500 to-cyan-400\"\n   352→                initial={{ width: 0 }}\n   353→                animate={{ width: `${progress}%` }}\n   354→                transition={{ duration: 0.3 }}\n   355→              />\n   356→            </div>\n   357→            <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600 whitespace-nowrap\">\n   358→              {currentSection + 1} / {guide.sections.length}\n   359→            </span>\n   360→          </div>\n   361→\n   362→          <div className=\"flex items-center gap-3\">\n   363→            {/* Mobile menu button */}\n   364→            <button\n   365→              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n   366→              className=\"lg:hidden p-2 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10 transition-colors\"\n   367→            >\n   368→              <BookOpen size={18} className=\"text-neutral-400\" />\n   369→            </button>\n   370→            <button\n   371→              onClick={onClose}\n   372→              className=\"p-2 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10 transition-colors\"\n   373→            >\n   374→              <X size={18} className=\"text-neutral-400\" />\n   375→            </button>\n   376→          </div>\n   377→        </div>\n   378→      </div>\n   379→\n   380→      {/* Main Layout: Sidebar + Content */}\n   381→      <div className=\"flex h-[calc(100vh-57px)]\">\n   382→        {/* Sidebar Navigation */}\n   383→        <aside\n   384→          className={`\n   385→            fixed lg:relative inset-y-0 left-0 z-30 lg:z-0\n   386→            w-72 lg:w-80 bg-black lg:bg-neutral-950/50\n   387→            border-r border-neutral-900\n   388→            transform transition-transform duration-300 ease-in-out\n   389→            ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n   390→            flex flex-col\n   391→          `}\n   392→        >\n   393→          {/* Sidebar Header */}\n   394→          <div className=\"p-6 border-b border-neutral-900\">\n   395→            <div className=\"flex items-center gap-3 mb-3\">\n   396→              <div className=\"w-10 h-10 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center text-cyan-400\">\n   397→                {getIconComponent(guide.icon, 20)}\n   398→              </div>\n   399→              <div className=\"flex-1 min-w-0\">\n   400→                <h2 className=\"font-black uppercase tracking-tight text-white truncate text-sm\">{guide.title}</h2>\n   401→                <div className=\"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n   402→                  <Clock size={10} />\n   403→                  <span>{guide.estimatedReadTime} MIN</span>\n   404→                </div>\n   405→              </div>\n   406→            </div>\n   407→            {guide.subtitle && (\n   408→              <p className=\"text-xs text-neutral-500 italic\">{guide.subtitle}</p>\n   409→            )}\n   410→          </div>\n   411→\n   412→          {/* Section List */}\n   413→          <nav className=\"flex-1 overflow-y-auto p-4\">\n   414→            <div className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-4 px-2 flex items-center gap-3\">\n   415→              SECTIONS\n   416→              <div className=\"flex-1 h-px bg-neutral-800\" />\n   417→            </div>\n   418→            <ul className=\"space-y-1\">\n   419→              {guide.sections.map((s, idx) => (\n   420→                <li key={s.id}>\n   421→                  <button\n   422→                    onClick={() => {\n   423→                      setCurrentSection(idx);\n   424→                      setIsSidebarOpen(false);\n   425→                    }}\n   426→                    className={`\n   427→                      w-full text-left px-3 py-3 rounded-xl transition-all\n   428→                      flex items-start gap-3 group\n   429→                      ${currentSection === idx\n   430→                        ? 'bg-neutral-900/50 border border-cyan-500/20'\n   431→                        : 'hover:bg-neutral-900/30 border border-transparent'\n   432→                      }\n   433→                    `}\n   434→                  >\n   435→                    {/* Section number */}\n   436→                    <span\n   437→                      className={`\n   438→                        flex-shrink-0 w-6 h-6 rounded-lg text-[10px] font-black\n   439→                        flex items-center justify-center transition-colors\n   440→                        ${currentSection === idx\n   441→                          ? 'bg-cyan-500 text-black'\n   442→                          : idx < currentSection\n   443→                            ? 'bg-green-500/20 text-green-400'\n   444→                            : 'bg-neutral-900 border border-white/10 text-neutral-500 group-hover:border-white/20'\n   445→                        }\n   446→                      `}\n   447→                    >\n   448→                      {idx < currentSection ? (\n   449→                        <CheckCircle2 size={12} />\n   450→                      ) : (\n   451→                        idx + 1\n   452→                      )}\n   453→                    </span>\n   454→\n   455→                    {/* Section info */}\n   456→                    <div className=\"flex-1 min-w-0\">\n   457→                      <p\n   458→                        className={`text-xs font-bold uppercase tracking-wide truncate ${currentSection === idx ? 'text-white' : 'text-neutral-500 group-hover:text-neutral-300'\n   459→                          }`}\n   460→                      >\n   461→                        {s.title}\n   462→                      </p>\n   463→                      {/* Show media indicator if section has media */}\n   464→                      {s.media && s.media.length > 0 && (\n   465→                        <div className=\"flex items-center gap-1 mt-1\">\n   466→                          <Sparkles size={8} className=\"text-amber-400\" />\n   467→                          <span className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-700\">\n   468→                            {s.media.length} VISUAL{s.media.length > 1 ? 'S' : ''}\n   469→                          </span>\n   470→                        </div>\n   471→                      )}\n   472→                    </div>\n   473→                  </button>\n   474→                </li>\n   475→              ))}\n   476→            </ul>\n   477→          </nav>\n   478→\n   479→          {/* Sidebar Footer */}\n   480→          <div className=\"p-4 border-t border-neutral-900\">\n   481→            <div className=\"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-neutral-600 mb-2\">\n   482→              <span>PROGRESS</span>\n   483→              <span>{Math.round(progress)}%</span>\n   484→            </div>\n   485→            <div className=\"h-1.5 bg-neutral-900 rounded-full overflow-hidden\">\n   486→              <motion.div\n   487→                className=\"h-full bg-gradient-to-r from-cyan-500 to-green-500\"\n   488→                animate={{ width: `${progress}%` }}\n   489→              />\n   490→            </div>\n   491→          </div>\n   492→        </aside>\n   493→\n   494→        {/* Mobile sidebar overlay */}\n   495→        {isSidebarOpen && (\n   496→          <div\n   497→            className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-20 lg:hidden\"\n   498→            onClick={() => setIsSidebarOpen(false)}\n   499→          />\n   500→        )}\n   501→\n   502→        {/* Main Content Area */}\n   503→        <main className=\"flex-1 overflow-y-auto\">\n   504→          <article className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-10 lg:py-16\">\n   505→            {/* Hero Media (only on first section) */}\n   506→            {guide.heroMedia && currentSection === 0 && (\n   507→              <div className=\"mb-10\">\n   508→                <MediaRenderer media={guide.heroMedia} />\n   509→              </div>\n   510→            )}\n   511→\n   512→            {/* Article Header (only on first section) */}\n   513→            {currentSection === 0 && (\n   514→              <header className=\"mb-12\">\n   515→                <div className=\"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-[10px] font-black uppercase tracking-widest text-cyan-400 mb-6\">\n   516→                  {getIconComponent(guide.icon, 12)}\n   517→                  <span>GUIDE</span>\n   518→                </div>\n   519→\n   520→                <h1 className=\"text-3xl md:text-4xl font-black tracking-tighter italic uppercase text-white mb-4 leading-tight\">\n   521→                  {guide.title.split(' ').slice(0, -1).join(' ')} <span className=\"text-cyan-400\">{guide.title.split(' ').slice(-1)}</span>\n   522→                </h1>\n   523→\n   524→                <p className=\"text-neutral-400 text-base leading-relaxed\">\n   525→                  {guide.description}\n   526→                </p>\n   527→              </header>\n   528→            )}\n   529→\n   530→            {/* Section Content */}\n   531→            <AnimatePresence mode=\"wait\">\n   532→              <motion.section\n   533→                key={section.id}\n   534→                initial={{ opacity: 0, x: 20 }}\n   535→                animate={{ opacity: 1, x: 0 }}\n   536→                exit={{ opacity: 0, x: -20 }}\n   537→                transition={{ duration: 0.3 }}\n   538→              >\n   539→                {/* Section Title - Largest heading in section content */}\n   540→                <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-8 flex items-center gap-4\">\n   541→                  {section.title}\n   542→                  <div className=\"flex-1 h-px bg-neutral-800\" />\n   543→                </h2>\n   544→\n   545→                {/* Tips Callout */}\n   546→                {section.tips && section.tips.length > 0 && (\n   547→                  <aside className=\"mb-10 p-6 rounded-2xl bg-cyan-500/5 border border-cyan-500/10\">\n   548→                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.3em] text-cyan-400 mb-4\">\n   549→                      QUICK TIPS\n   550→                    </h4>\n   551→                    <ul className=\"space-y-3\">\n   552→                      {section.tips.map((tip, i) => (\n   553→                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n   554→                          <span className=\"flex-shrink-0 w-5 h-5 bg-cyan-500/20 rounded-lg flex items-center justify-center mt-0.5\">\n   555→                            <span className=\"text-cyan-400 text-[10px] font-black\">{i + 1}</span>\n   556→                          </span>\n   557→                          <span className=\"leading-relaxed text-sm\">{tip}</span>\n   558→                        </li>\n   559→                      ))}\n   560→                    </ul>\n   561→                  </aside>\n   562→                )}\n   563→\n   564→                {/* Warnings Callout */}\n   565→                {section.warnings && section.warnings.length > 0 && (\n   566→                  <aside className=\"mb-10 p-6 rounded-2xl bg-amber-500/5 border border-amber-500/10\">\n   567→                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.3em] text-amber-400 mb-4\">\n   568→                      IMPORTANT\n   569→                    </h4>\n   570→                    <ul className=\"space-y-3\">\n   571→                      {section.warnings.map((warning, i) => (\n   572→                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n   573→                          <span className=\"text-amber-400 mt-1\">*</span>\n   574→                          <span className=\"leading-relaxed text-sm\">{warning}</span>\n   575→                        </li>\n   576→                      ))}\n   577→                    </ul>\n   578→                  </aside>\n   579→                )}\n   580→\n   581→                {/* Hero Media for Section */}\n   582→                {section.media && section.media.filter(m => m.placement === 'hero').map(media => (\n   583→                  <div key={media.id} className=\"mb-10\">\n   584→                    <MediaRenderer media={media} />\n   585→                  </div>\n   586→                ))}\n   587→\n   588→                {/* Article Body - Custom Markdown Rendering */}\n   589→                <div className=\"article-content\">\n   590→                  <ReactMarkdown\n   591→                    remarkPlugins={[remarkGfm]}\n   592→                    components={{\n   593→                      // Paragraphs with generous spacing\n   594→                      p: ({ children }) => (\n   595→                        <p className=\"text-neutral-400 text-base leading-[1.8] mb-6 font-medium\">\n   596→                          {children}\n   597→                        </p>\n   598→                      ),\n   599→                      // Headers with clear hierarchy (smaller than section title)\n   600→                      h1: ({ children }) => (\n   601→                        <h3 className=\"text-xl font-black italic uppercase text-white mt-12 mb-6 tracking-tight\">\n   602→                          {children}\n   603→                        </h3>\n   604→                      ),\n   605→                      h2: ({ children }) => (\n   606→                        <h4 className=\"text-lg font-black italic uppercase text-white mt-10 mb-5 pb-3 border-b border-neutral-900 tracking-tight\">\n   607→                          {children}\n   608→                        </h4>\n   609→                      ),\n   610→                      h3: ({ children }) => (\n   611→                        <h5 className=\"text-base font-black uppercase text-white mt-8 mb-4 tracking-wide\">\n   612→                          {children}\n   613→                        </h5>\n   614→                      ),\n   615→                      // Strong text\n   616→                      strong: ({ children }) => (\n   617→                        <strong className=\"font-black text-white\">\n   618→                          {children}\n   619→                        </strong>\n   620→                      ),\n   621→                      // Emphasis\n   622→                      em: ({ children }) => (\n   623→                        <em className=\"text-neutral-500 not-italic\">\n   624→                          {children}\n   625→                        </em>\n   626→                      ),\n   627→                      // Lists with proper spacing\n   628→                      ul: ({ children }) => (\n   629→                        <ul className=\"my-6 ml-0 space-y-3\">\n   630→                          {children}\n   631→                        </ul>\n   632→                      ),\n   633→                      ol: ({ children }) => (\n   634→                        <ol className=\"my-6 ml-0 space-y-3 list-decimal list-inside\">\n   635→                          {children}\n   636→                        </ol>\n   637→                      ),\n   638→                      li: ({ children }) => (\n   639→                        <li className=\"text-neutral-400 text-base leading-[1.8] flex items-start gap-3 font-medium\">\n   640→                          <span className=\"text-cyan-500 mt-1.5 flex-shrink-0\">*</span>\n   641→                          <span>{children}</span>\n   642→                        </li>\n   643→                      ),\n   644→                      // Tables - styled beautifully\n   645→                      table: ({ children }) => (\n   646→                        <div className=\"my-8 overflow-x-auto rounded-2xl border border-white/5\">\n   647→                          <table className=\"w-full text-left\">\n   648→                            {children}\n   649→                          </table>\n   650→                        </div>\n   651→                      ),\n   652→                      thead: ({ children }) => (\n   653→                        <thead className=\"bg-neutral-900/80 border-b border-white/5\">\n   654→                          {children}\n   655→                        </thead>\n   656→                      ),\n   657→                      tbody: ({ children }) => (\n   658→                        <tbody className=\"divide-y divide-white/5\">\n   659→                          {children}\n   660→                        </tbody>\n   661→                      ),\n   662→                      tr: ({ children }) => (\n   663→                        <tr className=\"hover:bg-neutral-900/50 transition-colors\">\n   664→                          {children}\n   665→                        </tr>\n   666→                      ),\n   667→                      th: ({ children }) => (\n   668→                        <th className=\"px-4 py-3 text-[10px] font-black uppercase tracking-widest text-cyan-400\">\n   669→                          {children}\n   670→                        </th>\n   671→                      ),\n   672→                      td: ({ children }) => (\n   673→                        <td className=\"px-4 py-3 text-neutral-400 text-sm font-medium\">\n   674→                          {children}\n   675→                        </td>\n   676→                      ),\n   677→                      // Blockquotes\n   678→                      blockquote: ({ children }) => (\n   679→                        <blockquote className=\"my-8 pl-6 border-l-2 border-cyan-500 bg-neutral-900/30 py-4 pr-6 rounded-r-xl\">\n   680→                          {children}\n   681→                        </blockquote>\n   682→                      ),\n   683→                      // Code\n   684→                      code: ({ children }) => (\n   685→                        <code className=\"text-cyan-400 bg-neutral-900 px-2 py-1 rounded-lg text-sm font-mono\">\n   686→                          {children}\n   687→                        </code>\n   688→                      ),\n   689→                      // Links\n   690→                      a: ({ href, children }) => (\n   691→                        <a\n   692→                          href={href}\n   693→                          className=\"text-cyan-400 hover:text-cyan-300 underline underline-offset-4 decoration-cyan-500/30 hover:decoration-cyan-400 transition-colors font-bold\"\n   694→                          target=\"_blank\"\n   695→                          rel=\"noopener noreferrer\"\n   696→                        >\n   697→                          {children}\n   698→                        </a>\n   699→                      ),\n   700→                      // Horizontal rule\n   701→                      hr: () => (\n   702→                        <hr className=\"my-10 border-neutral-900\" />\n   703→                      ),\n   704→                    }}\n   705→                  >\n   706→                    {section.content}\n   707→                  </ReactMarkdown>\n   708→                </div>\n   709→\n   710→                {/* Inline Media */}\n   711→                {section.media && section.media.filter(m => m.placement !== 'hero').map(media => (\n   712→                  <div key={media.id} className=\"my-10\">\n   713→                    <MediaRenderer media={media} />\n   714→                  </div>\n   715→                ))}\n   716→\n   717→                {/* Product Recommendations */}\n   718→                {section.products && section.products.length > 0 && (\n   719→                  <div className=\"mt-12 pt-8 border-t border-neutral-900\">\n   720→                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-6 flex items-center gap-4\">\n   721→                      RECOMMENDED PRODUCTS\n   722→                      <div className=\"flex-1 h-px bg-neutral-800\" />\n   723→                    </h4>\n   724→                    <div className=\"space-y-4\">\n   725→                      {section.products.map(productId => (\n   726→                        <ProductCallout key={productId} productId={productId} />\n   727→                      ))}\n   728→                    </div>\n   729→                  </div>\n   730→                )}\n   731→\n   732→                {/* Section Navigation */}\n   733→                <nav className=\"flex items-center justify-between mt-16 pt-8 border-t border-neutral-900\">\n   734→                  <button\n   735→                    onClick={() => setCurrentSection(Math.max(0, currentSection - 1))}\n   736→                    disabled={currentSection === 0}\n   737→                    className={`flex items-center gap-3 group transition-all ${currentSection === 0\n   738→                      ? 'text-neutral-800 cursor-not-allowed'\n   739→                      : 'text-neutral-500 hover:text-white'\n   740→                      }`}\n   741→                  >\n   742→                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === 0 ? 'bg-neutral-900/30' : 'bg-neutral-900/50 border border-white/5 group-hover:border-white/10'\n   743→                      }`}>\n   744→                      <ArrowLeft size={18} />\n   745→                    </div>\n   746→                    <div className=\"hidden sm:block text-left\">\n   747→                      <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-700 mb-1\">PREVIOUS</div>\n   748→                      {currentSection > 0 && (\n   749→                        <div className=\"text-xs font-bold uppercase tracking-wide text-neutral-400\">{guide.sections[currentSection - 1].title}</div>\n   750→                      )}\n   751→                    </div>\n   752→                  </button>\n   753→\n   754→                  <button\n   755→                    onClick={() => setCurrentSection(Math.min(guide.sections.length - 1, currentSection + 1))}\n   756→                    disabled={currentSection === guide.sections.length - 1}\n   757→                    className={`flex items-center gap-3 group transition-all ${currentSection === guide.sections.length - 1\n   758→                      ? 'text-neutral-800 cursor-not-allowed'\n   759→                      : 'text-neutral-500 hover:text-white'\n   760→                      }`}\n   761→                  >\n   762→                    <div className=\"hidden sm:block text-right\">\n   763→                      <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-700 mb-1\">NEXT</div>\n   764→                      {currentSection < guide.sections.length - 1 && (\n   765→                        <div className=\"text-xs font-bold uppercase tracking-wide text-neutral-400\">{guide.sections[currentSection + 1].title}</div>\n   766→                      )}\n   767→                    </div>\n   768→                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === guide.sections.length - 1\n   769→                      ? 'bg-neutral-900/30'\n   770→                      : 'bg-cyan-500/10 border border-cyan-500/20 group-hover:bg-cyan-500/20'\n   771→                      }`}>\n   772→                      <ChevronRight size={18} className={currentSection === guide.sections.length - 1 ? '' : 'text-cyan-400'} />\n   773→                    </div>\n   774→                  </button>\n   775→                </nav>\n   776→              </motion.section>\n   777→            </AnimatePresence>\n   778→\n   779→            {/* Forum Discussion Link (after last section) */}\n   780→            {currentSection === guide.sections.length - 1 && (\n   781→              <div className=\"mt-16\">\n   782→                <ForumDiscussionLink\n   783→                  forumCategory={guide.forumCategory}\n   784→                  guideTitle={guide.title}\n   785→                />\n   786→              </div>\n   787→            )}\n   788→          </article>\n   789→        </main>\n   790→      </div>\n   791→    </motion.div>\n   792→  );\n   793→}\n   794→\n   795→// ============================================\n   796→// GUIDE CARD\n   797→// ============================================\n   798→\n   799→interface GuideCardProps {\n   800→  guide: Guide;\n   801→  index: number;\n   802→  onOpen: (guide: Guide) => void;\n   803→}\n   804→\n   805→function GuideCard({ guide, index, onOpen }: GuideCardProps) {\n   806→  const getCategoryColor = (guideId: string) => {\n   807→    const category = GUIDE_CATEGORIES.find(c => c.guideIds.includes(guideId));\n   808→    if (!category) return 'cyan';\n   809→    const colorMap: Record<string, string> = {\n   810→      blue: 'cyan',\n   811→      purple: 'purple',\n   812→      amber: 'amber',\n   813→      pink: 'pink',\n   814→      emerald: 'emerald',\n   815→      red: 'red',\n   816→    };\n   817→    return colorMap[category.color] || 'cyan';\n   818→  };\n   819→\n   820→  const color = getCategoryColor(guide.id);\n   821→\n   822→  const colorClasses: Record<string, { bg: string; border: string; text: string; iconBg: string }> = {\n   823→    cyan: {\n   824→      bg: 'bg-neutral-900/40',\n   825→      border: 'border-white/5 hover:border-cyan-500/20',\n   826→      text: 'text-cyan-400',\n   827→      iconBg: 'bg-neutral-900 border border-white/10',\n   828→    },\n   829→    purple: {\n   830→      bg: 'bg-neutral-900/40',\n   831→      border: 'border-white/5 hover:border-purple-500/20',\n   832→      text: 'text-purple-400',\n   833→      iconBg: 'bg-neutral-900 border border-white/10',\n   834→    },\n   835→    amber: {\n   836→      bg: 'bg-neutral-900/40',\n   837→      border: 'border-white/5 hover:border-amber-500/20',\n   838→      text: 'text-amber-400',\n   839→      iconBg: 'bg-neutral-900 border border-white/10',\n   840→    },\n   841→    pink: {\n   842→      bg: 'bg-neutral-900/40',\n   843→      border: 'border-white/5 hover:border-pink-500/20',\n   844→      text: 'text-pink-400',\n   845→      iconBg: 'bg-neutral-900 border border-white/10',\n   846→    },\n   847→    emerald: {\n   848→      bg: 'bg-neutral-900/40',\n   849→      border: 'border-white/5 hover:border-emerald-500/20',\n   850→      text: 'text-emerald-400',\n   851→      iconBg: 'bg-neutral-900 border border-white/10',\n   852→    },\n   853→    red: {\n   854→      bg: 'bg-neutral-900/40',\n   855→      border: 'border-white/5 hover:border-red-500/20',\n   856→      text: 'text-red-400',\n   857→      iconBg: 'bg-neutral-900 border border-white/10',\n   858→    },\n   859→  };\n   860→\n   861→  const styles = colorClasses[color] || colorClasses.cyan;\n   862→\n   863→  return (\n   864→    <motion.div\n   865→      onClick={() => onOpen(guide)}\n   866→      className={`${styles.bg} ${styles.border} border rounded-2xl p-5 transition-all cursor-pointer group`}\n   867→      initial={{ opacity: 0, y: 20 }}\n   868→      animate={{ opacity: 1, y: 0 }}\n   869→      transition={{ delay: index * 0.05 }}\n   870→      whileHover={{ y: -2 }}\n   871→    >\n   872→      <div className=\"flex items-start justify-between mb-4\">\n   873→        <div className={`w-10 h-10 ${styles.iconBg} rounded-xl flex items-center justify-center ${styles.text}`}>\n   874→          {getIconComponent(guide.icon)}\n   875→        </div>\n   876→        <div className=\"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-neutral-900/50 border border-white/5\">\n   877→          <Clock size={10} className=\"text-neutral-600\" />\n   878→          <span className=\"text-[10px] font-black uppercase tracking-wider text-neutral-500\">{guide.estimatedReadTime} MIN</span>\n   879→        </div>\n   880→      </div>\n   881→\n   882→      <h3 className=\"font-black uppercase tracking-tight text-white mb-1 group-hover:text-cyan-400 transition-colors\">\n   883→        {guide.title}\n   884→      </h3>\n   885→\n   886→      {guide.subtitle && (\n   887→        <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-600 mb-2\">{guide.subtitle}</p>\n   888→      )}\n   889→\n   890→      <p className=\"text-sm text-neutral-500 mb-4 line-clamp-2 font-medium\">{guide.description}</p>\n   891→\n   892→      <div className=\"flex items-center justify-between pt-3 border-t border-white/5\">\n   893→        <div className=\"flex items-center gap-2\">\n   894→          <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n   895→            {guide.sections.length} SECTIONS\n   896→          </span>\n   897→          {guide.productIds && guide.productIds.length > 0 && (\n   898→            <>\n   899→              <span className=\"w-1 h-1 rounded-full bg-neutral-800\" />\n   900→              <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n   901→                {guide.productIds.length} PRODUCTS\n   902→              </span>\n   903→            </>\n   904→          )}\n   905→        </div>\n   906→        <ChevronRight size={16} className=\"text-neutral-700 group-hover:text-cyan-400 transition-colors\" />\n   907→      </div>\n   908→    </motion.div>\n   909→  );\n   910→}\n   911→\n   912→// ============================================\n   913→// CATEGORY SECTION\n   914→// ============================================\n   915→\n   916→interface CategorySectionProps {\n   917→  category: GuideCategory;\n   918→  onOpenGuide: (guide: Guide) => void;\n   919→  gender: 'male' | 'female';\n   920→}\n   921→\n   922→function CategorySection({ category, onOpenGuide, gender }: CategorySectionProps) {\n   923→  // Skip gender-specific categories for the opposite gender\n   924→  if (category.id === 'male' && gender === 'female') return null;\n   925→  if (category.id === 'female' && gender === 'male') return null;\n   926→\n   927→  const guides = getGuidesByCategory(category.id);\n   928→\n   929→  if (guides.length === 0) return null;\n   930→\n   931→  const colorClasses: Record<string, { text: string; iconBg: string }> = {\n   932→    blue: { text: 'text-cyan-400', iconBg: 'bg-neutral-900 border border-white/10' },\n   933→    purple: { text: 'text-purple-400', iconBg: 'bg-neutral-900 border border-white/10' },\n   934→    pink: { text: 'text-pink-400', iconBg: 'bg-neutral-900 border border-white/10' },\n   935→    cyan: { text: 'text-cyan-400', iconBg: 'bg-neutral-900 border border-white/10' },\n   936→    emerald: { text: 'text-emerald-400', iconBg: 'bg-neutral-900 border border-white/10' },\n   937→    red: { text: 'text-red-400', iconBg: 'bg-neutral-900 border border-white/10' },\n   938→    amber: { text: 'text-amber-400', iconBg: 'bg-neutral-900 border border-white/10' },\n   939→  };\n   940→\n   941→  const styles = colorClasses[category.color] || colorClasses.cyan;\n   942→\n   943→  return (\n   944→    <div className=\"mb-12\">\n   945→      {/* Category Header */}\n   946→      <div className=\"flex items-center gap-4 mb-6\">\n   947→        <div className={`w-10 h-10 ${styles.iconBg} rounded-xl flex items-center justify-center ${styles.text}`}>\n   948→          {getIconComponent(category.icon)}\n   949→        </div>\n   950→        <div className=\"flex-1\">\n   951→          <h3 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 flex items-center gap-4\">\n   952→            {category.name}\n   953→            <div className=\"flex-1 h-px bg-neutral-800\" />\n   954→          </h3>\n   955→          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-700 mt-1\">{category.description}</p>\n   956→        </div>\n   957→      </div>\n   958→\n   959→      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n   960→        {guides.map((guide, idx) => (\n   961→          <GuideCard key={guide.id} guide={guide} index={idx} onOpen={onOpenGuide} />\n   962→        ))}\n   963→      </div>\n   964→    </div>\n   965→  );\n   966→}\n   967→\n   968→// ============================================\n   969→// SEARCH BAR\n   970→// ============================================\n   971→\n   972→interface SearchBarProps {\n   973→  query: string;\n   974→  onQueryChange: (query: string) => void;\n   975→}\n   976→\n   977→function SearchBar({ query, onQueryChange }: SearchBarProps) {\n   978→  return (\n   979→    <div className=\"relative mb-8\">\n   980→      <Search size={16} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-600\" />\n   981→      <input\n   982→        type=\"text\"\n   983→        placeholder=\"SEARCH GUIDES...\"\n   984→        value={query}\n   985→        onChange={(e) => onQueryChange(e.target.value)}\n   986→        className=\"w-full bg-neutral-900/40 border border-white/5 rounded-xl pl-11 pr-4 py-3.5 text-white placeholder:text-neutral-600 placeholder:font-black placeholder:uppercase placeholder:tracking-widest placeholder:text-xs focus:outline-none focus:border-cyan-500/30 transition-colors font-medium text-sm\"\n   987→      />\n   988→    </div>\n   989→  );\n   990→}\n   991→\n   992→// ============================================\n   993→// MAIN TAB COMPONENT\n   994→// ============================================\n   995→\n   996→export function GuidesTab() {\n   997→  const [searchQuery, setSearchQuery] = useState('');\n   998→  const [selectedGuide, setSelectedGuide] = useState<Guide | null>(null);\n   999→  const { gender } = useResults();\n  1000→\n  1001→  // Filter guides by gender (excludes opposite gender's specific guides)\n  1002→  const genderFilteredGuides = getGuidesByGender(gender);\n  1003→\n  1004→  const filteredGuides = searchQuery.trim()\n  1005→    ? genderFilteredGuides.filter(g =>\n  1006→        g.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n  1007→        g.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n  1008→        (g.subtitle && g.subtitle.toLowerCase().includes(searchQuery.toLowerCase())) ||\n  1009→        (g.tags && g.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase())))\n  1010→      )\n  1011→    : null;\n  1012→\n  1013→  const handleOpenGuide = (guide: Guide) => {\n  1014→    setSelectedGuide(guide);\n  1015→  };\n  1016→\n  1017→  const handleCloseGuide = () => {\n  1018→    setSelectedGuide(null);\n  1019→  };\n  1020→\n  1021→  return (\n  1022→    <>\n  1023→      <TabContent\n  1024→        title=\"Product Guides\"\n  1025→        subtitle=\"Evidence-based guides for optimal results\"\n  1026→      >\n  1027→        <div className=\"max-w-5xl mx-auto\">\n  1028→          <GuideStatsCard />\n  1029→\n  1030→          <SearchBar query={searchQuery} onQueryChange={setSearchQuery} />\n  1031→\n  1032→          {filteredGuides ? (\n  1033→            // Search Results\n  1034→            <div>\n  1035→              <p className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600 mb-6\">\n  1036→                FOUND {filteredGuides.length} GUIDE{filteredGuides.length !== 1 ? 'S' : ''} MATCHING &ldquo;{searchQuery.toUpperCase()}&rdquo;\n  1037→              </p>\n  1038→              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n  1039→                {filteredGuides.map((guide, idx) => (\n  1040→                  <GuideCard key={guide.id} guide={guide} index={idx} onOpen={handleOpenGuide} />\n  1041→                ))}\n  1042→              </div>\n  1043→              {filteredGuides.length === 0 && (\n  1044→                <div className=\"text-center py-16\">\n  1045→                  <div className=\"w-16 h-16 rounded-2xl bg-neutral-900 border border-white/10 flex items-center justify-center mx-auto mb-4\">\n  1046→                    <Search size={24} className=\"text-neutral-700\" />\n  1047→                  </div>\n  1048→                  <p className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">NO GUIDES FOUND MATCHING YOUR SEARCH</p>\n  1049→                </div>\n  1050→              )}\n  1051→            </div>\n  1052→          ) : (\n  1053→            // Category View\n  1054→            <div>\n  1055→              {GUIDE_CATEGORIES.map(category => (\n  1056→                <CategorySection key={category.id} category={category} onOpenGuide={handleOpenGuide} gender={gender} />\n  1057→              ))}\n  1058→            </div>\n  1059→          )}\n  1060→        </div>\n  1061→      </TabContent>\n  1062→\n  1063→      {/* Guide Viewer Modal */}\n  1064→      <AnimatePresence>\n  1065→        {selectedGuide && (\n  1066→          <GuideViewer guide={selectedGuide} onClose={handleCloseGuide} />\n  1067→        )}\n  1068→      </AnimatePresence>\n  1069→    </>\n  1070→  );\n  1071→}\n  1072→"}]},"uuid":"89e9b2f1-43a0-4538-a7b0-c90de8a0b46e","timestamp":"2025-12-26T20:39:08.335Z","toolUseResult":{"type":"update","filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/tabs/GuidesTab.tsx","content":"'use client';\n\nimport { useState, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  BookOpen,\n  Dumbbell,\n  Sparkles,\n  Clock,\n  ChevronRight,\n  Search,\n  Brain,\n  Wrench,\n  TrendingDown,\n  Calendar,\n  Target,\n  Heart,\n  Utensils,\n  Droplet,\n  X,\n  ArrowLeft,\n  MessageSquare,\n  ExternalLink,\n  ShoppingCart,\n  CheckCircle2,\n} from 'lucide-react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { TabContent } from '../ResultsLayout';\nimport {\n  GUIDE_CATEGORIES,\n  getGuidesByCategory,\n  getTotalGuideCount,\n  getTotalReadTime,\n  getGuideProductById,\n  getGuidesByGender,\n} from '@/data/guides';\nimport { Guide, GuideCategory, GuideMedia } from '@/types/guides';\nimport { useRegion } from '@/contexts/RegionContext';\nimport { useResults } from '@/contexts/ResultsContext';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\n\n// ============================================\n// ICON MAPPING\n// ============================================\n\nconst ICON_MAP: Record<string, React.ReactNode> = {\n  BookOpen: <BookOpen size={20} />,\n  Dumbbell: <Dumbbell size={20} />,\n  Sparkles: <Sparkles size={20} />,\n  Brain: <Brain size={20} />,\n  Wrench: <Wrench size={20} />,\n  TrendingDown: <TrendingDown size={20} />,\n  Calendar: <Calendar size={20} />,\n  Target: <Target size={20} />,\n  Heart: <Heart size={20} />,\n  Utensils: <Utensils size={20} />,\n  Droplet: <Droplet size={20} />,\n};\n\nfunction getIconComponent(iconName: string, size = 20): React.ReactNode {\n  // Check icon map first\n  const mappedIcon = ICON_MAP[iconName];\n  if (mappedIcon) return mappedIcon;\n\n  // Fallback to BookOpen\n  return <BookOpen size={size} />;\n}\n\n// ============================================\n// MEDIA RENDERER\n// ============================================\n\ninterface MediaRendererProps {\n  media: GuideMedia;\n}\n\nfunction MediaRenderer({ media }: MediaRendererProps) {\n  const [hasError, setHasError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const handleError = useCallback(() => {\n    setHasError(true);\n    setIsLoading(false);\n  }, []);\n\n  const handleLoad = useCallback(() => {\n    setIsLoading(false);\n  }, []);\n\n  const placementClasses = {\n    inline: 'max-w-lg mx-auto',\n    hero: 'w-full',\n    'full-width': 'w-full',\n  };\n\n  const isGif = media.type === 'gif' || media.url.endsWith('.gif');\n\n  // Show styled placeholder if image failed to load or doesn't exist\n  if (hasError) {\n    return (\n      <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n        <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5\">\n          <div className=\"aspect-video flex items-center justify-center p-8\">\n            <div className=\"text-center max-w-sm\">\n              <div className=\"w-16 h-16 bg-cyan-500/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/20\">\n                {isGif ? (\n                  <div className=\"w-6 h-6 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin\" />\n                ) : (\n                  <Sparkles size={28} className=\"text-cyan-400\" />\n                )}\n              </div>\n              <p className=\"text-neutral-300 font-black uppercase tracking-wider text-sm mb-2\">{media.alt}</p>\n              {media.caption && (\n                <p className=\"text-neutral-600 text-xs\">{media.caption}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </figure>\n    );\n  }\n\n  return (\n    <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n      <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5\">\n        {/* Loading skeleton */}\n        {isLoading && (\n          <div className=\"absolute inset-0 bg-neutral-900/40 animate-pulse flex items-center justify-center\">\n            <div className=\"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin\" />\n          </div>\n        )}\n\n        {isGif ? (\n          // Use img for GIFs to preserve animation\n          // eslint-disable-next-line @next/next/no-img-element\n          <img\n            src={media.url}\n            alt={media.alt}\n            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n            loading=\"lazy\"\n            onError={handleError}\n            onLoad={handleLoad}\n          />\n        ) : (\n          <Image\n            src={media.url}\n            alt={media.alt}\n            width={media.width || 800}\n            height={media.height || 450}\n            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n            onError={handleError}\n            onLoad={handleLoad}\n          />\n        )}\n      </div>\n      {media.caption && (\n        <figcaption className=\"mt-4 text-center text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n          {media.caption}\n        </figcaption>\n      )}\n    </figure>\n  );\n}\n\n// ============================================\n// PRODUCT CALLOUT (CONVERSION OPTIMIZED)\n// ============================================\n\ninterface ProductCalloutProps {\n  productId: string;\n}\n\nfunction ProductCallout({ productId }: ProductCalloutProps) {\n  const { getLink } = useRegion();\n  const product = getGuideProductById(productId);\n\n  if (!product) return null;\n\n  const link = getLink(product.regionLinks, product.directLink);\n\n  return (\n    <div className=\"my-6 p-5 rounded-2xl bg-neutral-900/40 border border-white/5 hover:border-cyan-500/20 transition-all\">\n      <div className=\"flex items-center gap-4\">\n        {/* Product Image */}\n        {product.imageUrl && (\n          <div className=\"w-16 h-16 rounded-xl bg-neutral-900 border border-white/10 overflow-hidden flex-shrink-0\">\n            <Image\n              src={product.imageUrl}\n              alt={product.name}\n              width={64}\n              height={64}\n              className=\"w-full h-full object-cover\"\n            />\n          </div>\n        )}\n\n        {/* Product Info */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <h4 className=\"font-black uppercase tracking-wide text-white truncate\">{product.name}</h4>\n            {product.brand && (\n              <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">{product.brand}</span>\n            )}\n          </div>\n          <p className=\"text-sm text-cyan-400 italic\">&ldquo;{product.tagline}&rdquo;</p>\n        </div>\n\n        {/* CTA Button */}\n        <a\n          href={link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"flex-shrink-0 flex items-center gap-2 px-5 py-2.5 rounded-xl bg-cyan-500 hover:bg-cyan-400 text-black font-black uppercase tracking-wider text-xs transition-colors\"\n        >\n          <ShoppingCart size={14} />\n          <span className=\"hidden sm:inline\">BUY</span>\n        </a>\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// FORUM DISCUSSION LINK\n// ============================================\n\ninterface ForumDiscussionLinkProps {\n  forumCategory?: string;\n  guideTitle: string;\n}\n\nfunction ForumDiscussionLink({ forumCategory, guideTitle }: ForumDiscussionLinkProps) {\n  if (!forumCategory) return null;\n\n  return (\n    <div className=\"mt-8 p-6 rounded-2xl bg-neutral-900/40 border border-white/5\">\n      <div className=\"flex items-center gap-3 mb-4\">\n        <div className=\"w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center\">\n          <MessageSquare size={20} className=\"text-purple-400\" />\n        </div>\n        <div>\n          <h3 className=\"font-black uppercase tracking-wide text-white\">DISCUSS THIS GUIDE</h3>\n          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-600\">Join the community conversation</p>\n        </div>\n      </div>\n\n      <p className=\"text-sm text-neutral-400 mb-5\">\n        Have questions about {guideTitle.toLowerCase()}? Want to share your experience?\n        Join the discussion in our community forum.\n      </p>\n\n      <Link\n        href={`/forum/${forumCategory}`}\n        className=\"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-purple-500/30 text-purple-400 font-black uppercase tracking-wider text-xs transition-all\"\n      >\n        <MessageSquare size={14} />\n        GO TO FORUM\n        <ExternalLink size={12} />\n      </Link>\n    </div>\n  );\n}\n\n// ============================================\n// GUIDE STATS CARD\n// ============================================\n\nfunction GuideStatsCard() {\n  const totalGuides = getTotalGuideCount();\n  const totalMinutes = getTotalReadTime();\n\n  return (\n    <motion.div\n      className=\"rounded-[2rem] bg-neutral-900/40 border border-white/5 p-6 mb-8\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n    >\n      <div className=\"flex items-center gap-4 mb-6\">\n        <div className=\"w-12 h-12 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center\">\n          <BookOpen size={22} className=\"text-cyan-400\" />\n        </div>\n        <div>\n          <h2 className=\"text-xl font-black italic uppercase tracking-tight text-white\">PRODUCT <span className=\"text-cyan-400\">GUIDES</span></h2>\n          <p className=\"text-[10px] font-black uppercase tracking-[0.2em] text-neutral-600\">EVIDENCE-BASED LOOKSMAXXING RESOURCES</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"rounded-xl bg-neutral-900/50 border border-white/5 p-4\">\n          <div className=\"text-3xl font-black text-white mb-1\">{totalGuides}</div>\n          <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">TOTAL GUIDES</div>\n        </div>\n        <div className=\"rounded-xl bg-neutral-900/50 border border-white/5 p-4\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <Clock size={18} className=\"text-cyan-400\" />\n            <div className=\"text-3xl font-black text-white\">{totalMinutes}</div>\n          </div>\n          <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">MINUTES OF CONTENT</div>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// GUIDE VIEWER MODAL\n// ============================================\n\ninterface GuideViewerProps {\n  guide: Guide;\n  onClose: () => void;\n}\n\nfunction GuideViewer({ guide, onClose }: GuideViewerProps) {\n  const [currentSection, setCurrentSection] = useState(0);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  const section = guide.sections[currentSection];\n\n  if (!section) return null;\n\n  // Calculate reading progress (0% at start, 100% at last section)\n  const progress = guide.sections.length > 1\n    ? (currentSection / (guide.sections.length - 1)) * 100\n    : 100;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 z-50 bg-black\"\n    >\n      {/* Header */}\n      <div className=\"sticky top-0 z-20 bg-black/95 backdrop-blur-md border-b border-neutral-900\">\n        <div className=\"flex items-center justify-between px-4 lg:px-8 py-3\">\n          <button\n            onClick={onClose}\n            className=\"flex items-center gap-2 text-neutral-500 hover:text-cyan-400 text-xs font-black uppercase tracking-widest transition-colors\"\n          >\n            <ArrowLeft size={14} />\n            <span className=\"hidden sm:inline\">BACK TO GUIDES</span>\n          </button>\n\n          {/* Progress bar */}\n          <div className=\"hidden md:flex items-center gap-4 flex-1 max-w-md mx-8\">\n            <div className=\"flex-1 h-1 bg-neutral-900 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-cyan-500 to-cyan-400\"\n                initial={{ width: 0 }}\n                animate={{ width: `${progress}%` }}\n                transition={{ duration: 0.3 }}\n              />\n            </div>\n            <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600 whitespace-nowrap\">\n              {currentSection + 1} / {guide.sections.length}\n            </span>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            {/* Mobile menu button */}\n            <button\n              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n              className=\"lg:hidden p-2 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10 transition-colors\"\n            >\n              <BookOpen size={18} className=\"text-neutral-400\" />\n            </button>\n            <button\n              onClick={onClose}\n              className=\"p-2 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10 transition-colors\"\n            >\n              <X size={18} className=\"text-neutral-400\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Layout: Sidebar + Content */}\n      <div className=\"flex h-[calc(100vh-57px)]\">\n        {/* Sidebar Navigation */}\n        <aside\n          className={`\n            fixed lg:relative inset-y-0 left-0 z-30 lg:z-0\n            w-72 lg:w-80 bg-black lg:bg-neutral-950/50\n            border-r border-neutral-900\n            transform transition-transform duration-300 ease-in-out\n            ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n            flex flex-col\n          `}\n        >\n          {/* Sidebar Header */}\n          <div className=\"p-6 border-b border-neutral-900\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-10 h-10 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center text-cyan-400\">\n                {getIconComponent(guide.icon, 20)}\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h2 className=\"font-black uppercase tracking-tight text-white truncate text-sm\">{guide.title}</h2>\n                <div className=\"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n                  <Clock size={10} />\n                  <span>{guide.estimatedReadTime} MIN</span>\n                </div>\n              </div>\n            </div>\n            {guide.subtitle && (\n              <p className=\"text-xs text-neutral-500 italic\">{guide.subtitle}</p>\n            )}\n          </div>\n\n          {/* Section List */}\n          <nav className=\"flex-1 overflow-y-auto p-4\">\n            <div className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-4 px-2 flex items-center gap-3\">\n              SECTIONS\n              <div className=\"flex-1 h-px bg-neutral-800\" />\n            </div>\n            <ul className=\"space-y-1\">\n              {guide.sections.map((s, idx) => (\n                <li key={s.id}>\n                  <button\n                    onClick={() => {\n                      setCurrentSection(idx);\n                      setIsSidebarOpen(false);\n                    }}\n                    className={`\n                      w-full text-left px-3 py-3 rounded-xl transition-all\n                      flex items-start gap-3 group\n                      ${currentSection === idx\n                        ? 'bg-neutral-900/50 border border-cyan-500/20'\n                        : 'hover:bg-neutral-900/30 border border-transparent'\n                      }\n                    `}\n                  >\n                    {/* Section number */}\n                    <span\n                      className={`\n                        flex-shrink-0 w-6 h-6 rounded-lg text-[10px] font-black\n                        flex items-center justify-center transition-colors\n                        ${currentSection === idx\n                          ? 'bg-cyan-500 text-black'\n                          : idx < currentSection\n                            ? 'bg-green-500/20 text-green-400'\n                            : 'bg-neutral-900 border border-white/10 text-neutral-500 group-hover:border-white/20'\n                        }\n                      `}\n                    >\n                      {idx < currentSection ? (\n                        <CheckCircle2 size={12} />\n                      ) : (\n                        idx + 1\n                      )}\n                    </span>\n\n                    {/* Section info */}\n                    <div className=\"flex-1 min-w-0\">\n                      <p\n                        className={`text-xs font-bold uppercase tracking-wide truncate ${currentSection === idx ? 'text-white' : 'text-neutral-500 group-hover:text-neutral-300'\n                          }`}\n                      >\n                        {s.title}\n                      </p>\n                      {/* Show media indicator if section has media */}\n                      {s.media && s.media.length > 0 && (\n                        <div className=\"flex items-center gap-1 mt-1\">\n                          <Sparkles size={8} className=\"text-amber-400\" />\n                          <span className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-700\">\n                            {s.media.length} VISUAL{s.media.length > 1 ? 'S' : ''}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </nav>\n\n          {/* Sidebar Footer */}\n          <div className=\"p-4 border-t border-neutral-900\">\n            <div className=\"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-neutral-600 mb-2\">\n              <span>PROGRESS</span>\n              <span>{Math.round(progress)}%</span>\n            </div>\n            <div className=\"h-1.5 bg-neutral-900 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-cyan-500 to-green-500\"\n                animate={{ width: `${progress}%` }}\n              />\n            </div>\n          </div>\n        </aside>\n\n        {/* Mobile sidebar overlay */}\n        {isSidebarOpen && (\n          <div\n            className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-20 lg:hidden\"\n            onClick={() => setIsSidebarOpen(false)}\n          />\n        )}\n\n        {/* Main Content Area */}\n        <main className=\"flex-1 overflow-y-auto\">\n          <article className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-10 lg:py-16\">\n            {/* Hero Media (only on first section) */}\n            {guide.heroMedia && currentSection === 0 && (\n              <div className=\"mb-10\">\n                <MediaRenderer media={guide.heroMedia} />\n              </div>\n            )}\n\n            {/* Article Header (only on first section) */}\n            {currentSection === 0 && (\n              <header className=\"mb-12\">\n                <div className=\"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-[10px] font-black uppercase tracking-widest text-cyan-400 mb-6\">\n                  {getIconComponent(guide.icon, 12)}\n                  <span>GUIDE</span>\n                </div>\n\n                <h1 className=\"text-3xl md:text-4xl font-black tracking-tighter italic uppercase text-white mb-4 leading-tight\">\n                  {guide.title.split(' ').slice(0, -1).join(' ')} <span className=\"text-cyan-400\">{guide.title.split(' ').slice(-1)}</span>\n                </h1>\n\n                <p className=\"text-neutral-400 text-base leading-relaxed\">\n                  {guide.description}\n                </p>\n              </header>\n            )}\n\n            {/* Section Content */}\n            <AnimatePresence mode=\"wait\">\n              <motion.section\n                key={section.id}\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -20 }}\n                transition={{ duration: 0.3 }}\n              >\n                {/* Section Title - Largest heading in section content */}\n                <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-8 flex items-center gap-4\">\n                  {section.title}\n                  <div className=\"flex-1 h-px bg-neutral-800\" />\n                </h2>\n\n                {/* Tips Callout */}\n                {section.tips && section.tips.length > 0 && (\n                  <aside className=\"mb-10 p-6 rounded-2xl bg-cyan-500/5 border border-cyan-500/10\">\n                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.3em] text-cyan-400 mb-4\">\n                      QUICK TIPS\n                    </h4>\n                    <ul className=\"space-y-3\">\n                      {section.tips.map((tip, i) => (\n                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n                          <span className=\"flex-shrink-0 w-5 h-5 bg-cyan-500/20 rounded-lg flex items-center justify-center mt-0.5\">\n                            <span className=\"text-cyan-400 text-[10px] font-black\">{i + 1}</span>\n                          </span>\n                          <span className=\"leading-relaxed text-sm\">{tip}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </aside>\n                )}\n\n                {/* Warnings Callout */}\n                {section.warnings && section.warnings.length > 0 && (\n                  <aside className=\"mb-10 p-6 rounded-2xl bg-amber-500/5 border border-amber-500/10\">\n                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.3em] text-amber-400 mb-4\">\n                      IMPORTANT\n                    </h4>\n                    <ul className=\"space-y-3\">\n                      {section.warnings.map((warning, i) => (\n                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n                          <span className=\"text-amber-400 mt-1\">*</span>\n                          <span className=\"leading-relaxed text-sm\">{warning}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </aside>\n                )}\n\n                {/* Hero Media for Section */}\n                {section.media && section.media.filter(m => m.placement === 'hero').map(media => (\n                  <div key={media.id} className=\"mb-10\">\n                    <MediaRenderer media={media} />\n                  </div>\n                ))}\n\n                {/* Article Body - Custom Markdown Rendering */}\n                <div className=\"article-content\">\n                  <ReactMarkdown\n                    remarkPlugins={[remarkGfm]}\n                    components={{\n                      // Paragraphs with generous spacing\n                      p: ({ children }) => (\n                        <p className=\"text-neutral-400 text-base leading-[1.8] mb-6 font-medium\">\n                          {children}\n                        </p>\n                      ),\n                      // Headers with clear hierarchy (smaller than section title)\n                      h1: ({ children }) => (\n                        <h3 className=\"text-xl font-black italic uppercase text-white mt-12 mb-6 tracking-tight\">\n                          {children}\n                        </h3>\n                      ),\n                      h2: ({ children }) => (\n                        <h4 className=\"text-lg font-black italic uppercase text-white mt-10 mb-5 pb-3 border-b border-neutral-900 tracking-tight\">\n                          {children}\n                        </h4>\n                      ),\n                      h3: ({ children }) => (\n                        <h5 className=\"text-base font-black uppercase text-white mt-8 mb-4 tracking-wide\">\n                          {children}\n                        </h5>\n                      ),\n                      // Strong text\n                      strong: ({ children }) => (\n                        <strong className=\"font-black text-white\">\n                          {children}\n                        </strong>\n                      ),\n                      // Emphasis\n                      em: ({ children }) => (\n                        <em className=\"text-neutral-500 not-italic\">\n                          {children}\n                        </em>\n                      ),\n                      // Lists with proper spacing\n                      ul: ({ children }) => (\n                        <ul className=\"my-6 ml-0 space-y-3\">\n                          {children}\n                        </ul>\n                      ),\n                      ol: ({ children }) => (\n                        <ol className=\"my-6 ml-0 space-y-3 list-decimal list-inside\">\n                          {children}\n                        </ol>\n                      ),\n                      li: ({ children }) => (\n                        <li className=\"text-neutral-400 text-base leading-[1.8] flex items-start gap-3 font-medium\">\n                          <span className=\"text-cyan-500 mt-1.5 flex-shrink-0\">*</span>\n                          <span>{children}</span>\n                        </li>\n                      ),\n                      // Tables - styled beautifully\n                      table: ({ children }) => (\n                        <div className=\"my-8 overflow-x-auto rounded-2xl border border-white/5\">\n                          <table className=\"w-full text-left\">\n                            {children}\n                          </table>\n                        </div>\n                      ),\n                      thead: ({ children }) => (\n                        <thead className=\"bg-neutral-900/80 border-b border-white/5\">\n                          {children}\n                        </thead>\n                      ),\n                      tbody: ({ children }) => (\n                        <tbody className=\"divide-y divide-white/5\">\n                          {children}\n                        </tbody>\n                      ),\n                      tr: ({ children }) => (\n                        <tr className=\"hover:bg-neutral-900/50 transition-colors\">\n                          {children}\n                        </tr>\n                      ),\n                      th: ({ children }) => (\n                        <th className=\"px-4 py-3 text-[10px] font-black uppercase tracking-widest text-cyan-400\">\n                          {children}\n                        </th>\n                      ),\n                      td: ({ children }) => (\n                        <td className=\"px-4 py-3 text-neutral-400 text-sm font-medium\">\n                          {children}\n                        </td>\n                      ),\n                      // Blockquotes\n                      blockquote: ({ children }) => (\n                        <blockquote className=\"my-8 pl-6 border-l-2 border-cyan-500 bg-neutral-900/30 py-4 pr-6 rounded-r-xl\">\n                          {children}\n                        </blockquote>\n                      ),\n                      // Code\n                      code: ({ children }) => (\n                        <code className=\"text-cyan-400 bg-neutral-900 px-2 py-1 rounded-lg text-sm font-mono\">\n                          {children}\n                        </code>\n                      ),\n                      // Links\n                      a: ({ href, children }) => (\n                        <a\n                          href={href}\n                          className=\"text-cyan-400 hover:text-cyan-300 underline underline-offset-4 decoration-cyan-500/30 hover:decoration-cyan-400 transition-colors font-bold\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          {children}\n                        </a>\n                      ),\n                      // Horizontal rule\n                      hr: () => (\n                        <hr className=\"my-10 border-neutral-900\" />\n                      ),\n                    }}\n                  >\n                    {section.content}\n                  </ReactMarkdown>\n                </div>\n\n                {/* Inline Media */}\n                {section.media && section.media.filter(m => m.placement !== 'hero').map(media => (\n                  <div key={media.id} className=\"my-10\">\n                    <MediaRenderer media={media} />\n                  </div>\n                ))}\n\n                {/* Product Recommendations */}\n                {section.products && section.products.length > 0 && (\n                  <div className=\"mt-12 pt-8 border-t border-neutral-900\">\n                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-6 flex items-center gap-4\">\n                      RECOMMENDED PRODUCTS\n                      <div className=\"flex-1 h-px bg-neutral-800\" />\n                    </h4>\n                    <div className=\"space-y-4\">\n                      {section.products.map(productId => (\n                        <ProductCallout key={productId} productId={productId} />\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Section Navigation */}\n                <nav className=\"flex items-center justify-between mt-16 pt-8 border-t border-neutral-900\">\n                  <button\n                    onClick={() => setCurrentSection(Math.max(0, currentSection - 1))}\n                    disabled={currentSection === 0}\n                    className={`flex items-center gap-3 group transition-all ${currentSection === 0\n                      ? 'text-neutral-800 cursor-not-allowed'\n                      : 'text-neutral-500 hover:text-white'\n                      }`}\n                  >\n                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === 0 ? 'bg-neutral-900/30' : 'bg-neutral-900/50 border border-white/5 group-hover:border-white/10'\n                      }`}>\n                      <ArrowLeft size={18} />\n                    </div>\n                    <div className=\"hidden sm:block text-left\">\n                      <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-700 mb-1\">PREVIOUS</div>\n                      {currentSection > 0 && (\n                        <div className=\"text-xs font-bold uppercase tracking-wide text-neutral-400\">{guide.sections[currentSection - 1].title}</div>\n                      )}\n                    </div>\n                  </button>\n\n                  <button\n                    onClick={() => setCurrentSection(Math.min(guide.sections.length - 1, currentSection + 1))}\n                    disabled={currentSection === guide.sections.length - 1}\n                    className={`flex items-center gap-3 group transition-all ${currentSection === guide.sections.length - 1\n                      ? 'text-neutral-800 cursor-not-allowed'\n                      : 'text-neutral-500 hover:text-white'\n                      }`}\n                  >\n                    <div className=\"hidden sm:block text-right\">\n                      <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-700 mb-1\">NEXT</div>\n                      {currentSection < guide.sections.length - 1 && (\n                        <div className=\"text-xs font-bold uppercase tracking-wide text-neutral-400\">{guide.sections[currentSection + 1].title}</div>\n                      )}\n                    </div>\n                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === guide.sections.length - 1\n                      ? 'bg-neutral-900/30'\n                      : 'bg-cyan-500/10 border border-cyan-500/20 group-hover:bg-cyan-500/20'\n                      }`}>\n                      <ChevronRight size={18} className={currentSection === guide.sections.length - 1 ? '' : 'text-cyan-400'} />\n                    </div>\n                  </button>\n                </nav>\n              </motion.section>\n            </AnimatePresence>\n\n            {/* Forum Discussion Link (after last section) */}\n            {currentSection === guide.sections.length - 1 && (\n              <div className=\"mt-16\">\n                <ForumDiscussionLink\n                  forumCategory={guide.forumCategory}\n                  guideTitle={guide.title}\n                />\n              </div>\n            )}\n          </article>\n        </main>\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// GUIDE CARD\n// ============================================\n\ninterface GuideCardProps {\n  guide: Guide;\n  index: number;\n  onOpen: (guide: Guide) => void;\n}\n\nfunction GuideCard({ guide, index, onOpen }: GuideCardProps) {\n  const getCategoryColor = (guideId: string) => {\n    const category = GUIDE_CATEGORIES.find(c => c.guideIds.includes(guideId));\n    if (!category) return 'cyan';\n    const colorMap: Record<string, string> = {\n      blue: 'cyan',\n      purple: 'purple',\n      amber: 'amber',\n      pink: 'pink',\n      emerald: 'emerald',\n      red: 'red',\n    };\n    return colorMap[category.color] || 'cyan';\n  };\n\n  const color = getCategoryColor(guide.id);\n\n  const colorClasses: Record<string, { bg: string; border: string; text: string; iconBg: string }> = {\n    cyan: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-cyan-500/20',\n      text: 'text-cyan-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n    purple: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-purple-500/20',\n      text: 'text-purple-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n    amber: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-amber-500/20',\n      text: 'text-amber-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n    pink: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-pink-500/20',\n      text: 'text-pink-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n    emerald: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-emerald-500/20',\n      text: 'text-emerald-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n    red: {\n      bg: 'bg-neutral-900/40',\n      border: 'border-white/5 hover:border-red-500/20',\n      text: 'text-red-400',\n      iconBg: 'bg-neutral-900 border border-white/10',\n    },\n  };\n\n  const styles = colorClasses[color] || colorClasses.cyan;\n\n  return (\n    <motion.div\n      onClick={() => onOpen(guide)}\n      className={`${styles.bg} ${styles.border} border rounded-2xl p-5 transition-all cursor-pointer group`}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: index * 0.05 }}\n      whileHover={{ y: -2 }}\n    >\n      <div className=\"flex items-start justify-between mb-4\">\n        <div className={`w-10 h-10 ${styles.iconBg} rounded-xl flex items-center justify-center ${styles.text}`}>\n          {getIconComponent(guide.icon)}\n        </div>\n        <div className=\"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-neutral-900/50 border border-white/5\">\n          <Clock size={10} className=\"text-neutral-600\" />\n          <span className=\"text-[10px] font-black uppercase tracking-wider text-neutral-500\">{guide.estimatedReadTime} MIN</span>\n        </div>\n      </div>\n\n      <h3 className=\"font-black uppercase tracking-tight text-white mb-1 group-hover:text-cyan-400 transition-colors\">\n        {guide.title}\n      </h3>\n\n      {guide.subtitle && (\n        <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-600 mb-2\">{guide.subtitle}</p>\n      )}\n\n      <p className=\"text-sm text-neutral-500 mb-4 line-clamp-2 font-medium\">{guide.description}</p>\n\n      <div className=\"flex items-center justify-between pt-3 border-t border-white/5\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n            {guide.sections.length} SECTIONS\n          </span>\n          {guide.productIds && guide.productIds.length > 0 && (\n            <>\n              <span className=\"w-1 h-1 rounded-full bg-neutral-800\" />\n              <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">\n                {guide.productIds.length} PRODUCTS\n              </span>\n            </>\n          )}\n        </div>\n        <ChevronRight size={16} className=\"text-neutral-700 group-hover:text-cyan-400 transition-colors\" />\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// CATEGORY SECTION\n// ============================================\n\ninterface CategorySectionProps {\n  category: GuideCategory;\n  onOpenGuide: (guide: Guide) => void;\n  gender: 'male' | 'female';\n}\n\nfunction CategorySection({ category, onOpenGuide, gender }: CategorySectionProps) {\n  // Skip gender-specific categories for the opposite gender\n  if (category.id === 'male' && gender === 'female') return null;\n  if (category.id === 'female' && gender === 'male') return null;\n\n  const guides = getGuidesByCategory(category.id);\n\n  if (guides.length === 0) return null;\n\n  const colorClasses: Record<string, { text: string; iconBg: string }> = {\n    blue: { text: 'text-cyan-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    purple: { text: 'text-purple-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    pink: { text: 'text-pink-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    cyan: { text: 'text-cyan-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    emerald: { text: 'text-emerald-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    red: { text: 'text-red-400', iconBg: 'bg-neutral-900 border border-white/10' },\n    amber: { text: 'text-amber-400', iconBg: 'bg-neutral-900 border border-white/10' },\n  };\n\n  const styles = colorClasses[category.color] || colorClasses.cyan;\n\n  return (\n    <div className=\"mb-12\">\n      {/* Category Header */}\n      <div className=\"flex items-center gap-4 mb-6\">\n        <div className={`w-10 h-10 ${styles.iconBg} rounded-xl flex items-center justify-center ${styles.text}`}>\n          {getIconComponent(category.icon)}\n        </div>\n        <div className=\"flex-1\">\n          <h3 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 flex items-center gap-4\">\n            {category.name}\n            <div className=\"flex-1 h-px bg-neutral-800\" />\n          </h3>\n          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-700 mt-1\">{category.description}</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {guides.map((guide, idx) => (\n          <GuideCard key={guide.id} guide={guide} index={idx} onOpen={onOpenGuide} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// SEARCH BAR\n// ============================================\n\ninterface SearchBarProps {\n  query: string;\n  onQueryChange: (query: string) => void;\n}\n\nfunction SearchBar({ query, onQueryChange }: SearchBarProps) {\n  return (\n    <div className=\"relative mb-8\">\n      <Search size={16} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-600\" />\n      <input\n        type=\"text\"\n        placeholder=\"SEARCH GUIDES...\"\n        value={query}\n        onChange={(e) => onQueryChange(e.target.value)}\n        className=\"w-full bg-neutral-900/40 border border-white/5 rounded-xl pl-11 pr-4 py-3.5 text-white placeholder:text-neutral-600 placeholder:font-black placeholder:uppercase placeholder:tracking-widest placeholder:text-xs focus:outline-none focus:border-cyan-500/30 transition-colors font-medium text-sm\"\n      />\n    </div>\n  );\n}\n\n// ============================================\n// MAIN TAB COMPONENT\n// ============================================\n\nexport function GuidesTab() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedGuide, setSelectedGuide] = useState<Guide | null>(null);\n  const { gender } = useResults();\n\n  // Filter guides by gender (excludes opposite gender's specific guides)\n  const genderFilteredGuides = getGuidesByGender(gender);\n\n  const filteredGuides = searchQuery.trim()\n    ? genderFilteredGuides.filter(g =>\n        g.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        g.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        (g.subtitle && g.subtitle.toLowerCase().includes(searchQuery.toLowerCase())) ||\n        (g.tags && g.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase())))\n      )\n    : null;\n\n  const handleOpenGuide = (guide: Guide) => {\n    setSelectedGuide(guide);\n  };\n\n  const handleCloseGuide = () => {\n    setSelectedGuide(null);\n  };\n\n  return (\n    <>\n      <TabContent\n        title=\"Product Guides\"\n        subtitle=\"Evidence-based guides for optimal results\"\n      >\n        <div className=\"max-w-5xl mx-auto\">\n          <GuideStatsCard />\n\n          <SearchBar query={searchQuery} onQueryChange={setSearchQuery} />\n\n          {filteredGuides ? (\n            // Search Results\n            <div>\n              <p className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600 mb-6\">\n                FOUND {filteredGuides.length} GUIDE{filteredGuides.length !== 1 ? 'S' : ''} MATCHING &ldquo;{searchQuery.toUpperCase()}&rdquo;\n              </p>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {filteredGuides.map((guide, idx) => (\n                  <GuideCard key={guide.id} guide={guide} index={idx} onOpen={handleOpenGuide} />\n                ))}\n              </div>\n              {filteredGuides.length === 0 && (\n                <div className=\"text-center py-16\">\n                  <div className=\"w-16 h-16 rounded-2xl bg-neutral-900 border border-white/10 flex items-center justify-center mx-auto mb-4\">\n                    <Search size={24} className=\"text-neutral-700\" />\n                  </div>\n                  <p className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">NO GUIDES FOUND MATCHING YOUR SEARCH</p>\n                </div>\n              )}\n            </div>\n          ) : (\n            // Category View\n            <div>\n              {GUIDE_CATEGORIES.map(category => (\n                <CategorySection key={category.id} category={category} onOpenGuide={handleOpenGuide} gender={gender} />\n              ))}\n            </div>\n          )}\n        </div>\n      </TabContent>\n\n      {/* Guide Viewer Modal */}\n      <AnimatePresence>\n        {selectedGuide && (\n          <GuideViewer guide={selectedGuide} onClose={handleCloseGuide} />\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n","structuredPatch":[{"oldStart":101,"oldLines":19,"newStart":101,"newLines":19,"lines":["   if (hasError) {","     return (","       <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>","-        <div className=\"relative rounded-2xl overflow-hidden bg-gradient-to-br from-neutral-900 to-neutral-950 border border-neutral-800\">","+        <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5\">","           <div className=\"aspect-video flex items-center justify-center p-8\">","             <div className=\"text-center max-w-sm\">","-              <div className=\"w-16 h-16 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/20\">","+              <div className=\"w-16 h-16 bg-cyan-500/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/20\">","                 {isGif ? (","                   <div className=\"w-6 h-6 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin\" />","                 ) : (","                   <Sparkles size={28} className=\"text-cyan-400\" />","                 )}","               </div>","-              <p className=\"text-neutral-300 font-medium mb-2\">{media.alt}</p>","+              <p className=\"text-neutral-300 font-black uppercase tracking-wider text-sm mb-2\">{media.alt}</p>","               {media.caption && (","-                <p className=\"text-neutral-500 text-sm\">{media.caption}</p>","+                <p className=\"text-neutral-600 text-xs\">{media.caption}</p>","               )}","             </div>","           </div>"]},{"oldStart":124,"oldLines":10,"newStart":124,"newLines":10,"lines":[" ","   return (","     <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>","-      <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900 border border-neutral-800\">","+      <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900/40 border border-white/5\">","         {/* Loading skeleton */}","         {isLoading && (","-          <div className=\"absolute inset-0 bg-neutral-900 animate-pulse flex items-center justify-center\">","+          <div className=\"absolute inset-0 bg-neutral-900/40 animate-pulse flex items-center justify-center\">","             <div className=\"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin\" />","           </div>","         )}"]},{"oldStart":156,"oldLines":7,"newStart":156,"newLines":7,"lines":["         )}","       </div>","       {media.caption && (","-        <figcaption className=\"mt-4 text-center text-sm text-neutral-500 italic\">","+        <figcaption className=\"mt-4 text-center text-[10px] font-black uppercase tracking-widest text-neutral-600\">","           {media.caption}","         </figcaption>","       )}"]},{"oldStart":181,"oldLines":11,"newStart":181,"newLines":11,"lines":["   const link = getLink(product.regionLinks, product.directLink);"," ","   return (","-    <div className=\"my-6 p-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20 rounded-xl\">","+    <div className=\"my-6 p-5 rounded-2xl bg-neutral-900/40 border border-white/5 hover:border-cyan-500/20 transition-all\">","       <div className=\"flex items-center gap-4\">","         {/* Product Image */}","         {product.imageUrl && (","-          <div className=\"w-16 h-16 bg-neutral-800 rounded-lg overflow-hidden flex-shrink-0\">","+          <div className=\"w-16 h-16 rounded-xl bg-neutral-900 border border-white/10 overflow-hidden flex-shrink-0\">","             <Image","               src={product.imageUrl}","               alt={product.name}"]},{"oldStart":198,"oldLines":13,"newStart":198,"newLines":13,"lines":[" ","         {/* Product Info */}","         <div className=\"flex-1 min-w-0\">","-          <div className=\"flex items-center gap-2\">","-            <h4 className=\"font-semibold text-white truncate\">{product.name}</h4>","+          <div className=\"flex items-center gap-2 mb-1\">","+            <h4 className=\"font-black uppercase tracking-wide text-white truncate\">{product.name}</h4>","             {product.brand && (","-              <span className=\"text-xs text-neutral-500\">{product.brand}</span>","+              <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">{product.brand}</span>","             )}","           </div>","-          <p className=\"text-sm text-cyan-300 italic\">&ldquo;{product.tagline}&rdquo;</p>","+          <p className=\"text-sm text-cyan-400 italic\">&ldquo;{product.tagline}&rdquo;</p>","         </div>"," ","         {/* CTA Button */}"]},{"oldStart":212,"oldLines":10,"newStart":212,"newLines":10,"lines":["           href={link}","           target=\"_blank\"","           rel=\"noopener noreferrer\"","-          className=\"flex-shrink-0 flex items-center gap-2 px-4 py-2 bg-cyan-500 hover:bg-cyan-400 text-black font-medium rounded-lg transition-colors\"","+          className=\"flex-shrink-0 flex items-center gap-2 px-5 py-2.5 rounded-xl bg-cyan-500 hover:bg-cyan-400 text-black font-black uppercase tracking-wider text-xs transition-colors\"","         >","-          <ShoppingCart size={16} />","-          <span className=\"hidden sm:inline\">Buy Now</span>","+          <ShoppingCart size={14} />","+          <span className=\"hidden sm:inline\">BUY</span>","         </a>","       </div>","     </div>"]},{"oldStart":235,"oldLines":29,"newStart":235,"newLines":29,"lines":["   if (!forumCategory) return null;"," ","   return (","-    <div className=\"mt-8 p-6 bg-neutral-900/50 border border-neutral-800 rounded-xl\">","-      <div className=\"flex items-center gap-3 mb-3\">","-        <div className=\"w-10 h-10 bg-purple-500/10 rounded-xl flex items-center justify-center\">","+    <div className=\"mt-8 p-6 rounded-2xl bg-neutral-900/40 border border-white/5\">","+      <div className=\"flex items-center gap-3 mb-4\">","+        <div className=\"w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center\">","           <MessageSquare size={20} className=\"text-purple-400\" />","         </div>","         <div>","-          <h3 className=\"font-semibold text-white\">Discuss This Guide</h3>","-          <p className=\"text-sm text-neutral-400\">Join the community conversation</p>","+          <h3 className=\"font-black uppercase tracking-wide text-white\">DISCUSS THIS GUIDE</h3>","+          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-600\">Join the community conversation</p>","         </div>","       </div>"," ","-      <p className=\"text-sm text-neutral-400 mb-4\">","+      <p className=\"text-sm text-neutral-400 mb-5\">","         Have questions about {guideTitle.toLowerCase()}? Want to share your experience?","         Join the discussion in our community forum.","       </p>"," ","       <Link","         href={`/forum/${forumCategory}`}","-        className=\"inline-flex items-center gap-2 px-4 py-2 bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 border border-purple-500/30 rounded-lg transition-colors\"","+        className=\"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-purple-500/30 text-purple-400 font-black uppercase tracking-wider text-xs transition-all\"","       >","-        <MessageSquare size={16} />","-        Go to Forum","-        <ExternalLink size={14} />","+        <MessageSquare size={14} />","+        GO TO FORUM","+        <ExternalLink size={12} />","       </Link>","     </div>","   );"]},{"oldStart":273,"oldLines":31,"newStart":273,"newLines":31,"lines":[" ","   return (","     <motion.div","-      className=\"bg-gradient-to-br from-neutral-900 to-neutral-950 border border-neutral-800 rounded-2xl p-6 mb-6\"","+      className=\"rounded-[2rem] bg-neutral-900/40 border border-white/5 p-6 mb-8\"","       initial={{ opacity: 0, y: 20 }}","       animate={{ opacity: 1, y: 0 }}","     >","-      <div className=\"flex items-center gap-3 mb-4\">","-        <div className=\"w-10 h-10 bg-cyan-500/10 rounded-xl flex items-center justify-center\">","-          <BookOpen size={20} className=\"text-cyan-400\" />","+      <div className=\"flex items-center gap-4 mb-6\">","+        <div className=\"w-12 h-12 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center\">","+          <BookOpen size={22} className=\"text-cyan-400\" />","         </div>","         <div>","-          <h2 className=\"font-semibold text-white\">Product Guides</h2>","-          <p className=\"text-sm text-neutral-400\">Evidence-based looksmaxxing resources</p>","+          <h2 className=\"text-xl font-black italic uppercase tracking-tight text-white\">PRODUCT <span className=\"text-cyan-400\">GUIDES</span></h2>","+          <p className=\"text-[10px] font-black uppercase tracking-[0.2em] text-neutral-600\">EVIDENCE-BASED LOOKSMAXXING RESOURCES</p>","         </div>","       </div>"," ","       <div className=\"grid grid-cols-2 gap-4\">","-        <div className=\"bg-neutral-900/50 rounded-xl p-4\">","-          <div className=\"text-2xl font-bold text-white mb-1\">{totalGuides}</div>","-          <div className=\"text-xs text-neutral-500\">Total Guides</div>","+        <div className=\"rounded-xl bg-neutral-900/50 border border-white/5 p-4\">","+          <div className=\"text-3xl font-black text-white mb-1\">{totalGuides}</div>","+          <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">TOTAL GUIDES</div>","         </div>","-        <div className=\"bg-neutral-900/50 rounded-xl p-4\">","-          <div className=\"flex items-center gap-1.5 mb-1\">","-            <Clock size={16} className=\"text-cyan-400\" />","-            <div className=\"text-2xl font-bold text-white\">{totalMinutes}</div>","+        <div className=\"rounded-xl bg-neutral-900/50 border border-white/5 p-4\">","+          <div className=\"flex items-center gap-2 mb-1\">","+            <Clock size={18} className=\"text-cyan-400\" />","+            <div className=\"text-3xl font-black text-white\">{totalMinutes}</div>","           </div>","-          <div className=\"text-xs text-neutral-500\">Minutes of Content</div>","+          <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">MINUTES OF CONTENT</div>","         </div>","       </div>","     </motion.div>"]},{"oldStart":331,"oldLines":30,"newStart":331,"newLines":30,"lines":["       initial={{ opacity: 0 }}","       animate={{ opacity: 1 }}","       exit={{ opacity: 0 }}","-      className=\"fixed inset-0 z-50 bg-neutral-950\"","+      className=\"fixed inset-0 z-50 bg-black\"","     >","       {/* Header */}","-      <div className=\"sticky top-0 z-20 bg-neutral-950/95 backdrop-blur-md border-b border-neutral-900\">","+      <div className=\"sticky top-0 z-20 bg-black/95 backdrop-blur-md border-b border-neutral-900\">","         <div className=\"flex items-center justify-between px-4 lg:px-8 py-3\">","           <button","             onClick={onClose}","-            className=\"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors\"","+            className=\"flex items-center gap-2 text-neutral-500 hover:text-cyan-400 text-xs font-black uppercase tracking-widest transition-colors\"","           >","-            <ArrowLeft size={20} />","-            <span className=\"hidden sm:inline text-sm\">Back to Guides</span>","+            <ArrowLeft size={14} />","+            <span className=\"hidden sm:inline\">BACK TO GUIDES</span>","           </button>"," ","           {/* Progress bar */}","           <div className=\"hidden md:flex items-center gap-4 flex-1 max-w-md mx-8\">","-            <div className=\"flex-1 h-1 bg-neutral-800 rounded-full overflow-hidden\">","+            <div className=\"flex-1 h-1 bg-neutral-900 rounded-full overflow-hidden\">","               <motion.div","-                className=\"h-full bg-gradient-to-r from-cyan-500 to-blue-500\"","+                className=\"h-full bg-gradient-to-r from-cyan-500 to-cyan-400\"","                 initial={{ width: 0 }}","                 animate={{ width: `${progress}%` }}","                 transition={{ duration: 0.3 }}","               />","             </div>","-            <span className=\"text-xs text-neutral-500 whitespace-nowrap\">","+            <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600 whitespace-nowrap\">","               {currentSection + 1} / {guide.sections.length}","             </span>","           </div>"]},{"oldStart":363,"oldLines":15,"newStart":363,"newLines":15,"lines":["             {/* Mobile menu button */}","             <button","               onClick={() => setIsSidebarOpen(!isSidebarOpen)}","-              className=\"lg:hidden p-2 hover:bg-neutral-900 rounded-lg transition-colors\"","+              className=\"lg:hidden p-2 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10 transition-colors\"","             >","-              <BookOpen size={20} className=\"text-neutral-400\" />","+              <BookOpen size={18} className=\"text-neutral-400\" />","             </button>","             <button","               onClick={onClose}","-              className=\"p-2 hover:bg-neutral-900 rounded-lg transition-colors\"","+              className=\"p-2 rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10 transition-colors\"","             >","-              <X size={20} className=\"text-neutral-400\" />","+              <X size={18} className=\"text-neutral-400\" />","             </button>","           </div>","         </div>"]},{"oldStart":383,"oldLines":7,"newStart":383,"newLines":7,"lines":["         <aside","           className={`","             fixed lg:relative inset-y-0 left-0 z-30 lg:z-0","-            w-72 lg:w-80 bg-neutral-950 lg:bg-neutral-950/50","+            w-72 lg:w-80 bg-black lg:bg-neutral-950/50","             border-r border-neutral-900","             transform transition-transform duration-300 ease-in-out","             ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}"]},{"oldStart":393,"oldLines":26,"newStart":393,"newLines":27,"lines":["           {/* Sidebar Header */}","           <div className=\"p-6 border-b border-neutral-900\">","             <div className=\"flex items-center gap-3 mb-3\">","-              <div className=\"w-10 h-10 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl flex items-center justify-center text-cyan-400\">","+              <div className=\"w-10 h-10 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center text-cyan-400\">","                 {getIconComponent(guide.icon, 20)}","               </div>","               <div className=\"flex-1 min-w-0\">","-                <h2 className=\"font-semibold text-white truncate\">{guide.title}</h2>","-                <div className=\"flex items-center gap-2 text-xs text-neutral-500\">","-                  <Clock size={12} />","-                  <span>{guide.estimatedReadTime} min</span>","+                <h2 className=\"font-black uppercase tracking-tight text-white truncate text-sm\">{guide.title}</h2>","+                <div className=\"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-neutral-600\">","+                  <Clock size={10} />","+                  <span>{guide.estimatedReadTime} MIN</span>","                 </div>","               </div>","             </div>","             {guide.subtitle && (","-              <p className=\"text-sm text-neutral-500 italic\">{guide.subtitle}</p>","+              <p className=\"text-xs text-neutral-500 italic\">{guide.subtitle}</p>","             )}","           </div>"," ","           {/* Section List */}","           <nav className=\"flex-1 overflow-y-auto p-4\">","-            <div className=\"text-xs font-semibold text-neutral-600 uppercase tracking-wider mb-3 px-2\">","-              Sections","+            <div className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-4 px-2 flex items-center gap-3\">","+              SECTIONS","+              <div className=\"flex-1 h-px bg-neutral-800\" />","             </div>","             <ul className=\"space-y-1\">","               {guide.sections.map((s, idx) => ("]},{"oldStart":426,"oldLines":26,"newStart":427,"newLines":26,"lines":["                       w-full text-left px-3 py-3 rounded-xl transition-all","                       flex items-start gap-3 group","                       ${currentSection === idx","-                        ? 'bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20'","-                        : 'hover:bg-neutral-900 border border-transparent'","+                        ? 'bg-neutral-900/50 border border-cyan-500/20'","+                        : 'hover:bg-neutral-900/30 border border-transparent'","                       }","                     `}","                   >","                     {/* Section number */}","                     <span","                       className={`","-                        flex-shrink-0 w-6 h-6 rounded-lg text-xs font-bold","+                        flex-shrink-0 w-6 h-6 rounded-lg text-[10px] font-black","                         flex items-center justify-center transition-colors","                         ${currentSection === idx","                           ? 'bg-cyan-500 text-black'","                           : idx < currentSection","                             ? 'bg-green-500/20 text-green-400'","-                            : 'bg-neutral-800 text-neutral-500 group-hover:bg-neutral-700'","+                            : 'bg-neutral-900 border border-white/10 text-neutral-500 group-hover:border-white/20'","                         }","                       `}","                     >","                       {idx < currentSection ? (","-                        <CheckCircle2 size={14} />","+                        <CheckCircle2 size={12} />","                       ) : (","                         idx + 1","                       )}"]},{"oldStart":454,"oldLines":7,"newStart":455,"newLines":7,"lines":["                     {/* Section info */}","                     <div className=\"flex-1 min-w-0\">","                       <p","-                        className={`text-sm font-medium truncate ${currentSection === idx ? 'text-white' : 'text-neutral-400 group-hover:text-neutral-200'","+                        className={`text-xs font-bold uppercase tracking-wide truncate ${currentSection === idx ? 'text-white' : 'text-neutral-500 group-hover:text-neutral-300'","                           }`}","                       >","                         {s.title}"]},{"oldStart":462,"oldLines":9,"newStart":463,"newLines":9,"lines":["                       {/* Show media indicator if section has media */}","                       {s.media && s.media.length > 0 && (","                         <div className=\"flex items-center gap-1 mt-1\">","-                          <Sparkles size={10} className=\"text-amber-400\" />","-                          <span className=\"text-xs text-neutral-600\">","-                            {s.media.length} visual{s.media.length > 1 ? 's' : ''}","+                          <Sparkles size={8} className=\"text-amber-400\" />","+                          <span className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-700\">","+                            {s.media.length} VISUAL{s.media.length > 1 ? 'S' : ''}","                           </span>","                         </div>","                       )}"]},{"oldStart":477,"oldLines":11,"newStart":478,"newLines":11,"lines":[" ","           {/* Sidebar Footer */}","           <div className=\"p-4 border-t border-neutral-900\">","-            <div className=\"flex items-center justify-between text-xs text-neutral-600 mb-2\">","-              <span>Progress</span>","+            <div className=\"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-neutral-600 mb-2\">","+              <span>PROGRESS</span>","               <span>{Math.round(progress)}%</span>","             </div>","-            <div className=\"h-1.5 bg-neutral-800 rounded-full overflow-hidden\">","+            <div className=\"h-1.5 bg-neutral-900 rounded-full overflow-hidden\">","               <motion.div","                 className=\"h-full bg-gradient-to-r from-cyan-500 to-green-500\"","                 animate={{ width: `${progress}%` }}"]},{"oldStart":493,"oldLines":7,"newStart":494,"newLines":7,"lines":["         {/* Mobile sidebar overlay */}","         {isSidebarOpen && (","           <div","-            className=\"fixed inset-0 bg-black/60 z-20 lg:hidden\"","+            className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-20 lg:hidden\"","             onClick={() => setIsSidebarOpen(false)}","           />","         )}"]},{"oldStart":511,"oldLines":16,"newStart":512,"newLines":16,"lines":["             {/* Article Header (only on first section) */}","             {currentSection === 0 && (","               <header className=\"mb-12\">","-                <div className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-cyan-500/10 text-cyan-400 rounded-full text-xs font-medium mb-4\">","-                  {getIconComponent(guide.icon, 14)}","-                  <span className=\"uppercase tracking-wider\">Guide</span>","+                <div className=\"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-cyan-500/10 border border-cyan-500/20 text-[10px] font-black uppercase tracking-widest text-cyan-400 mb-6\">","+                  {getIconComponent(guide.icon, 12)}","+                  <span>GUIDE</span>","                 </div>"," ","-                <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-4 leading-tight\">","-                  {guide.title}","+                <h1 className=\"text-3xl md:text-4xl font-black tracking-tighter italic uppercase text-white mb-4 leading-tight\">","+                  {guide.title.split(' ').slice(0, -1).join(' ')} <span className=\"text-cyan-400\">{guide.title.split(' ').slice(-1)}</span>","                 </h1>"," ","-                <p className=\"text-neutral-300 text-lg leading-relaxed\">","+                <p className=\"text-neutral-400 text-base leading-relaxed\">","                   {guide.description}","                 </p>","               </header>"]},{"oldStart":536,"oldLines":23,"newStart":537,"newLines":24,"lines":["                 transition={{ duration: 0.3 }}","               >","                 {/* Section Title - Largest heading in section content */}","-                <h2 className=\"text-3xl md:text-4xl font-bold text-white mb-8 pb-4 border-b border-neutral-900\">","+                <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-8 flex items-center gap-4\">","                   {section.title}","+                  <div className=\"flex-1 h-px bg-neutral-800\" />","                 </h2>"," ","                 {/* Tips Callout */}","                 {section.tips && section.tips.length > 0 && (","-                  <aside className=\"mb-10 p-6 bg-gradient-to-br from-cyan-500/5 to-cyan-600/5 border-l-4 border-cyan-500 rounded-r-xl\">","-                    <h4 className=\"text-sm font-semibold text-cyan-400 uppercase tracking-wider mb-4\">","-                      Quick Tips","+                  <aside className=\"mb-10 p-6 rounded-2xl bg-cyan-500/5 border border-cyan-500/10\">","+                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.3em] text-cyan-400 mb-4\">","+                      QUICK TIPS","                     </h4>","                     <ul className=\"space-y-3\">","                       {section.tips.map((tip, i) => (","                         <li key={i} className=\"flex items-start gap-3 text-neutral-300\">","-                          <span className=\"flex-shrink-0 w-5 h-5 bg-cyan-500/20 rounded-full flex items-center justify-center mt-0.5\">","-                            <span className=\"text-cyan-400 text-xs font-bold\">{i + 1}</span>","+                          <span className=\"flex-shrink-0 w-5 h-5 bg-cyan-500/20 rounded-lg flex items-center justify-center mt-0.5\">","+                            <span className=\"text-cyan-400 text-[10px] font-black\">{i + 1}</span>","                           </span>","-                          <span className=\"leading-relaxed\">{tip}</span>","+                          <span className=\"leading-relaxed text-sm\">{tip}</span>","                         </li>","                       ))}","                     </ul>"]},{"oldStart":561,"oldLines":15,"newStart":563,"newLines":15,"lines":[" ","                 {/* Warnings Callout */}","                 {section.warnings && section.warnings.length > 0 && (","-                  <aside className=\"mb-10 p-6 bg-gradient-to-br from-amber-500/5 to-amber-600/5 border-l-4 border-amber-500 rounded-r-xl\">","-                    <h4 className=\"text-sm font-semibold text-amber-400 uppercase tracking-wider mb-4\">","-                      ⚠️ Important","+                  <aside className=\"mb-10 p-6 rounded-2xl bg-amber-500/5 border border-amber-500/10\">","+                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.3em] text-amber-400 mb-4\">","+                      IMPORTANT","                     </h4>","                     <ul className=\"space-y-3\">","                       {section.warnings.map((warning, i) => (","                         <li key={i} className=\"flex items-start gap-3 text-neutral-300\">","-                          <span className=\"text-amber-400 mt-1\">•</span>","-                          <span className=\"leading-relaxed\">{warning}</span>","+                          <span className=\"text-amber-400 mt-1\">*</span>","+                          <span className=\"leading-relaxed text-sm\">{warning}</span>","                         </li>","                       ))}","                     </ul>"]},{"oldStart":590,"oldLines":35,"newStart":592,"newLines":35,"lines":["                     components={{","                       // Paragraphs with generous spacing","                       p: ({ children }) => (","-                        <p className=\"text-neutral-300 text-lg leading-[1.8] mb-6\">","+                        <p className=\"text-neutral-400 text-base leading-[1.8] mb-6 font-medium\">","                           {children}","                         </p>","                       ),","                       // Headers with clear hierarchy (smaller than section title)","                       h1: ({ children }) => (","-                        <h3 className=\"text-2xl md:text-3xl font-bold text-white mt-12 mb-6\">","+                        <h3 className=\"text-xl font-black italic uppercase text-white mt-12 mb-6 tracking-tight\">","                           {children}","                         </h3>","                       ),","                       h2: ({ children }) => (","-                        <h4 className=\"text-xl md:text-2xl font-bold text-white mt-10 mb-5 pb-3 border-b border-neutral-800\">","+                        <h4 className=\"text-lg font-black italic uppercase text-white mt-10 mb-5 pb-3 border-b border-neutral-900 tracking-tight\">","                           {children}","                         </h4>","                       ),","                       h3: ({ children }) => (","-                        <h5 className=\"text-lg md:text-xl font-semibold text-white mt-8 mb-4\">","+                        <h5 className=\"text-base font-black uppercase text-white mt-8 mb-4 tracking-wide\">","                           {children}","                         </h5>","                       ),","                       // Strong text","                       strong: ({ children }) => (","-                        <strong className=\"font-semibold text-white\">","+                        <strong className=\"font-black text-white\">","                           {children}","                         </strong>","                       ),","                       // Emphasis","                       em: ({ children }) => (","-                        <em className=\"text-neutral-400 not-italic\">","+                        <em className=\"text-neutral-500 not-italic\">","                           {children}","                         </em>","                       ),"]},{"oldStart":634,"oldLines":26,"newStart":636,"newLines":26,"lines":["                         </ol>","                       ),","                       li: ({ children }) => (","-                        <li className=\"text-neutral-300 text-lg leading-[1.8] flex items-start gap-3\">","-                          <span className=\"text-cyan-500 mt-1.5 flex-shrink-0\">•</span>","+                        <li className=\"text-neutral-400 text-base leading-[1.8] flex items-start gap-3 font-medium\">","+                          <span className=\"text-cyan-500 mt-1.5 flex-shrink-0\">*</span>","                           <span>{children}</span>","                         </li>","                       ),","                       // Tables - styled beautifully","                       table: ({ children }) => (","-                        <div className=\"my-8 overflow-x-auto rounded-xl border border-neutral-800\">","+                        <div className=\"my-8 overflow-x-auto rounded-2xl border border-white/5\">","                           <table className=\"w-full text-left\">","                             {children}","                           </table>","                         </div>","                       ),","                       thead: ({ children }) => (","-                        <thead className=\"bg-neutral-900/80 border-b border-neutral-800\">","+                        <thead className=\"bg-neutral-900/80 border-b border-white/5\">","                           {children}","                         </thead>","                       ),","                       tbody: ({ children }) => (","-                        <tbody className=\"divide-y divide-neutral-800/50\">","+                        <tbody className=\"divide-y divide-white/5\">","                           {children}","                         </tbody>","                       ),"]},{"oldStart":663,"oldLines":24,"newStart":665,"newLines":24,"lines":["                         </tr>","                       ),","                       th: ({ children }) => (","-                        <th className=\"px-4 py-3 text-sm font-semibold text-cyan-400 uppercase tracking-wider\">","+                        <th className=\"px-4 py-3 text-[10px] font-black uppercase tracking-widest text-cyan-400\">","                           {children}","                         </th>","                       ),","                       td: ({ children }) => (","-                        <td className=\"px-4 py-3 text-neutral-300\">","+                        <td className=\"px-4 py-3 text-neutral-400 text-sm font-medium\">","                           {children}","                         </td>","                       ),","                       // Blockquotes","                       blockquote: ({ children }) => (","-                        <blockquote className=\"my-8 pl-6 border-l-4 border-cyan-500 bg-neutral-900/50 py-4 pr-6 rounded-r-lg\">","+                        <blockquote className=\"my-8 pl-6 border-l-2 border-cyan-500 bg-neutral-900/30 py-4 pr-6 rounded-r-xl\">","                           {children}","                         </blockquote>","                       ),","                       // Code","                       code: ({ children }) => (","-                        <code className=\"text-cyan-400 bg-neutral-900 px-2 py-1 rounded text-base\">","+                        <code className=\"text-cyan-400 bg-neutral-900 px-2 py-1 rounded-lg text-sm font-mono\">","                           {children}","                         </code>","                       ),"]},{"oldStart":688,"oldLines":7,"newStart":690,"newLines":7,"lines":["                       a: ({ href, children }) => (","                         <a","                           href={href}","-                          className=\"text-cyan-400 hover:text-cyan-300 underline underline-offset-4 decoration-cyan-500/30 hover:decoration-cyan-400 transition-colors\"","+                          className=\"text-cyan-400 hover:text-cyan-300 underline underline-offset-4 decoration-cyan-500/30 hover:decoration-cyan-400 transition-colors font-bold\"","                           target=\"_blank\"","                           rel=\"noopener noreferrer\"","                         >"]},{"oldStart":697,"oldLines":7,"newStart":699,"newLines":7,"lines":["                       ),","                       // Horizontal rule","                       hr: () => (","-                        <hr className=\"my-10 border-neutral-800\" />","+                        <hr className=\"my-10 border-neutral-900\" />","                       ),","                     }}","                   >"]},{"oldStart":715,"oldLines":8,"newStart":717,"newLines":9,"lines":["                 {/* Product Recommendations */}","                 {section.products && section.products.length > 0 && (","                   <div className=\"mt-12 pt-8 border-t border-neutral-900\">","-                    <h4 className=\"text-sm font-semibold text-neutral-400 uppercase tracking-wider mb-6\">","-                      Recommended Products","+                    <h4 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 mb-6 flex items-center gap-4\">","+                      RECOMMENDED PRODUCTS","+                      <div className=\"flex-1 h-px bg-neutral-800\" />","                     </h4>","                     <div className=\"space-y-4\">","                       {section.products.map(productId => ("]},{"oldStart":732,"oldLines":18,"newStart":735,"newLines":18,"lines":["                     onClick={() => setCurrentSection(Math.max(0, currentSection - 1))}","                     disabled={currentSection === 0}","                     className={`flex items-center gap-3 group transition-all ${currentSection === 0","-                      ? 'text-neutral-700 cursor-not-allowed'","-                      : 'text-neutral-400 hover:text-white'","+                      ? 'text-neutral-800 cursor-not-allowed'","+                      : 'text-neutral-500 hover:text-white'","                       }`}","                   >","-                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === 0 ? 'bg-neutral-900' : 'bg-neutral-900 group-hover:bg-neutral-800'","+                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === 0 ? 'bg-neutral-900/30' : 'bg-neutral-900/50 border border-white/5 group-hover:border-white/10'","                       }`}>","-                      <ArrowLeft size={20} />","+                      <ArrowLeft size={18} />","                     </div>","                     <div className=\"hidden sm:block text-left\">","-                      <div className=\"text-xs text-neutral-600 uppercase tracking-wider mb-1\">Previous</div>","+                      <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-700 mb-1\">PREVIOUS</div>","                       {currentSection > 0 && (","-                        <div className=\"text-sm font-medium text-neutral-300\">{guide.sections[currentSection - 1].title}</div>","+                        <div className=\"text-xs font-bold uppercase tracking-wide text-neutral-400\">{guide.sections[currentSection - 1].title}</div>","                       )}","                     </div>","                   </button>"]},{"oldStart":752,"oldLines":21,"newStart":755,"newLines":21,"lines":["                     onClick={() => setCurrentSection(Math.min(guide.sections.length - 1, currentSection + 1))}","                     disabled={currentSection === guide.sections.length - 1}","                     className={`flex items-center gap-3 group transition-all ${currentSection === guide.sections.length - 1","-                      ? 'text-neutral-700 cursor-not-allowed'","-                      : 'text-neutral-400 hover:text-white'","+                      ? 'text-neutral-800 cursor-not-allowed'","+                      : 'text-neutral-500 hover:text-white'","                       }`}","                   >","                     <div className=\"hidden sm:block text-right\">","-                      <div className=\"text-xs text-neutral-600 uppercase tracking-wider mb-1\">Next</div>","+                      <div className=\"text-[10px] font-black uppercase tracking-widest text-neutral-700 mb-1\">NEXT</div>","                       {currentSection < guide.sections.length - 1 && (","-                        <div className=\"text-sm font-medium text-neutral-300\">{guide.sections[currentSection + 1].title}</div>","+                        <div className=\"text-xs font-bold uppercase tracking-wide text-neutral-400\">{guide.sections[currentSection + 1].title}</div>","                       )}","                     </div>","                     <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === guide.sections.length - 1","-                      ? 'bg-neutral-900'","-                      : 'bg-gradient-to-r from-cyan-500/20 to-blue-500/20 group-hover:from-cyan-500/30 group-hover:to-blue-500/30'","+                      ? 'bg-neutral-900/30'","+                      : 'bg-cyan-500/10 border border-cyan-500/20 group-hover:bg-cyan-500/20'","                       }`}>","-                      <ChevronRight size={20} className={currentSection === guide.sections.length - 1 ? '' : 'text-cyan-400'} />","+                      <ChevronRight size={18} className={currentSection === guide.sections.length - 1 ? '' : 'text-cyan-400'} />","                     </div>","                   </button>","                 </nav>"]},{"oldStart":807,"oldLines":64,"newStart":810,"newLines":100,"lines":["       blue: 'cyan',","       purple: 'purple',","       amber: 'amber',","+      pink: 'pink',","+      emerald: 'emerald',","+      red: 'red',","     };","     return colorMap[category.color] || 'cyan';","   };"," ","   const color = getCategoryColor(guide.id);"," ","-  const colorClasses = {","-    cyan: 'from-cyan-500/10 to-cyan-600/10 border-cyan-500/20 text-cyan-400',","-    purple: 'from-purple-500/10 to-purple-600/10 border-purple-500/20 text-purple-400',","-    amber: 'from-amber-500/10 to-amber-600/10 border-amber-500/20 text-amber-400',","+  const colorClasses: Record<string, { bg: string; border: string; text: string; iconBg: string }> = {","+    cyan: {","+      bg: 'bg-neutral-900/40',","+      border: 'border-white/5 hover:border-cyan-500/20',","+      text: 'text-cyan-400',","+      iconBg: 'bg-neutral-900 border border-white/10',","+    },","+    purple: {","+      bg: 'bg-neutral-900/40',","+      border: 'border-white/5 hover:border-purple-500/20',","+      text: 'text-purple-400',","+      iconBg: 'bg-neutral-900 border border-white/10',","+    },","+    amber: {","+      bg: 'bg-neutral-900/40',","+      border: 'border-white/5 hover:border-amber-500/20',","+      text: 'text-amber-400',","+      iconBg: 'bg-neutral-900 border border-white/10',","+    },","+    pink: {","+      bg: 'bg-neutral-900/40',","+      border: 'border-white/5 hover:border-pink-500/20',","+      text: 'text-pink-400',","+      iconBg: 'bg-neutral-900 border border-white/10',","+    },","+    emerald: {","+      bg: 'bg-neutral-900/40',","+      border: 'border-white/5 hover:border-emerald-500/20',","+      text: 'text-emerald-400',","+      iconBg: 'bg-neutral-900 border border-white/10',","+    },","+    red: {","+      bg: 'bg-neutral-900/40',","+      border: 'border-white/5 hover:border-red-500/20',","+      text: 'text-red-400',","+      iconBg: 'bg-neutral-900 border border-white/10',","+    },","   };"," ","-  const iconColorClasses = {","-    cyan: 'bg-cyan-500/10 text-cyan-400',","-    purple: 'bg-purple-500/10 text-purple-400',","-    amber: 'bg-amber-500/10 text-amber-400',","-  };","+  const styles = colorClasses[color] || colorClasses.cyan;"," ","   return (","     <motion.div","       onClick={() => onOpen(guide)}","-      className={`bg-gradient-to-br ${colorClasses[color as keyof typeof colorClasses]} border rounded-xl p-5 hover:border-opacity-50 transition-all cursor-pointer group`}","+      className={`${styles.bg} ${styles.border} border rounded-2xl p-5 transition-all cursor-pointer group`}","       initial={{ opacity: 0, y: 20 }}","       animate={{ opacity: 1, y: 0 }}","       transition={{ delay: index * 0.05 }}","       whileHover={{ y: -2 }}","     >","-      <div className=\"flex items-start justify-between mb-3\">","-        <div className={`w-10 h-10 ${iconColorClasses[color as keyof typeof iconColorClasses]} rounded-xl flex items-center justify-center`}>","+      <div className=\"flex items-start justify-between mb-4\">","+        <div className={`w-10 h-10 ${styles.iconBg} rounded-xl flex items-center justify-center ${styles.text}`}>","           {getIconComponent(guide.icon)}","         </div>","-        <div className=\"flex items-center gap-1 text-neutral-500 text-xs\">","-          <Clock size={12} />","-          <span>{guide.estimatedReadTime} min</span>","+        <div className=\"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-neutral-900/50 border border-white/5\">","+          <Clock size={10} className=\"text-neutral-600\" />","+          <span className=\"text-[10px] font-black uppercase tracking-wider text-neutral-500\">{guide.estimatedReadTime} MIN</span>","         </div>","       </div>"," ","-      <h3 className=\"font-semibold text-white mb-1 group-hover:text-cyan-300 transition-colors\">","+      <h3 className=\"font-black uppercase tracking-tight text-white mb-1 group-hover:text-cyan-400 transition-colors\">","         {guide.title}","       </h3>"," ","       {guide.subtitle && (","-        <p className=\"text-xs text-neutral-400 mb-2 italic\">{guide.subtitle}</p>","+        <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-600 mb-2\">{guide.subtitle}</p>","       )}"," ","-      <p className=\"text-sm text-neutral-400 mb-3 line-clamp-2\">{guide.description}</p>","+      <p className=\"text-sm text-neutral-500 mb-4 line-clamp-2 font-medium\">{guide.description}</p>"," ","-      <div className=\"flex items-center justify-between\">","-        <div className=\"flex items-center gap-1 text-xs text-neutral-500\">","-          <span>{guide.sections.length} sections</span>","+      <div className=\"flex items-center justify-between pt-3 border-t border-white/5\">","+        <div className=\"flex items-center gap-2\">","+          <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">","+            {guide.sections.length} SECTIONS","+          </span>","           {guide.productIds && guide.productIds.length > 0 && (","             <>","-              <span>-</span>","-              <span>{guide.productIds.length} products</span>","+              <span className=\"w-1 h-1 rounded-full bg-neutral-800\" />","+              <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">","+                {guide.productIds.length} PRODUCTS","+              </span>","             </>","           )}","         </div>","-        <ChevronRight size={16} className=\"text-neutral-600 group-hover:text-cyan-400 transition-colors\" />","+        <ChevronRight size={16} className=\"text-neutral-700 group-hover:text-cyan-400 transition-colors\" />","       </div>","     </motion.div>","   );"]},{"oldStart":889,"oldLines":25,"newStart":928,"newLines":31,"lines":[" ","   if (guides.length === 0) return null;"," ","-  const colorClasses: Record<string, string> = {","-    blue: 'text-cyan-400 bg-cyan-500/10',","-    purple: 'text-purple-400 bg-purple-500/10',","-    pink: 'text-pink-400 bg-pink-500/10',","-    cyan: 'text-cyan-400 bg-cyan-500/10',","-    emerald: 'text-emerald-400 bg-emerald-500/10',","-    red: 'text-red-400 bg-red-500/10',","-    amber: 'text-amber-400 bg-amber-500/10',","+  const colorClasses: Record<string, { text: string; iconBg: string }> = {","+    blue: { text: 'text-cyan-400', iconBg: 'bg-neutral-900 border border-white/10' },","+    purple: { text: 'text-purple-400', iconBg: 'bg-neutral-900 border border-white/10' },","+    pink: { text: 'text-pink-400', iconBg: 'bg-neutral-900 border border-white/10' },","+    cyan: { text: 'text-cyan-400', iconBg: 'bg-neutral-900 border border-white/10' },","+    emerald: { text: 'text-emerald-400', iconBg: 'bg-neutral-900 border border-white/10' },","+    red: { text: 'text-red-400', iconBg: 'bg-neutral-900 border border-white/10' },","+    amber: { text: 'text-amber-400', iconBg: 'bg-neutral-900 border border-white/10' },","   };"," ","+  const styles = colorClasses[category.color] || colorClasses.cyan;","+","   return (","-    <div className=\"mb-8\">","-      <div className=\"flex items-center gap-3 mb-4\">","-        <div className={`w-8 h-8 ${colorClasses[category.color as keyof typeof colorClasses]} rounded-lg flex items-center justify-center`}>","+    <div className=\"mb-12\">","+      {/* Category Header */}","+      <div className=\"flex items-center gap-4 mb-6\">","+        <div className={`w-10 h-10 ${styles.iconBg} rounded-xl flex items-center justify-center ${styles.text}`}>","           {getIconComponent(category.icon)}","         </div>","-        <div>","-          <h3 className=\"font-semibold text-white\">{category.name}</h3>","-          <p className=\"text-xs text-neutral-500\">{category.description}</p>","+        <div className=\"flex-1\">","+          <h3 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 flex items-center gap-4\">","+            {category.name}","+            <div className=\"flex-1 h-px bg-neutral-800\" />","+          </h3>","+          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-700 mt-1\">{category.description}</p>","         </div>","       </div>"," "]},{"oldStart":931,"oldLines":14,"newStart":976,"newLines":14,"lines":[" "," function SearchBar({ query, onQueryChange }: SearchBarProps) {","   return (","-    <div className=\"relative mb-6\">","-      <Search size={18} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-500\" />","+    <div className=\"relative mb-8\">","+      <Search size={16} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-600\" />","       <input","         type=\"text\"","-        placeholder=\"Search guides...\"","+        placeholder=\"SEARCH GUIDES...\"","         value={query}","         onChange={(e) => onQueryChange(e.target.value)}","-        className=\"w-full bg-neutral-900 border border-neutral-800 rounded-xl pl-11 pr-4 py-3 text-white placeholder:text-neutral-500 focus:outline-none focus:border-cyan-500/50 transition-colors\"","+        className=\"w-full bg-neutral-900/40 border border-white/5 rounded-xl pl-11 pr-4 py-3.5 text-white placeholder:text-neutral-600 placeholder:font-black placeholder:uppercase placeholder:tracking-widest placeholder:text-xs focus:outline-none focus:border-cyan-500/30 transition-colors font-medium text-sm\"","       />","     </div>","   );"]},{"oldStart":987,"oldLines":8,"newStart":1032,"newLines":8,"lines":["           {filteredGuides ? (","             // Search Results","             <div>","-              <p className=\"text-sm text-neutral-400 mb-4\">","-                Found {filteredGuides.length} guide{filteredGuides.length !== 1 ? 's' : ''} matching &ldquo;{searchQuery}&rdquo;","+              <p className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600 mb-6\">","+                FOUND {filteredGuides.length} GUIDE{filteredGuides.length !== 1 ? 'S' : ''} MATCHING &ldquo;{searchQuery.toUpperCase()}&rdquo;","               </p>","               <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">","                 {filteredGuides.map((guide, idx) => ("]},{"oldStart":996,"oldLines":11,"newStart":1041,"newLines":11,"lines":["                 ))}","               </div>","               {filteredGuides.length === 0 && (","-                <div className=\"text-center py-12\">","-                  <div className=\"w-16 h-16 bg-neutral-900 rounded-full flex items-center justify-center mx-auto mb-4\">","-                    <Search size={24} className=\"text-neutral-600\" />","+                <div className=\"text-center py-16\">","+                  <div className=\"w-16 h-16 rounded-2xl bg-neutral-900 border border-white/10 flex items-center justify-center mx-auto mb-4\">","+                    <Search size={24} className=\"text-neutral-700\" />","                   </div>","-                  <p className=\"text-neutral-500\">No guides found matching your search</p>","+                  <p className=\"text-[10px] font-black uppercase tracking-widest text-neutral-600\">NO GUIDES FOUND MATCHING YOUR SEARCH</p>","                 </div>","               )}","             </div>"]}],"originalFile":"'use client';\n\nimport { useState, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  BookOpen,\n  Dumbbell,\n  Sparkles,\n  Clock,\n  ChevronRight,\n  Search,\n  Brain,\n  Wrench,\n  TrendingDown,\n  Calendar,\n  Target,\n  Heart,\n  Utensils,\n  Droplet,\n  X,\n  ArrowLeft,\n  MessageSquare,\n  ExternalLink,\n  ShoppingCart,\n  CheckCircle2,\n} from 'lucide-react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { TabContent } from '../ResultsLayout';\nimport {\n  GUIDE_CATEGORIES,\n  getGuidesByCategory,\n  getTotalGuideCount,\n  getTotalReadTime,\n  getGuideProductById,\n  getGuidesByGender,\n} from '@/data/guides';\nimport { Guide, GuideCategory, GuideMedia } from '@/types/guides';\nimport { useRegion } from '@/contexts/RegionContext';\nimport { useResults } from '@/contexts/ResultsContext';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\n\n// ============================================\n// ICON MAPPING\n// ============================================\n\nconst ICON_MAP: Record<string, React.ReactNode> = {\n  BookOpen: <BookOpen size={20} />,\n  Dumbbell: <Dumbbell size={20} />,\n  Sparkles: <Sparkles size={20} />,\n  Brain: <Brain size={20} />,\n  Wrench: <Wrench size={20} />,\n  TrendingDown: <TrendingDown size={20} />,\n  Calendar: <Calendar size={20} />,\n  Target: <Target size={20} />,\n  Heart: <Heart size={20} />,\n  Utensils: <Utensils size={20} />,\n  Droplet: <Droplet size={20} />,\n};\n\nfunction getIconComponent(iconName: string, size = 20): React.ReactNode {\n  // Check icon map first\n  const mappedIcon = ICON_MAP[iconName];\n  if (mappedIcon) return mappedIcon;\n\n  // Fallback to BookOpen\n  return <BookOpen size={size} />;\n}\n\n// ============================================\n// MEDIA RENDERER\n// ============================================\n\ninterface MediaRendererProps {\n  media: GuideMedia;\n}\n\nfunction MediaRenderer({ media }: MediaRendererProps) {\n  const [hasError, setHasError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const handleError = useCallback(() => {\n    setHasError(true);\n    setIsLoading(false);\n  }, []);\n\n  const handleLoad = useCallback(() => {\n    setIsLoading(false);\n  }, []);\n\n  const placementClasses = {\n    inline: 'max-w-lg mx-auto',\n    hero: 'w-full',\n    'full-width': 'w-full',\n  };\n\n  const isGif = media.type === 'gif' || media.url.endsWith('.gif');\n\n  // Show styled placeholder if image failed to load or doesn't exist\n  if (hasError) {\n    return (\n      <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n        <div className=\"relative rounded-2xl overflow-hidden bg-gradient-to-br from-neutral-900 to-neutral-950 border border-neutral-800\">\n          <div className=\"aspect-video flex items-center justify-center p-8\">\n            <div className=\"text-center max-w-sm\">\n              <div className=\"w-16 h-16 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-cyan-500/20\">\n                {isGif ? (\n                  <div className=\"w-6 h-6 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin\" />\n                ) : (\n                  <Sparkles size={28} className=\"text-cyan-400\" />\n                )}\n              </div>\n              <p className=\"text-neutral-300 font-medium mb-2\">{media.alt}</p>\n              {media.caption && (\n                <p className=\"text-neutral-500 text-sm\">{media.caption}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </figure>\n    );\n  }\n\n  return (\n    <figure className={`my-10 ${placementClasses[media.placement || 'inline']}`}>\n      <div className=\"relative rounded-2xl overflow-hidden bg-neutral-900 border border-neutral-800\">\n        {/* Loading skeleton */}\n        {isLoading && (\n          <div className=\"absolute inset-0 bg-neutral-900 animate-pulse flex items-center justify-center\">\n            <div className=\"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin\" />\n          </div>\n        )}\n\n        {isGif ? (\n          // Use img for GIFs to preserve animation\n          // eslint-disable-next-line @next/next/no-img-element\n          <img\n            src={media.url}\n            alt={media.alt}\n            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n            loading=\"lazy\"\n            onError={handleError}\n            onLoad={handleLoad}\n          />\n        ) : (\n          <Image\n            src={media.url}\n            alt={media.alt}\n            width={media.width || 800}\n            height={media.height || 450}\n            className={`w-full h-auto max-h-[400px] object-contain transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\n            onError={handleError}\n            onLoad={handleLoad}\n          />\n        )}\n      </div>\n      {media.caption && (\n        <figcaption className=\"mt-4 text-center text-sm text-neutral-500 italic\">\n          {media.caption}\n        </figcaption>\n      )}\n    </figure>\n  );\n}\n\n// ============================================\n// PRODUCT CALLOUT (CONVERSION OPTIMIZED)\n// ============================================\n\ninterface ProductCalloutProps {\n  productId: string;\n}\n\nfunction ProductCallout({ productId }: ProductCalloutProps) {\n  const { getLink } = useRegion();\n  const product = getGuideProductById(productId);\n\n  if (!product) return null;\n\n  const link = getLink(product.regionLinks, product.directLink);\n\n  return (\n    <div className=\"my-6 p-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20 rounded-xl\">\n      <div className=\"flex items-center gap-4\">\n        {/* Product Image */}\n        {product.imageUrl && (\n          <div className=\"w-16 h-16 bg-neutral-800 rounded-lg overflow-hidden flex-shrink-0\">\n            <Image\n              src={product.imageUrl}\n              alt={product.name}\n              width={64}\n              height={64}\n              className=\"w-full h-full object-cover\"\n            />\n          </div>\n        )}\n\n        {/* Product Info */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2\">\n            <h4 className=\"font-semibold text-white truncate\">{product.name}</h4>\n            {product.brand && (\n              <span className=\"text-xs text-neutral-500\">{product.brand}</span>\n            )}\n          </div>\n          <p className=\"text-sm text-cyan-300 italic\">&ldquo;{product.tagline}&rdquo;</p>\n        </div>\n\n        {/* CTA Button */}\n        <a\n          href={link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"flex-shrink-0 flex items-center gap-2 px-4 py-2 bg-cyan-500 hover:bg-cyan-400 text-black font-medium rounded-lg transition-colors\"\n        >\n          <ShoppingCart size={16} />\n          <span className=\"hidden sm:inline\">Buy Now</span>\n        </a>\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// FORUM DISCUSSION LINK\n// ============================================\n\ninterface ForumDiscussionLinkProps {\n  forumCategory?: string;\n  guideTitle: string;\n}\n\nfunction ForumDiscussionLink({ forumCategory, guideTitle }: ForumDiscussionLinkProps) {\n  if (!forumCategory) return null;\n\n  return (\n    <div className=\"mt-8 p-6 bg-neutral-900/50 border border-neutral-800 rounded-xl\">\n      <div className=\"flex items-center gap-3 mb-3\">\n        <div className=\"w-10 h-10 bg-purple-500/10 rounded-xl flex items-center justify-center\">\n          <MessageSquare size={20} className=\"text-purple-400\" />\n        </div>\n        <div>\n          <h3 className=\"font-semibold text-white\">Discuss This Guide</h3>\n          <p className=\"text-sm text-neutral-400\">Join the community conversation</p>\n        </div>\n      </div>\n\n      <p className=\"text-sm text-neutral-400 mb-4\">\n        Have questions about {guideTitle.toLowerCase()}? Want to share your experience?\n        Join the discussion in our community forum.\n      </p>\n\n      <Link\n        href={`/forum/${forumCategory}`}\n        className=\"inline-flex items-center gap-2 px-4 py-2 bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 border border-purple-500/30 rounded-lg transition-colors\"\n      >\n        <MessageSquare size={16} />\n        Go to Forum\n        <ExternalLink size={14} />\n      </Link>\n    </div>\n  );\n}\n\n// ============================================\n// GUIDE STATS CARD\n// ============================================\n\nfunction GuideStatsCard() {\n  const totalGuides = getTotalGuideCount();\n  const totalMinutes = getTotalReadTime();\n\n  return (\n    <motion.div\n      className=\"bg-gradient-to-br from-neutral-900 to-neutral-950 border border-neutral-800 rounded-2xl p-6 mb-6\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n    >\n      <div className=\"flex items-center gap-3 mb-4\">\n        <div className=\"w-10 h-10 bg-cyan-500/10 rounded-xl flex items-center justify-center\">\n          <BookOpen size={20} className=\"text-cyan-400\" />\n        </div>\n        <div>\n          <h2 className=\"font-semibold text-white\">Product Guides</h2>\n          <p className=\"text-sm text-neutral-400\">Evidence-based looksmaxxing resources</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"bg-neutral-900/50 rounded-xl p-4\">\n          <div className=\"text-2xl font-bold text-white mb-1\">{totalGuides}</div>\n          <div className=\"text-xs text-neutral-500\">Total Guides</div>\n        </div>\n        <div className=\"bg-neutral-900/50 rounded-xl p-4\">\n          <div className=\"flex items-center gap-1.5 mb-1\">\n            <Clock size={16} className=\"text-cyan-400\" />\n            <div className=\"text-2xl font-bold text-white\">{totalMinutes}</div>\n          </div>\n          <div className=\"text-xs text-neutral-500\">Minutes of Content</div>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// GUIDE VIEWER MODAL\n// ============================================\n\ninterface GuideViewerProps {\n  guide: Guide;\n  onClose: () => void;\n}\n\nfunction GuideViewer({ guide, onClose }: GuideViewerProps) {\n  const [currentSection, setCurrentSection] = useState(0);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  const section = guide.sections[currentSection];\n\n  if (!section) return null;\n\n  // Calculate reading progress (0% at start, 100% at last section)\n  const progress = guide.sections.length > 1\n    ? (currentSection / (guide.sections.length - 1)) * 100\n    : 100;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 z-50 bg-neutral-950\"\n    >\n      {/* Header */}\n      <div className=\"sticky top-0 z-20 bg-neutral-950/95 backdrop-blur-md border-b border-neutral-900\">\n        <div className=\"flex items-center justify-between px-4 lg:px-8 py-3\">\n          <button\n            onClick={onClose}\n            className=\"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors\"\n          >\n            <ArrowLeft size={20} />\n            <span className=\"hidden sm:inline text-sm\">Back to Guides</span>\n          </button>\n\n          {/* Progress bar */}\n          <div className=\"hidden md:flex items-center gap-4 flex-1 max-w-md mx-8\">\n            <div className=\"flex-1 h-1 bg-neutral-800 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-cyan-500 to-blue-500\"\n                initial={{ width: 0 }}\n                animate={{ width: `${progress}%` }}\n                transition={{ duration: 0.3 }}\n              />\n            </div>\n            <span className=\"text-xs text-neutral-500 whitespace-nowrap\">\n              {currentSection + 1} / {guide.sections.length}\n            </span>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            {/* Mobile menu button */}\n            <button\n              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n              className=\"lg:hidden p-2 hover:bg-neutral-900 rounded-lg transition-colors\"\n            >\n              <BookOpen size={20} className=\"text-neutral-400\" />\n            </button>\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-neutral-900 rounded-lg transition-colors\"\n            >\n              <X size={20} className=\"text-neutral-400\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Layout: Sidebar + Content */}\n      <div className=\"flex h-[calc(100vh-57px)]\">\n        {/* Sidebar Navigation */}\n        <aside\n          className={`\n            fixed lg:relative inset-y-0 left-0 z-30 lg:z-0\n            w-72 lg:w-80 bg-neutral-950 lg:bg-neutral-950/50\n            border-r border-neutral-900\n            transform transition-transform duration-300 ease-in-out\n            ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n            flex flex-col\n          `}\n        >\n          {/* Sidebar Header */}\n          <div className=\"p-6 border-b border-neutral-900\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-10 h-10 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl flex items-center justify-center text-cyan-400\">\n                {getIconComponent(guide.icon, 20)}\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h2 className=\"font-semibold text-white truncate\">{guide.title}</h2>\n                <div className=\"flex items-center gap-2 text-xs text-neutral-500\">\n                  <Clock size={12} />\n                  <span>{guide.estimatedReadTime} min</span>\n                </div>\n              </div>\n            </div>\n            {guide.subtitle && (\n              <p className=\"text-sm text-neutral-500 italic\">{guide.subtitle}</p>\n            )}\n          </div>\n\n          {/* Section List */}\n          <nav className=\"flex-1 overflow-y-auto p-4\">\n            <div className=\"text-xs font-semibold text-neutral-600 uppercase tracking-wider mb-3 px-2\">\n              Sections\n            </div>\n            <ul className=\"space-y-1\">\n              {guide.sections.map((s, idx) => (\n                <li key={s.id}>\n                  <button\n                    onClick={() => {\n                      setCurrentSection(idx);\n                      setIsSidebarOpen(false);\n                    }}\n                    className={`\n                      w-full text-left px-3 py-3 rounded-xl transition-all\n                      flex items-start gap-3 group\n                      ${currentSection === idx\n                        ? 'bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20'\n                        : 'hover:bg-neutral-900 border border-transparent'\n                      }\n                    `}\n                  >\n                    {/* Section number */}\n                    <span\n                      className={`\n                        flex-shrink-0 w-6 h-6 rounded-lg text-xs font-bold\n                        flex items-center justify-center transition-colors\n                        ${currentSection === idx\n                          ? 'bg-cyan-500 text-black'\n                          : idx < currentSection\n                            ? 'bg-green-500/20 text-green-400'\n                            : 'bg-neutral-800 text-neutral-500 group-hover:bg-neutral-700'\n                        }\n                      `}\n                    >\n                      {idx < currentSection ? (\n                        <CheckCircle2 size={14} />\n                      ) : (\n                        idx + 1\n                      )}\n                    </span>\n\n                    {/* Section info */}\n                    <div className=\"flex-1 min-w-0\">\n                      <p\n                        className={`text-sm font-medium truncate ${currentSection === idx ? 'text-white' : 'text-neutral-400 group-hover:text-neutral-200'\n                          }`}\n                      >\n                        {s.title}\n                      </p>\n                      {/* Show media indicator if section has media */}\n                      {s.media && s.media.length > 0 && (\n                        <div className=\"flex items-center gap-1 mt-1\">\n                          <Sparkles size={10} className=\"text-amber-400\" />\n                          <span className=\"text-xs text-neutral-600\">\n                            {s.media.length} visual{s.media.length > 1 ? 's' : ''}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </nav>\n\n          {/* Sidebar Footer */}\n          <div className=\"p-4 border-t border-neutral-900\">\n            <div className=\"flex items-center justify-between text-xs text-neutral-600 mb-2\">\n              <span>Progress</span>\n              <span>{Math.round(progress)}%</span>\n            </div>\n            <div className=\"h-1.5 bg-neutral-800 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-cyan-500 to-green-500\"\n                animate={{ width: `${progress}%` }}\n              />\n            </div>\n          </div>\n        </aside>\n\n        {/* Mobile sidebar overlay */}\n        {isSidebarOpen && (\n          <div\n            className=\"fixed inset-0 bg-black/60 z-20 lg:hidden\"\n            onClick={() => setIsSidebarOpen(false)}\n          />\n        )}\n\n        {/* Main Content Area */}\n        <main className=\"flex-1 overflow-y-auto\">\n          <article className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-10 lg:py-16\">\n            {/* Hero Media (only on first section) */}\n            {guide.heroMedia && currentSection === 0 && (\n              <div className=\"mb-10\">\n                <MediaRenderer media={guide.heroMedia} />\n              </div>\n            )}\n\n            {/* Article Header (only on first section) */}\n            {currentSection === 0 && (\n              <header className=\"mb-12\">\n                <div className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-cyan-500/10 text-cyan-400 rounded-full text-xs font-medium mb-4\">\n                  {getIconComponent(guide.icon, 14)}\n                  <span className=\"uppercase tracking-wider\">Guide</span>\n                </div>\n\n                <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-4 leading-tight\">\n                  {guide.title}\n                </h1>\n\n                <p className=\"text-neutral-300 text-lg leading-relaxed\">\n                  {guide.description}\n                </p>\n              </header>\n            )}\n\n            {/* Section Content */}\n            <AnimatePresence mode=\"wait\">\n              <motion.section\n                key={section.id}\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -20 }}\n                transition={{ duration: 0.3 }}\n              >\n                {/* Section Title - Largest heading in section content */}\n                <h2 className=\"text-3xl md:text-4xl font-bold text-white mb-8 pb-4 border-b border-neutral-900\">\n                  {section.title}\n                </h2>\n\n                {/* Tips Callout */}\n                {section.tips && section.tips.length > 0 && (\n                  <aside className=\"mb-10 p-6 bg-gradient-to-br from-cyan-500/5 to-cyan-600/5 border-l-4 border-cyan-500 rounded-r-xl\">\n                    <h4 className=\"text-sm font-semibold text-cyan-400 uppercase tracking-wider mb-4\">\n                      Quick Tips\n                    </h4>\n                    <ul className=\"space-y-3\">\n                      {section.tips.map((tip, i) => (\n                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n                          <span className=\"flex-shrink-0 w-5 h-5 bg-cyan-500/20 rounded-full flex items-center justify-center mt-0.5\">\n                            <span className=\"text-cyan-400 text-xs font-bold\">{i + 1}</span>\n                          </span>\n                          <span className=\"leading-relaxed\">{tip}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </aside>\n                )}\n\n                {/* Warnings Callout */}\n                {section.warnings && section.warnings.length > 0 && (\n                  <aside className=\"mb-10 p-6 bg-gradient-to-br from-amber-500/5 to-amber-600/5 border-l-4 border-amber-500 rounded-r-xl\">\n                    <h4 className=\"text-sm font-semibold text-amber-400 uppercase tracking-wider mb-4\">\n                      ⚠️ Important\n                    </h4>\n                    <ul className=\"space-y-3\">\n                      {section.warnings.map((warning, i) => (\n                        <li key={i} className=\"flex items-start gap-3 text-neutral-300\">\n                          <span className=\"text-amber-400 mt-1\">•</span>\n                          <span className=\"leading-relaxed\">{warning}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </aside>\n                )}\n\n                {/* Hero Media for Section */}\n                {section.media && section.media.filter(m => m.placement === 'hero').map(media => (\n                  <div key={media.id} className=\"mb-10\">\n                    <MediaRenderer media={media} />\n                  </div>\n                ))}\n\n                {/* Article Body - Custom Markdown Rendering */}\n                <div className=\"article-content\">\n                  <ReactMarkdown\n                    remarkPlugins={[remarkGfm]}\n                    components={{\n                      // Paragraphs with generous spacing\n                      p: ({ children }) => (\n                        <p className=\"text-neutral-300 text-lg leading-[1.8] mb-6\">\n                          {children}\n                        </p>\n                      ),\n                      // Headers with clear hierarchy (smaller than section title)\n                      h1: ({ children }) => (\n                        <h3 className=\"text-2xl md:text-3xl font-bold text-white mt-12 mb-6\">\n                          {children}\n                        </h3>\n                      ),\n                      h2: ({ children }) => (\n                        <h4 className=\"text-xl md:text-2xl font-bold text-white mt-10 mb-5 pb-3 border-b border-neutral-800\">\n                          {children}\n                        </h4>\n                      ),\n                      h3: ({ children }) => (\n                        <h5 className=\"text-lg md:text-xl font-semibold text-white mt-8 mb-4\">\n                          {children}\n                        </h5>\n                      ),\n                      // Strong text\n                      strong: ({ children }) => (\n                        <strong className=\"font-semibold text-white\">\n                          {children}\n                        </strong>\n                      ),\n                      // Emphasis\n                      em: ({ children }) => (\n                        <em className=\"text-neutral-400 not-italic\">\n                          {children}\n                        </em>\n                      ),\n                      // Lists with proper spacing\n                      ul: ({ children }) => (\n                        <ul className=\"my-6 ml-0 space-y-3\">\n                          {children}\n                        </ul>\n                      ),\n                      ol: ({ children }) => (\n                        <ol className=\"my-6 ml-0 space-y-3 list-decimal list-inside\">\n                          {children}\n                        </ol>\n                      ),\n                      li: ({ children }) => (\n                        <li className=\"text-neutral-300 text-lg leading-[1.8] flex items-start gap-3\">\n                          <span className=\"text-cyan-500 mt-1.5 flex-shrink-0\">•</span>\n                          <span>{children}</span>\n                        </li>\n                      ),\n                      // Tables - styled beautifully\n                      table: ({ children }) => (\n                        <div className=\"my-8 overflow-x-auto rounded-xl border border-neutral-800\">\n                          <table className=\"w-full text-left\">\n                            {children}\n                          </table>\n                        </div>\n                      ),\n                      thead: ({ children }) => (\n                        <thead className=\"bg-neutral-900/80 border-b border-neutral-800\">\n                          {children}\n                        </thead>\n                      ),\n                      tbody: ({ children }) => (\n                        <tbody className=\"divide-y divide-neutral-800/50\">\n                          {children}\n                        </tbody>\n                      ),\n                      tr: ({ children }) => (\n                        <tr className=\"hover:bg-neutral-900/50 transition-colors\">\n                          {children}\n                        </tr>\n                      ),\n                      th: ({ children }) => (\n                        <th className=\"px-4 py-3 text-sm font-semibold text-cyan-400 uppercase tracking-wider\">\n                          {children}\n                        </th>\n                      ),\n                      td: ({ children }) => (\n                        <td className=\"px-4 py-3 text-neutral-300\">\n                          {children}\n                        </td>\n                      ),\n                      // Blockquotes\n                      blockquote: ({ children }) => (\n                        <blockquote className=\"my-8 pl-6 border-l-4 border-cyan-500 bg-neutral-900/50 py-4 pr-6 rounded-r-lg\">\n                          {children}\n                        </blockquote>\n                      ),\n                      // Code\n                      code: ({ children }) => (\n                        <code className=\"text-cyan-400 bg-neutral-900 px-2 py-1 rounded text-base\">\n                          {children}\n                        </code>\n                      ),\n                      // Links\n                      a: ({ href, children }) => (\n                        <a\n                          href={href}\n                          className=\"text-cyan-400 hover:text-cyan-300 underline underline-offset-4 decoration-cyan-500/30 hover:decoration-cyan-400 transition-colors\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          {children}\n                        </a>\n                      ),\n                      // Horizontal rule\n                      hr: () => (\n                        <hr className=\"my-10 border-neutral-800\" />\n                      ),\n                    }}\n                  >\n                    {section.content}\n                  </ReactMarkdown>\n                </div>\n\n                {/* Inline Media */}\n                {section.media && section.media.filter(m => m.placement !== 'hero').map(media => (\n                  <div key={media.id} className=\"my-10\">\n                    <MediaRenderer media={media} />\n                  </div>\n                ))}\n\n                {/* Product Recommendations */}\n                {section.products && section.products.length > 0 && (\n                  <div className=\"mt-12 pt-8 border-t border-neutral-900\">\n                    <h4 className=\"text-sm font-semibold text-neutral-400 uppercase tracking-wider mb-6\">\n                      Recommended Products\n                    </h4>\n                    <div className=\"space-y-4\">\n                      {section.products.map(productId => (\n                        <ProductCallout key={productId} productId={productId} />\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Section Navigation */}\n                <nav className=\"flex items-center justify-between mt-16 pt-8 border-t border-neutral-900\">\n                  <button\n                    onClick={() => setCurrentSection(Math.max(0, currentSection - 1))}\n                    disabled={currentSection === 0}\n                    className={`flex items-center gap-3 group transition-all ${currentSection === 0\n                      ? 'text-neutral-700 cursor-not-allowed'\n                      : 'text-neutral-400 hover:text-white'\n                      }`}\n                  >\n                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === 0 ? 'bg-neutral-900' : 'bg-neutral-900 group-hover:bg-neutral-800'\n                      }`}>\n                      <ArrowLeft size={20} />\n                    </div>\n                    <div className=\"hidden sm:block text-left\">\n                      <div className=\"text-xs text-neutral-600 uppercase tracking-wider mb-1\">Previous</div>\n                      {currentSection > 0 && (\n                        <div className=\"text-sm font-medium text-neutral-300\">{guide.sections[currentSection - 1].title}</div>\n                      )}\n                    </div>\n                  </button>\n\n                  <button\n                    onClick={() => setCurrentSection(Math.min(guide.sections.length - 1, currentSection + 1))}\n                    disabled={currentSection === guide.sections.length - 1}\n                    className={`flex items-center gap-3 group transition-all ${currentSection === guide.sections.length - 1\n                      ? 'text-neutral-700 cursor-not-allowed'\n                      : 'text-neutral-400 hover:text-white'\n                      }`}\n                  >\n                    <div className=\"hidden sm:block text-right\">\n                      <div className=\"text-xs text-neutral-600 uppercase tracking-wider mb-1\">Next</div>\n                      {currentSection < guide.sections.length - 1 && (\n                        <div className=\"text-sm font-medium text-neutral-300\">{guide.sections[currentSection + 1].title}</div>\n                      )}\n                    </div>\n                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center transition-colors ${currentSection === guide.sections.length - 1\n                      ? 'bg-neutral-900'\n                      : 'bg-gradient-to-r from-cyan-500/20 to-blue-500/20 group-hover:from-cyan-500/30 group-hover:to-blue-500/30'\n                      }`}>\n                      <ChevronRight size={20} className={currentSection === guide.sections.length - 1 ? '' : 'text-cyan-400'} />\n                    </div>\n                  </button>\n                </nav>\n              </motion.section>\n            </AnimatePresence>\n\n            {/* Forum Discussion Link (after last section) */}\n            {currentSection === guide.sections.length - 1 && (\n              <div className=\"mt-16\">\n                <ForumDiscussionLink\n                  forumCategory={guide.forumCategory}\n                  guideTitle={guide.title}\n                />\n              </div>\n            )}\n          </article>\n        </main>\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// GUIDE CARD\n// ============================================\n\ninterface GuideCardProps {\n  guide: Guide;\n  index: number;\n  onOpen: (guide: Guide) => void;\n}\n\nfunction GuideCard({ guide, index, onOpen }: GuideCardProps) {\n  const getCategoryColor = (guideId: string) => {\n    const category = GUIDE_CATEGORIES.find(c => c.guideIds.includes(guideId));\n    if (!category) return 'cyan';\n    const colorMap: Record<string, string> = {\n      blue: 'cyan',\n      purple: 'purple',\n      amber: 'amber',\n    };\n    return colorMap[category.color] || 'cyan';\n  };\n\n  const color = getCategoryColor(guide.id);\n\n  const colorClasses = {\n    cyan: 'from-cyan-500/10 to-cyan-600/10 border-cyan-500/20 text-cyan-400',\n    purple: 'from-purple-500/10 to-purple-600/10 border-purple-500/20 text-purple-400',\n    amber: 'from-amber-500/10 to-amber-600/10 border-amber-500/20 text-amber-400',\n  };\n\n  const iconColorClasses = {\n    cyan: 'bg-cyan-500/10 text-cyan-400',\n    purple: 'bg-purple-500/10 text-purple-400',\n    amber: 'bg-amber-500/10 text-amber-400',\n  };\n\n  return (\n    <motion.div\n      onClick={() => onOpen(guide)}\n      className={`bg-gradient-to-br ${colorClasses[color as keyof typeof colorClasses]} border rounded-xl p-5 hover:border-opacity-50 transition-all cursor-pointer group`}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: index * 0.05 }}\n      whileHover={{ y: -2 }}\n    >\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className={`w-10 h-10 ${iconColorClasses[color as keyof typeof iconColorClasses]} rounded-xl flex items-center justify-center`}>\n          {getIconComponent(guide.icon)}\n        </div>\n        <div className=\"flex items-center gap-1 text-neutral-500 text-xs\">\n          <Clock size={12} />\n          <span>{guide.estimatedReadTime} min</span>\n        </div>\n      </div>\n\n      <h3 className=\"font-semibold text-white mb-1 group-hover:text-cyan-300 transition-colors\">\n        {guide.title}\n      </h3>\n\n      {guide.subtitle && (\n        <p className=\"text-xs text-neutral-400 mb-2 italic\">{guide.subtitle}</p>\n      )}\n\n      <p className=\"text-sm text-neutral-400 mb-3 line-clamp-2\">{guide.description}</p>\n\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-1 text-xs text-neutral-500\">\n          <span>{guide.sections.length} sections</span>\n          {guide.productIds && guide.productIds.length > 0 && (\n            <>\n              <span>-</span>\n              <span>{guide.productIds.length} products</span>\n            </>\n          )}\n        </div>\n        <ChevronRight size={16} className=\"text-neutral-600 group-hover:text-cyan-400 transition-colors\" />\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// CATEGORY SECTION\n// ============================================\n\ninterface CategorySectionProps {\n  category: GuideCategory;\n  onOpenGuide: (guide: Guide) => void;\n  gender: 'male' | 'female';\n}\n\nfunction CategorySection({ category, onOpenGuide, gender }: CategorySectionProps) {\n  // Skip gender-specific categories for the opposite gender\n  if (category.id === 'male' && gender === 'female') return null;\n  if (category.id === 'female' && gender === 'male') return null;\n\n  const guides = getGuidesByCategory(category.id);\n\n  if (guides.length === 0) return null;\n\n  const colorClasses: Record<string, string> = {\n    blue: 'text-cyan-400 bg-cyan-500/10',\n    purple: 'text-purple-400 bg-purple-500/10',\n    pink: 'text-pink-400 bg-pink-500/10',\n    cyan: 'text-cyan-400 bg-cyan-500/10',\n    emerald: 'text-emerald-400 bg-emerald-500/10',\n    red: 'text-red-400 bg-red-500/10',\n    amber: 'text-amber-400 bg-amber-500/10',\n  };\n\n  return (\n    <div className=\"mb-8\">\n      <div className=\"flex items-center gap-3 mb-4\">\n        <div className={`w-8 h-8 ${colorClasses[category.color as keyof typeof colorClasses]} rounded-lg flex items-center justify-center`}>\n          {getIconComponent(category.icon)}\n        </div>\n        <div>\n          <h3 className=\"font-semibold text-white\">{category.name}</h3>\n          <p className=\"text-xs text-neutral-500\">{category.description}</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {guides.map((guide, idx) => (\n          <GuideCard key={guide.id} guide={guide} index={idx} onOpen={onOpenGuide} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// SEARCH BAR\n// ============================================\n\ninterface SearchBarProps {\n  query: string;\n  onQueryChange: (query: string) => void;\n}\n\nfunction SearchBar({ query, onQueryChange }: SearchBarProps) {\n  return (\n    <div className=\"relative mb-6\">\n      <Search size={18} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-500\" />\n      <input\n        type=\"text\"\n        placeholder=\"Search guides...\"\n        value={query}\n        onChange={(e) => onQueryChange(e.target.value)}\n        className=\"w-full bg-neutral-900 border border-neutral-800 rounded-xl pl-11 pr-4 py-3 text-white placeholder:text-neutral-500 focus:outline-none focus:border-cyan-500/50 transition-colors\"\n      />\n    </div>\n  );\n}\n\n// ============================================\n// MAIN TAB COMPONENT\n// ============================================\n\nexport function GuidesTab() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedGuide, setSelectedGuide] = useState<Guide | null>(null);\n  const { gender } = useResults();\n\n  // Filter guides by gender (excludes opposite gender's specific guides)\n  const genderFilteredGuides = getGuidesByGender(gender);\n\n  const filteredGuides = searchQuery.trim()\n    ? genderFilteredGuides.filter(g =>\n        g.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        g.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        (g.subtitle && g.subtitle.toLowerCase().includes(searchQuery.toLowerCase())) ||\n        (g.tags && g.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase())))\n      )\n    : null;\n\n  const handleOpenGuide = (guide: Guide) => {\n    setSelectedGuide(guide);\n  };\n\n  const handleCloseGuide = () => {\n    setSelectedGuide(null);\n  };\n\n  return (\n    <>\n      <TabContent\n        title=\"Product Guides\"\n        subtitle=\"Evidence-based guides for optimal results\"\n      >\n        <div className=\"max-w-5xl mx-auto\">\n          <GuideStatsCard />\n\n          <SearchBar query={searchQuery} onQueryChange={setSearchQuery} />\n\n          {filteredGuides ? (\n            // Search Results\n            <div>\n              <p className=\"text-sm text-neutral-400 mb-4\">\n                Found {filteredGuides.length} guide{filteredGuides.length !== 1 ? 's' : ''} matching &ldquo;{searchQuery}&rdquo;\n              </p>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {filteredGuides.map((guide, idx) => (\n                  <GuideCard key={guide.id} guide={guide} index={idx} onOpen={handleOpenGuide} />\n                ))}\n              </div>\n              {filteredGuides.length === 0 && (\n                <div className=\"text-center py-12\">\n                  <div className=\"w-16 h-16 bg-neutral-900 rounded-full flex items-center justify-center mx-auto mb-4\">\n                    <Search size={24} className=\"text-neutral-600\" />\n                  </div>\n                  <p className=\"text-neutral-500\">No guides found matching your search</p>\n                </div>\n              )}\n            </div>\n          ) : (\n            // Category View\n            <div>\n              {GUIDE_CATEGORIES.map(category => (\n                <CategorySection key={category.id} category={category} onOpenGuide={handleOpenGuide} gender={gender} />\n              ))}\n            </div>\n          )}\n        </div>\n      </TabContent>\n\n      {/* Guide Viewer Modal */}\n      <AnimatePresence>\n        {selectedGuide && (\n          <GuideViewer guide={selectedGuide} onClose={handleCloseGuide} />\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n"}}
{"parentUuid":"89e9b2f1-43a0-4538-a7b0-c90de8a0b46e","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_017Ttp72ytedSpmNtfEAjgeV","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me verify the changes compile correctly:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":32574,"cache_read_input_tokens":50373,"cache_creation":{"ephemeral_5m_input_tokens":32574,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CWVwhCSEdcgPV2CCxu4Wh","type":"assistant","uuid":"284474ef-c926-4eef-8480-c2b6d95faccb","timestamp":"2025-12-26T20:39:13.402Z"}
{"parentUuid":"284474ef-c926-4eef-8480-c2b6d95faccb","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_017Ttp72ytedSpmNtfEAjgeV","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01RNcF1W2BQoTuYkWegYA9az","name":"Bash","input":{"command":"npx tsc --noEmit 2>&1 | head -50","description":"Type check the updated GuidesTab"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":32574,"cache_read_input_tokens":50373,"cache_creation":{"ephemeral_5m_input_tokens":32574,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CWVwhCSEdcgPV2CCxu4Wh","type":"assistant","uuid":"9ce77bb0-9632-4f4b-a3f8-465cce6f00d0","timestamp":"2025-12-26T20:39:15.082Z"}
{"parentUuid":"4418af36-6403-4e1e-a6f8-4f30f941d3f6","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01RNcF1W2BQoTuYkWegYA9az","type":"tool_result","content":"","is_error":false}]},"uuid":"930ea539-4059-4180-9796-12ec87585059","timestamp":"2025-12-26T20:39:17.266Z","toolUseResult":{"stdout":"","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"930ea539-4059-4180-9796-12ec87585059","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_01Vbcp89iU1ReFVyJgpAXVYD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0131SNUfWAMWK23obbrbfkcf","name":"Bash","input":{"command":"npx tsc --noEmit 2>&1 | head -50","description":"Type check the updated GuidesTab"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":215,"cache_read_input_tokens":82947,"cache_creation":{"ephemeral_5m_input_tokens":215,"ephemeral_1h_input_tokens":0},"output_tokens":22,"service_tier":"standard"}},"requestId":"req_011CWVwhrq3r1MF99cBDdz5Q","type":"assistant","uuid":"84d49d2c-c319-4c10-bfce-65414897f454","timestamp":"2025-12-26T20:39:22.798Z"}
{"parentUuid":"84d49d2c-c319-4c10-bfce-65414897f454","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0131SNUfWAMWK23obbrbfkcf","type":"tool_result","content":"src/components/results/tabs/ArchetypeTab.tsx(111,57): error TS2322: Type '{ category: ArchetypeCategory; size: number; }' is not assignable to type 'IntrinsicAttributes & { category: ArchetypeCategory; }'.\n  Property 'size' does not exist on type 'IntrinsicAttributes & { category: ArchetypeCategory; }'.\nsrc/components/results/tabs/ArchetypeTab.tsx(184,61): error TS2322: Type '{ category: ArchetypeCategory; size: number; }' is not assignable to type 'IntrinsicAttributes & { category: ArchetypeCategory; }'.\n  Property 'size' does not exist on type 'IntrinsicAttributes & { category: ArchetypeCategory; }'.","is_error":false}]},"uuid":"20db3d73-7d02-4532-ba33-fa684edcfba0","timestamp":"2025-12-26T20:39:24.892Z","toolUseResult":{"stdout":"src/components/results/tabs/ArchetypeTab.tsx(111,57): error TS2322: Type '{ category: ArchetypeCategory; size: number; }' is not assignable to type 'IntrinsicAttributes & { category: ArchetypeCategory; }'.\n  Property 'size' does not exist on type 'IntrinsicAttributes & { category: ArchetypeCategory; }'.\nsrc/components/results/tabs/ArchetypeTab.tsx(184,61): error TS2322: Type '{ category: ArchetypeCategory; size: number; }' is not assignable to type 'IntrinsicAttributes & { category: ArchetypeCategory; }'.\n  Property 'size' does not exist on type 'IntrinsicAttributes & { category: ArchetypeCategory; }'.","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"20db3d73-7d02-4532-ba33-fa684edcfba0","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_01McWA8zW7Pt8dTHtQAQYYAs","type":"message","role":"assistant","content":[{"type":"text","text":"The GuidesTab compiles without errors. The existing errors are in ArchetypeTab.tsx which is unrelated to our changes. Let me run lint to make sure there are no issues:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":303,"cache_read_input_tokens":83162,"cache_creation":{"ephemeral_5m_input_tokens":303,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWVwiRRMqCop5hfaRLzZP","type":"assistant","uuid":"d184aa4d-cd60-402c-8258-1847e782d410","timestamp":"2025-12-26T20:39:28.751Z"}
{"parentUuid":"d184aa4d-cd60-402c-8258-1847e782d410","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_01McWA8zW7Pt8dTHtQAQYYAs","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01PAQrZW16oYrkHQZzC7ySar","name":"Bash","input":{"command":"npm run lint -- --quiet 2>&1 | grep -E \"(GuidesTab|error)\" | head -20","description":"Lint check the updated GuidesTab"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":303,"cache_read_input_tokens":83162,"cache_creation":{"ephemeral_5m_input_tokens":303,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWVwiRRMqCop5hfaRLzZP","type":"assistant","uuid":"52dd1cd1-727f-4f3c-866b-5010305d6ef6","timestamp":"2025-12-26T20:39:30.423Z"}
{"parentUuid":"52dd1cd1-727f-4f3c-866b-5010305d6ef6","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01PAQrZW16oYrkHQZzC7ySar","type":"tool_result","content":"","is_error":false}]},"uuid":"a6e6abc8-1446-41f2-9ad6-42002f353a8a","timestamp":"2025-12-26T20:39:31.959Z","toolUseResult":{"stdout":"","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"a6e6abc8-1446-41f2-9ad6-42002f353a8a","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_016R6E4GALTeaBqSK8qsCiZP","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01M45YLd23QU8kAuuD5jq3bb","name":"Bash","input":{"command":"npm run lint -- --quiet 2>&1 | grep -E \"(GuidesTab|error)\" | head -20","description":"Lint check the updated GuidesTab"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":259,"cache_read_input_tokens":83465,"cache_creation":{"ephemeral_5m_input_tokens":259,"ephemeral_1h_input_tokens":0},"output_tokens":20,"service_tier":"standard"}},"requestId":"req_011CWVwiwR9ggw81MidFvLJL","type":"assistant","uuid":"834664fe-4c34-4360-87c0-7b612f024545","timestamp":"2025-12-26T20:39:36.302Z"}
{"parentUuid":"834664fe-4c34-4360-87c0-7b612f024545","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01M45YLd23QU8kAuuD5jq3bb","type":"tool_result","content":"","is_error":false}]},"uuid":"4bdce711-0230-4b3a-aeee-8d46047b8d58","timestamp":"2025-12-26T20:39:37.911Z","toolUseResult":{"stdout":"","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"4bdce711-0230-4b3a-aeee-8d46047b8d58","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"07eb15f9-1807-445c-a67f-e2b0c9b2588f","version":"2.0.76","gitBranch":"main","agentId":"ade7030","slug":"mellow-inventing-toast","message":{"model":"claude-opus-4-5-20251101","id":"msg_01XmjhTzJjrqMsFUgRNtQDnZ","type":"message","role":"assistant","content":[{"type":"text","text":"No lint errors. The redesign is complete. Here's a summary of the changes made to match the premium FAQ/Sources design style:\n\n## Summary of Design Changes\n\n### Headers & Typography\n- Changed main title to use `text-xl font-black italic uppercase tracking-tight` with cyan accent spans\n- Section headers now use `text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600` with divider lines (`flex-1 h-px bg-neutral-800`)\n- All labels converted to `text-[10px] font-black uppercase tracking-widest`\n- Button text uses `font-black uppercase tracking-wider`\n\n### Cards & Containers\n- Guide cards: `rounded-2xl bg-neutral-900/40 border border-white/5 hover:border-{color}-500/20`\n- Stats card: `rounded-[2rem] bg-neutral-900/40 border border-white/5`\n- Inner containers: `rounded-xl bg-neutral-900/50 border border-white/5`\n\n### Badges\n- Time badges: `px-2 py-1 rounded-lg bg-neutral-900/50 border border-white/5` with uppercase text\n- Guide badge in viewer: `rounded-lg bg-cyan-500/10 border border-cyan-500/20` with uppercase tracking\n\n### Icons\n- Icon boxes: `w-10 h-10 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center`\n- Larger icon box: `w-12 h-12 rounded-xl bg-neutral-900 border border-white/10`\n\n### Buttons\n- Navigation buttons: `rounded-xl bg-neutral-900/50 border border-white/5 hover:border-white/10`\n- CTA button: `rounded-xl bg-cyan-500 hover:bg-cyan-400 font-black uppercase tracking-wider`\n- Forum button: `rounded-xl bg-neutral-900/50 border border-white/5 hover:border-purple-500/30`\n\n### Visual Patterns\n- All text content uses UPPERCASE with appropriate tracking\n- Subtle borders with `white/5` opacity throughout\n- Hover states transition to colored borders (`hover:border-cyan-500/20`)\n- Category sections have divider lines matching FAQ/Sources pattern\n- Search input placeholder is uppercase with wide tracking"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":129,"cache_read_input_tokens":83724,"cache_creation":{"ephemeral_5m_input_tokens":129,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWVwjNwK4BG5LKqu2jEXp","type":"assistant","uuid":"00857161-f7f5-4f78-915e-0ce0ae814831","timestamp":"2025-12-26T20:39:52.337Z"}
