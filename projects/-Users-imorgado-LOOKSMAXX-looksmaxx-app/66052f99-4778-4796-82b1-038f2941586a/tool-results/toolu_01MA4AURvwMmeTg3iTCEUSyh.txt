     1→'use client';
     2→
     3→import { useEffect, useState } from 'react';
     4→import { ResultsProvider } from '@/contexts/ResultsContext';
     5→import { Results } from '@/components/results/Results';
     6→import { LandmarkPoint, FRONT_PROFILE_LANDMARKS, SIDE_PROFILE_LANDMARKS } from '@/lib/landmarks';
     7→import { Ethnicity, Gender } from '@/lib/harmony-scoring';
     8→
     9→// Note: Metadata cannot be exported from client components
    10→// The page title is set in the root layout
    11→
    12→// Demo data for testing - in production this would come from the analysis flow
    13→const generateDemoLandmarks = (baseLandmarks: LandmarkPoint[]): LandmarkPoint[] => {
    14→  return baseLandmarks.map(landmark => ({
    15→    ...landmark,
    16→    // Add slight randomization to simulate real placement
    17→    x: landmark.x + (Math.random() - 0.5) * 0.02,
    18→    y: landmark.y + (Math.random() - 0.5) * 0.02,
    19→  }));
    20→};
    21→
    22→// Placeholder image as data URI (1x1 transparent pixel - actual images come from analysis)
    23→const PLACEHOLDER_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';
    24→
    25→// Generate demo data outside component to avoid closure issues
    26→const createDemoData = () => ({
    27→  frontLandmarks: generateDemoLandmarks(FRONT_PROFILE_LANDMARKS),
    28→  sideLandmarks: generateDemoLandmarks(SIDE_PROFILE_LANDMARKS),
    29→  frontPhoto: PLACEHOLDER_IMAGE,
    30→  sidePhoto: PLACEHOLDER_IMAGE,
    31→  gender: 'male' as Gender,
    32→  ethnicity: 'white' as Ethnicity,
    33→});
    34→
    35→export default function ResultsPage() {
    36→  const [mounted, setMounted] = useState(false);
    37→  const [initialData, setInitialData] = useState<{
    38→    frontLandmarks: LandmarkPoint[];
    39→    sideLandmarks: LandmarkPoint[];
    40→    frontPhoto: string;
    41→    sidePhoto?: string;
    42→    gender: Gender;
    43→    ethnicity?: Ethnicity;
    44→  } | null>(null);
    45→
    46→  useEffect(() => {
    47→    // Mark as mounted (client-side only)
    48→    setMounted(true);
    49→
    50→    try {
    51→      // Try to get data from sessionStorage (set by analysis page)
    52→      const storedData = typeof window !== 'undefined'
    53→        ? sessionStorage.getItem('analysisResults')
    54→        : null;
    55→
    56→      if (storedData) {
    57→        const parsed = JSON.parse(storedData);
    58→        setInitialData(parsed);
    59→      } else {
    60→        // No stored data - use demo data
    61→        setInitialData(createDemoData());
    62→      }
    63→    } catch (e) {
    64→      console.error('Failed to load analysis results:', e);
    65→      // Use demo data as fallback
    66→      setInitialData(createDemoData());
    67→    }
    68→  }, []);
    69→
    70→  // Show loading state until mounted and data is ready
    71→  if (!mounted || !initialData) {
    72→    return (
    73→      <div className="min-h-screen bg-black flex items-center justify-center">
    74→        <div className="text-center">
    75→          <div className="w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4" />
    76→          <p className="text-neutral-400">Loading your analysis...</p>
    77→        </div>
    78→      </div>
    79→    );
    80→  }
    81→
    82→  return (
    83→    <ResultsProvider initialData={initialData}>
    84→      <Results />
    85→    </ResultsProvider>
    86→  );
    87→}
    88→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
