The file /Users/imorgado/LOOKSMAXX/looksmaxx-app/src/app/upload/page.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
     1→'use client';
     2→
     3→import { useState, useCallback } from 'react';
     4→import { useRouter } from 'next/navigation';
     5→import Image from 'next/image';
     6→import { useDropzone } from 'react-dropzone';
     7→import { Upload, X, Image as ImageIcon, ArrowRight, ArrowLeft, User, UserCircle, Check } from 'lucide-react';
     8→import { useUpload } from '@/contexts/UploadContext';
     9→
    10→type UploadStep = 'front' | 'side';
    11→
    12→export default function UploadPage() {
    13→  const router = useRouter();
    14→  const { frontPhoto, sidePhoto, setFrontPhoto, setSidePhoto } = useUpload();
    15→  const [currentStep, setCurrentStep] = useState<UploadStep>('front');
    16→
    17→  const currentPhoto = currentStep === 'front' ? frontPhoto : sidePhoto;
    18→  const setCurrentPhoto = currentStep === 'front' ? setFrontPhoto : setSidePhoto;
    19→
    20→  const onDrop = useCallback((acceptedFiles: File[]) => {
    21→    const selectedFile = acceptedFiles[0];
    22→    if (selectedFile) {
    23→      const objectUrl = URL.createObjectURL(selectedFile);
    24→      setCurrentPhoto({ file: selectedFile, preview: objectUrl });
    25→    }
    26→  }, [setCurrentPhoto]);
    27→
    28→  const { getRootProps, getInputProps, isDragActive } = useDropzone({
    29→    onDrop,
    30→    accept: {
    31→      'image/*': ['.jpeg', '.jpg', '.png', '.webp']
    32→    },
    33→    maxFiles: 1,
    34→    multiple: false
    35→  });
    36→
    37→  const removeImage = () => {
    38→    if (currentPhoto?.preview) {
    39→      URL.revokeObjectURL(currentPhoto.preview);
    40→    }
    41→    setCurrentPhoto(null);
    42→  };
    43→
    44→  const handleNext = () => {
    45→    if (currentStep === 'front' && frontPhoto) {
    46→      setCurrentStep('side');
    47→    } else if (currentStep === 'side' && sidePhoto) {
    48→      router.push('/analysis');
    49→    }
    50→  };
    51→
    52→  const handleBack = () => {
    53→    if (currentStep === 'side') {
    54→      setCurrentStep('front');
    55→    } else {
    56→      router.push('/ethnicity');
    57→    }
    58→  };
    59→
    60→  const stepConfig = {
    61→    front: {
    62→      title: 'Upload Front-Facing Photo',
    63→      subtitle: 'Upload a clear, front-facing photo looking straight at the camera',
    64→      icon: User,
    65→    },
    66→    side: {
    67→      title: 'Upload Side Profile Photo',
    68→      subtitle: 'Upload a clear side profile photo showing your facial structure',
    69→      icon: UserCircle,
    70→    },
    71→  };
    72→
    73→  const config = stepConfig[currentStep];
    74→  const StepIcon = config.icon;
    75→
    76→  return (
    77→    <main className="min-h-screen bg-white flex flex-col items-center justify-center px-4 py-12">
    78→      {/* Back button */}
    79→      <div className="absolute top-6 left-6">
    80→        <button
    81→          onClick={handleBack}
    82→          className="text-sm text-gray-500 hover:text-gray-900 transition-colors flex items-center gap-1"
    83→        >
    84→          <ArrowLeft className="w-4 h-4" />
    85→          Back
    86→        </button>
    87→      </div>
    88→
    89→      {/* Progress Steps */}
    90→      <div className="flex items-center gap-4 mb-8">
    91→        {/* Step 1 */}
    92→        <div className="flex items-center gap-2">
    93→          <div className={`
    94→            w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold
    95→            transition-all duration-200
    96→            ${currentStep === 'front' || frontPhoto
    97→              ? 'bg-gray-900 text-white'
    98→              : 'bg-gray-100 text-gray-400'
    99→            }
   100→          `}>
   101→            {frontPhoto ? <Check className="w-4 h-4" /> : '1'}
   102→          </div>
   103→          <span className={`text-sm hidden sm:block ${currentStep === 'front' ? 'text-gray-900 font-medium' : 'text-gray-500'}`}>
   104→            Front Photo
   105→          </span>
   106→        </div>
   107→
   108→        {/* Connector */}
   109→        <div className={`w-12 h-0.5 ${frontPhoto ? 'bg-gray-900' : 'bg-gray-200'} transition-colors duration-200`} />
   110→
   111→        {/* Step 2 */}
   112→        <div className="flex items-center gap-2">
   113→          <div className={`
   114→            w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold
   115→            transition-all duration-200
   116→            ${currentStep === 'side'
   117→              ? 'bg-gray-900 text-white'
   118→              : sidePhoto
   119→                ? 'bg-gray-900 text-white'
   120→                : 'bg-gray-100 text-gray-400'
   121→            }
   122→          `}>
   123→            {sidePhoto ? <Check className="w-4 h-4" /> : '2'}
   124→          </div>
   125→          <span className={`text-sm hidden sm:block ${currentStep === 'side' ? 'text-gray-900 font-medium' : 'text-gray-500'}`}>
   126→            Side Profile
   127→          </span>
   128→        </div>
   129→      </div>
   130→
   131→      {/* Header */}
   132→      <div className="text-center mb-8">
   133→        <div className="flex items-center justify-center gap-3 mb-3">
   134→          <StepIcon className="w-6 h-6 text-gray-900" />
   135→          <h1 className="text-2xl md:text-3xl font-semibold tracking-tight text-gray-900">
   136→            {config.title}
   137→          </h1>
   138→        </div>
   139→        <p className="text-gray-600 text-sm md:text-base max-w-md mx-auto">
   140→          {config.subtitle}
   141→        </p>
   142→      </div>
   143→
   144→      {/* Upload Container */}
   145→      <div className="w-full max-w-xl">
   146→        {!currentPhoto ? (
   147→          /* Dropzone */}
   148→          <div
   149→            {...getRootProps()}
   150→            className={`
   151→              relative w-full aspect-[4/3] rounded-xl border-2 border-dashed
   152→              flex flex-col items-center justify-center gap-4
   153→              cursor-pointer transition-all duration-200
   154→              ${isDragActive
   155→                ? 'border-gray-900 bg-gray-50'
   156→                : 'border-gray-300 bg-gray-50 hover:border-gray-400 hover:bg-gray-100'
   157→              }
   158→            `}
   159→          >
   160→            <input {...getInputProps()} />
   161→
   162→            {/* Upload Icon */}
   163→            <div className={`
   164→              p-5 rounded-full transition-colors duration-200
   165→              ${isDragActive ? 'bg-gray-200' : 'bg-gray-100'}
   166→            `}>
   167→              <Upload className={`
   168→                w-10 h-10 transition-colors duration-200
   169→                ${isDragActive ? 'text-gray-900' : 'text-gray-400'}
   170→              `} />
   171→            </div>
   172→
   173→            {/* Text */}
   174→            <div className="text-center px-4">
   175→              <p className={`
   176→                text-base font-medium transition-colors duration-200
   177→                ${isDragActive ? 'text-gray-900' : 'text-gray-700'}
   178→              `}>
   179→                {isDragActive ? 'Drop your image here' : 'Drag & drop your image here'}
   180→              </p>
   181→              <p className="text-gray-500 mt-1.5 text-sm">
   182→                or <span className="text-gray-700 underline underline-offset-2">browse</span> to upload
   183→              </p>
   184→            </div>
   185→
   186→            {/* Supported formats */}
   187→            <div className="flex items-center gap-2 text-xs text-gray-400 mt-2">
   188→              <ImageIcon className="w-4 h-4" />
   189→              <span>JPG, PNG, WEBP supported</span>
   190→            </div>
   191→
   192→            {/* Photo guide hint */}
   193→            <div className="absolute bottom-4 left-4 right-4 text-center">
   194→              <p className="text-xs text-gray-400">
   195→                {currentStep === 'front'
   196→                  ? 'Tip: Face the camera directly with neutral expression'
   197→                  : 'Tip: Turn 90° to show your side profile clearly'
   198→                }
   199→              </p>
   200→            </div>
   201→          </div>
   202→        ) : (
   203→          /* Preview */
   204→          <div className="relative w-full aspect-[4/3] rounded-xl overflow-hidden bg-gray-100 border border-gray-200">
   205→            {/* Image */}
   206→            <Image
   207→              src={currentPhoto.preview}
   208→              alt={`${currentStep} preview`}
   209→              fill
   210→              className="object-contain"
   211→              unoptimized
   212→            />
   213→
   214→            {/* Photo type badge */}
   215→            <div className="absolute top-4 left-4 px-3 py-1.5 rounded-full bg-white/90 border border-gray-200 z-10">
   216→              <span className="text-gray-700 text-sm font-medium flex items-center gap-2">
   217→                <StepIcon className="w-4 h-4" />
   218→                {currentStep === 'front' ? 'Front Photo' : 'Side Profile'}
   219→              </span>
   220→            </div>
   221→
   222→            {/* Remove button */}
   223→            <button
   224→              onClick={removeImage}
   225→              className="
   226→                absolute top-4 right-4 p-2 rounded-full
   227→                bg-white/90 border border-gray-200
   228→                text-gray-600 hover:text-gray-900 hover:border-gray-300
   229→                transition-all duration-200 z-10
   230→              "
   231→            >
   232→              <X className="w-5 h-5" />
   233→            </button>
   234→
   235→            {/* File info */}
   236→            <div className="absolute bottom-4 left-4 right-4 px-4 py-3 rounded-lg bg-white/90 border border-gray-200 z-10">
   237→              <p className="text-gray-900 font-medium truncate text-sm">{currentPhoto.file.name}</p>
   238→              <p className="text-gray-500 text-xs mt-0.5">
   239→                {(currentPhoto.file.size / 1024 / 1024).toFixed(2)} MB
   240→              </p>
   241→            </div>
   242→          </div>
   243→        )}
   244→      </div>
   245→
   246→      {/* Navigation Buttons */}
   247→      <div className="flex items-center gap-4 mt-8">
   248→        {/* Back Button */}
   249→        <button
   250→          onClick={handleBack}
   251→          className="h-12 px-6 rounded-xl font-medium flex items-center gap-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200"
   252→        >
   253→          <ArrowLeft className="w-4 h-4" />
   254→          Back
   255→        </button>
   256→
   257→        {/* Next Button */}
   258→        <button
   259→          onClick={handleNext}
   260→          disabled={!currentPhoto}
   261→          className={`
   262→            h-12 px-8 rounded-xl font-medium text-base
   263→            flex items-center gap-2
   264→            transition-all duration-200
   265→            ${currentPhoto
   266→              ? 'bg-gray-900 text-white hover:bg-gray-800 cursor-pointer shadow-sm'
   267→              : 'bg-gray-100 text-gray-400 cursor-not-allowed'
   268→            }
   269→          `}
   270→        >
   271→          {currentStep === 'front' ? 'Next: Side Profile' : 'Start Analysis'}
   272→          <ArrowRight className="w-4 h-4" />
   273→        </button>
   274→      </div>
   275→
   276→      {/* Thumbnails for both photos when on step 2 */}
   277→      {currentStep === 'side' && frontPhoto && (
   278→        <div className="mt-8 flex items-center gap-4">
   279→          <span className="text-gray-500 text-sm">Uploaded:</span>
   280→          <button
   281→            className="relative w-16 h-16 rounded-lg overflow-hidden border-2 border-gray-900 cursor-pointer hover:opacity-90 transition-opacity"
   282→            onClick={() => setCurrentStep('front')}
   283→          >
   284→            <Image
   285→              src={frontPhoto.preview}
   286→              alt="Front photo thumbnail"
   287→              fill
   288→              className="object-cover"
   289→              unoptimized
   290→            />
   291→            <div className="absolute inset-0 bg-black/30 flex items-center justify-center">
   292→              <User className="w-5 h-5 text-white" />
   293→            </div>
   294→          </button>
   295→          {sidePhoto && (
   296→            <div className="relative w-16 h-16 rounded-lg overflow-hidden border-2 border-gray-900">
   297→              <Image
   298→                src={sidePhoto.preview}
   299→                alt="Side photo thumbnail"
   300→                fill
   301→                className="object-cover"
   302→                unoptimized
   303→              />
   304→              <div className="absolute inset-0 bg-black/30 flex items-center justify-center">
   305→                <UserCircle className="w-5 h-5 text-white" />
   306→              </div>
   307→            </div>
   308→          )}
   309→        </div>
   310→      )}
   311→    </main>
   312→  );
   313→}
   314→