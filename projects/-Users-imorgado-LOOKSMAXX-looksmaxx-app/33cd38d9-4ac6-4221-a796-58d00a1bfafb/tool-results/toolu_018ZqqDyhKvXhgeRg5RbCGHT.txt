The file /Users/imorgado/LOOKSMAXX/looksmaxx-app/src/app/analysis/page.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
     1→'use client';
     2→
     3→import { useState } from 'react';
     4→import { useRouter } from 'next/navigation';
     5→import { ArrowLeft, User, UserCircle, Check, BarChart3 } from 'lucide-react';
     6→import { useUpload } from '@/contexts/UploadContext';
     7→import { useGender } from '@/contexts/GenderContext';
     8→import { FrontProfileLandmarks } from '@/components/FrontProfileLandmarks';
     9→import { SideProfileManualTool } from '@/components/SideProfileManualTool';
    10→import { ResultsDashboard } from '@/components/ResultsDashboard';
    11→import { LandmarkPoint } from '@/lib/landmarks';
    12→
    13→type AnalysisStep = 'front' | 'side' | 'results';
    14→
    15→export default function AnalysisPage() {
    16→  const router = useRouter();
    17→  const { frontPhoto, sidePhoto } = useUpload();
    18→  const { gender } = useGender();
    19→  const [currentStep, setCurrentStep] = useState<AnalysisStep>('front');
    20→  const [frontLandmarks, setFrontLandmarks] = useState<LandmarkPoint[]>([]);
    21→  const [sideLandmarks, setSideLandmarks] = useState<LandmarkPoint[]>([]);
    22→
    23→  // Redirect if no photos uploaded
    24→  if (!frontPhoto && !sidePhoto) {
    25→    return (
    26→      <main className="min-h-screen bg-white flex flex-col items-center justify-center px-4">
    27→        <div className="text-center">
    28→          <h1 className="text-2xl font-semibold text-gray-900 mb-4">No Photos Found</h1>
    29→          <p className="text-gray-600 mb-8">
    30→            Please upload your photos first to begin the analysis.
    31→          </p>
    32→          <button
    33→            onClick={() => router.push('/upload')}
    34→            className="h-12 px-8 rounded-xl bg-gray-900 text-white font-medium hover:bg-gray-800 transition-colors"
    35→          >
    36→            Go to Upload
    37→          </button>
    38→        </div>
    39→      </main>
    40→    );
    41→  }
    42→
    43→  const handleFrontComplete = (landmarks: LandmarkPoint[]) => {
    44→    setFrontLandmarks(landmarks);
    45→    if (sidePhoto) {
    46→      setCurrentStep('side');
    47→    } else {
    48→      setCurrentStep('results');
    49→    }
    50→  };
    51→
    52→  const handleSideComplete = (landmarks: LandmarkPoint[]) => {
    53→    setSideLandmarks(landmarks);
    54→    setCurrentStep('results');
    55→  };
    56→
    57→  const handleBack = () => {
    58→    if (currentStep === 'side') {
    59→      setCurrentStep('front');
    60→    } else if (currentStep === 'results') {
    61→      setCurrentStep(sidePhoto ? 'side' : 'front');
    62→    } else {
    63→      router.push('/upload');
    64→    }
    65→  };
    66→
    67→  const stepConfig = {
    68→    front: {
    69→      title: 'Front Profile',
    70→      icon: User,
    71→    },
    72→    side: {
    73→      title: 'Side Profile',
    74→      icon: UserCircle,
    75→    },
    76→    results: {
    77→      title: 'Results',
    78→      icon: BarChart3,
    79→    },
    80→  };
    81→
    82→  const config = stepConfig[currentStep];
    83→
    84→  return (
    85→    <main className="min-h-screen bg-white flex flex-col items-center px-4 py-8">
    86→      {/* Header */}
    87→      <div className="w-full max-w-5xl mb-6">
    88→        <div className="flex items-center justify-between">
    89→          <button
    90→            onClick={handleBack}
    91→            className="flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors text-sm"
    92→          >
    93→            <ArrowLeft className="w-4 h-4" />
    94→            Back
    95→          </button>
    96→
    97→          {/* Step Indicators */}
    98→          <div className="flex items-center gap-3">
    99→            {/* Front Step */}
   100→            <div className="flex items-center gap-2">
   101→              <div
   102→                className={`
   103→                  w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold
   104→                  transition-all duration-200
   105→                  ${
   106→                    currentStep === 'front'
   107→                      ? 'bg-gray-900 text-white'
   108→                      : frontLandmarks.length > 0
   109→                        ? 'bg-green-500 text-white'
   110→                        : 'bg-gray-100 text-gray-400'
   111→                  }
   112→                `}
   113→              >
   114→                {frontLandmarks.length > 0 && currentStep !== 'front' ? (
   115→                  <Check className="w-4 h-4" />
   116→                ) : (
   117→                  '1'
   118→                )}
   119→              </div>
   120→              <span
   121→                className={`text-sm hidden sm:block ${
   122→                  currentStep === 'front' ? 'text-gray-900 font-medium' : 'text-gray-500'
   123→                }`}
   124→              >
   125→                Front
   126→              </span>
   127→            </div>
   128→
   129→            {/* Connector */}
   130→            <div
   131→              className={`w-8 h-0.5 ${
   132→                frontLandmarks.length > 0 ? 'bg-gray-900' : 'bg-gray-200'
   133→              } transition-colors duration-200`}
   134→            />
   135→
   136→            {/* Side Step */}
   137→            {sidePhoto && (
   138→              <>
   139→                <div className="flex items-center gap-2">
   140→                  <div
   141→                    className={`
   142→                      w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold
   143→                      transition-all duration-200
   144→                      ${
   145→                        currentStep === 'side'
   146→                          ? 'bg-gray-900 text-white'
   147→                          : sideLandmarks.length > 0
   148→                            ? 'bg-green-500 text-white'
   149→                            : 'bg-gray-100 text-gray-400'
   150→                      }
   151→                    `}
   152→                  >
   153→                    {sideLandmarks.length > 0 && currentStep !== 'side' ? (
   154→                      <Check className="w-4 h-4" />
   155→                    ) : (
   156→                      '2'
   157→                    )}
   158→                  </div>
   159→                  <span
   160→                    className={`text-sm hidden sm:block ${
   161→                      currentStep === 'side' ? 'text-gray-900 font-medium' : 'text-gray-500'
   162→                    }`}
   163→                  >
   164→                    Side
   165→                  </span>
   166→                </div>
   167→
   168→                {/* Connector */}
   169→                <div
   170→                  className={`w-8 h-0.5 ${
   171→                    sideLandmarks.length > 0 ? 'bg-gray-900' : 'bg-gray-200'
   172→                  } transition-colors duration-200`}
   173→                />
   174→              </>
   175→            )}
   176→
   177→            {/* Results Step */}
   178→            <div className="flex items-center gap-2">
   179→              <div
   180→                className={`
   181→                  w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold
   182→                  transition-all duration-200
   183→                  ${
   184→                    currentStep === 'results'
   185→                      ? 'bg-gray-900 text-white'
   186→                      : 'bg-gray-100 text-gray-400'
   187→                  }
   188→                `}
   189→              >
   190→                {sidePhoto ? '3' : '2'}
   191→              </div>
   192→              <span
   193→                className={`text-sm hidden sm:block ${
   194→                  currentStep === 'results' ? 'text-gray-900 font-medium' : 'text-gray-500'
   195→                }`}
   196→              >
   197→                Results
   198→              </span>
   199→            </div>
   200→          </div>
   201→
   202→          {/* Current step badge */}
   203→          <div className="px-3 py-1.5 rounded-full bg-gray-100 border border-gray-200">
   204→            <span className="text-gray-700 text-sm font-medium flex items-center gap-2">
   205→              <config.icon className="w-4 h-4" />
   206→              {config.title}
   207→            </span>
   208→          </div>
   209→        </div>
   210→      </div>
   211→
   212→      {/* Main Content */}
   213→      {currentStep === 'front' && frontPhoto && (
   214→        <div className="w-full">
   215→          <FrontProfileLandmarks
   216→            imageUrl={frontPhoto.preview}
   217→            onLandmarksChange={setFrontLandmarks}
   218→            onComplete={handleFrontComplete}
   219→          />
   220→        </div>
   221→      )}
   222→
   223→      {currentStep === 'side' && sidePhoto && (
   224→        <div className="w-full">
   225→          <SideProfileManualTool
   226→            imageUrl={sidePhoto.preview}
   227→            onLandmarksChange={setSideLandmarks}
   228→            onComplete={handleSideComplete}
   229→          />
   230→        </div>
   231→      )}
   232→
   233→      {currentStep === 'results' && (
   234→        <div className="w-full max-w-5xl">
   235→          <ResultsDashboard
   236→            frontLandmarks={frontLandmarks}
   237→            sideLandmarks={sideLandmarks}
   238→            gender={gender || 'male'}
   239→          />
   240→        </div>
   241→      )}
   242→    </main>
   243→  );
   244→}
   245→