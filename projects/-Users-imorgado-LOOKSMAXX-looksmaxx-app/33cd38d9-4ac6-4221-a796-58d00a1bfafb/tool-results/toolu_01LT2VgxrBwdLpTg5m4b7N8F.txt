     1→'use client';
     2→
     3→import { useRouter } from 'next/navigation';
     4→import { motion } from 'framer-motion';
     5→import { ArrowLeft, ArrowRight, Check, Globe } from 'lucide-react';
     6→import { useEthnicity, EthnicityOption, ethnicityLabels } from '@/contexts/EthnicityContext';
     7→
     8→const ethnicityOptions: EthnicityOption[] = [
     9→  'white',
    10→  'black',
    11→  'asian',
    12→  'south-asian',
    13→  'hispanic',
    14→  'middle-eastern',
    15→  'pacific-islander',
    16→  'native-american',
    17→  'mixed',
    18→];
    19→
    20→export default function EthnicityPage() {
    21→  const router = useRouter();
    22→  const { ethnicities, toggleEthnicity } = useEthnicity();
    23→
    24→  const handleToggle = (option: EthnicityOption) => {
    25→    toggleEthnicity(option);
    26→  };
    27→
    28→  const handleContinue = () => {
    29→    if (ethnicities.length > 0) {
    30→      router.push('/upload');
    31→    }
    32→  };
    33→
    34→  const handleBack = () => {
    35→    router.push('/gender');
    36→  };
    37→
    38→  const containerVariants = {
    39→    hidden: { opacity: 0 },
    40→    visible: {
    41→      opacity: 1,
    42→      transition: {
    43→        staggerChildren: 0.05,
    44→      },
    45→    },
    46→  };
    47→
    48→  const itemVariants = {
    49→    hidden: { opacity: 0, y: 20 },
    50→    visible: { opacity: 1, y: 0 },
    51→  };
    52→
    53→  return (
    54→    <main className="min-h-screen bg-black flex flex-col items-center justify-center px-4 py-12">
    55→      {/* Header */}
    56→      <motion.div
    57→        initial={{ opacity: 0, y: -20 }}
    58→        animate={{ opacity: 1, y: 0 }}
    59→        transition={{ duration: 0.5 }}
    60→        className="text-center mb-10"
    61→      >
    62→        <div className="flex items-center justify-center gap-3 mb-4">
    63→          <Globe className="w-8 h-8 text-accent" />
    64→          <h1 className="text-4xl md:text-5xl font-bold text-white">
    65→            Select Your Ethnicity
    66→          </h1>
    67→        </div>
    68→        <p className="text-foreground-dim text-lg max-w-md mx-auto">
    69→          Select all that apply - this helps us provide more accurate analysis
    70→        </p>
    71→      </motion.div>
    72→
    73→      {/* Ethnicity Options */}
    74→      <motion.div
    75→        variants={containerVariants}
    76→        initial="hidden"
    77→        animate="visible"
    78→        className="w-full max-w-md space-y-3 mb-10"
    79→      >
    80→        {ethnicityOptions.map((option) => {
    81→          const isSelected = ethnicities.includes(option);
    82→          return (
    83→            <motion.button
    84→              key={option}
    85→              variants={itemVariants}
    86→              whileHover={{ scale: 1.02 }}
    87→              whileTap={{ scale: 0.98 }}
    88→              onClick={() => handleToggle(option)}
    89→              className={`
    90→                w-full h-14 rounded-xl border-2
    91→                flex items-center justify-between px-5
    92→                transition-all duration-300 cursor-pointer
    93→                ${isSelected
    94→                  ? 'border-accent bg-accent/10 shadow-[0_0_20px_rgba(0,243,255,0.3)]'
    95→                  : 'border-border bg-background-secondary hover:border-border-light hover:bg-background-tertiary'
    96→                }
    97→              `}
    98→            >
    99→              <span className={`
   100→                font-medium transition-colors duration-300
   101→                ${isSelected ? 'text-accent' : 'text-white'}
   102→              `}>
   103→                {ethnicityLabels[option]}
   104→              </span>
   105→
   106→              {/* Checkbox indicator */}
   107→              <div className={`
   108→                w-6 h-6 rounded-md border-2 flex items-center justify-center
   109→                transition-all duration-300
   110→                ${isSelected
   111→                  ? 'bg-accent border-accent'
   112→                  : 'bg-transparent border-border-light'
   113→                }
   114→              `}>
   115→                {isSelected && (
   116→                  <motion.div
   117→                    initial={{ scale: 0 }}
   118→                    animate={{ scale: 1 }}
   119→                  >
   120→                    <Check className="w-4 h-4 text-black" strokeWidth={3} />
   121→                  </motion.div>
   122→                )}
   123→              </div>
   124→            </motion.button>
   125→          );
   126→        })}
   127→      </motion.div>
   128→
   129→      {/* Navigation Buttons */}
   130→      <div className="flex items-center gap-4">
   131→        {/* Back Button */}
   132→        <motion.button
   133→          initial={{ opacity: 0, x: -20 }}
   134→          animate={{ opacity: 1, x: 0 }}
   135→          transition={{ duration: 0.3, delay: 0.3 }}
   136→          onClick={handleBack}
   137→          className="
   138→            px-6 py-4 rounded-lg font-semibold
   139→            flex items-center gap-2
   140→            bg-background-tertiary text-foreground-dim
   141→            hover:text-white hover:border-accent/50
   142→            border border-border
   143→            transition-all duration-300
   144→          "
   145→        >
   146→          <ArrowLeft className="w-5 h-5" />
   147→          Back
   148→        </motion.button>
   149→
   150→        {/* Continue Button */}
   151→        <motion.button
   152→          initial={{ opacity: 0, x: 20 }}
   153→          animate={{ opacity: 1, x: 0 }}
   154→          transition={{ duration: 0.3, delay: 0.3 }}
   155→          onClick={handleContinue}
   156→          disabled={ethnicities.length === 0}
   157→          className={`
   158→            px-10 py-4 rounded-lg font-semibold text-lg
   159→            flex items-center gap-3
   160→            transition-all duration-300
   161→            ${ethnicities.length > 0
   162→              ? 'bg-accent text-black hover:bg-accent-hover hover:shadow-[0_0_30px_rgba(0,243,255,0.5)] cursor-pointer'
   163→              : 'bg-background-tertiary text-foreground-dim cursor-not-allowed'
   164→            }
   165→          `}
   166→        >
   167→          Continue
   168→          <ArrowRight className="w-5 h-5" />
   169→        </motion.button>
   170→      </div>
   171→    </main>
   172→  );
   173→}
   174→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
