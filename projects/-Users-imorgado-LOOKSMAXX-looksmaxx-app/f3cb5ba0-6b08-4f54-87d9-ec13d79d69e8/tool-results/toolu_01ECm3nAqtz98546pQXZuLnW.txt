     1→FROM python:3.11-bookworm
     2→
     3→# Set working directory
     4→WORKDIR /app
     5→
     6→# Install system dependencies for OpenCV and InsightFace
     7→RUN apt-get update && apt-get install -y \
     8→    build-essential \
     9→    cmake \
    10→    libgl1 \
    11→    libglib2.0-0 \
    12→    libsm6 \
    13→    libxext6 \
    14→    libxrender-dev \
    15→    libgomp1 \
    16→    libopenblas-dev \
    17→    && rm -rf /var/lib/apt/lists/*
    18→
    19→# Copy requirements first for better caching
    20→COPY requirements.txt .
    21→
    22→# Install Python dependencies
    23→RUN pip install --no-cache-dir -r requirements.txt
    24→
    25→# Verify core packages including onnxruntime and insightface
    26→RUN python3 -c "import cv2; print(f'OpenCV: {cv2.__version__}')" && \
    27→    python3 -c "import numpy; print(f'NumPy: {numpy.__version__}')" && \
    28→    python3 -c "import onnxruntime; print(f'ONNX Runtime: {onnxruntime.__version__}')" && \
    29→    python3 -c "import insightface; print(f'InsightFace: {insightface.__version__}')"
    30→
    31→# Copy application code
    32→COPY . .
    33→
    34→# Copy and prepare start script
    35→COPY start.sh /start.sh
    36→RUN chmod +x /start.sh
    37→
    38→# Expose port (Railway provides PORT env var)
    39→EXPOSE 8000
    40→
    41→# Run the application
    42→CMD ["/start.sh"]
    43→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
