     1→FROM python:3.11-slim
     2→
     3→# Set working directory
     4→WORKDIR /app
     5→
     6→# Install system dependencies for OpenCV and InsightFace
     7→RUN apt-get update && apt-get install -y \
     8→    build-essential \
     9→    libgl1 \
    10→    libglib2.0-0 \
    11→    libsm6 \
    12→    libxext6 \
    13→    libxrender-dev \
    14→    libgomp1 \
    15→    && rm -rf /var/lib/apt/lists/*
    16→
    17→# Copy requirements first for better caching
    18→COPY requirements.txt .
    19→
    20→# Install Python dependencies
    21→RUN pip install --no-cache-dir -r requirements.txt
    22→
    23→# Verify core packages
    24→RUN python3 -c "import cv2; print(f'OpenCV: {cv2.__version__}')" && \
    25→    python3 -c "import numpy; print(f'NumPy: {numpy.__version__}')"
    26→
    27→# Copy application code
    28→COPY . .
    29→
    30→# Copy and prepare start script
    31→COPY start.sh /start.sh
    32→RUN chmod +x /start.sh
    33→
    34→# Expose port (Railway provides PORT env var)
    35→EXPOSE 8000
    36→
    37→# Run the application
    38→CMD ["/start.sh"]
    39→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
