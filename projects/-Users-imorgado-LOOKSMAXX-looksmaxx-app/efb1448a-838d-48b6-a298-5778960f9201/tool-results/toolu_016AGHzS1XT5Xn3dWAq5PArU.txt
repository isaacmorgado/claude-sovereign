     1→(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,475254,e=>{"use strict";var t=e.i(271645);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:n="",children:o,iconNode:d,...c},m)=>(0,t.createElement)("svg",{ref:m,...a,width:s,height:s,stroke:e,strokeWidth:l?24*Number(i)/Number(s):i,className:r("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(o)?o:[o]])),l=(e,a)=>{let l=(0,t.forwardRef)(({className:l,...n},o)=>(0,t.createElement)(i,{ref:o,iconNode:a,className:r(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...n}));return l.displayName=s(e),l};e.s(["default",()=>l],475254)},37727,e=>{"use strict";let t=(0,e.i(475254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},618566,(e,t,s)=>{t.exports=e.r(976562)},643531,e=>{"use strict";let t=(0,e.i(475254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],643531)},660751,e=>{"use strict";var t=e.i(843476);e.s(["default",0,function({selectedInterval:e,onIntervalChange:s,quarterlySavings:r,yearlySavings:a,hasQuarterlyPrices:i,hasYearlyPrices:l}){let n=[{value:"month",label:"Monthly",savings:null,show:!0},{value:"3month",label:"3 Months",savings:r,show:i},{value:"year",label:"Yearly",savings:a,show:l}].filter(e=>e.show);return(0,t.jsx)("div",{className:"inline-flex items-center gap-0.5 sm:gap-1 bg-gray-100 rounded-lg p-0.5 sm:p-1 w-full sm:w-auto max-w-md",children:n.map(r=>(0,t.jsxs)("button",{onClick:()=>s(r.value),className:`relative flex-1 sm:flex-initial px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-all ${e===r.value?"bg-white text-black shadow-sm":"text-gray-600 hover:text-black"}`,children:[(0,t.jsx)("span",{className:"whitespace-nowrap",children:r.label}),r.savings&&r.savings>0&&(0,t.jsxs)("span",{className:"ml-1 sm:ml-1.5 text-[10px] sm:text-xs text-black whitespace-nowrap",children:["(-",r.savings,"%)"]})]},r.value))})}])},300527,e=>{"use strict";e.s(["default",()=>c,"useLoadingContext",()=>m],300527);var t=e.i(843476),s=e.i(271645),r=e.i(660751),a=e.i(643531),i=e.i(217255),l=e.i(618566),n=e.i(147987);function o({plan:e,upgradePreview:r,isCurrent:o,isDisabled:d,isBestValue:c,isUpgrade:u,couponCode:p,originalPrice:x,discountPercent:h}){let{data:g}=(0,i.useSession)(),f=(0,l.useRouter)(),{loadingPlanId:y,setLoadingPlanId:b}=m(),{getCachedPreview:w,setCachedPreview:v}=(0,n.usePricingModal)(),[j,N]=(0,s.useState)(!1),[P,C]=(0,s.useState)(null),[k,S]=(0,s.useState)(null),[I,F]=(0,s.useState)(!1),$=y===e.id,T=null!==y,O=(e.stripePriceId?w(e.stripePriceId):null)||r,E=O&&h?{...O,upgradePrice:Math.max(0,O.upgradePrice*(1-h/100))}:O,U=async()=>{if(e.stripePriceId&&u&&g&&!w(e.stripePriceId)&&!I){F(!0);try{let t=await fetch("/api/subscription/upgrade",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:e.stripePriceId,confirm:!1,couponCode:p})});if(!t.ok)return void console.warn("Failed to fetch accurate preview");let s=await t.json();if(S(s),s.charges&&e.stripePriceId){let t={upgradePrice:s.charges.totalDueToday,originalPrice:s.newPlan?.price||e.price,savings:s.charges.unusedCredit,daysRemaining:s.currentPlan?.daysRemaining||0};v(e.stripePriceId,t)}}catch(e){console.warn("Error fetching accurate preview:",e)}}},M=async()=>{b(e.id);try{let t=await fetch("/api/subscription/upgrade",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:e.stripePriceId,confirm:!0,couponCode:p})}),s=await t.json();if(!t.ok)throw Error(s.error||"Failed to upgrade subscription");f.push(`/pricing/success?upgraded=true&expected_price=${e.stripePriceId}`)}catch(e){console.error("Upgrade confirmation error:",e),alert(e instanceof Error?e.message:"Failed to upgrade subscription"),b(null),N(!1)}},L=async()=>{if(!g)return void f.push("/login");if(e.isFree)return void f.push("/dashboard");b(e.id);try{let t=await fetch("/api/subscription");if(!t.ok){if(401===t.status)return void f.push("/login");let e=await t.text();throw console.error("Subscription fetch failed:",{status:t.status,statusText:t.statusText,error:e}),Error(`Failed to fetch subscription: ${t.status}`)}let s=await t.json();if(s.subscription?.stripeSubscriptionId){let t=await fetch("/api/portal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:e.stripePriceId,subscriptionId:s.subscription.stripeSubscriptionId,returnUrl:`${window.location.origin}/pricing`})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to create portal session");if(r.upgradeMode){let t=k;if(!t){let s=await fetch("/api/subscription/upgrade",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:e.stripePriceId,confirm:!1,couponCode:p})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to get upgrade preview")}t=await s.json()}if(t.useStripeUI&&t.stripeUrl){window.location.href=t.stripeUrl;return}C(t),N(!0),b(null);return}r.url&&(window.location.href=r.url)}else{let t=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:e.stripePriceId,couponCode:p})}),s=await t.json();if(!t.ok)throw Error(s.error||"Failed to create checkout session");s.url&&(window.location.href=s.url)}}catch(e){console.error("Subscription error:",e),alert(e instanceof Error?e.message:"Failed to update subscription"),b(null)}};return(0,t.jsxs)(t.Fragment,{children:[j&&P&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Confirm Upgrade"}),(0,t.jsxs)("div",{className:"space-y-2 sm:space-y-3 mb-4 sm:mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm gap-2",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Current plan:"}),(0,t.jsx)("span",{className:"font-medium text-right",children:P.currentPlan.name})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm gap-2",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Days remaining:"}),(0,t.jsxs)("span",{className:"font-medium",children:[P.currentPlan.daysRemaining," days"]})]}),(0,t.jsxs)("div",{className:"border-t pt-2 sm:pt-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm mb-2 gap-2",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:[P.newPlan.name," (full month):"]}),(0,t.jsxs)("span",{className:"font-medium whitespace-nowrap",children:["$",P.charges.newPlanCharge.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm mb-2 text-green-600 gap-2",children:[(0,t.jsx)("span",{children:"Unused time credit:"}),(0,t.jsxs)("span",{className:"font-medium whitespace-nowrap",children:["-$",P.charges.unusedCredit.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between font-semibold text-sm sm:text-base pt-2 border-t gap-2",children:[(0,t.jsx)("span",{children:"Total due today:"}),(0,t.jsxs)("span",{className:"whitespace-nowrap",children:["$",P.charges.totalDueToday.toFixed(2)]})]})]}),(0,t.jsxs)("p",{className:"text-[10px] sm:text-xs text-gray-500 mt-2 sm:mt-3",children:["Your new billing cycle will start today and you'll have access to all ",P.newPlan.name," features immediately."]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[(0,t.jsx)("button",{onClick:()=>{N(!1),C(null)},disabled:$,className:"flex-1 px-4 py-2.5 sm:py-2 border border-gray-300 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 order-2 sm:order-1",children:"Cancel"}),(0,t.jsx)("button",{onClick:M,disabled:$,className:"flex-1 px-4 py-2.5 sm:py-2 bg-black text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors disabled:opacity-50 order-1 sm:order-2",children:$?"Processing...":"Confirm Upgrade"})]})]})}),(0,t.jsxs)("div",{className:`relative rounded-xl border transition-all flex flex-col h-full ${d?"border-gray-200 bg-gray-50":c&&!o?"border-indigo-300 bg-white shadow-xl ring-1 ring-indigo-100":"border-gray-200 bg-white hover:border-gray-300"}`,children:[o&&(0,t.jsx)("div",{className:"absolute -top-2.5 sm:-top-3 left-1/2 -translate-x-1/2 bg-gray-200 text-gray-700 px-2 sm:px-3 py-0.5 rounded-full text-[10px] sm:text-xs font-medium whitespace-nowrap",children:"Current plan"}),c&&!o&&(0,t.jsx)("div",{className:"absolute -top-2.5 sm:-top-3 left-1/2 -translate-x-1/2 bg-indigo-600 text-white px-2 sm:px-3 py-0.5 rounded-full text-[10px] sm:text-xs font-medium whitespace-nowrap",children:"20x Value"}),e.discount&&e.discount>0&&!o&&!c&&(0,t.jsxs)("div",{className:"absolute -top-2.5 sm:-top-3 right-3 sm:right-4 bg-black text-white px-2 sm:px-3 py-0.5 rounded-full text-[10px] sm:text-xs font-medium whitespace-nowrap",children:["Save ",e.discount,"%"]}),(0,t.jsxs)("div",{className:"p-4 sm:p-6 flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"mb-4 sm:mb-6 min-h-[60px] sm:min-h-[72px] flex flex-col justify-start",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2",children:e.description})]}),(0,t.jsxs)("div",{className:"mb-4 sm:mb-6 min-h-[60px] sm:min-h-[72px] flex flex-col justify-start",children:[(0,t.jsx)("div",{className:"flex items-baseline gap-1",children:E&&u?(0,t.jsxs)(t.Fragment,{children:[h&&O&&(0,t.jsxs)("span",{className:"text-xl sm:text-2xl font-medium text-gray-400 line-through mr-2",children:["$",O.upgradePrice.toFixed(2)]}),(0,t.jsxs)("span",{className:"text-3xl sm:text-4xl font-bold tracking-tight transition-all",children:["$",E.upgradePrice.toFixed(2)]}),(0,t.jsx)("span",{className:"text-gray-600 text-xs sm:text-sm",children:"today"})]}):(0,t.jsxs)(t.Fragment,{children:[x&&(0,t.jsxs)("span",{className:"text-xl sm:text-2xl font-medium text-gray-400 line-through mr-2",children:["$",x.toFixed(2*(x%1!=0))]}),(0,t.jsxs)("span",{className:"text-3xl sm:text-4xl font-bold tracking-tight",children:["$",e.price.toFixed(2*(e.price%1!=0))]}),(0,t.jsxs)("span",{className:"text-gray-600 text-xs sm:text-sm",children:["/","forever"===e.interval?"forever":"mo"]})]})}),(0,t.jsx)("div",{className:"min-h-[18px] sm:min-h-[20px] mt-1",children:E&&u?(0,t.jsxs)("p",{className:"text-[10px] sm:text-xs text-green-600 transition-all",children:["$",E.savings.toFixed(2)," credit • then $",E.originalPrice.toFixed(2),"/mo"]}):!e.isFree&&(0,t.jsx)("p",{className:"text-[10px] sm:text-xs text-gray-500",children:e.actualPrice&&e.actualPrice!==e.price?`$${e.actualPrice.toFixed(2)} billed ${"3 months"===e.interval?"quarterly":"annually"}`:"Billed monthly"})})]}),(0,t.jsx)("button",{onClick:L,onMouseEnter:U,disabled:T||d||o,className:`w-full py-2.5 sm:py-3 px-4 rounded-lg text-sm font-medium transition-all ${o||d||T?"bg-gray-100 text-gray-400 cursor-not-allowed":c?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-black text-white hover:bg-gray-800"}`,children:$?"Loading...":o?"Current plan":d?"Unavailable":e.isFree?"Get started":u?"Upgrade":"Subscribe"}),(0,t.jsx)("div",{className:"mt-4 sm:mt-6 space-y-2 sm:space-y-3 flex-1",children:e.features.map(e=>{let s=e.includes("Harmony Analysis")||e.includes("Facial Analysis");return(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(a.Check,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-black flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:`text-xs sm:text-sm text-gray-700 ${s?"font-bold":""}`,children:e})]},e)})})]})]})]})}let d=(0,s.createContext)({loadingPlanId:null,setLoadingPlanId:()=>{}});function c({freePlan:e,products:a,currentSubscription:i,upgradePreviews:l={},hasQuarterlyPrices:n,hasYearlyPrices:c}){let[m,u]=(0,s.useState)((()=>{if(!i?.price)return"month";let{interval:e,intervalCount:t}=i.price;return"year"===e&&c?"year":"month"===e&&3===t&&n?"3month":"month"})()),[p,x]=(0,s.useState)(null),[h,g]=(0,s.useState)(""),[f,y]=(0,s.useState)(null),[b,w]=(0,s.useState)(!1),[v,j]=(0,s.useState)(null),N=async()=>{if(h.trim()){w(!0),y(null),j(null);try{let e=await fetch("/api/coupons/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:h})}),t=await e.json();if(e.ok)y({valid:!0,message:`Coupon applied: ${t.percentOff}% off`}),j(t.percentOff);else{let e=t.error||"Invalid coupon",s=e.toLowerCase().includes("expired"),r=e.toLowerCase().includes("maximum")||e.toLowerCase().includes("reached");y({valid:!1,message:e}),(s||r)&&g("")}}catch(e){y({valid:!1,message:"Failed to validate coupon"})}finally{w(!1)}}},P=(e,t,s)=>{let r=e*s;return Math.round((r-t)/r*100)},C=e=>{let t="3month"===e?3:12,s=[];return(a.forEach(r=>{let a=r.prices.monthly,i="3month"===e?r.prices.quarterly:r.prices.yearly;if(a&&i){let e=P(a.amount,i.amount,t);e>0&&s.push(e)}}),0===s.length)?null:Math.round(s.reduce((e,t)=>e+t,0)/s.length)},k=n?C("3month"):null,S=c?C("year"):null,I=e=>e.prices.monthly?e.prices.monthly.amount:0,F=i?.productId?I(a.find(e=>e.id===i.productId)||a[0]):0,$=i?.price?.amount||0,T=(e,t)=>"free"===e?!i||"free"===i.status:i?.productId===e&&(!t||i?.priceId===t),O=n||c,E=[...a].sort((e,t)=>"FaceIQ Labs Pro"===e.name?-1:+("FaceIQ Labs Pro"===t.name));return(0,t.jsx)(d.Provider,{value:{loadingPlanId:p,setLoadingPlanId:x},children:(0,t.jsxs)("div",{children:[O&&(0,t.jsx)("div",{className:"flex justify-center mb-6 sm:mb-8",children:(0,t.jsx)(r.default,{selectedInterval:m,onIntervalChange:u,quarterlySavings:k,yearlySavings:S,hasQuarterlyPrices:n,hasYearlyPrices:c})}),(0,t.jsxs)("div",{className:"flex flex-col items-center mb-8 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 max-w-xs w-full",children:[(0,t.jsx)("input",{type:"text",placeholder:"Promo Code",value:h,onChange:e=>{g(e.target.value.toUpperCase()),y(null),j(null)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-black uppercase font-mono"}),(0,t.jsx)("button",{onClick:N,disabled:!h||b,className:"px-4 py-2 bg-black text-white rounded-lg text-sm font-medium hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"...":"Apply"})]}),f&&(0,t.jsx)("p",{className:`text-xs ${f.valid?"text-green-600":"text-red-500"}`,children:f.message})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[(0,t.jsx)(o,{plan:{id:"free",name:e.name,description:e.description,price:0,interval:"forever",features:e.features,isFree:!0},isCurrent:T("free"),isDisabled:!!i&&"free"!==i.status}),E.map(e=>{let s=null,r=0,n=0,d="month",c=0,u="";if("month"===m&&e.prices.monthly?(n=r=(s=e.prices.monthly).amount/100,d="month",u=s.stripePriceId):"3month"===m&&e.prices.quarterly?(r=(s=e.prices.quarterly).amount/100/3,n=s.amount/100,d="3 months",e.prices.monthly&&(c=P(e.prices.monthly.amount,s.amount,3)),u=s.stripePriceId):"year"===m&&e.prices.yearly?(r=(s=e.prices.yearly).amount/100/12,n=s.amount/100,d="year",e.prices.monthly&&(c=P(e.prices.monthly.amount,s.amount,12)),u=s.stripePriceId):e.prices.monthly&&(n=r=(s=e.prices.monthly).amount/100,d="month",u=s.stripePriceId),!s)return null;let p=T(e.id,s?.id),x=((e,t)=>{if(!i||"free"===i.status)return!1;let s=a.find(t=>t.id===e);if(!s)return!1;let r=I(s);return e===i.productId?t<$:r<F})(e.id,s.amount),g=(e=>{if(!i||"free"===i.status)return!1;let t=a.find(t=>t.id===e);return!!t&&I(t)>F})(e.id),y="FaceIQ Labs Pro"===e.name,b=u?l[u]:void 0,w=r,j="month"!==m?n:void 0;return v&&(w=r*(1-v/100),j&&(j*=1-v/100)),(0,t.jsx)(o,{plan:{id:e.id,stripePriceId:u,name:e.name,description:e.description,price:w,actualPrice:j,interval:d,features:e.features,isFree:!1,discount:c>0?c:void 0},upgradePreview:b,isCurrent:p,isDisabled:x,isBestValue:y,isUpgrade:g,couponCode:f?.valid?h:void 0,originalPrice:v?r:void 0,discountPercent:v},`${e.id}-${m}`)})]})]})})}function m(){return(0,s.useContext)(d)}},147987,e=>{"use strict";e.s(["PricingModalProvider",()=>n,"usePricingModal",()=>o],147987);var t=e.i(843476),s=e.i(271645),r=e.i(37727),a=e.i(300527);function i({isOpen:e,onClose:i,title:l="Choose Your Plan",subtitle:n="Upgrade, downgrade, or cancel anytime",freePlan:o,products:d,currentSubscription:c,upgradePreviews:m={},hasQuarterlyPrices:u,hasYearlyPrices:p}){let[x,h]=(0,s.useState)(!1);return((0,s.useEffect)(()=>(e?(document.body.style.overflow="hidden",requestAnimationFrame(()=>{h(!0)})):(h(!1),document.body.style.overflow="unset"),()=>{document.body.style.overflow="unset"}),[e]),(0,s.useEffect)(()=>{let t=e=>{"Escape"===e.key&&i()};return e&&document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,i]),e)?(0,t.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,t.jsx)("div",{className:`absolute inset-0 bg-black/70 backdrop-blur-sm transition-opacity duration-300 ease-out ${x?"opacity-100":"opacity-0"}`,onClick:i}),(0,t.jsxs)("div",{className:`relative bg-white w-full h-full overflow-hidden flex flex-col transition-all duration-500 ease-out ${x?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:{transformOrigin:"center center"},children:[(0,t.jsxs)("div",{className:"bg-white flex items-start justify-between px-4 sm:px-6 md:px-10 lg:px-16 pt-4 sm:pt-6 md:pt-10 pb-3 sm:pb-4 md:pb-6",children:[(0,t.jsxs)("div",{className:"flex-1 text-center pr-8",children:[(0,t.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight mb-1 md:mb-2",children:l}),(0,t.jsx)("p",{className:"text-xs sm:text-sm md:text-base text-gray-500",children:n})]}),(0,t.jsx)("button",{onClick:i,className:"p-1.5 sm:p-2 rounded-full hover:bg-gray-50 transition-colors absolute top-4 sm:top-6 md:top-10 right-4 sm:right-6 md:right-10 lg:right-16","aria-label":"Close modal",children:(0,t.jsx)(r.X,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-400"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 md:px-10 lg:px-16 pt-4 sm:pt-6 md:pt-8 pb-6 md:pb-10",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,t.jsx)(a.default,{freePlan:o,products:d,currentSubscription:c,upgradePreviews:m,hasQuarterlyPrices:u,hasYearlyPrices:p})})})]})]}):null}let l=(0,s.createContext)(void 0);function n({children:e,freePlan:r,products:a,currentSubscription:n,upgradePreviews:o={},hasQuarterlyPrices:d,hasYearlyPrices:c}){let[m,u]=(0,s.useState)(!1),[p,x]=(0,s.useState)("Choose Your Plan"),[h,g]=(0,s.useState)("Upgrade, downgrade, or cancel anytime"),[f,y]=(0,s.useState)(new Map),b=()=>u(!1);return(0,t.jsxs)(l.Provider,{value:{openPricingModal:(e,t)=>{x(e??"Choose Your Plan"),g(t??"Upgrade, downgrade, or cancel anytime"),u(!0)},closePricingModal:b,isPricingModalOpen:m,getCachedPreview:e=>f.get(e)||null,setCachedPreview:(e,t)=>{y(s=>new Map(s).set(e,t))}},children:[e,(0,t.jsx)(i,{isOpen:m,onClose:b,title:p,subtitle:h,freePlan:r,products:a,currentSubscription:n,upgradePreviews:o,hasQuarterlyPrices:d,hasYearlyPrices:c})]})}function o(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("usePricingModal must be used within a PricingModalProvider");return e}}]);

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
