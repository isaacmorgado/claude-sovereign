The file /Users/imorgado/LOOKSMAXX/looksmaxx-api/app/routers/auth.py has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
    60→            stripe_promo_id = referral.stripe_promotion_code_id
    61→            # Increment usage count
    62→            referral.total_uses += 1
    63→
    64→    # Create user with explicit defaults (avoid db.refresh which causes schema issues)
    65→    hashed_password = AuthService.hash_password(user_data.password)
    66→    now = datetime.utcnow()
    67→    user = User(
    68→        id=uuid4(),
    69→        email=user_data.email,
    70→        password_hash=hashed_password,
    71→        name=user_data.name,