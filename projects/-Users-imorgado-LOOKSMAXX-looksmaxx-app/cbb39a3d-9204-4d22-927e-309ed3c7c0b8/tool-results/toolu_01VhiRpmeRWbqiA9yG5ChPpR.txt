The file /Users/imorgado/LOOKSMAXX/looksmaxx-api/app/routers/auth.py has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
    60→            stripe_promo_id = referral.stripe_promotion_code_id
    61→            # Increment usage count
    62→            referral.total_uses += 1
    63→
    64→    # Create user with explicit defaults
    65→    hashed_password = AuthService.hash_password(user_data.password)
    66→    now = datetime.utcnow()
    67→    user = User(
    68→        id=uuid4(),
    69→        email=user_data.email,
    70→        password_hash=hashed_password,
    71→        name=user_data.name,
    72→        username=user_data.username,
    73→        terms_accepted_at=now if user_data.terms_accepted else None,
    74→        referral_code=user_data.referral_code,
    75→        referred_by=stripe_promo_id,
    76→        created_at=now,
    77→        updated_at=now,
    78→    )
    79→
    80→    db.add(user)
    81→    await db.commit()
    82→    # Skip refresh - we already have all values and don't need DB-generated ones