The file /Users/imorgado/LOOKSMAXX/looksmaxx-api/app/routers/auth.py has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   126→        return {"available": False, "reason": "Invalid characters"}
   127→    if username.lower().startswith('user_'):
   128→        return {"available": False, "reason": "Reserved prefix"}
   129→
   130→    # Check database - only select id to avoid loading full model
   131→    result = await db.execute(
   132→        select(User.id).where(func.lower(User.username) == username.lower())
   133→    )
   134→    exists = result.scalar_one_or_none()
   135→
   136→    return {
   137→        "available": exists is None,
   138→        "reason": "Username taken" if exists else None
   139→    }
   140→
   141→
   142→@router.get("/validate-referral/{code}")
   143→async def validate_referral_code(code: str, db: AsyncSession = Depends(get_db)):