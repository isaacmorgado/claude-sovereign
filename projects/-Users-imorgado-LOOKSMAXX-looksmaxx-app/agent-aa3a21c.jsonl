{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":"VALIDATOR AGENT 3: Check SAAS organization and cleanup requirements.\n\nRead these files for full context:\n- /Users/imorgado/LOOKSMAXX/looksmaxx-app/src/data/guides/products-registry.ts\n- /Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/product_db.ts\n- /Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/product-recommendations.ts\n- /Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/tabs/ShopTab.tsx\n- /Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/cards/ProductCard.tsx\n\nSAAS Organization Audit:\n1. Check for duplicate product definitions across files\n2. Identify which file should be the single source of truth\n3. Check for hardcoded values that should be environment variables\n4. Look for images/image URLs that should be removed or truncated\n5. Check for console.log or debug code that needs cleanup\n6. Verify proper TypeScript types are used\n7. Check for any security issues (exposed API keys, etc.)\n\nReturn a SAAS-readiness report:\n- Duplications found\n- Recommended single source of truth\n- Environment variables needed\n- Images/media to remove\n- Debug code to cleanup\n- TypeScript issues\n- Security concerns\n- Overall SAAS-readiness score (1-10)"},"uuid":"0028c9bd-c71d-486f-a7a9-3e12b859e75a","timestamp":"2025-12-28T05:53:14.732Z"}
{"parentUuid":"0028c9bd-c71d-486f-a7a9-3e12b859e75a","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_0154gJk1pnUg4ccYS8FtGAUM","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014E8dCtmNhtLTVD5KYFgYRW","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/data/guides/products-registry.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":38124,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":38124,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWYZkrC8oHrXsLHgjBYXE","type":"assistant","uuid":"06acea4b-a913-4172-93da-59188ddef2ee","timestamp":"2025-12-28T05:53:18.380Z"}
{"parentUuid":"06acea4b-a913-4172-93da-59188ddef2ee","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_0154gJk1pnUg4ccYS8FtGAUM","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01SQ3PBivb6p62GworQi2k7i","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/product_db.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":38124,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":38124,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWYZkrC8oHrXsLHgjBYXE","type":"assistant","uuid":"fae9be96-d175-4cb8-b1c9-207a2776d986","timestamp":"2025-12-28T05:53:19.069Z"}
{"parentUuid":"fae9be96-d175-4cb8-b1c9-207a2776d986","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_0154gJk1pnUg4ccYS8FtGAUM","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Bs1jRrQoKQWSud8Dx1rYiv","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/product-recommendations.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":38124,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":38124,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWYZkrC8oHrXsLHgjBYXE","type":"assistant","uuid":"311cacf5-dae0-4051-b39d-401043dc5592","timestamp":"2025-12-28T05:53:19.769Z"}
{"parentUuid":"311cacf5-dae0-4051-b39d-401043dc5592","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_0154gJk1pnUg4ccYS8FtGAUM","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01D6SgBRsrHBXVBGTotUxu9d","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/tabs/ShopTab.tsx"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":38124,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":38124,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CWYZkrC8oHrXsLHgjBYXE","type":"assistant","uuid":"d478c239-6e60-44db-99a5-3c77ccffdd66","timestamp":"2025-12-28T05:53:20.480Z"}
{"parentUuid":"d478c239-6e60-44db-99a5-3c77ccffdd66","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_0154gJk1pnUg4ccYS8FtGAUM","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01A4SUtQEZQaJCCjkG1yLxpj","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/cards/ProductCard.tsx"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":38124,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":38124,"ephemeral_1h_input_tokens":0},"output_tokens":346,"service_tier":"standard"}},"requestId":"req_011CWYZkrC8oHrXsLHgjBYXE","type":"assistant","uuid":"51e98d98-ccb0-475d-8724-32c6b8dc92b6","timestamp":"2025-12-28T05:53:21.171Z"}
{"parentUuid":"51e98d98-ccb0-475d-8724-32c6b8dc92b6","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01SQ3PBivb6p62GworQi2k7i","type":"tool_result","content":"     1→/**\n     2→ * Product Database with Affiliate Links\n     3→ * Maps to existing supplements.ts for detailed supplement info\n     4→ */\n     5→\n     6→import { Product } from '@/types/results';\n     7→\n     8→export const PRODUCTS: Product[] = [\n     9→  // ============================================\n    10→  // BASE STACK ITEMS (6 products - shown to ALL users)\n    11→  // ============================================\n    12→  {\n    13→    id: \"collagen_vital_proteins\",\n    14→    name: \"Collagen Peptides\",\n    15→    brand: \"Vital Proteins\",\n    16→    category: \"skin\",\n    17→    affiliateLink: \"https://amazon.com/dp/B00K9XZTW0?tag=looksmaxx-20\",\n    18→    affiliateType: \"amazon\",\n    19→    supplementId: \"collagen_peptides\",\n    20→    priority: 10,\n    21→    baseStackItem: true,\n    22→  },\n    23→  {\n    24→    id: \"vitamin_c_now\",\n    25→    name: \"Vitamin C 1000mg\",\n    26→    brand: \"NOW Foods\",\n    27→    category: \"skin\",\n    28→    affiliateLink: \"https://amazon.com/dp/B0013OQGO6?tag=looksmaxx-20\",\n    29→    affiliateType: \"amazon\",\n    30→    supplementId: \"vitamin_c_oral\",\n    31→    priority: 9,\n    32→    baseStackItem: true,\n    33→  },\n    34→  {\n    35→    id: \"d3_k2_sports_research\",\n    36→    name: \"Vitamin D3+K2\",\n    37→    brand: \"Sports Research\",\n    38→    category: \"bone\",\n    39→    affiliateLink: \"https://amazon.com/dp/B01N5P3E9X?tag=looksmaxx-20\",\n    40→    affiliateType: \"amazon\",\n    41→    supplementId: \"vitamin_d3\",\n    42→    priority: 9,\n    43→    baseStackItem: true,\n    44→  },\n    45→  {\n    46→    id: \"magnesium_doctors_best\",\n    47→    name: \"Magnesium Glycinate\",\n    48→    brand: \"Doctor's Best\",\n    49→    category: \"general\",\n    50→    affiliateLink: \"https://amazon.com/dp/B000BD0RT0?tag=looksmaxx-20\",\n    51→    affiliateType: \"amazon\",\n    52→    supplementId: \"magnesium\",\n    53→    priority: 8,\n    54→    baseStackItem: true,\n    55→  },\n    56→  {\n    57→    id: \"omega3_nordic\",\n    58→    name: \"Omega-3 Fish Oil\",\n    59→    brand: \"Nordic Naturals\",\n    60→    category: \"anti-aging\",\n    61→    affiliateLink: \"https://www.nordicnaturals.com/products/ultimate-omega?ref=looksmaxx\",\n    62→    affiliateType: \"direct\",\n    63→    supplementId: \"omega_3\",\n    64→    priority: 8,\n    65→    baseStackItem: true,\n    66→  },\n    67→  {\n    68→    id: \"creatine_optimum\",\n    69→    name: \"Creatine Monohydrate\",\n    70→    brand: \"Optimum Nutrition\",\n    71→    category: \"general\",\n    72→    affiliateLink: \"https://amazon.com/dp/B002DYIZEO?tag=looksmaxx-20\",\n    73→    affiliateType: \"amazon\",\n    74→    supplementId: \"creatine\",\n    75→    priority: 9,\n    76→    baseStackItem: true,\n    77→  },\n    78→\n    79→  // ============================================\n    80→  // TARGETED PRODUCTS (shown based on metrics)\n    81→  // ============================================\n    82→  {\n    83→    id: \"ashwagandha_now\",\n    84→    name: \"Ashwagandha KSM-66\",\n    85→    brand: \"NOW Foods\",\n    86→    category: \"hormonal\",\n    87→    affiliateLink: \"https://amazon.com/dp/B01D0YJAD8?tag=looksmaxx-20\",\n    88→    affiliateType: \"amazon\",\n    89→    supplementId: \"ashwagandha\",\n    90→    priority: 7,\n    91→    baseStackItem: false,\n    92→  },\n    93→  {\n    94→    id: \"astaxanthin_sports\",\n    95→    name: \"Astaxanthin 12mg\",\n    96→    brand: \"Sports Research\",\n    97→    category: \"skin\",\n    98→    affiliateLink: \"https://amazon.com/dp/B01N9QMTLJ?tag=looksmaxx-20\",\n    99→    affiliateType: \"amazon\",\n   100→    supplementId: \"astaxanthin\",\n   101→    priority: 7,\n   102→    baseStackItem: false,\n   103→  },\n   104→  {\n   105→    id: \"biotin_sports\",\n   106→    name: \"Biotin 5000mcg\",\n   107→    brand: \"Sports Research\",\n   108→    category: \"hair\",\n   109→    affiliateLink: \"https://amazon.com/dp/B01M4MC7EU?tag=looksmaxx-20\",\n   110→    affiliateType: \"amazon\",\n   111→    supplementId: \"biotin\",\n   112→    priority: 5,\n   113→    baseStackItem: false,\n   114→  },\n   115→  {\n   116→    id: \"iron_thorne\",\n   117→    name: \"Iron Bisglycinate\",\n   118→    brand: \"Thorne\",\n   119→    category: \"hair\",\n   120→    affiliateLink: \"https://www.thorne.com/products/dp/iron-bisglycinate?ref=looksmaxx\",\n   121→    affiliateType: \"direct\",\n   122→    supplementId: \"iron\",\n   123→    priority: 6,\n   124→    baseStackItem: false,\n   125→  },\n   126→  {\n   127→    id: \"saw_palmetto_now\",\n   128→    name: \"Saw Palmetto Extract\",\n   129→    brand: \"NOW Foods\",\n   130→    category: \"hair\",\n   131→    affiliateLink: \"https://amazon.com/dp/B0013OQGZ0?tag=looksmaxx-20\",\n   132→    affiliateType: \"amazon\",\n   133→    supplementId: \"saw_palmetto\",\n   134→    priority: 5,\n   135→    baseStackItem: false,\n   136→  },\n   137→  {\n   138→    id: \"coq10_jarrow\",\n   139→    name: \"CoQ10 Ubiquinol\",\n   140→    brand: \"Jarrow Formulas\",\n   141→    category: \"anti-aging\",\n   142→    affiliateLink: \"https://amazon.com/dp/B0013OVVK0?tag=looksmaxx-20\",\n   143→    affiliateType: \"amazon\",\n   144→    supplementId: \"coq10\",\n   145→    priority: 6,\n   146→    baseStackItem: false,\n   147→  },\n   148→  {\n   149→    id: \"nmn_prohealth\",\n   150→    name: \"NMN 250mg\",\n   151→    brand: \"ProHealth Longevity\",\n   152→    category: \"anti-aging\",\n   153→    affiliateLink: \"https://www.prohealthlongevity.com/products/nmn-pro-500?ref=looksmaxx\",\n   154→    affiliateType: \"direct\",\n   155→    supplementId: \"nad_precursor\",\n   156→    priority: 6,\n   157→    baseStackItem: false,\n   158→  },\n   159→  {\n   160→    id: \"tongkat_doublewood\",\n   161→    name: \"Tongkat Ali 200mg\",\n   162→    brand: \"Double Wood\",\n   163→    category: \"hormonal\",\n   164→    affiliateLink: \"https://amazon.com/dp/B07K3PZZFH?tag=looksmaxx-20\",\n   165→    affiliateType: \"amazon\",\n   166→    supplementId: \"tongkat_ali\",\n   167→    priority: 6,\n   168→    baseStackItem: false,\n   169→  },\n   170→  {\n   171→    id: \"msm_now\",\n   172→    name: \"MSM 1000mg\",\n   173→    brand: \"NOW Foods\",\n   174→    category: \"bone\",\n   175→    affiliateLink: \"https://amazon.com/dp/B0013OUKTS?tag=looksmaxx-20\",\n   176→    affiliateType: \"amazon\",\n   177→    supplementId: \"msm\",\n   178→    priority: 5,\n   179→    baseStackItem: false,\n   180→  },\n   181→  // ============================================\n   182→  // HIGH TICKET TOOLS (The \"Prescription\")\n   183→  // ============================================\n   184→  {\n   185→    id: \"jawliner_medium\",\n   186→    name: \"Jawliner 3.0 (Medium)\",\n   187→    brand: \"JAWLINER\",\n   188→    category: \"jawline\",\n   189→    affiliateLink: \"https://jawliner.de/collections/all-products?ref=looksmaxx\",\n   190→    affiliateType: \"direct\",\n   191→    supplementId: \"jaw_chewing_gum\", // Mapping to existing ID for now or creating new\n   192→    priority: 15, // Highest priority\n   193→    baseStackItem: false,\n   194→    description: \"Medical-grade jaw trainer for masseter hypertrophy.\"\n   195→  },\n   196→  {\n   197→    id: \"gua_sha_set\",\n   198→    name: \"Stainless Steel Gua Sha\",\n   199→    brand: \"Sacheu\",\n   200→    category: \"skin\",\n   201→    affiliateLink: \"https://amazon.com/dp/B08MPYGL6C?tag=looksmaxx-20\",\n   202→    affiliateType: \"amazon\",\n   203→    supplementId: \"gua_sha_tool\",\n   204→    priority: 12,\n   205→    baseStackItem: false,\n   206→    description: \"Reduces facial puffiness and promotes lymphatic drainage.\"\n   207→  },\n   208→  {\n   209→    id: \"derma_roller_15\",\n   210→    name: \"Derma Roller 1.5mm\",\n   211→    brand: \"Koi Beauty\",\n   212→    category: \"hair\",\n   213→    affiliateLink: \"https://amazon.com/dp/B07H8K6P8M?tag=looksmaxx-20\",\n   214→    affiliateType: \"amazon\",\n   215→    supplementId: \"derma_roller\",\n   216→    priority: 14,\n   217→    baseStackItem: false,\n   218→    description: \"Stimulates hair follicles and collagen production.\"\n   219→  },\n   220→  {\n   221→    id: \"red_light_mask\",\n   222→    name: \"Omnilux Contour Face\",\n   223→    brand: \"Omnilux\",\n   224→    category: \"skin\",\n   225→    affiliateLink: \"https://omniluxled.com/products/omnilux-contour-face?ref=looksmaxx\",\n   226→    affiliateType: \"direct\",\n   227→    supplementId: \"red_light_device\",\n   228→    priority: 13,\n   229→    baseStackItem: false,\n   230→    description: \"Clinical-grade LED therapy for skin texture and anti-aging.\"\n   231→  },\n   232→  {\n   233→    id: \"teeth_whitening_kit\",\n   234→    name: \"3D White Whitestrips\",\n   235→    brand: \"Crest\",\n   236→    category: \"dental\",\n   237→    affiliateLink: \"https://amazon.com/dp/B00AHAW700?tag=looksmaxx-20\",\n   238→    affiliateType: \"amazon\",\n   239→    supplementId: \"teeth_whitening\",\n   240→    priority: 11,\n   241→    baseStackItem: false,\n   242→    description: \"Enamel-safe professional whitening for smile enhancement.\"\n   243→  },\n   244→];\n   245→\n   246→// ============================================\n   247→// HELPER FUNCTIONS\n   248→// ============================================\n   249→\n   250→export function getProductById(id: string): Product | undefined {\n   251→  return PRODUCTS.find(p => p.id === id);\n   252→}\n   253→\n   254→export function getProductBySupplementId(supplementId: string): Product | undefined {\n   255→  return PRODUCTS.find(p => p.supplementId === supplementId);\n   256→}\n   257→\n   258→export function getBaseStackProducts(): Product[] {\n   259→  return PRODUCTS.filter(p => p.baseStackItem === true)\n   260→    .sort((a, b) => b.priority - a.priority);\n   261→}\n   262→\n   263→export function getProductsByCategory(category: Product['category']): Product[] {\n   264→  return PRODUCTS.filter(p => p.category === category)\n   265→    .sort((a, b) => b.priority - a.priority);\n   266→}\n   267→\n   268→export function getProductsByIds(ids: string[]): Product[] {\n   269→  return ids.map(id => getProductById(id)).filter((p): p is Product => p !== undefined);\n   270→}\n   271→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"730120fc-2144-4908-b1da-147d0c180d27","timestamp":"2025-12-28T05:53:21.207Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/product_db.ts","content":"/**\n * Product Database with Affiliate Links\n * Maps to existing supplements.ts for detailed supplement info\n */\n\nimport { Product } from '@/types/results';\n\nexport const PRODUCTS: Product[] = [\n  // ============================================\n  // BASE STACK ITEMS (6 products - shown to ALL users)\n  // ============================================\n  {\n    id: \"collagen_vital_proteins\",\n    name: \"Collagen Peptides\",\n    brand: \"Vital Proteins\",\n    category: \"skin\",\n    affiliateLink: \"https://amazon.com/dp/B00K9XZTW0?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"collagen_peptides\",\n    priority: 10,\n    baseStackItem: true,\n  },\n  {\n    id: \"vitamin_c_now\",\n    name: \"Vitamin C 1000mg\",\n    brand: \"NOW Foods\",\n    category: \"skin\",\n    affiliateLink: \"https://amazon.com/dp/B0013OQGO6?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"vitamin_c_oral\",\n    priority: 9,\n    baseStackItem: true,\n  },\n  {\n    id: \"d3_k2_sports_research\",\n    name: \"Vitamin D3+K2\",\n    brand: \"Sports Research\",\n    category: \"bone\",\n    affiliateLink: \"https://amazon.com/dp/B01N5P3E9X?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"vitamin_d3\",\n    priority: 9,\n    baseStackItem: true,\n  },\n  {\n    id: \"magnesium_doctors_best\",\n    name: \"Magnesium Glycinate\",\n    brand: \"Doctor's Best\",\n    category: \"general\",\n    affiliateLink: \"https://amazon.com/dp/B000BD0RT0?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"magnesium\",\n    priority: 8,\n    baseStackItem: true,\n  },\n  {\n    id: \"omega3_nordic\",\n    name: \"Omega-3 Fish Oil\",\n    brand: \"Nordic Naturals\",\n    category: \"anti-aging\",\n    affiliateLink: \"https://www.nordicnaturals.com/products/ultimate-omega?ref=looksmaxx\",\n    affiliateType: \"direct\",\n    supplementId: \"omega_3\",\n    priority: 8,\n    baseStackItem: true,\n  },\n  {\n    id: \"creatine_optimum\",\n    name: \"Creatine Monohydrate\",\n    brand: \"Optimum Nutrition\",\n    category: \"general\",\n    affiliateLink: \"https://amazon.com/dp/B002DYIZEO?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"creatine\",\n    priority: 9,\n    baseStackItem: true,\n  },\n\n  // ============================================\n  // TARGETED PRODUCTS (shown based on metrics)\n  // ============================================\n  {\n    id: \"ashwagandha_now\",\n    name: \"Ashwagandha KSM-66\",\n    brand: \"NOW Foods\",\n    category: \"hormonal\",\n    affiliateLink: \"https://amazon.com/dp/B01D0YJAD8?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"ashwagandha\",\n    priority: 7,\n    baseStackItem: false,\n  },\n  {\n    id: \"astaxanthin_sports\",\n    name: \"Astaxanthin 12mg\",\n    brand: \"Sports Research\",\n    category: \"skin\",\n    affiliateLink: \"https://amazon.com/dp/B01N9QMTLJ?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"astaxanthin\",\n    priority: 7,\n    baseStackItem: false,\n  },\n  {\n    id: \"biotin_sports\",\n    name: \"Biotin 5000mcg\",\n    brand: \"Sports Research\",\n    category: \"hair\",\n    affiliateLink: \"https://amazon.com/dp/B01M4MC7EU?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"biotin\",\n    priority: 5,\n    baseStackItem: false,\n  },\n  {\n    id: \"iron_thorne\",\n    name: \"Iron Bisglycinate\",\n    brand: \"Thorne\",\n    category: \"hair\",\n    affiliateLink: \"https://www.thorne.com/products/dp/iron-bisglycinate?ref=looksmaxx\",\n    affiliateType: \"direct\",\n    supplementId: \"iron\",\n    priority: 6,\n    baseStackItem: false,\n  },\n  {\n    id: \"saw_palmetto_now\",\n    name: \"Saw Palmetto Extract\",\n    brand: \"NOW Foods\",\n    category: \"hair\",\n    affiliateLink: \"https://amazon.com/dp/B0013OQGZ0?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"saw_palmetto\",\n    priority: 5,\n    baseStackItem: false,\n  },\n  {\n    id: \"coq10_jarrow\",\n    name: \"CoQ10 Ubiquinol\",\n    brand: \"Jarrow Formulas\",\n    category: \"anti-aging\",\n    affiliateLink: \"https://amazon.com/dp/B0013OVVK0?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"coq10\",\n    priority: 6,\n    baseStackItem: false,\n  },\n  {\n    id: \"nmn_prohealth\",\n    name: \"NMN 250mg\",\n    brand: \"ProHealth Longevity\",\n    category: \"anti-aging\",\n    affiliateLink: \"https://www.prohealthlongevity.com/products/nmn-pro-500?ref=looksmaxx\",\n    affiliateType: \"direct\",\n    supplementId: \"nad_precursor\",\n    priority: 6,\n    baseStackItem: false,\n  },\n  {\n    id: \"tongkat_doublewood\",\n    name: \"Tongkat Ali 200mg\",\n    brand: \"Double Wood\",\n    category: \"hormonal\",\n    affiliateLink: \"https://amazon.com/dp/B07K3PZZFH?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"tongkat_ali\",\n    priority: 6,\n    baseStackItem: false,\n  },\n  {\n    id: \"msm_now\",\n    name: \"MSM 1000mg\",\n    brand: \"NOW Foods\",\n    category: \"bone\",\n    affiliateLink: \"https://amazon.com/dp/B0013OUKTS?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"msm\",\n    priority: 5,\n    baseStackItem: false,\n  },\n  // ============================================\n  // HIGH TICKET TOOLS (The \"Prescription\")\n  // ============================================\n  {\n    id: \"jawliner_medium\",\n    name: \"Jawliner 3.0 (Medium)\",\n    brand: \"JAWLINER\",\n    category: \"jawline\",\n    affiliateLink: \"https://jawliner.de/collections/all-products?ref=looksmaxx\",\n    affiliateType: \"direct\",\n    supplementId: \"jaw_chewing_gum\", // Mapping to existing ID for now or creating new\n    priority: 15, // Highest priority\n    baseStackItem: false,\n    description: \"Medical-grade jaw trainer for masseter hypertrophy.\"\n  },\n  {\n    id: \"gua_sha_set\",\n    name: \"Stainless Steel Gua Sha\",\n    brand: \"Sacheu\",\n    category: \"skin\",\n    affiliateLink: \"https://amazon.com/dp/B08MPYGL6C?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"gua_sha_tool\",\n    priority: 12,\n    baseStackItem: false,\n    description: \"Reduces facial puffiness and promotes lymphatic drainage.\"\n  },\n  {\n    id: \"derma_roller_15\",\n    name: \"Derma Roller 1.5mm\",\n    brand: \"Koi Beauty\",\n    category: \"hair\",\n    affiliateLink: \"https://amazon.com/dp/B07H8K6P8M?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"derma_roller\",\n    priority: 14,\n    baseStackItem: false,\n    description: \"Stimulates hair follicles and collagen production.\"\n  },\n  {\n    id: \"red_light_mask\",\n    name: \"Omnilux Contour Face\",\n    brand: \"Omnilux\",\n    category: \"skin\",\n    affiliateLink: \"https://omniluxled.com/products/omnilux-contour-face?ref=looksmaxx\",\n    affiliateType: \"direct\",\n    supplementId: \"red_light_device\",\n    priority: 13,\n    baseStackItem: false,\n    description: \"Clinical-grade LED therapy for skin texture and anti-aging.\"\n  },\n  {\n    id: \"teeth_whitening_kit\",\n    name: \"3D White Whitestrips\",\n    brand: \"Crest\",\n    category: \"dental\",\n    affiliateLink: \"https://amazon.com/dp/B00AHAW700?tag=looksmaxx-20\",\n    affiliateType: \"amazon\",\n    supplementId: \"teeth_whitening\",\n    priority: 11,\n    baseStackItem: false,\n    description: \"Enamel-safe professional whitening for smile enhancement.\"\n  },\n];\n\n// ============================================\n// HELPER FUNCTIONS\n// ============================================\n\nexport function getProductById(id: string): Product | undefined {\n  return PRODUCTS.find(p => p.id === id);\n}\n\nexport function getProductBySupplementId(supplementId: string): Product | undefined {\n  return PRODUCTS.find(p => p.supplementId === supplementId);\n}\n\nexport function getBaseStackProducts(): Product[] {\n  return PRODUCTS.filter(p => p.baseStackItem === true)\n    .sort((a, b) => b.priority - a.priority);\n}\n\nexport function getProductsByCategory(category: Product['category']): Product[] {\n  return PRODUCTS.filter(p => p.category === category)\n    .sort((a, b) => b.priority - a.priority);\n}\n\nexport function getProductsByIds(ids: string[]): Product[] {\n  return ids.map(id => getProductById(id)).filter((p): p is Product => p !== undefined);\n}\n","numLines":271,"startLine":1,"totalLines":271}}}
{"parentUuid":"730120fc-2144-4908-b1da-147d0c180d27","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Bs1jRrQoKQWSud8Dx1rYiv","type":"tool_result","content":"     1→/**\n     2→ * Product Recommendation Engine\n     3→ * Maps facial metrics to supplement product recommendations\n     4→ */\n     5→\n     6→import { ProductRecommendation } from '@/types/results';\n     7→import { PRODUCTS } from './product_db';\n     8→import { SUPPLEMENTS } from './recommendations/supplements';\n     9→\n    10→// ============================================\n    11→// METRIC TO PRODUCT MAPPING\n    12→// ============================================\n    13→\n    14→const METRIC_TO_PRODUCTS: Record<string, string[]> = {\n    15→  // Skin quality metrics -> skin products\n    16→  \"Skin Texture Score\": [\"collagen_peptides\", \"vitamin_c_oral\", \"astaxanthin\", \"vitamin_e\"],\n    17→  \"Under Eye Area\": [\"collagen_peptides\", \"hyaluronic_acid_oral\", \"vitamin_e\", \"coq10\"],\n    18→  \"Skin Quality\": [\"collagen_peptides\", \"astaxanthin\", \"vitamin_c_oral\", \"omega_3\"],\n    19→\n    20→  // Bone/structure metrics -> bone + muscle products\n    21→  \"Gonial Angle\": [\"creatine\", \"vitamin_d3\", \"vitamin_k2\", \"magnesium\"],\n    22→  \"Bigonial Width\": [\"creatine\", \"vitamin_d3\", \"vitamin_k2\"],\n    23→  \"Jaw Projection\": [\"creatine\", \"vitamin_d3\", \"magnesium\"],\n    24→  \"Cheekbone Height\": [\"collagen_peptides\", \"vitamin_k2\", \"silica\", \"vitamin_d3\"],\n    25→  \"Cheekbone Prominence\": [\"collagen_peptides\", \"vitamin_k2\", \"vitamin_d3\"],\n    26→  \"Chin Projection\": [\"creatine\", \"vitamin_d3\", \"vitamin_k2\"],\n    27→\n    28→  // Eye metrics -> general anti-aging\n    29→  \"Canthal Tilt\": [\"collagen_peptides\", \"vitamin_c_oral\", \"astaxanthin\"],\n    30→  \"Eye Spacing Ratio\": [\"collagen_peptides\", \"vitamin_c_oral\"],\n    31→  \"Palpebral Fissure Height\": [\"collagen_peptides\", \"vitamin_c_oral\"],\n    32→\n    33→  // Hair metrics -> hair products\n    34→  \"Hairline Position\": [\"biotin\", \"vitamin_d3\", \"iron\", \"saw_palmetto\"],\n    35→  \"Hairline Recession\": [\"biotin\", \"saw_palmetto\", \"iron\", \"vitamin_d3\"],\n    36→\n    37→  // Nose metrics -> collagen + structure\n    38→  \"Nasal Tip Angle\": [\"collagen_peptides\", \"vitamin_c_oral\"],\n    39→  \"Nasal Bridge Width\": [\"collagen_peptides\", \"vitamin_c_oral\"],\n    40→\n    41→  // Lips -> collagen\n    42→  \"Lip Fullness\": [\"collagen_peptides\", \"hyaluronic_acid_oral\", \"vitamin_c_oral\"],\n    43→  \"Upper Lip Height\": [\"collagen_peptides\", \"vitamin_c_oral\"],\n    44→\n    45→  // Neck -> posture + muscle\n    46→  \"Neck Posture\": [\"magnesium\", \"vitamin_d3\", \"creatine\"],\n    47→  \"Cervicomental Angle\": [\"creatine\", \"magnesium\"],\n    48→\n    49→  // General harmony -> comprehensive stack\n    50→  \"Overall Facial Harmony\": [\"omega_3\", \"coq10\", \"collagen_peptides\", \"vitamin_d3\"],\n    51→  \"Facial Symmetry\": [\"omega_3\", \"magnesium\", \"vitamin_d3\"],\n    52→\n    53→  // Age-related -> anti-aging\n    54→  \"Facial Aging Score\": [\"nad_precursor\", \"resveratrol\", \"coq10\", \"collagen_peptides\"],\n    55→  \"Skin Laxity\": [\"collagen_peptides\", \"vitamin_c_oral\", \"astaxanthin\", \"coq10\"],\n    56→};\n    57→\n    58→// Category fallbacks (if specific metric not found)\n    59→const CATEGORY_TO_PRODUCTS: Record<string, string[]> = {\n    60→  \"skin\": [\"collagen_peptides\", \"vitamin_c_oral\", \"astaxanthin\", \"vitamin_e\"],\n    61→  \"bone\": [\"vitamin_d3\", \"vitamin_k2\", \"creatine\", \"magnesium\", \"silica\", \"msm\"],\n    62→  \"hair\": [\"biotin\", \"iron\", \"saw_palmetto\", \"vitamin_d3\", \"zinc\"],\n    63→  \"anti-aging\": [\"nad_precursor\", \"coq10\", \"resveratrol\", \"omega_3\"],\n    64→  \"hormonal\": [\"ashwagandha\", \"tongkat_ali\", \"dim\", \"vitamin_d3\"],\n    65→  \"general\": [\"omega_3\", \"magnesium\", \"vitamin_d3\", \"creatine\"],\n    66→};\n    67→\n    68→// ============================================\n    69→// PRODUCT RECOMMENDATIONS\n    70→// ============================================\n    71→\n    72→export function getProductRecommendations(\n    73→  metricsDict: Record<string, number>,\n    74→  severityDict: Record<string, string>,\n    75→  // These parameters are reserved for future gender/ethnicity-specific recommendations\n    76→  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    77→  gender: 'male' | 'female',\n    78→  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    79→  ethnicity: string\n    80→): ProductRecommendation[] {\n    81→  const recommendations: ProductRecommendation[] = [];\n    82→  const seenProducts = new Set<string>();\n    83→\n    84→  // Iterate through all metrics\n    85→  for (const metricName of Object.keys(metricsDict)) {\n    86→    const severity = severityDict[metricName];\n    87→    if (!severity) continue;\n    88→\n    89→    // Determine state and urgency\n    90→    let state: \"flaw\" | \"ideal\";\n    91→    let urgency: \"high\" | \"medium\" | \"low\";\n    92→    let messageTemplate: string;\n    93→\n    94→    if (severity === \"severe\" || severity === \"extremely_severe\") {\n    95→      state = \"flaw\";\n    96→      urgency = \"high\";\n    97→      messageTemplate = \"Your {metric} is below optimal. Use {product} to IMPROVE it.\";\n    98→    } else if (severity === \"moderate\" || severity === \"major\") {\n    99→      state = \"flaw\";\n   100→      urgency = \"medium\";\n   101→      messageTemplate = \"Your {metric} needs improvement. Use {product} to optimize it.\";\n   102→    } else if (severity === \"optimal\" || severity === \"ideal\") {\n   103→      state = \"ideal\";\n   104→      urgency = \"low\";\n   105→      messageTemplate = \"Your {metric} is excellent. Use {product} to MAINTAIN and PROTECT this strength.\";\n   106→    } else {\n   107→      continue; // Skip \"minor\" or \"good\" - not compelling enough\n   108→    }\n   109→\n   110→    // Find products for this metric\n   111→    let productIds = METRIC_TO_PRODUCTS[metricName];\n   112→\n   113→    // If no direct mapping, try category fallback\n   114→    if (!productIds || productIds.length === 0) {\n   115→      const metricLower = metricName.toLowerCase();\n   116→      if (metricLower.includes('skin') || metricLower.includes('texture')) {\n   117→        productIds = CATEGORY_TO_PRODUCTS['skin'];\n   118→      } else if (metricLower.includes('jaw') || metricLower.includes('chin') || metricLower.includes('bone')) {\n   119→        productIds = CATEGORY_TO_PRODUCTS['bone'];\n   120→      } else if (metricLower.includes('hair')) {\n   121→        productIds = CATEGORY_TO_PRODUCTS['hair'];\n   122→      } else {\n   123→        productIds = CATEGORY_TO_PRODUCTS['general'];\n   124→      }\n   125→    }\n   126→\n   127→    // Create recommendations for each product\n   128→    for (const supplementId of productIds.slice(0, 2)) {\n   129→      // Find product in PRODUCTS by supplementId\n   130→      const product = PRODUCTS.find(p => p.supplementId === supplementId);\n   131→      if (!product) continue;\n   132→\n   133→      // Skip if already recommended\n   134→      if (seenProducts.has(product.id)) {\n   135→        // Just add this metric to existing recommendation\n   136→        const existing = recommendations.find(r => r.product.id === product.id);\n   137→        if (existing && !existing.matchedMetrics.includes(metricName)) {\n   138→          existing.matchedMetrics.push(metricName);\n   139→        }\n   140→        continue;\n   141→      }\n   142→\n   143→      // Get supplement details for the product name\n   144→      const supplement = SUPPLEMENTS.find(s => s.id === supplementId);\n   145→      const productDisplayName = supplement?.name || product.name;\n   146→\n   147→      // Create personalized message\n   148→      const message = messageTemplate\n   149→        .replace('{metric}', metricName)\n   150→        .replace('{product}', productDisplayName);\n   151→\n   152→      recommendations.push({\n   153→        product,\n   154→        state,\n   155→        targetMetric: metricName,\n   156→        message,\n   157→        urgency,\n   158→        matchedMetrics: [metricName],\n   159→      });\n   160→\n   161→      seenProducts.add(product.id);\n   162→    }\n   163→  }\n   164→\n   165→  // Sort recommendations\n   166→  // 1. High urgency flaws first\n   167→  // 2. Then medium urgency flaws\n   168→  // 3. Then ideal maintenance products\n   169→  recommendations.sort((a, b) => {\n   170→    const urgencyOrder: Record<string, number> = { high: 3, medium: 2, low: 1 };\n   171→    const urgencyDiff = urgencyOrder[b.urgency] - urgencyOrder[a.urgency];\n   172→    if (urgencyDiff !== 0) return urgencyDiff;\n   173→\n   174→    // Within same urgency, sort by product priority\n   175→    return b.product.priority - a.product.priority;\n   176→  });\n   177→\n   178→  // Return top 15 recommendations\n   179→  return recommendations.slice(0, 15);\n   180→}\n   181→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"9a3c69c6-019f-47b0-9a94-598f900618eb","timestamp":"2025-12-28T05:53:21.207Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/product-recommendations.ts","content":"/**\n * Product Recommendation Engine\n * Maps facial metrics to supplement product recommendations\n */\n\nimport { ProductRecommendation } from '@/types/results';\nimport { PRODUCTS } from './product_db';\nimport { SUPPLEMENTS } from './recommendations/supplements';\n\n// ============================================\n// METRIC TO PRODUCT MAPPING\n// ============================================\n\nconst METRIC_TO_PRODUCTS: Record<string, string[]> = {\n  // Skin quality metrics -> skin products\n  \"Skin Texture Score\": [\"collagen_peptides\", \"vitamin_c_oral\", \"astaxanthin\", \"vitamin_e\"],\n  \"Under Eye Area\": [\"collagen_peptides\", \"hyaluronic_acid_oral\", \"vitamin_e\", \"coq10\"],\n  \"Skin Quality\": [\"collagen_peptides\", \"astaxanthin\", \"vitamin_c_oral\", \"omega_3\"],\n\n  // Bone/structure metrics -> bone + muscle products\n  \"Gonial Angle\": [\"creatine\", \"vitamin_d3\", \"vitamin_k2\", \"magnesium\"],\n  \"Bigonial Width\": [\"creatine\", \"vitamin_d3\", \"vitamin_k2\"],\n  \"Jaw Projection\": [\"creatine\", \"vitamin_d3\", \"magnesium\"],\n  \"Cheekbone Height\": [\"collagen_peptides\", \"vitamin_k2\", \"silica\", \"vitamin_d3\"],\n  \"Cheekbone Prominence\": [\"collagen_peptides\", \"vitamin_k2\", \"vitamin_d3\"],\n  \"Chin Projection\": [\"creatine\", \"vitamin_d3\", \"vitamin_k2\"],\n\n  // Eye metrics -> general anti-aging\n  \"Canthal Tilt\": [\"collagen_peptides\", \"vitamin_c_oral\", \"astaxanthin\"],\n  \"Eye Spacing Ratio\": [\"collagen_peptides\", \"vitamin_c_oral\"],\n  \"Palpebral Fissure Height\": [\"collagen_peptides\", \"vitamin_c_oral\"],\n\n  // Hair metrics -> hair products\n  \"Hairline Position\": [\"biotin\", \"vitamin_d3\", \"iron\", \"saw_palmetto\"],\n  \"Hairline Recession\": [\"biotin\", \"saw_palmetto\", \"iron\", \"vitamin_d3\"],\n\n  // Nose metrics -> collagen + structure\n  \"Nasal Tip Angle\": [\"collagen_peptides\", \"vitamin_c_oral\"],\n  \"Nasal Bridge Width\": [\"collagen_peptides\", \"vitamin_c_oral\"],\n\n  // Lips -> collagen\n  \"Lip Fullness\": [\"collagen_peptides\", \"hyaluronic_acid_oral\", \"vitamin_c_oral\"],\n  \"Upper Lip Height\": [\"collagen_peptides\", \"vitamin_c_oral\"],\n\n  // Neck -> posture + muscle\n  \"Neck Posture\": [\"magnesium\", \"vitamin_d3\", \"creatine\"],\n  \"Cervicomental Angle\": [\"creatine\", \"magnesium\"],\n\n  // General harmony -> comprehensive stack\n  \"Overall Facial Harmony\": [\"omega_3\", \"coq10\", \"collagen_peptides\", \"vitamin_d3\"],\n  \"Facial Symmetry\": [\"omega_3\", \"magnesium\", \"vitamin_d3\"],\n\n  // Age-related -> anti-aging\n  \"Facial Aging Score\": [\"nad_precursor\", \"resveratrol\", \"coq10\", \"collagen_peptides\"],\n  \"Skin Laxity\": [\"collagen_peptides\", \"vitamin_c_oral\", \"astaxanthin\", \"coq10\"],\n};\n\n// Category fallbacks (if specific metric not found)\nconst CATEGORY_TO_PRODUCTS: Record<string, string[]> = {\n  \"skin\": [\"collagen_peptides\", \"vitamin_c_oral\", \"astaxanthin\", \"vitamin_e\"],\n  \"bone\": [\"vitamin_d3\", \"vitamin_k2\", \"creatine\", \"magnesium\", \"silica\", \"msm\"],\n  \"hair\": [\"biotin\", \"iron\", \"saw_palmetto\", \"vitamin_d3\", \"zinc\"],\n  \"anti-aging\": [\"nad_precursor\", \"coq10\", \"resveratrol\", \"omega_3\"],\n  \"hormonal\": [\"ashwagandha\", \"tongkat_ali\", \"dim\", \"vitamin_d3\"],\n  \"general\": [\"omega_3\", \"magnesium\", \"vitamin_d3\", \"creatine\"],\n};\n\n// ============================================\n// PRODUCT RECOMMENDATIONS\n// ============================================\n\nexport function getProductRecommendations(\n  metricsDict: Record<string, number>,\n  severityDict: Record<string, string>,\n  // These parameters are reserved for future gender/ethnicity-specific recommendations\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  gender: 'male' | 'female',\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ethnicity: string\n): ProductRecommendation[] {\n  const recommendations: ProductRecommendation[] = [];\n  const seenProducts = new Set<string>();\n\n  // Iterate through all metrics\n  for (const metricName of Object.keys(metricsDict)) {\n    const severity = severityDict[metricName];\n    if (!severity) continue;\n\n    // Determine state and urgency\n    let state: \"flaw\" | \"ideal\";\n    let urgency: \"high\" | \"medium\" | \"low\";\n    let messageTemplate: string;\n\n    if (severity === \"severe\" || severity === \"extremely_severe\") {\n      state = \"flaw\";\n      urgency = \"high\";\n      messageTemplate = \"Your {metric} is below optimal. Use {product} to IMPROVE it.\";\n    } else if (severity === \"moderate\" || severity === \"major\") {\n      state = \"flaw\";\n      urgency = \"medium\";\n      messageTemplate = \"Your {metric} needs improvement. Use {product} to optimize it.\";\n    } else if (severity === \"optimal\" || severity === \"ideal\") {\n      state = \"ideal\";\n      urgency = \"low\";\n      messageTemplate = \"Your {metric} is excellent. Use {product} to MAINTAIN and PROTECT this strength.\";\n    } else {\n      continue; // Skip \"minor\" or \"good\" - not compelling enough\n    }\n\n    // Find products for this metric\n    let productIds = METRIC_TO_PRODUCTS[metricName];\n\n    // If no direct mapping, try category fallback\n    if (!productIds || productIds.length === 0) {\n      const metricLower = metricName.toLowerCase();\n      if (metricLower.includes('skin') || metricLower.includes('texture')) {\n        productIds = CATEGORY_TO_PRODUCTS['skin'];\n      } else if (metricLower.includes('jaw') || metricLower.includes('chin') || metricLower.includes('bone')) {\n        productIds = CATEGORY_TO_PRODUCTS['bone'];\n      } else if (metricLower.includes('hair')) {\n        productIds = CATEGORY_TO_PRODUCTS['hair'];\n      } else {\n        productIds = CATEGORY_TO_PRODUCTS['general'];\n      }\n    }\n\n    // Create recommendations for each product\n    for (const supplementId of productIds.slice(0, 2)) {\n      // Find product in PRODUCTS by supplementId\n      const product = PRODUCTS.find(p => p.supplementId === supplementId);\n      if (!product) continue;\n\n      // Skip if already recommended\n      if (seenProducts.has(product.id)) {\n        // Just add this metric to existing recommendation\n        const existing = recommendations.find(r => r.product.id === product.id);\n        if (existing && !existing.matchedMetrics.includes(metricName)) {\n          existing.matchedMetrics.push(metricName);\n        }\n        continue;\n      }\n\n      // Get supplement details for the product name\n      const supplement = SUPPLEMENTS.find(s => s.id === supplementId);\n      const productDisplayName = supplement?.name || product.name;\n\n      // Create personalized message\n      const message = messageTemplate\n        .replace('{metric}', metricName)\n        .replace('{product}', productDisplayName);\n\n      recommendations.push({\n        product,\n        state,\n        targetMetric: metricName,\n        message,\n        urgency,\n        matchedMetrics: [metricName],\n      });\n\n      seenProducts.add(product.id);\n    }\n  }\n\n  // Sort recommendations\n  // 1. High urgency flaws first\n  // 2. Then medium urgency flaws\n  // 3. Then ideal maintenance products\n  recommendations.sort((a, b) => {\n    const urgencyOrder: Record<string, number> = { high: 3, medium: 2, low: 1 };\n    const urgencyDiff = urgencyOrder[b.urgency] - urgencyOrder[a.urgency];\n    if (urgencyDiff !== 0) return urgencyDiff;\n\n    // Within same urgency, sort by product priority\n    return b.product.priority - a.product.priority;\n  });\n\n  // Return top 15 recommendations\n  return recommendations.slice(0, 15);\n}\n","numLines":181,"startLine":1,"totalLines":181}}}
{"parentUuid":"9a3c69c6-019f-47b0-9a94-598f900618eb","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01D6SgBRsrHBXVBGTotUxu9d","type":"tool_result","content":"     1→'use client';\n     2→\n     3→import { useState, useMemo, forwardRef } from 'react';\n     4→import { motion, AnimatePresence } from 'framer-motion';\n     5→import {\n     6→  ShoppingBag,\n     7→  Package,\n     8→  ExternalLink,\n     9→  Search,\n    10→  Sparkles,\n    11→  Zap,\n    12→  Shield,\n    13→  Clock,\n    14→  TrendingUp,\n    15→  CheckCircle,\n    16→  Scissors,\n    17→  Droplet,\n    18→  Pill,\n    19→  Dumbbell,\n    20→  Eye,\n    21→  Smile,\n    22→} from 'lucide-react';\n    23→import { useResults } from '@/contexts/ResultsContext';\n    24→import { useRegion } from '@/contexts/RegionContext';\n    25→import { TabContent } from '../ResultsLayout';\n    26→import { GUIDE_PRODUCTS } from '@/data/guides/products-registry';\n    27→import { GuideProduct } from '@/types/guides';\n    28→\n    29→// ============================================\n    30→// SECTION HEADER\n    31→// ============================================\n    32→\n    33→function SectionHeader({ title, children }: { title: string; children?: React.ReactNode }) {\n    34→  return (\n    35→    <div className=\"flex items-center gap-4 mb-6\">\n    36→      <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 whitespace-nowrap\">\n    37→        {title}\n    38→      </h2>\n    39→      <div className=\"flex-1 h-px bg-neutral-800\" />\n    40→      {children}\n    41→    </div>\n    42→  );\n    43→}\n    44→\n    45→// ============================================\n    46→// CATEGORY DEFINITIONS\n    47→// ============================================\n    48→\n    49→type ProductCategory = 'all' | 'supplements' | 'skincare' | 'tools' | 'grooming' | 'hygiene' | 'hair' | 'teeth';\n    50→\n    51→const CATEGORIES: { id: ProductCategory; label: string; icon: React.ReactNode }[] = [\n    52→  { id: 'all', label: 'All Products', icon: <Package size={14} /> },\n    53→  { id: 'supplements', label: 'Supplements', icon: <Pill size={14} /> },\n    54→  { id: 'skincare', label: 'Skincare', icon: <Droplet size={14} /> },\n    55→  { id: 'tools', label: 'Tools', icon: <Scissors size={14} /> },\n    56→  { id: 'grooming', label: 'Grooming', icon: <Dumbbell size={14} /> },\n    57→  { id: 'hygiene', label: 'Hygiene', icon: <Sparkles size={14} /> },\n    58→  { id: 'hair', label: 'Hair', icon: <Eye size={14} /> },\n    59→  { id: 'teeth', label: 'Teeth', icon: <Smile size={14} /> },\n    60→];\n    61→\n    62→// Map guide product categories to our categories\n    63→function mapCategory(cat: string): ProductCategory {\n    64→  const mapping: Record<string, ProductCategory> = {\n    65→    supplements: 'supplements',\n    66→    skincare: 'skincare',\n    67→    miscellaneous: 'tools',\n    68→    grooming: 'grooming',\n    69→    hygiene: 'hygiene',\n    70→    hair: 'hair',\n    71→    beard: 'grooming',\n    72→    teeth: 'teeth',\n    73→    kbeauty: 'skincare',\n    74→    hormonal: 'supplements',\n    75→    surgery: 'tools',\n    76→  };\n    77→  return mapping[cat] || 'all';\n    78→}\n    79→\n    80→// ============================================\n    81→// HERO BUNDLE CARD\n    82→// ============================================\n    83→\n    84→interface HeroBundleProps {\n    85→  title: string;\n    86→  subtitle: string;\n    87→  products: GuideProduct[];\n    88→  savings: number;\n    89→  gradient: string;\n    90→  icon: React.ReactNode;\n    91→  bundleUrl?: string;\n    92→}\n    93→\n    94→function HeroBundleCard({ title, subtitle, products, savings, gradient, icon, bundleUrl }: HeroBundleProps) {\n    95→  const { formatAmount, getLink } = useRegion();\n    96→\n    97→  const totalPrice = useMemo(() => {\n    98→    return products.reduce((sum, p) => sum + (p.priceRange?.max || 0), 0);\n    99→  }, [products]);\n   100→\n   101→  const bundlePrice = Math.round(totalPrice * (1 - savings / 100));\n   102→\n   103→  // Generate Amazon add-to-cart URL for multiple items\n   104→  const generateBundleLink = () => {\n   105→    if (bundleUrl) return bundleUrl;\n   106→\n   107→    // Build Amazon add-to-cart URL with multiple ASINs\n   108→    // Format: https://www.amazon.com/gp/aws/cart/add.html?ASIN.1=XXX&Quantity.1=1&ASIN.2=YYY&Quantity.2=1...\n   109→    const baseUrl = 'https://www.amazon.com/gp/aws/cart/add.html?';\n   110→    const params = products\n   111→      .slice(0, 4)\n   112→      .map((p, idx) => {\n   113→        // Extract ASIN from regionLinks.us URL\n   114→        const usLink = p.regionLinks?.['us'] || '';\n   115→        const asinMatch = usLink.match(/\\/dp\\/([A-Z0-9]{10})/);\n   116→        const asin = asinMatch ? asinMatch[1] : '';\n   117→        if (!asin) return '';\n   118→        return `ASIN.${idx + 1}=${asin}&Quantity.${idx + 1}=1`;\n   119→      })\n   120→      .filter(Boolean)\n   121→      .join('&');\n   122→\n   123→    return params ? `${baseUrl}${params}&tag=projectcassanova-20` : '#';\n   124→  };\n   125→\n   126→  const handleBundleClick = () => {\n   127→    const link = generateBundleLink();\n   128→    if (link !== '#') {\n   129→      window.open(link, '_blank', 'noopener,noreferrer');\n   130→    }\n   131→  };\n   132→\n   133→  return (\n   134→    <motion.div\n   135→      className={`rounded-[2rem] ${gradient} border border-white/10 p-6 md:p-8 relative overflow-hidden`}\n   136→      initial={{ opacity: 0, y: 20 }}\n   137→      animate={{ opacity: 1, y: 0 }}\n   138→    >\n   139→      {/* Decorative blur */}\n   140→      <div className=\"absolute top-0 right-0 w-64 h-64 rounded-full bg-white/10 blur-[100px] -translate-y-1/2 translate-x-1/2\" />\n   141→\n   142→      <div className=\"relative z-10\">\n   143→        <div className=\"flex items-start justify-between gap-4 mb-6\">\n   144→          <div className=\"flex items-center gap-4\">\n   145→            <div className=\"w-14 h-14 rounded-2xl bg-white/20 border border-white/20 flex items-center justify-center shadow-xl\">\n   146→              {icon}\n   147→            </div>\n   148→            <div>\n   149→              <h3 className=\"text-xl font-black uppercase tracking-wider text-white\">{title}</h3>\n   150→              <p className=\"text-sm text-white/70\">{subtitle}</p>\n   151→            </div>\n   152→          </div>\n   153→          <div className=\"px-3 py-1.5 bg-white/20 border border-white/20 rounded-lg\">\n   154→            <span className=\"text-sm font-black text-white\">Save {savings}%</span>\n   155→          </div>\n   156→        </div>\n   157→\n   158→        {/* Products grid */}\n   159→        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6\">\n   160→          {products.slice(0, 4).map((product, idx) => {\n   161→            const productLink = product.regionLinks ? getLink(product.regionLinks) : '#';\n   162→            return (\n   163→              <a\n   164→                key={product.id}\n   165→                href={productLink}\n   166→                target=\"_blank\"\n   167→                rel=\"noopener noreferrer\"\n   168→                className=\"bg-black/30 rounded-xl p-3 border border-white/10 overflow-hidden hover:border-white/30 transition-colors group\"\n   169→              >\n   170→                <div className=\"flex items-center gap-2 mb-2 min-w-0\">\n   171→                  <div className=\"w-6 h-6 rounded-lg bg-white/10 flex items-center justify-center flex-shrink-0\">\n   172→                    <span className=\"text-xs font-black text-white/80\">{idx + 1}</span>\n   173→                  </div>\n   174→                  <span className=\"text-[10px] font-bold uppercase tracking-wider text-white/60 truncate\">{product.brand}</span>\n   175→                </div>\n   176→                <p className=\"text-sm font-bold text-white group-hover:text-cyan-300 transition-colors line-clamp-2 leading-tight\">{product.name}</p>\n   177→                {product.priceRange && (\n   178→                  <p className=\"text-[10px] font-bold text-white/50 mt-1\">${product.priceRange.min}-${product.priceRange.max}</p>\n   179→                )}\n   180→              </a>\n   181→            );\n   182→          })}\n   183→        </div>\n   184→\n   185→        {/* Pricing & CTA */}\n   186→        <div className=\"flex items-center justify-between gap-4 pt-4 border-t border-white/10\">\n   187→          <div>\n   188→            <p className=\"text-[10px] font-bold uppercase tracking-wider text-white/60 mb-1\">Bundle Total</p>\n   189→            <div className=\"flex items-baseline gap-2\">\n   190→              <span className=\"text-2xl font-black text-white\">{formatAmount(bundlePrice)}</span>\n   191→              <span className=\"text-sm font-bold text-white/50 line-through\">{formatAmount(totalPrice)}</span>\n   192→            </div>\n   193→          </div>\n   194→          <button\n   195→            onClick={handleBundleClick}\n   196→            className=\"px-6 py-3 bg-white text-black text-xs font-black uppercase tracking-wider rounded-xl hover:bg-white/90 transition-colors flex items-center gap-2\"\n   197→          >\n   198→            <ShoppingBag size={16} />\n   199→            Add All to Cart\n   200→          </button>\n   201→        </div>\n   202→      </div>\n   203→    </motion.div>\n   204→  );\n   205→}\n   206→\n   207→// ============================================\n   208→// PRODUCT CARD\n   209→// ============================================\n   210→\n   211→interface ProductCardProps {\n   212→  product: GuideProduct;\n   213→  rank?: number;\n   214→  isRecommended?: boolean;\n   215→}\n   216→\n   217→const ProductCard = forwardRef<HTMLDivElement, ProductCardProps>(\n   218→  function ProductCard({ product, rank, isRecommended }, ref) {\n   219→    const { getLink, formatAmount, region } = useRegion();\n   220→    const link = product.regionLinks ? getLink(product.regionLinks) : '#';\n   221→\n   222→    return (\n   223→      <motion.div\n   224→        ref={ref}\n   225→        className={`rounded-2xl bg-neutral-900/40 border ${isRecommended ? 'border-cyan-500/30' : 'border-white/5'} p-5 hover:border-white/10 transition-all group`}\n   226→        initial={{ opacity: 0, y: 20 }}\n   227→        animate={{ opacity: 1, y: 0 }}\n   228→      >\n   229→        <div className=\"flex items-start gap-4 mb-4\">\n   230→          {rank && (\n   231→            <div className=\"w-8 h-8 rounded-lg bg-neutral-900 border border-white/10 flex items-center justify-center flex-shrink-0\">\n   232→              <span className=\"text-xs font-black text-neutral-400\">#{rank}</span>\n   233→            </div>\n   234→          )}\n   235→          <div className=\"flex-1 min-w-0\">\n   236→            <div className=\"flex items-center gap-2 mb-1\">\n   237→              <span className=\"text-[9px] font-black uppercase tracking-wider text-neutral-500\">{product.brand || 'Brand'}</span>\n   238→              {isRecommended && (\n   239→                <span className=\"px-1.5 py-0.5 bg-cyan-500/20 border border-cyan-500/30 rounded text-[8px] font-black uppercase tracking-wider text-cyan-400\">\n   240→                  Recommended\n   241→                </span>\n   242→              )}\n   243→              {product.isBaseStack && (\n   244→                <span className=\"px-1.5 py-0.5 bg-green-500/20 border border-green-500/30 rounded text-[8px] font-black uppercase tracking-wider text-green-400\">\n   245→                  Essential\n   246→                </span>\n   247→              )}\n   248→            </div>\n   249→            <h4 className=\"text-sm font-black uppercase tracking-wider text-white group-hover:text-cyan-400 transition-colors leading-tight\">\n   250→              {product.name}\n   251→            </h4>\n   252→          </div>\n   253→          {product.priceRange && (\n   254→            <div className=\"text-right flex-shrink-0\">\n   255→              <p className=\"text-sm font-black text-white\">\n   256→                {formatAmount(product.priceRange.min)}\n   257→                {product.priceRange.max !== product.priceRange.min && (\n   258→                  <span className=\"text-neutral-500\">-{formatAmount(product.priceRange.max)}</span>\n   259→                )}\n   260→              </p>\n   261→            </div>\n   262→          )}\n   263→        </div>\n   264→\n   265→        {product.tagline && (\n   266→          <p className=\"text-xs text-neutral-400 mb-4 leading-relaxed line-clamp-2 italic\">\n   267→            &ldquo;{product.tagline}&rdquo;\n   268→          </p>\n   269→        )}\n   270→\n   271→        {product.description && !product.tagline && (\n   272→          <p className=\"text-xs text-neutral-500 mb-4 leading-relaxed line-clamp-2\">\n   273→            {product.description}\n   274→          </p>\n   275→        )}\n   276→\n   277→        <a\n   278→          href={!link || link === '#' ? undefined : link}\n   279→          target={!link || link === '#' ? undefined : '_blank'}\n   280→          rel=\"noopener noreferrer\"\n   281→          className={`\n   282→            flex items-center justify-center gap-2 w-full py-2.5 rounded-xl text-[10px] font-black uppercase tracking-wider transition-colors\n   283→            ${!link || link === '#'\n   284→              ? 'bg-neutral-800/50 text-neutral-600 cursor-not-allowed border border-white/5'\n   285→              : 'bg-neutral-800 hover:bg-neutral-700 border border-white/5 text-white'\n   286→            }\n   287→          `}\n   288→          onClick={(e) => {\n   289→            if (!link || link === '#') {\n   290→              e.preventDefault();\n   291→            }\n   292→          }}\n   293→        >\n   294→          <ExternalLink size={12} />\n   295→          {!link || link === '#' ? 'Unavailable' : `Buy on ${region === 'asia' ? 'Amazon' : region.toUpperCase()}`}\n   296→        </a>\n   297→      </motion.div>\n   298→    );\n   299→  }\n   300→);\n   301→\n   302→// ============================================\n   303→// STATS CARD\n   304→// ============================================\n   305→\n   306→function StatsCard({ products }: { products: GuideProduct[] }) {\n   307→  const essentialCount = products.filter(p => p.isBaseStack).length;\n   308→  const categories = new Set(products.map(p => p.category)).size;\n   309→\n   310→  return (\n   311→    <div className=\"rounded-[2rem] bg-neutral-900/40 border border-white/5 p-6\">\n   312→      <div className=\"grid grid-cols-3 gap-4\">\n   313→        <div className=\"text-center\">\n   314→          <p className=\"text-3xl font-black text-cyan-400\">{products.length}</p>\n   315→          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-500\">Products</p>\n   316→        </div>\n   317→        <div className=\"text-center border-x border-white/5\">\n   318→          <p className=\"text-3xl font-black text-green-400\">{essentialCount}</p>\n   319→          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-500\">Essential</p>\n   320→        </div>\n   321→        <div className=\"text-center\">\n   322→          <p className=\"text-3xl font-black text-purple-400\">{categories}</p>\n   323→          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-500\">Categories</p>\n   324→        </div>\n   325→      </div>\n   326→    </div>\n   327→  );\n   328→}\n   329→\n   330→// ============================================\n   331→// SHOP TAB\n   332→// ============================================\n   333→\n   334→export function ShopTab() {\n   335→  const { gender } = useResults();\n   336→  const [selectedCategory, setSelectedCategory] = useState<ProductCategory>('all');\n   337→  const [searchQuery, setSearchQuery] = useState('');\n   338→\n   339→  // Get all products\n   340→  const allProducts = useMemo(() => {\n   341→    // Guide products are more complete, use those\n   342→    return GUIDE_PRODUCTS.sort((a, b) => {\n   343→      // Base stack items first\n   344→      if (a.isBaseStack && !b.isBaseStack) return -1;\n   345→      if (!a.isBaseStack && b.isBaseStack) return 1;\n   346→      // Then by priority\n   347→      return a.priority - b.priority;\n   348→    });\n   349→  }, []);\n   350→\n   351→  // Filter products\n   352→  const filteredProducts = useMemo(() => {\n   353→    let products = allProducts;\n   354→\n   355→    if (selectedCategory !== 'all') {\n   356→      products = products.filter(p => mapCategory(p.category) === selectedCategory);\n   357→    }\n   358→\n   359→    if (searchQuery.trim()) {\n   360→      const query = searchQuery.toLowerCase();\n   361→      products = products.filter(p =>\n   362→        p.name.toLowerCase().includes(query) ||\n   363→        p.brand?.toLowerCase().includes(query) ||\n   364→        p.tagline?.toLowerCase().includes(query) ||\n   365→        p.description?.toLowerCase().includes(query)\n   366→      );\n   367→    }\n   368→\n   369→    return products;\n   370→  }, [allProducts, selectedCategory, searchQuery]);\n   371→\n   372→  // Get products for hero bundles\n   373→  const starterBundle = useMemo(() => {\n   374→    return allProducts.filter(p => p.isBaseStack).slice(0, 4);\n   375→  }, [allProducts]);\n   376→\n   377→  const skinBundle = useMemo(() => {\n   378→    return allProducts.filter(p => p.category === 'skincare' || p.category === 'kbeauty').slice(0, 4);\n   379→  }, [allProducts]);\n   380→\n   381→  const maleBundle = useMemo(() => {\n   382→    return allProducts.filter(p =>\n   383→      p.category === 'grooming' ||\n   384→      p.category === 'beard' ||\n   385→      p.category === 'hair'\n   386→    ).slice(0, 4);\n   387→  }, [allProducts]);\n   388→\n   389→  // Supplements bundle\n   390→  const supplementBundle = useMemo(() => {\n   391→    return allProducts.filter(p => p.category === 'supplements').slice(0, 4);\n   392→  }, [allProducts]);\n   393→\n   394→  // Hair growth bundle (minoxidil, dermaroller, etc)\n   395→  const hairBundle = useMemo(() => {\n   396→    return allProducts.filter(p =>\n   397→      p.category === 'hair' ||\n   398→      p.name.toLowerCase().includes('minox') ||\n   399→      p.name.toLowerCase().includes('derma')\n   400→    ).slice(0, 4);\n   401→  }, [allProducts]);\n   402→\n   403→  // Teeth/smile bundle\n   404→  const teethBundle = useMemo(() => {\n   405→    return allProducts.filter(p =>\n   406→      p.category === 'teeth' ||\n   407→      p.name.toLowerCase().includes('whiten') ||\n   408→      p.name.toLowerCase().includes('tooth') ||\n   409→      p.name.toLowerCase().includes('dental')\n   410→    ).slice(0, 4);\n   411→  }, [allProducts]);\n   412→\n   413→  return (\n   414→    <TabContent\n   415→      title=\"Shop\"\n   416→      subtitle=\"Curated products to optimize your potential\"\n   417→    >\n   418→      <div className=\"space-y-10\">\n   419→        {/* Stats */}\n   420→        <StatsCard products={allProducts} />\n   421→\n   422→        {/* Hero Bundles */}\n   423→        <section>\n   424→          <SectionHeader title=\"Featured Bundles\">\n   425→            <span className=\"px-3 py-1.5 bg-purple-500/20 border border-purple-500/30 text-purple-400 text-[10px] font-black uppercase tracking-wider rounded-lg\">\n   426→              Save Up to 20%\n   427→            </span>\n   428→          </SectionHeader>\n   429→\n   430→          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n   431→            <HeroBundleCard\n   432→              title=\"Starter Stack\"\n   433→              subtitle=\"The essentials for your enhancement journey\"\n   434→              products={starterBundle}\n   435→              savings={15}\n   436→              gradient=\"bg-gradient-to-br from-cyan-600 to-blue-700\"\n   437→              icon={<Zap size={24} className=\"text-white\" />}\n   438→            />\n   439→            <HeroBundleCard\n   440→              title=\"Skin Protocol\"\n   441→              subtitle=\"Complete skincare routine for clear skin\"\n   442→              products={skinBundle}\n   443→              savings={20}\n   444→              gradient=\"bg-gradient-to-br from-rose-600 to-pink-700\"\n   445→              icon={<Droplet size={24} className=\"text-white\" />}\n   446→            />\n   447→          </div>\n   448→\n   449→          {/* Second row of bundles */}\n   450→          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6\">\n   451→            {supplementBundle.length >= 4 && (\n   452→              <HeroBundleCard\n   453→                title=\"Supplement Stack\"\n   454→                subtitle=\"Optimize hormones, skin, and recovery\"\n   455→                products={supplementBundle}\n   456→                savings={15}\n   457→                gradient=\"bg-gradient-to-br from-green-600 to-emerald-700\"\n   458→                icon={<Pill size={24} className=\"text-white\" />}\n   459→              />\n   460→            )}\n   461→            {hairBundle.length >= 3 && (\n   462→              <HeroBundleCard\n   463→                title=\"Hair Growth Protocol\"\n   464→                subtitle=\"Combat hair loss and boost density\"\n   465→                products={hairBundle}\n   466→                savings={18}\n   467→                gradient=\"bg-gradient-to-br from-amber-600 to-orange-700\"\n   468→                icon={<TrendingUp size={24} className=\"text-white\" />}\n   469→              />\n   470→            )}\n   471→          </div>\n   472→\n   473→          {/* Third row - gender specific */}\n   474→          {gender === 'male' && maleBundle.length >= 4 && (\n   475→            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6\">\n   476→              <HeroBundleCard\n   477→                title=\"Male Grooming Kit\"\n   478→                subtitle=\"Essential grooming for peak appearance\"\n   479→                products={maleBundle}\n   480→                savings={15}\n   481→                gradient=\"bg-gradient-to-br from-neutral-700 to-neutral-900\"\n   482→                icon={<Scissors size={24} className=\"text-white\" />}\n   483→              />\n   484→              {teethBundle.length >= 2 && (\n   485→                <HeroBundleCard\n   486→                  title=\"Smile Makeover\"\n   487→                  subtitle=\"Whiten and perfect your smile\"\n   488→                  products={teethBundle}\n   489→                  savings={12}\n   490→                  gradient=\"bg-gradient-to-br from-violet-600 to-purple-700\"\n   491→                  icon={<Smile size={24} className=\"text-white\" />}\n   492→                />\n   493→              )}\n   494→            </div>\n   495→          )}\n   496→        </section>\n   497→\n   498→        {/* Why These Products */}\n   499→        <section className=\"rounded-[2rem] bg-neutral-900/40 border border-white/5 p-6 md:p-8\">\n   500→          <h3 className=\"text-sm font-black uppercase tracking-wider text-white mb-6 flex items-center gap-3\">\n   501→            <div className=\"w-10 h-10 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center\">\n   502→              <Shield size={18} className=\"text-cyan-400\" />\n   503→            </div>\n   504→            Why We Recommend These Products\n   505→          </h3>\n   506→          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n   507→            <div className=\"flex items-start gap-4\">\n   508→              <div className=\"w-8 h-8 rounded-lg bg-green-500/20 border border-green-500/30 flex items-center justify-center flex-shrink-0\">\n   509→                <CheckCircle size={14} className=\"text-green-400\" />\n   510→              </div>\n   511→              <div>\n   512→                <p className=\"text-sm font-bold text-white mb-1\">Evidence-Based</p>\n   513→                <p className=\"text-xs text-neutral-500\">Every product is backed by clinical research and real results</p>\n   514→              </div>\n   515→            </div>\n   516→            <div className=\"flex items-start gap-4\">\n   517→              <div className=\"w-8 h-8 rounded-lg bg-cyan-500/20 border border-cyan-500/30 flex items-center justify-center flex-shrink-0\">\n   518→                <TrendingUp size={14} className=\"text-cyan-400\" />\n   519→              </div>\n   520→              <div>\n   521→                <p className=\"text-sm font-bold text-white mb-1\">Results-Focused</p>\n   522→                <p className=\"text-xs text-neutral-500\">Selected for maximum impact on your facial aesthetics</p>\n   523→              </div>\n   524→            </div>\n   525→            <div className=\"flex items-start gap-4\">\n   526→              <div className=\"w-8 h-8 rounded-lg bg-purple-500/20 border border-purple-500/30 flex items-center justify-center flex-shrink-0\">\n   527→                <Clock size={14} className=\"text-purple-400\" />\n   528→              </div>\n   529→              <div>\n   530→                <p className=\"text-sm font-bold text-white mb-1\">Time-Tested</p>\n   531→                <p className=\"text-xs text-neutral-500\">Community-verified products with proven track records</p>\n   532→              </div>\n   533→            </div>\n   534→          </div>\n   535→        </section>\n   536→\n   537→        {/* Category Filter & Search */}\n   538→        <section>\n   539→          <SectionHeader title=\"Browse All Products\" />\n   540→\n   541→          {/* Category Pills */}\n   542→          <div className=\"flex flex-wrap gap-2 mb-6\">\n   543→            {CATEGORIES.map(cat => (\n   544→              <button\n   545→                key={cat.id}\n   546→                onClick={() => setSelectedCategory(cat.id)}\n   547→                className={`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-wider transition-all border flex items-center gap-2 ${selectedCategory === cat.id\n   548→                  ? 'bg-cyan-500 text-black border-cyan-400'\n   549→                  : 'bg-neutral-900/50 text-neutral-400 border-white/5 hover:border-white/10 hover:text-white'\n   550→                  }`}\n   551→              >\n   552→                {cat.icon}\n   553→                {cat.label}\n   554→              </button>\n   555→            ))}\n   556→          </div>\n   557→\n   558→          {/* Search */}\n   559→          <div className=\"relative mb-8\">\n   560→            <Search size={16} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-500\" />\n   561→            <input\n   562→              type=\"text\"\n   563→              value={searchQuery}\n   564→              onChange={(e) => setSearchQuery(e.target.value)}\n   565→              placeholder=\"Search products...\"\n   566→              className=\"w-full pl-11 pr-4 py-3 bg-neutral-900/50 border border-white/5 rounded-xl text-sm text-white placeholder:text-neutral-600 focus:outline-none focus:border-cyan-500/30\"\n   567→            />\n   568→          </div>\n   569→\n   570→          {/* Results Count */}\n   571→          <div className=\"flex items-center justify-between mb-6\">\n   572→            <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-500\">\n   573→              {filteredProducts.length} Products\n   574→            </p>\n   575→          </div>\n   576→\n   577→          {/* Products Grid */}\n   578→          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n   579→            <AnimatePresence mode=\"popLayout\">\n   580→              {filteredProducts.map((product, idx) => (\n   581→                <ProductCard\n   582→                  key={product.id}\n   583→                  product={product}\n   584→                  rank={selectedCategory === 'all' ? undefined : idx + 1}\n   585→                  isRecommended={product.isBaseStack}\n   586→                />\n   587→              ))}\n   588→            </AnimatePresence>\n   589→          </div>\n   590→\n   591→          {filteredProducts.length === 0 && (\n   592→            <div className=\"text-center py-16\">\n   593→              <div className=\"w-16 h-16 rounded-2xl bg-neutral-900 border border-white/10 flex items-center justify-center mx-auto mb-5\">\n   594→                <Search size={28} className=\"text-neutral-600\" />\n   595→              </div>\n   596→              <h3 className=\"text-lg font-black uppercase tracking-wider text-white mb-2\">No Products Found</h3>\n   597→              <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-600\">\n   598→                Try adjusting your search or category filter\n   599→              </p>\n   600→            </div>\n   601→          )}\n   602→        </section>\n   603→\n   604→        {/* Affiliate Disclosure */}\n   605→        <section className=\"p-6 rounded-2xl bg-neutral-900/40 border border-white/5\">\n   606→          <p className=\"text-xs text-neutral-500 leading-relaxed\">\n   607→            <strong className=\"text-neutral-400\">Affiliate Disclosure:</strong> We may earn a commission when you purchase through our links. This helps support PROJECT CASSANOVA at no extra cost to you. We only recommend products we believe in and have thoroughly researched.\n   608→          </p>\n   609→        </section>\n   610→      </div>\n   611→    </TabContent>\n   612→  );\n   613→}\n   614→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"960c74ad-de93-416e-af6e-41273e4fae40","timestamp":"2025-12-28T05:53:21.207Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/tabs/ShopTab.tsx","content":"'use client';\n\nimport { useState, useMemo, forwardRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  ShoppingBag,\n  Package,\n  ExternalLink,\n  Search,\n  Sparkles,\n  Zap,\n  Shield,\n  Clock,\n  TrendingUp,\n  CheckCircle,\n  Scissors,\n  Droplet,\n  Pill,\n  Dumbbell,\n  Eye,\n  Smile,\n} from 'lucide-react';\nimport { useResults } from '@/contexts/ResultsContext';\nimport { useRegion } from '@/contexts/RegionContext';\nimport { TabContent } from '../ResultsLayout';\nimport { GUIDE_PRODUCTS } from '@/data/guides/products-registry';\nimport { GuideProduct } from '@/types/guides';\n\n// ============================================\n// SECTION HEADER\n// ============================================\n\nfunction SectionHeader({ title, children }: { title: string; children?: React.ReactNode }) {\n  return (\n    <div className=\"flex items-center gap-4 mb-6\">\n      <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-neutral-600 whitespace-nowrap\">\n        {title}\n      </h2>\n      <div className=\"flex-1 h-px bg-neutral-800\" />\n      {children}\n    </div>\n  );\n}\n\n// ============================================\n// CATEGORY DEFINITIONS\n// ============================================\n\ntype ProductCategory = 'all' | 'supplements' | 'skincare' | 'tools' | 'grooming' | 'hygiene' | 'hair' | 'teeth';\n\nconst CATEGORIES: { id: ProductCategory; label: string; icon: React.ReactNode }[] = [\n  { id: 'all', label: 'All Products', icon: <Package size={14} /> },\n  { id: 'supplements', label: 'Supplements', icon: <Pill size={14} /> },\n  { id: 'skincare', label: 'Skincare', icon: <Droplet size={14} /> },\n  { id: 'tools', label: 'Tools', icon: <Scissors size={14} /> },\n  { id: 'grooming', label: 'Grooming', icon: <Dumbbell size={14} /> },\n  { id: 'hygiene', label: 'Hygiene', icon: <Sparkles size={14} /> },\n  { id: 'hair', label: 'Hair', icon: <Eye size={14} /> },\n  { id: 'teeth', label: 'Teeth', icon: <Smile size={14} /> },\n];\n\n// Map guide product categories to our categories\nfunction mapCategory(cat: string): ProductCategory {\n  const mapping: Record<string, ProductCategory> = {\n    supplements: 'supplements',\n    skincare: 'skincare',\n    miscellaneous: 'tools',\n    grooming: 'grooming',\n    hygiene: 'hygiene',\n    hair: 'hair',\n    beard: 'grooming',\n    teeth: 'teeth',\n    kbeauty: 'skincare',\n    hormonal: 'supplements',\n    surgery: 'tools',\n  };\n  return mapping[cat] || 'all';\n}\n\n// ============================================\n// HERO BUNDLE CARD\n// ============================================\n\ninterface HeroBundleProps {\n  title: string;\n  subtitle: string;\n  products: GuideProduct[];\n  savings: number;\n  gradient: string;\n  icon: React.ReactNode;\n  bundleUrl?: string;\n}\n\nfunction HeroBundleCard({ title, subtitle, products, savings, gradient, icon, bundleUrl }: HeroBundleProps) {\n  const { formatAmount, getLink } = useRegion();\n\n  const totalPrice = useMemo(() => {\n    return products.reduce((sum, p) => sum + (p.priceRange?.max || 0), 0);\n  }, [products]);\n\n  const bundlePrice = Math.round(totalPrice * (1 - savings / 100));\n\n  // Generate Amazon add-to-cart URL for multiple items\n  const generateBundleLink = () => {\n    if (bundleUrl) return bundleUrl;\n\n    // Build Amazon add-to-cart URL with multiple ASINs\n    // Format: https://www.amazon.com/gp/aws/cart/add.html?ASIN.1=XXX&Quantity.1=1&ASIN.2=YYY&Quantity.2=1...\n    const baseUrl = 'https://www.amazon.com/gp/aws/cart/add.html?';\n    const params = products\n      .slice(0, 4)\n      .map((p, idx) => {\n        // Extract ASIN from regionLinks.us URL\n        const usLink = p.regionLinks?.['us'] || '';\n        const asinMatch = usLink.match(/\\/dp\\/([A-Z0-9]{10})/);\n        const asin = asinMatch ? asinMatch[1] : '';\n        if (!asin) return '';\n        return `ASIN.${idx + 1}=${asin}&Quantity.${idx + 1}=1`;\n      })\n      .filter(Boolean)\n      .join('&');\n\n    return params ? `${baseUrl}${params}&tag=projectcassanova-20` : '#';\n  };\n\n  const handleBundleClick = () => {\n    const link = generateBundleLink();\n    if (link !== '#') {\n      window.open(link, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  return (\n    <motion.div\n      className={`rounded-[2rem] ${gradient} border border-white/10 p-6 md:p-8 relative overflow-hidden`}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n    >\n      {/* Decorative blur */}\n      <div className=\"absolute top-0 right-0 w-64 h-64 rounded-full bg-white/10 blur-[100px] -translate-y-1/2 translate-x-1/2\" />\n\n      <div className=\"relative z-10\">\n        <div className=\"flex items-start justify-between gap-4 mb-6\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"w-14 h-14 rounded-2xl bg-white/20 border border-white/20 flex items-center justify-center shadow-xl\">\n              {icon}\n            </div>\n            <div>\n              <h3 className=\"text-xl font-black uppercase tracking-wider text-white\">{title}</h3>\n              <p className=\"text-sm text-white/70\">{subtitle}</p>\n            </div>\n          </div>\n          <div className=\"px-3 py-1.5 bg-white/20 border border-white/20 rounded-lg\">\n            <span className=\"text-sm font-black text-white\">Save {savings}%</span>\n          </div>\n        </div>\n\n        {/* Products grid */}\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6\">\n          {products.slice(0, 4).map((product, idx) => {\n            const productLink = product.regionLinks ? getLink(product.regionLinks) : '#';\n            return (\n              <a\n                key={product.id}\n                href={productLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"bg-black/30 rounded-xl p-3 border border-white/10 overflow-hidden hover:border-white/30 transition-colors group\"\n              >\n                <div className=\"flex items-center gap-2 mb-2 min-w-0\">\n                  <div className=\"w-6 h-6 rounded-lg bg-white/10 flex items-center justify-center flex-shrink-0\">\n                    <span className=\"text-xs font-black text-white/80\">{idx + 1}</span>\n                  </div>\n                  <span className=\"text-[10px] font-bold uppercase tracking-wider text-white/60 truncate\">{product.brand}</span>\n                </div>\n                <p className=\"text-sm font-bold text-white group-hover:text-cyan-300 transition-colors line-clamp-2 leading-tight\">{product.name}</p>\n                {product.priceRange && (\n                  <p className=\"text-[10px] font-bold text-white/50 mt-1\">${product.priceRange.min}-${product.priceRange.max}</p>\n                )}\n              </a>\n            );\n          })}\n        </div>\n\n        {/* Pricing & CTA */}\n        <div className=\"flex items-center justify-between gap-4 pt-4 border-t border-white/10\">\n          <div>\n            <p className=\"text-[10px] font-bold uppercase tracking-wider text-white/60 mb-1\">Bundle Total</p>\n            <div className=\"flex items-baseline gap-2\">\n              <span className=\"text-2xl font-black text-white\">{formatAmount(bundlePrice)}</span>\n              <span className=\"text-sm font-bold text-white/50 line-through\">{formatAmount(totalPrice)}</span>\n            </div>\n          </div>\n          <button\n            onClick={handleBundleClick}\n            className=\"px-6 py-3 bg-white text-black text-xs font-black uppercase tracking-wider rounded-xl hover:bg-white/90 transition-colors flex items-center gap-2\"\n          >\n            <ShoppingBag size={16} />\n            Add All to Cart\n          </button>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================\n// PRODUCT CARD\n// ============================================\n\ninterface ProductCardProps {\n  product: GuideProduct;\n  rank?: number;\n  isRecommended?: boolean;\n}\n\nconst ProductCard = forwardRef<HTMLDivElement, ProductCardProps>(\n  function ProductCard({ product, rank, isRecommended }, ref) {\n    const { getLink, formatAmount, region } = useRegion();\n    const link = product.regionLinks ? getLink(product.regionLinks) : '#';\n\n    return (\n      <motion.div\n        ref={ref}\n        className={`rounded-2xl bg-neutral-900/40 border ${isRecommended ? 'border-cyan-500/30' : 'border-white/5'} p-5 hover:border-white/10 transition-all group`}\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n      >\n        <div className=\"flex items-start gap-4 mb-4\">\n          {rank && (\n            <div className=\"w-8 h-8 rounded-lg bg-neutral-900 border border-white/10 flex items-center justify-center flex-shrink-0\">\n              <span className=\"text-xs font-black text-neutral-400\">#{rank}</span>\n            </div>\n          )}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <span className=\"text-[9px] font-black uppercase tracking-wider text-neutral-500\">{product.brand || 'Brand'}</span>\n              {isRecommended && (\n                <span className=\"px-1.5 py-0.5 bg-cyan-500/20 border border-cyan-500/30 rounded text-[8px] font-black uppercase tracking-wider text-cyan-400\">\n                  Recommended\n                </span>\n              )}\n              {product.isBaseStack && (\n                <span className=\"px-1.5 py-0.5 bg-green-500/20 border border-green-500/30 rounded text-[8px] font-black uppercase tracking-wider text-green-400\">\n                  Essential\n                </span>\n              )}\n            </div>\n            <h4 className=\"text-sm font-black uppercase tracking-wider text-white group-hover:text-cyan-400 transition-colors leading-tight\">\n              {product.name}\n            </h4>\n          </div>\n          {product.priceRange && (\n            <div className=\"text-right flex-shrink-0\">\n              <p className=\"text-sm font-black text-white\">\n                {formatAmount(product.priceRange.min)}\n                {product.priceRange.max !== product.priceRange.min && (\n                  <span className=\"text-neutral-500\">-{formatAmount(product.priceRange.max)}</span>\n                )}\n              </p>\n            </div>\n          )}\n        </div>\n\n        {product.tagline && (\n          <p className=\"text-xs text-neutral-400 mb-4 leading-relaxed line-clamp-2 italic\">\n            &ldquo;{product.tagline}&rdquo;\n          </p>\n        )}\n\n        {product.description && !product.tagline && (\n          <p className=\"text-xs text-neutral-500 mb-4 leading-relaxed line-clamp-2\">\n            {product.description}\n          </p>\n        )}\n\n        <a\n          href={!link || link === '#' ? undefined : link}\n          target={!link || link === '#' ? undefined : '_blank'}\n          rel=\"noopener noreferrer\"\n          className={`\n            flex items-center justify-center gap-2 w-full py-2.5 rounded-xl text-[10px] font-black uppercase tracking-wider transition-colors\n            ${!link || link === '#'\n              ? 'bg-neutral-800/50 text-neutral-600 cursor-not-allowed border border-white/5'\n              : 'bg-neutral-800 hover:bg-neutral-700 border border-white/5 text-white'\n            }\n          `}\n          onClick={(e) => {\n            if (!link || link === '#') {\n              e.preventDefault();\n            }\n          }}\n        >\n          <ExternalLink size={12} />\n          {!link || link === '#' ? 'Unavailable' : `Buy on ${region === 'asia' ? 'Amazon' : region.toUpperCase()}`}\n        </a>\n      </motion.div>\n    );\n  }\n);\n\n// ============================================\n// STATS CARD\n// ============================================\n\nfunction StatsCard({ products }: { products: GuideProduct[] }) {\n  const essentialCount = products.filter(p => p.isBaseStack).length;\n  const categories = new Set(products.map(p => p.category)).size;\n\n  return (\n    <div className=\"rounded-[2rem] bg-neutral-900/40 border border-white/5 p-6\">\n      <div className=\"grid grid-cols-3 gap-4\">\n        <div className=\"text-center\">\n          <p className=\"text-3xl font-black text-cyan-400\">{products.length}</p>\n          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-500\">Products</p>\n        </div>\n        <div className=\"text-center border-x border-white/5\">\n          <p className=\"text-3xl font-black text-green-400\">{essentialCount}</p>\n          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-500\">Essential</p>\n        </div>\n        <div className=\"text-center\">\n          <p className=\"text-3xl font-black text-purple-400\">{categories}</p>\n          <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-500\">Categories</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// SHOP TAB\n// ============================================\n\nexport function ShopTab() {\n  const { gender } = useResults();\n  const [selectedCategory, setSelectedCategory] = useState<ProductCategory>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Get all products\n  const allProducts = useMemo(() => {\n    // Guide products are more complete, use those\n    return GUIDE_PRODUCTS.sort((a, b) => {\n      // Base stack items first\n      if (a.isBaseStack && !b.isBaseStack) return -1;\n      if (!a.isBaseStack && b.isBaseStack) return 1;\n      // Then by priority\n      return a.priority - b.priority;\n    });\n  }, []);\n\n  // Filter products\n  const filteredProducts = useMemo(() => {\n    let products = allProducts;\n\n    if (selectedCategory !== 'all') {\n      products = products.filter(p => mapCategory(p.category) === selectedCategory);\n    }\n\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      products = products.filter(p =>\n        p.name.toLowerCase().includes(query) ||\n        p.brand?.toLowerCase().includes(query) ||\n        p.tagline?.toLowerCase().includes(query) ||\n        p.description?.toLowerCase().includes(query)\n      );\n    }\n\n    return products;\n  }, [allProducts, selectedCategory, searchQuery]);\n\n  // Get products for hero bundles\n  const starterBundle = useMemo(() => {\n    return allProducts.filter(p => p.isBaseStack).slice(0, 4);\n  }, [allProducts]);\n\n  const skinBundle = useMemo(() => {\n    return allProducts.filter(p => p.category === 'skincare' || p.category === 'kbeauty').slice(0, 4);\n  }, [allProducts]);\n\n  const maleBundle = useMemo(() => {\n    return allProducts.filter(p =>\n      p.category === 'grooming' ||\n      p.category === 'beard' ||\n      p.category === 'hair'\n    ).slice(0, 4);\n  }, [allProducts]);\n\n  // Supplements bundle\n  const supplementBundle = useMemo(() => {\n    return allProducts.filter(p => p.category === 'supplements').slice(0, 4);\n  }, [allProducts]);\n\n  // Hair growth bundle (minoxidil, dermaroller, etc)\n  const hairBundle = useMemo(() => {\n    return allProducts.filter(p =>\n      p.category === 'hair' ||\n      p.name.toLowerCase().includes('minox') ||\n      p.name.toLowerCase().includes('derma')\n    ).slice(0, 4);\n  }, [allProducts]);\n\n  // Teeth/smile bundle\n  const teethBundle = useMemo(() => {\n    return allProducts.filter(p =>\n      p.category === 'teeth' ||\n      p.name.toLowerCase().includes('whiten') ||\n      p.name.toLowerCase().includes('tooth') ||\n      p.name.toLowerCase().includes('dental')\n    ).slice(0, 4);\n  }, [allProducts]);\n\n  return (\n    <TabContent\n      title=\"Shop\"\n      subtitle=\"Curated products to optimize your potential\"\n    >\n      <div className=\"space-y-10\">\n        {/* Stats */}\n        <StatsCard products={allProducts} />\n\n        {/* Hero Bundles */}\n        <section>\n          <SectionHeader title=\"Featured Bundles\">\n            <span className=\"px-3 py-1.5 bg-purple-500/20 border border-purple-500/30 text-purple-400 text-[10px] font-black uppercase tracking-wider rounded-lg\">\n              Save Up to 20%\n            </span>\n          </SectionHeader>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <HeroBundleCard\n              title=\"Starter Stack\"\n              subtitle=\"The essentials for your enhancement journey\"\n              products={starterBundle}\n              savings={15}\n              gradient=\"bg-gradient-to-br from-cyan-600 to-blue-700\"\n              icon={<Zap size={24} className=\"text-white\" />}\n            />\n            <HeroBundleCard\n              title=\"Skin Protocol\"\n              subtitle=\"Complete skincare routine for clear skin\"\n              products={skinBundle}\n              savings={20}\n              gradient=\"bg-gradient-to-br from-rose-600 to-pink-700\"\n              icon={<Droplet size={24} className=\"text-white\" />}\n            />\n          </div>\n\n          {/* Second row of bundles */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6\">\n            {supplementBundle.length >= 4 && (\n              <HeroBundleCard\n                title=\"Supplement Stack\"\n                subtitle=\"Optimize hormones, skin, and recovery\"\n                products={supplementBundle}\n                savings={15}\n                gradient=\"bg-gradient-to-br from-green-600 to-emerald-700\"\n                icon={<Pill size={24} className=\"text-white\" />}\n              />\n            )}\n            {hairBundle.length >= 3 && (\n              <HeroBundleCard\n                title=\"Hair Growth Protocol\"\n                subtitle=\"Combat hair loss and boost density\"\n                products={hairBundle}\n                savings={18}\n                gradient=\"bg-gradient-to-br from-amber-600 to-orange-700\"\n                icon={<TrendingUp size={24} className=\"text-white\" />}\n              />\n            )}\n          </div>\n\n          {/* Third row - gender specific */}\n          {gender === 'male' && maleBundle.length >= 4 && (\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6\">\n              <HeroBundleCard\n                title=\"Male Grooming Kit\"\n                subtitle=\"Essential grooming for peak appearance\"\n                products={maleBundle}\n                savings={15}\n                gradient=\"bg-gradient-to-br from-neutral-700 to-neutral-900\"\n                icon={<Scissors size={24} className=\"text-white\" />}\n              />\n              {teethBundle.length >= 2 && (\n                <HeroBundleCard\n                  title=\"Smile Makeover\"\n                  subtitle=\"Whiten and perfect your smile\"\n                  products={teethBundle}\n                  savings={12}\n                  gradient=\"bg-gradient-to-br from-violet-600 to-purple-700\"\n                  icon={<Smile size={24} className=\"text-white\" />}\n                />\n              )}\n            </div>\n          )}\n        </section>\n\n        {/* Why These Products */}\n        <section className=\"rounded-[2rem] bg-neutral-900/40 border border-white/5 p-6 md:p-8\">\n          <h3 className=\"text-sm font-black uppercase tracking-wider text-white mb-6 flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl bg-neutral-900 border border-white/10 flex items-center justify-center\">\n              <Shield size={18} className=\"text-cyan-400\" />\n            </div>\n            Why We Recommend These Products\n          </h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div className=\"flex items-start gap-4\">\n              <div className=\"w-8 h-8 rounded-lg bg-green-500/20 border border-green-500/30 flex items-center justify-center flex-shrink-0\">\n                <CheckCircle size={14} className=\"text-green-400\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-bold text-white mb-1\">Evidence-Based</p>\n                <p className=\"text-xs text-neutral-500\">Every product is backed by clinical research and real results</p>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-4\">\n              <div className=\"w-8 h-8 rounded-lg bg-cyan-500/20 border border-cyan-500/30 flex items-center justify-center flex-shrink-0\">\n                <TrendingUp size={14} className=\"text-cyan-400\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-bold text-white mb-1\">Results-Focused</p>\n                <p className=\"text-xs text-neutral-500\">Selected for maximum impact on your facial aesthetics</p>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-4\">\n              <div className=\"w-8 h-8 rounded-lg bg-purple-500/20 border border-purple-500/30 flex items-center justify-center flex-shrink-0\">\n                <Clock size={14} className=\"text-purple-400\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-bold text-white mb-1\">Time-Tested</p>\n                <p className=\"text-xs text-neutral-500\">Community-verified products with proven track records</p>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* Category Filter & Search */}\n        <section>\n          <SectionHeader title=\"Browse All Products\" />\n\n          {/* Category Pills */}\n          <div className=\"flex flex-wrap gap-2 mb-6\">\n            {CATEGORIES.map(cat => (\n              <button\n                key={cat.id}\n                onClick={() => setSelectedCategory(cat.id)}\n                className={`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-wider transition-all border flex items-center gap-2 ${selectedCategory === cat.id\n                  ? 'bg-cyan-500 text-black border-cyan-400'\n                  : 'bg-neutral-900/50 text-neutral-400 border-white/5 hover:border-white/10 hover:text-white'\n                  }`}\n              >\n                {cat.icon}\n                {cat.label}\n              </button>\n            ))}\n          </div>\n\n          {/* Search */}\n          <div className=\"relative mb-8\">\n            <Search size={16} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-500\" />\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search products...\"\n              className=\"w-full pl-11 pr-4 py-3 bg-neutral-900/50 border border-white/5 rounded-xl text-sm text-white placeholder:text-neutral-600 focus:outline-none focus:border-cyan-500/30\"\n            />\n          </div>\n\n          {/* Results Count */}\n          <div className=\"flex items-center justify-between mb-6\">\n            <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-500\">\n              {filteredProducts.length} Products\n            </p>\n          </div>\n\n          {/* Products Grid */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            <AnimatePresence mode=\"popLayout\">\n              {filteredProducts.map((product, idx) => (\n                <ProductCard\n                  key={product.id}\n                  product={product}\n                  rank={selectedCategory === 'all' ? undefined : idx + 1}\n                  isRecommended={product.isBaseStack}\n                />\n              ))}\n            </AnimatePresence>\n          </div>\n\n          {filteredProducts.length === 0 && (\n            <div className=\"text-center py-16\">\n              <div className=\"w-16 h-16 rounded-2xl bg-neutral-900 border border-white/10 flex items-center justify-center mx-auto mb-5\">\n                <Search size={28} className=\"text-neutral-600\" />\n              </div>\n              <h3 className=\"text-lg font-black uppercase tracking-wider text-white mb-2\">No Products Found</h3>\n              <p className=\"text-[10px] font-bold uppercase tracking-wider text-neutral-600\">\n                Try adjusting your search or category filter\n              </p>\n            </div>\n          )}\n        </section>\n\n        {/* Affiliate Disclosure */}\n        <section className=\"p-6 rounded-2xl bg-neutral-900/40 border border-white/5\">\n          <p className=\"text-xs text-neutral-500 leading-relaxed\">\n            <strong className=\"text-neutral-400\">Affiliate Disclosure:</strong> We may earn a commission when you purchase through our links. This helps support PROJECT CASSANOVA at no extra cost to you. We only recommend products we believe in and have thoroughly researched.\n          </p>\n        </section>\n      </div>\n    </TabContent>\n  );\n}\n","numLines":614,"startLine":1,"totalLines":614}}}
{"parentUuid":"960c74ad-de93-416e-af6e-41273e4fae40","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01A4SUtQEZQaJCCjkG1yLxpj","type":"tool_result","content":"     1→'use client';\n     2→\n     3→import { motion } from 'framer-motion';\n     4→import { ProductRecommendation } from '@/types/results';\n     5→import { ExternalLink, TrendingUp, Shield, DollarSign, Clock } from 'lucide-react';\n     6→import { getSupplementDetails } from '@/lib/daily-stack';\n     7→\n     8→interface ProductCardProps {\n     9→  recommendation: ProductRecommendation;\n    10→  rank?: number;\n    11→  compact?: boolean;\n    12→}\n    13→\n    14→export function ProductCard({ recommendation, rank, compact = false }: ProductCardProps) {\n    15→  const { product, state, message } = recommendation;\n    16→  const supplement = getSupplementDetails(product.supplementId);\n    17→\n    18→  // State-based styling\n    19→  const isCorrectiveState = state === 'flaw';\n    20→  const stateBadgeColor = isCorrectiveState\n    21→    ? 'bg-red-500/20 text-red-400 border-red-500/30'\n    22→    : 'bg-green-500/20 text-green-400 border-green-500/30';\n    23→  const stateBadgeText = isCorrectiveState ? 'Corrective' : 'Maintenance';\n    24→  const StateIcon = isCorrectiveState ? TrendingUp : Shield;\n    25→\n    26→  // CTA text\n    27→  const ctaText = product.affiliateType === 'amazon' ? 'View on Amazon' : 'Shop Direct';\n    28→\n    29→  // Compact mode for embedded use in WeakPointCard\n    30→  if (compact) {\n    31→    return (\n    32→      <motion.a\n    33→        href={product.affiliateLink}\n    34→        target=\"_blank\"\n    35→        rel=\"noopener noreferrer\"\n    36→        className=\"flex items-center gap-3 p-3 bg-neutral-800/50 rounded-lg hover:bg-neutral-800 transition-colors group\"\n    37→        whileHover={{ scale: 1.02 }}\n    38→      >\n    39→        <div className=\"flex-1 min-w-0\">\n    40→          <div className=\"flex items-center gap-2\">\n    41→            <h4 className=\"text-sm font-medium text-white truncate\">{product.name}</h4>\n    42→            <div className={`px-1.5 py-0.5 rounded text-xs font-medium ${stateBadgeColor}`}>\n    43→              {isCorrectiveState ? 'Fix' : 'Protect'}\n    44→            </div>\n    45→          </div>\n    46→          <p className=\"text-xs text-neutral-400 truncate\">{product.brand}</p>\n    47→        </div>\n    48→        {supplement && (\n    49→          <div className=\"text-right flex-shrink-0\">\n    50→            <p className=\"text-sm font-medium text-white\">\n    51→              ${supplement.costPerMonth.min}/mo\n    52→            </p>\n    53→          </div>\n    54→        )}\n    55→        <ExternalLink size={14} className=\"text-neutral-500 group-hover:text-cyan-400 transition-colors flex-shrink-0\" />\n    56→      </motion.a>\n    57→    );\n    58→  }\n    59→\n    60→  return (\n    61→    <motion.div\n    62→      className=\"bg-gradient-to-br from-neutral-900 to-neutral-950 border border-neutral-800 rounded-xl p-5 hover:border-neutral-700 transition-all\"\n    63→      whileHover={{ y: -2 }}\n    64→    >\n    65→      {/* Header */}\n    66→      <div className=\"flex items-start justify-between mb-3\">\n    67→        <div className=\"flex-1\">\n    68→          <div className=\"flex items-center gap-2 mb-1\">\n    69→            {rank && (\n    70→              <div className=\"w-6 h-6 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0\">\n    71→                <span className=\"text-xs font-bold text-cyan-400\">{rank}</span>\n    72→              </div>\n    73→            )}\n    74→            <h3 className=\"font-semibold text-white\">{product.name}</h3>\n    75→          </div>\n    76→          <p className=\"text-sm text-neutral-400\">{product.brand}</p>\n    77→        </div>\n    78→\n    79→        <div className={`px-2 py-1 rounded-lg border text-xs font-medium flex items-center gap-1 ${stateBadgeColor}`}>\n    80→          <StateIcon size={12} />\n    81→          {stateBadgeText}\n    82→        </div>\n    83→      </div>\n    84→\n    85→      {/* Message */}\n    86→      <div className=\"mb-4\">\n    87→        <p className=\"text-sm text-neutral-300\">{message}</p>\n    88→        <p className=\"text-xs text-neutral-500 mt-1\">\n    89→          Targets: {recommendation.matchedMetrics.slice(0, 3).join(', ')}\n    90→          {recommendation.matchedMetrics.length > 3 && ` +${recommendation.matchedMetrics.length - 3} more`}\n    91→        </p>\n    92→      </div>\n    93→\n    94→      {/* Quick Stats */}\n    95→      {supplement && (\n    96→        <div className=\"grid grid-cols-3 gap-3 mb-4\">\n    97→          <div className=\"bg-neutral-800/50 rounded-lg p-2\">\n    98→            <div className=\"flex items-center gap-1 text-neutral-400 mb-1\">\n    99→              <DollarSign size={12} />\n   100→              <span className=\"text-xs\">Cost</span>\n   101→            </div>\n   102→            <p className=\"text-sm font-medium text-white\">\n   103→              ${supplement.costPerMonth.min}-${supplement.costPerMonth.max}/mo\n   104→            </p>\n   105→          </div>\n   106→\n   107→          <div className=\"bg-neutral-800/50 rounded-lg p-2\">\n   108→            <div className=\"flex items-center gap-1 text-neutral-400 mb-1\">\n   109→              <Clock size={12} />\n   110→              <span className=\"text-xs\">Timeline</span>\n   111→            </div>\n   112→            <p className=\"text-sm font-medium text-white\">{supplement.timelineToResults}</p>\n   113→          </div>\n   114→\n   115→          <div className=\"bg-neutral-800/50 rounded-lg p-2\">\n   116→            <div className=\"text-neutral-400 mb-1 text-xs\">Dosage</div>\n   117→            <p className=\"text-sm font-medium text-white\">{supplement.dosage}</p>\n   118→          </div>\n   119→        </div>\n   120→      )}\n   121→\n   122→      {/* CTA Button */}\n   123→      <a\n   124→        href={product.affiliateLink}\n   125→        target=\"_blank\"\n   126→        rel=\"noopener noreferrer\"\n   127→        className=\"block w-full bg-cyan-500 hover:bg-cyan-400 text-black font-medium py-2.5 px-4 rounded-lg transition-colors text-center\"\n   128→      >\n   129→        <span className=\"flex items-center justify-center gap-2\">\n   130→          {ctaText}\n   131→          <ExternalLink size={16} />\n   132→        </span>\n   133→      </a>\n   134→\n   135→      {/* Affiliate Disclosure */}\n   136→      <p className=\"text-xs text-neutral-600 text-center mt-2\">\n   137→        We may earn a commission from purchases made through this link.\n   138→      </p>\n   139→    </motion.div>\n   140→  );\n   141→}\n   142→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"75a0a9b8-127f-4a92-9032-358602cf0fed","timestamp":"2025-12-28T05:53:21.207Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/cards/ProductCard.tsx","content":"'use client';\n\nimport { motion } from 'framer-motion';\nimport { ProductRecommendation } from '@/types/results';\nimport { ExternalLink, TrendingUp, Shield, DollarSign, Clock } from 'lucide-react';\nimport { getSupplementDetails } from '@/lib/daily-stack';\n\ninterface ProductCardProps {\n  recommendation: ProductRecommendation;\n  rank?: number;\n  compact?: boolean;\n}\n\nexport function ProductCard({ recommendation, rank, compact = false }: ProductCardProps) {\n  const { product, state, message } = recommendation;\n  const supplement = getSupplementDetails(product.supplementId);\n\n  // State-based styling\n  const isCorrectiveState = state === 'flaw';\n  const stateBadgeColor = isCorrectiveState\n    ? 'bg-red-500/20 text-red-400 border-red-500/30'\n    : 'bg-green-500/20 text-green-400 border-green-500/30';\n  const stateBadgeText = isCorrectiveState ? 'Corrective' : 'Maintenance';\n  const StateIcon = isCorrectiveState ? TrendingUp : Shield;\n\n  // CTA text\n  const ctaText = product.affiliateType === 'amazon' ? 'View on Amazon' : 'Shop Direct';\n\n  // Compact mode for embedded use in WeakPointCard\n  if (compact) {\n    return (\n      <motion.a\n        href={product.affiliateLink}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"flex items-center gap-3 p-3 bg-neutral-800/50 rounded-lg hover:bg-neutral-800 transition-colors group\"\n        whileHover={{ scale: 1.02 }}\n      >\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2\">\n            <h4 className=\"text-sm font-medium text-white truncate\">{product.name}</h4>\n            <div className={`px-1.5 py-0.5 rounded text-xs font-medium ${stateBadgeColor}`}>\n              {isCorrectiveState ? 'Fix' : 'Protect'}\n            </div>\n          </div>\n          <p className=\"text-xs text-neutral-400 truncate\">{product.brand}</p>\n        </div>\n        {supplement && (\n          <div className=\"text-right flex-shrink-0\">\n            <p className=\"text-sm font-medium text-white\">\n              ${supplement.costPerMonth.min}/mo\n            </p>\n          </div>\n        )}\n        <ExternalLink size={14} className=\"text-neutral-500 group-hover:text-cyan-400 transition-colors flex-shrink-0\" />\n      </motion.a>\n    );\n  }\n\n  return (\n    <motion.div\n      className=\"bg-gradient-to-br from-neutral-900 to-neutral-950 border border-neutral-800 rounded-xl p-5 hover:border-neutral-700 transition-all\"\n      whileHover={{ y: -2 }}\n    >\n      {/* Header */}\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex-1\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            {rank && (\n              <div className=\"w-6 h-6 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0\">\n                <span className=\"text-xs font-bold text-cyan-400\">{rank}</span>\n              </div>\n            )}\n            <h3 className=\"font-semibold text-white\">{product.name}</h3>\n          </div>\n          <p className=\"text-sm text-neutral-400\">{product.brand}</p>\n        </div>\n\n        <div className={`px-2 py-1 rounded-lg border text-xs font-medium flex items-center gap-1 ${stateBadgeColor}`}>\n          <StateIcon size={12} />\n          {stateBadgeText}\n        </div>\n      </div>\n\n      {/* Message */}\n      <div className=\"mb-4\">\n        <p className=\"text-sm text-neutral-300\">{message}</p>\n        <p className=\"text-xs text-neutral-500 mt-1\">\n          Targets: {recommendation.matchedMetrics.slice(0, 3).join(', ')}\n          {recommendation.matchedMetrics.length > 3 && ` +${recommendation.matchedMetrics.length - 3} more`}\n        </p>\n      </div>\n\n      {/* Quick Stats */}\n      {supplement && (\n        <div className=\"grid grid-cols-3 gap-3 mb-4\">\n          <div className=\"bg-neutral-800/50 rounded-lg p-2\">\n            <div className=\"flex items-center gap-1 text-neutral-400 mb-1\">\n              <DollarSign size={12} />\n              <span className=\"text-xs\">Cost</span>\n            </div>\n            <p className=\"text-sm font-medium text-white\">\n              ${supplement.costPerMonth.min}-${supplement.costPerMonth.max}/mo\n            </p>\n          </div>\n\n          <div className=\"bg-neutral-800/50 rounded-lg p-2\">\n            <div className=\"flex items-center gap-1 text-neutral-400 mb-1\">\n              <Clock size={12} />\n              <span className=\"text-xs\">Timeline</span>\n            </div>\n            <p className=\"text-sm font-medium text-white\">{supplement.timelineToResults}</p>\n          </div>\n\n          <div className=\"bg-neutral-800/50 rounded-lg p-2\">\n            <div className=\"text-neutral-400 mb-1 text-xs\">Dosage</div>\n            <p className=\"text-sm font-medium text-white\">{supplement.dosage}</p>\n          </div>\n        </div>\n      )}\n\n      {/* CTA Button */}\n      <a\n        href={product.affiliateLink}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"block w-full bg-cyan-500 hover:bg-cyan-400 text-black font-medium py-2.5 px-4 rounded-lg transition-colors text-center\"\n      >\n        <span className=\"flex items-center justify-center gap-2\">\n          {ctaText}\n          <ExternalLink size={16} />\n        </span>\n      </a>\n\n      {/* Affiliate Disclosure */}\n      <p className=\"text-xs text-neutral-600 text-center mt-2\">\n        We may earn a commission from purchases made through this link.\n      </p>\n    </motion.div>\n  );\n}\n","numLines":142,"startLine":1,"totalLines":142}}}
{"parentUuid":"75a0a9b8-127f-4a92-9032-358602cf0fed","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014E8dCtmNhtLTVD5KYFgYRW","type":"tool_result","content":"     1→/**\n     2→ * Product Registry for Guides System\n     3→ * 73 products with multi-region affiliate links and Ross-style taglines\n     4→ * Categories: hygiene, grooming, skincare, miscellaneous, supplements, hair, beard, teeth, kbeauty, hormonal, surgery\n     5→ */\n     6→\n     7→import { GuideProduct, ProductCategory } from '@/types/guides';\n     8→import { buildAmazonUrl } from '@/lib/region';\n     9→\n    10→// ============================================\n    11→// AMAZON ASIN MAPPING BY REGION\n    12→// ============================================\n    13→\n    14→interface ProductASINs {\n    15→  us?: string;\n    16→  uk?: string;\n    17→  de?: string;\n    18→  fr?: string;\n    19→  au?: string;\n    20→}\n    21→\n    22→// Regions that have Amazon stores with ASINs\n    23→type AmazonRegion = 'us' | 'uk' | 'de' | 'fr' | 'au';\n    24→const AMAZON_REGIONS: AmazonRegion[] = ['us', 'uk', 'de', 'fr', 'au'];\n    25→\n    26→// Helper to build region links from ASINs\n    27→function buildRegionLinks(asins: ProductASINs): Record<string, string> {\n    28→  const links: Record<string, string> = {};\n    29→\n    30→  AMAZON_REGIONS.forEach(region => {\n    31→    const asin = asins[region] || asins.us; // Fallback to US ASIN\n    32→    if (asin) {\n    33→      links[region] = buildAmazonUrl(asin, region);\n    34→    }\n    35→  });\n    36→\n    37→  // Asia uses US ASIN on amzn.asia domain\n    38→  if (asins.us) {\n    39→    links['asia'] = buildAmazonUrl(asins.us, 'asia');\n    40→  }\n    41→\n    42→  return links;\n    43→}\n    44→\n    45→// ============================================\n    46→// PRODUCT DATABASE (33 Products)\n    47→// ============================================\n    48→\n    49→export const GUIDE_PRODUCTS: GuideProduct[] = [\n    50→  // ============================================\n    51→  // HYGIENE (4 products)\n    52→  // ============================================\n    53→  {\n    54→    id: 'tongue_scraper',\n    55→    name: 'Stainless Steel Tongue Scraper',\n    56→    brand: 'MasterMedi',\n    57→    category: 'hygiene',\n    58→    tagline: \"Your breath is out here committing war crimes and you don't even know it.\",\n    59→    description: 'Medical-grade stainless steel tongue scraper. Removes bacteria and sulfur compounds that cause bad breath. Takes 10 seconds, lasts forever.',\n    60→    priority: 1,\n    61→    priceRange: { min: 7, max: 12, currency: 'USD' },\n    62→    regionLinks: buildRegionLinks({\n    63→      us: 'B091G5CH14',\n    64→      uk: 'B091G5CH14',\n    65→      de: 'B091G5CH14',\n    66→      fr: 'B091G5CH14',\n    67→      au: 'B091G5CH14',\n    68→    }),\n    69→    imageUrl: 'https://images.unsplash.com/photo-1609587312208-cea54be969e7?w=200&h=200&fit=crop',\n    70→    isBaseStack: true,\n    71→  },\n    72→  {\n    73→    id: 'cologne_bleu',\n    74→    name: 'Bleu de Chanel EDT',\n    75→    brand: 'Chanel',\n    76→    category: 'hygiene',\n    77→    tagline: \"Stop smelling like your high school gym locker. This ain't Axe bodyspray era anymore.\",\n    78→    description: 'Clean, versatile, universally liked. The safe choice that works for 99% of situations. Not cheap, but compliment-to-dollar ratio is unmatched.',\n    79→    priority: 2,\n    80→    priceRange: { min: 80, max: 150, currency: 'USD' },\n    81→    regionLinks: buildRegionLinks({\n    82→      us: 'B01N4P3WC3',\n    83→      uk: 'B01N4P3WC3',\n    84→      de: 'B01N4P3WC3',\n    85→      fr: 'B01N4P3WC3',\n    86→      au: 'B01N4P3WC3',\n    87→    }),\n    88→    imageUrl: 'https://images.unsplash.com/photo-1541643600914-78b084683601?w=200&h=200&fit=crop',\n    89→    isBaseStack: false,\n    90→  },\n    91→  {\n    92→    id: 'nitrile_gloves',\n    93→    name: 'Nitrile Examination Gloves',\n    94→    brand: 'Dealmed',\n    95→    category: 'hygiene',\n    96→    tagline: \"For when you're touching your face with tretinoin hands. Your pillowcase will thank you.\",\n    97→    description: 'Black nitrile gloves for skincare application. Prevents product waste and keeps actives off your hands.',\n    98→    priority: 3,\n    99→    priceRange: { min: 12, max: 20, currency: 'USD' },\n   100→    regionLinks: buildRegionLinks({\n   101→      us: 'B08BZNM84F',\n   102→      uk: 'B08BZNM84F',\n   103→      de: 'B08BZNM84F',\n   104→      fr: 'B08BZNM84F',\n   105→      au: 'B08BZNM84F',\n   106→    }),\n   107→    imageUrl: 'https://images.unsplash.com/photo-1584820927498-cfe5211fd8bf?w=200&h=200&fit=crop',\n   108→    isBaseStack: false,\n   109→  },\n   110→  {\n   111→    id: 'electric_toothbrush',\n   112→    name: 'Oral-B iO Series 5',\n   113→    brand: 'Oral-B',\n   114→    category: 'hygiene',\n   115→    tagline: \"Manual toothbrush in 2024 is NPC behavior. Your teeth deserve better.\",\n   116→    description: 'Pressure sensor prevents gum damage, timer ensures 2-minute brushing. Objectively cleans better than manual brushing.',\n   117→    priority: 1,\n   118→    priceRange: { min: 100, max: 150, currency: 'USD' },\n   119→    regionLinks: buildRegionLinks({\n   120→      us: 'B09LPHZ2MC',\n   121→      uk: 'B09MVKX5KV',\n   122→      de: 'B09MVKX5KV',\n   123→      fr: 'B09MVKX5KV',\n   124→      au: 'B09LPHZ2MC',\n   125→    }),\n   126→    imageUrl: 'https://images.unsplash.com/photo-1559467234-f7c94a27c96c?w=200&h=200&fit=crop',\n   127→    isBaseStack: true,\n   128→  },\n   129→\n   130→  // ============================================\n   131→  // GROOMING (5 products)\n   132→  // ============================================\n   133→  {\n   134→    id: 'philips_oneblade',\n   135→    name: 'Philips OneBlade Pro',\n   136→    brand: 'Philips',\n   137→    category: 'grooming',\n   138→    tagline: \"The Swiss Army knife of face maintenance. Trim, edge, shave—it does everything except your taxes.\",\n   139→    description: 'Trims any length, shaves close without irritation. Perfect for maintaining stubble at exact length. Replaceable blades last 4 months.',\n   140→    priority: 1,\n   141→    priceRange: { min: 50, max: 80, currency: 'USD' },\n   142→    regionLinks: buildRegionLinks({\n   143→      us: 'B07W8ZBHSF',\n   144→      uk: 'B0B12WJBQ3',\n   145→      de: 'B0B12WJBQ3',\n   146→      fr: 'B0B12WJBQ3',\n   147→      au: 'B07W8ZBHSF',\n   148→    }),\n   149→    imageUrl: 'https://images.unsplash.com/photo-1621607505837-2456a9e7b4e7?w=200&h=200&fit=crop',\n   150→    isBaseStack: true,\n   151→  },\n   152→  {\n   153→    id: 'oneblade_blades',\n   154→    name: 'OneBlade Replacement Blades (3-Pack)',\n   155→    brand: 'Philips',\n   156→    category: 'grooming',\n   157→    tagline: \"Dull blades are giving more irritation than your ex. Stock up.\",\n   158→    description: 'Genuine Philips replacement blades. Each lasts 3-4 months. Keep 2-3 on hand so you never suffer with a dull blade.',\n   159→    priority: 2,\n   160→    priceRange: { min: 25, max: 40, currency: 'USD' },\n   161→    regionLinks: buildRegionLinks({\n   162→      us: 'B01D328BG6',\n   163→      uk: 'B01D328BG6',\n   164→      de: 'B01D328BG6',\n   165→      fr: 'B01D328BG6',\n   166→      au: 'B01D328BG6',\n   167→    }),\n   168→    imageUrl: 'https://images.unsplash.com/photo-1585747860715-2ba37e788b70?w=200&h=200&fit=crop',\n   169→    isBaseStack: false,\n   170→  },\n   171→  {\n   172→    id: 'shaving_cream',\n   173→    name: 'Cremo Original Shave Cream',\n   174→    brand: 'Cremo',\n   175→    category: 'grooming',\n   176→    tagline: \"If you're using canned foam, you're basically dry shaving with extra steps.\",\n   177→    description: 'Concentrated cream formula provides incredible glide. A dime-size amount covers your entire face. No lather required.',\n   178→    priority: 2,\n   179→    priceRange: { min: 8, max: 12, currency: 'USD' },\n   180→    regionLinks: buildRegionLinks({\n   181→      us: 'B00JG2URCO',\n   182→      uk: 'B00JG2URCO',\n   183→      de: 'B00JG2URCO',\n   184→      fr: 'B00JG2URCO',\n   185→      au: 'B00JG2URCO',\n   186→    }),\n   187→    imageUrl: 'https://images.unsplash.com/photo-1598440947619-2c35fc9aa908?w=200&h=200&fit=crop',\n   188→    isBaseStack: false,\n   189→  },\n   190→  {\n   191→    id: 'tweezers',\n   192→    name: 'Tweezerman Slant Tweezers',\n   193→    brand: 'Tweezerman',\n   194→    category: 'grooming',\n   195→    tagline: \"Unibrow is not a look, chief. These tweezers are surgical precision.\",\n   196→    description: \"The industry standard. Perfectly aligned tips grab every hair first try. Lifetime sharpening guarantee—you'll never buy another pair.\",\n   197→    priority: 2,\n   198→    priceRange: { min: 20, max: 30, currency: 'USD' },\n   199→    regionLinks: buildRegionLinks({\n   200→      us: 'B000BNKHNG',\n   201→      uk: 'B000BNKHNG',\n   202→      de: 'B000BNKHNG',\n   203→      fr: 'B000BNKHNG',\n   204→      au: 'B000BNKHNG',\n   205→    }),\n   206→    imageUrl: 'https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=200&h=200&fit=crop',\n   207→    isBaseStack: true,\n   208→  },\n   209→  {\n   210→    id: 'nose_trimmer',\n   211→    name: 'Panasonic Nose & Ear Trimmer',\n   212→    brand: 'Panasonic',\n   213→    category: 'grooming',\n   214→    tagline: \"Nostril tentacles waving at people mid-conversation is an instant mog-killer.\",\n   215→    description: 'Wet/dry capable, dual-edge blade gets every angle. Takes 30 seconds once a week. Non-negotiable maintenance.',\n   216→    priority: 1,\n   217→    priceRange: { min: 15, max: 25, currency: 'USD' },\n   218→    regionLinks: buildRegionLinks({\n   219→      us: 'B0049KWTOW',\n   220→      uk: 'B0049KWTOW',\n   221→      de: 'B0049KWTOW',\n   222→      fr: 'B0049KWTOW',\n   223→      au: 'B0049KWTOW',\n   224→    }),\n   225→    imageUrl: 'https://images.unsplash.com/photo-1572635196243-4dd75fbdbd7f?w=200&h=200&fit=crop',\n   226→    isBaseStack: true,\n   227→  },\n   228→\n   229→  // ============================================\n   230→  // SKINCARE (5 products)\n   231→  // ============================================\n   232→  {\n   233→    id: 'cerave_cleanser',\n   234→    name: 'CeraVe Foaming Facial Cleanser',\n   235→    brand: 'CeraVe',\n   236→    category: 'skincare',\n   237→    tagline: \"Skincare for people who don't want to think about skincare. Dermatologists are boring, but they're right.\",\n   238→    description: 'pH-balanced, non-stripping, contains ceramides. Works for 90% of people. If it breaks you out, you might be the exception—switch to Hydrating version.',\n   239→    priority: 1,\n   240→    priceRange: { min: 12, max: 18, currency: 'USD' },\n   241→    regionLinks: buildRegionLinks({\n   242→      us: 'B01N1LL62W',\n   243→      uk: 'B01N1LL62W',\n   244→      de: 'B07G14BL7M',\n   245→      fr: 'B07G14BL7M',\n   246→      au: 'B01N1LL62W',\n   247→    }),\n   248→    imageUrl: 'https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=200&h=200&fit=crop',\n   249→    isBaseStack: true,\n   250→  },\n   251→  {\n   252→    id: 'aquaphor_lip',\n   253→    name: 'Aquaphor Lip Repair',\n   254→    brand: 'Aquaphor',\n   255→    category: 'skincare',\n   256→    tagline: \"Crusty lips are sabotaging your face. This is literally 5 dollars. Lock in.\",\n   257→    description: 'Occlusive healing ointment that actually works. Apply at night for overnight lip repair. Better than any flavored chapstick.',\n   258→    priority: 1,\n   259→    priceRange: { min: 4, max: 7, currency: 'USD' },\n   260→    regionLinks: buildRegionLinks({\n   261→      us: 'B006IB5T4W',\n   262→      uk: 'B0107QP1VE',\n   263→      de: 'B0107QP1VE',\n   264→      fr: 'B0107QP1VE',\n   265→      au: 'B006IB5T4W',\n   266→    }),\n   267→    imageUrl: 'https://images.unsplash.com/photo-1619451334792-150fd785ee74?w=200&h=200&fit=crop',\n   268→    isBaseStack: true,\n   269→  },\n   270→  {\n   271→    id: 'cerave_moisturizer',\n   272→    name: 'CeraVe PM Facial Moisturizer',\n   273→    brand: 'CeraVe',\n   274→    category: 'skincare',\n   275→    tagline: \"Your skin barrier is either your best friend or your worst enemy. Feed it.\",\n   276→    description: 'Lightweight, non-comedogenic, contains niacinamide for barrier repair. Works AM or PM despite the name. Pairs perfectly with tretinoin.',\n   277→    priority: 1,\n   278→    priceRange: { min: 14, max: 20, currency: 'USD' },\n   279→    regionLinks: buildRegionLinks({\n   280→      us: 'B00365DABC',\n   281→      uk: 'B00365DABC',\n   282→      de: 'B01MSQDQNR',\n   283→      fr: 'B01MSQDQNR',\n   284→      au: 'B00365DABC',\n   285→    }),\n   286→    imageUrl: 'https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?w=200&h=200&fit=crop',\n   287→    isBaseStack: true,\n   288→  },\n   289→  {\n   290→    id: 'sunscreen_elta',\n   291→    name: 'EltaMD UV Clear SPF 46',\n   292→    brand: 'EltaMD',\n   293→    category: 'skincare',\n   294→    tagline: \"Sun damage is the biggest scam your skin is running on your future self. Block it.\",\n   295→    description: 'Lightweight, no white cast, contains niacinamide. The gold standard for acne-prone skin. Yes, you need it even on cloudy days.',\n   296→    priority: 1,\n   297→    priceRange: { min: 35, max: 45, currency: 'USD' },\n   298→    regionLinks: buildRegionLinks({\n   299→      us: 'B002MSN3QQ',\n   300→      uk: 'B002MSN3QQ',\n   301→      de: 'B002MSN3QQ',\n   302→      fr: 'B002MSN3QQ',\n   303→      au: 'B002MSN3QQ',\n   304→    }),\n   305→    imageUrl: 'https://images.unsplash.com/photo-1556229012-50dd2016dbfb?w=200&h=200&fit=crop',\n   306→    isBaseStack: true,\n   307→  },\n   308→  {\n   309→    id: 'tretinoin_guide',\n   310→    name: 'Tretinoin 0.025% Cream',\n   311→    brand: 'Generic',\n   312→    category: 'skincare',\n   313→    tagline: \"The nuclear option for skin. Start low, go slow, or enjoy looking like a molting lizard.\",\n   314→    description: 'Prescription retinoid that actually reverses aging and clears acne. Requires gradual introduction—start 2x/week, work up to nightly over 3 months.',\n   315→    priority: 2,\n   316→    priceRange: { min: 20, max: 80, currency: 'USD' },\n   317→    regionLinks: {},\n   318→    directLink: 'https://www.goodrx.com/tretinoin?ref=looksmaxx',\n   319→    imageUrl: 'https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=200&h=200&fit=crop',\n   320→    isBaseStack: false,\n   321→  },\n   322→\n   323→  // ============================================\n   324→  // MISCELLANEOUS (9 products)\n   325→  // ============================================\n   326→  {\n   327→    id: 'water_jug',\n   328→    name: 'Half Gallon Water Bottle',\n   329→    brand: 'Venture Pal',\n   330→    category: 'miscellaneous',\n   331→    tagline: \"You're not drinking enough water. Yes, you. Your face is literally retaining fluid to compensate.\",\n   332→    description: 'Time markers keep you on track. BPA-free, leak-proof. Drink one full jug by 5pm, another by bedtime. Non-negotiable.',\n   333→    priority: 1,\n   334→    priceRange: { min: 15, max: 25, currency: 'USD' },\n   335→    regionLinks: buildRegionLinks({\n   336→      us: 'B09D3VZ79R',\n   337→      uk: 'B09D3VZ79R',\n   338→      de: 'B09D3VZ79R',\n   339→      fr: 'B09D3VZ79R',\n   340→      au: 'B09D3VZ79R',\n   341→    }),\n   342→    imageUrl: 'https://images.unsplash.com/photo-1523362628745-0c100150b504?w=200&h=200&fit=crop',\n   343→    isBaseStack: true,\n   344→  },\n   345→  {\n   346→    id: 'jaw_exerciser',\n   347→    name: 'Jawliner Jawline Exerciser',\n   348→    brand: 'Jawliner',\n   349→    category: 'miscellaneous',\n   350→    tagline: \"Listen, I need you to put down the mastic gum for a second if your jaw already looks like Minecraft Steve.\",\n   351→    description: 'Silicone jaw exerciser in 3 resistance levels. Start with beginner, progress monthly. 10-15 minutes daily. Check your FWHR—if it\\'s already high, skip this.',\n   352→    priority: 3,\n   353→    priceRange: { min: 15, max: 30, currency: 'USD' },\n   354→    regionLinks: buildRegionLinks({\n   355→      us: 'B08GY61JZS',\n   356→      uk: 'B08GY61JZS',\n   357→      de: 'B08GY61JZS',\n   358→      fr: 'B08GY61JZS',\n   359→      au: 'B08GY61JZS',\n   360→    }),\n   361→    imageUrl: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop',\n   362→    isBaseStack: false,\n   363→  },\n   364→  {\n   365→    id: 'gum_mastic',\n   366→    name: 'Mastic Gum (Greek Chios)',\n   367→    brand: 'Chios Mastiha',\n   368→    category: 'miscellaneous',\n   369→    tagline: \"The OG jaw workout. Greeks have been doing this for centuries. Your masseter will hate you.\",\n   370→    description: 'Natural tree resin from Chios island, Greece. Harder than regular gum—forces masseter development. 30-60 minutes daily. Jaw pump is real.',\n   371→    priority: 3,\n   372→    priceRange: { min: 15, max: 35, currency: 'USD' },\n   373→    regionLinks: buildRegionLinks({\n   374→      us: 'B07V5CTTRB',\n   375→      uk: 'B07V5CTTRB',\n   376→      de: 'B07V5CTTRB',\n   377→      fr: 'B07V5CTTRB',\n   378→      au: 'B07V5CTTRB',\n   379→    }),\n   380→    imageUrl: 'https://images.unsplash.com/photo-1571844307880-751c6d86f3f3?w=200&h=200&fit=crop',\n   381→    isBaseStack: false,\n   382→  },\n   383→  {\n   384→    id: 'minoxidil',\n   385→    name: 'Kirkland Minoxidil 5% Solution',\n   386→    brand: 'Kirkland',\n   387→    category: 'miscellaneous',\n   388→    tagline: \"Rogaine is the same formula at 3x the price. Don't be a marketing victim.\",\n   389→    description: 'Apply 1ml to scalp or beard area twice daily. Takes 3-6 months for visible results. Shedding phase is normal—push through.',\n   390→    priority: 2,\n   391→    priceRange: { min: 25, max: 50, currency: 'USD' },\n   392→    regionLinks: buildRegionLinks({\n   393→      us: 'B0CSXVT3XZ',\n   394→      uk: 'B0CSXVT3XZ',\n   395→      de: 'B0CSXVT3XZ',\n   396→      fr: 'B0CSXVT3XZ',\n   397→      au: 'B0CSXVT3XZ',\n   398→    }),\n   399→    imageUrl: 'https://images.unsplash.com/photo-1585751119414-ef2636f8aede?w=200&h=200&fit=crop',\n   400→    isBaseStack: false,\n   401→  },\n   402→  {\n   403→    id: 'dermaroller',\n   404→    name: '0.5mm Derma Roller',\n   405→    brand: 'Sdara',\n   406→    category: 'miscellaneous',\n   407→    tagline: \"Stabbing your scalp to grow hair sounds insane, but the science is actually solid.\",\n   408→    description: 'Use 1x per week on scalp to enhance minoxidil absorption. Replace every 3 months. Sanitize with isopropyl alcohol before each use.',\n   409→    priority: 2,\n   410→    priceRange: { min: 10, max: 20, currency: 'USD' },\n   411→    regionLinks: buildRegionLinks({\n   412→      us: 'B07Y1N4VLC',\n   413→      uk: 'B07Y1N4VLC',\n   414→      de: 'B07Y1N4VLC',\n   415→      fr: 'B07Y1N4VLC',\n   416→      au: 'B07Y1N4VLC',\n   417→    }),\n   418→    imageUrl: 'https://images.unsplash.com/photo-1616683693504-3ea7e9ad6fec?w=200&h=200&fit=crop',\n   419→    isBaseStack: false,\n   420→  },\n   421→  {\n   422→    id: 'posture_corrector',\n   423→    name: 'Posture Corrector',\n   424→    brand: 'Mercase',\n   425→    category: 'miscellaneous',\n   426→    tagline: \"You're reading this with your neck at a 45-degree angle. I know because I am too.\",\n   427→    description: 'Wear 30 mins daily to retrain posture. Not a permanent fix—you need to strengthen upper back. But good for building awareness.',\n   428→    priority: 3,\n   429→    priceRange: { min: 15, max: 30, currency: 'USD' },\n   430→    regionLinks: buildRegionLinks({\n   431→      us: 'B07P6D23C2',\n   432→      uk: 'B07P6D23C2',\n   433→      de: 'B07P6D23C2',\n   434→      fr: 'B07P6D23C2',\n   435→      au: 'B07P6D23C2',\n   436→    }),\n   437→    imageUrl: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=200&h=200&fit=crop',\n   438→    isBaseStack: false,\n   439→  },\n   440→  {\n   441→    id: 'sleep_mask',\n   442→    name: 'Manta Sleep Mask',\n   443→    brand: 'Manta',\n   444→    category: 'miscellaneous',\n   445→    tagline: \"Your sleep schedule is committing crimes against your face and you don't even know it.\",\n   446→    description: 'Zero light leakage, zero pressure on eyes. Adjustable eye cups work for all face shapes. Essential for deep sleep optimization.',\n   447→    priority: 2,\n   448→    priceRange: { min: 30, max: 40, currency: 'USD' },\n   449→    regionLinks: buildRegionLinks({\n   450→      us: 'B07GXQX1GD',\n   451→      uk: 'B07GXQX1GD',\n   452→      de: 'B07GXQX1GD',\n   453→      fr: 'B07GXQX1GD',\n   454→      au: 'B07GXQX1GD',\n   455→    }),\n   456→    imageUrl: 'https://images.unsplash.com/photo-1531353826977-0941b4779a1c?w=200&h=200&fit=crop',\n   457→    isBaseStack: false,\n   458→  },\n   459→  {\n   460→    id: 'silk_pillowcase',\n   461→    name: 'Silk Pillowcase',\n   462→    brand: 'Alaska Bear',\n   463→    category: 'miscellaneous',\n   464→    tagline: \"Cotton pillowcases are giving your skin friction damage while you sleep. Upgrade.\",\n   465→    description: '100% mulberry silk reduces friction on skin and hair. Less sleep creases, less frizz. Wash weekly on delicate cycle.',\n   466→    priority: 3,\n   467→    priceRange: { min: 20, max: 35, currency: 'USD' },\n   468→    regionLinks: buildRegionLinks({\n   469→      us: 'B00IJBTAG4',\n   470→      uk: 'B00IJBTAG4',\n   471→      de: 'B00IJBTAG4',\n   472→      fr: 'B00IJBTAG4',\n   473→      au: 'B00IJBTAG4',\n   474→    }),\n   475→    imageUrl: 'https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=200&h=200&fit=crop',\n   476→    isBaseStack: false,\n   477→  },\n   478→  {\n   479→    id: 'blue_light_glasses',\n   480→    name: 'Blue Light Blocking Glasses',\n   481→    brand: 'ANRRI',\n   482→    category: 'miscellaneous',\n   483→    tagline: \"Screen time at 11pm is telling your brain it's noon. These help, but also maybe just go to bed.\",\n   484→    description: 'Wear 2 hours before bed to reduce blue light exposure. Helps with sleep quality. Looks slightly ridiculous, works anyway.',\n   485→    priority: 3,\n   486→    priceRange: { min: 15, max: 25, currency: 'USD' },\n   487→    regionLinks: buildRegionLinks({\n   488→      us: 'B07KFXBDB8',\n   489→      uk: 'B07KFXBDB8',\n   490→      de: 'B07KFXBDB8',\n   491→      fr: 'B07KFXBDB8',\n   492→      au: 'B07KFXBDB8',\n   493→    }),\n   494→    imageUrl: 'https://images.unsplash.com/photo-1574258495973-f010dfbb5371?w=200&h=200&fit=crop',\n   495→    isBaseStack: false,\n   496→  },\n   497→  {\n   498→    id: 'food_scale',\n   499→    name: 'Digital Food Scale',\n   500→    brand: 'Etekcity',\n   501→    category: 'miscellaneous',\n   502→    tagline: \"Eyeballing portions is why you're at 18% body fat. At 11%, you ARE the good lighting.\",\n   503→    description: 'Accurate to 0.1g, tare function for easy measuring. Track protein intake properly. Essential for cutting to lean levels.',\n   504→    priority: 2,\n   505→    priceRange: { min: 10, max: 20, currency: 'USD' },\n   506→    regionLinks: buildRegionLinks({\n   507→      us: 'B0113UZJE2',\n   508→      uk: 'B0113UZJE2',\n   509→      de: 'B0113UZJE2',\n   510→      fr: 'B0113UZJE2',\n   511→      au: 'B0113UZJE2',\n   512→    }),\n   513→    imageUrl: 'https://images.unsplash.com/photo-1606917945122-6ea0c8f3bf1f?w=200&h=200&fit=crop',\n   514→    isBaseStack: false,\n   515→  },\n   516→\n   517→  // ============================================\n   518→  // SUPPLEMENTS (10 products)\n   519→  // ============================================\n   520→  {\n   521→    id: 'creatine_mono',\n   522→    name: 'Creatine Monohydrate',\n   523→    brand: 'Optimum Nutrition',\n   524→    category: 'supplements',\n   525→    tagline: \"The only supplement that actually does what it says. You'll look slightly bigger immediately. Yes, it's water. No, nobody can tell.\",\n   526→    description: '5g daily, no loading phase needed. Cognitive benefits too—studies show improved memory and processing speed. Costs $0.10/day. Lock in.',\n   527→    priority: 1,\n   528→    priceRange: { min: 20, max: 35, currency: 'USD' },\n   529→    regionLinks: buildRegionLinks({\n   530→      us: 'B002DYIZEO',\n   531→      uk: 'B002DYIZEO',\n   532→      de: 'B002DYIZEO',\n   533→      fr: 'B002DYIZEO',\n   534→      au: 'B002DYIZEO',\n   535→    }),\n   536→    imageUrl: 'https://images.unsplash.com/photo-1579722820308-d74e571900a9?w=200&h=200&fit=crop',\n   537→    isBaseStack: true,\n   538→  },\n   539→  {\n   540→    id: 'vitamin_d3_k2',\n   541→    name: 'Vitamin D3+K2',\n   542→    brand: 'Sports Research',\n   543→    category: 'supplements',\n   544→    tagline: \"Unless you work outside shirtless in summer, you're deficient. Get your levels checked, then take this.\",\n   545→    description: 'D3 for bone density and immune function, K2 directs calcium to bones (not arteries). 5000 IU D3 + 100mcg K2 daily.',\n   546→    priority: 1,\n   547→    priceRange: { min: 18, max: 28, currency: 'USD' },\n   548→    regionLinks: buildRegionLinks({\n   549→      us: 'B01N5P3E9X',\n   550→      uk: 'B01N5P3E9X',\n   551→      de: 'B01N5P3E9X',\n   552→      fr: 'B01N5P3E9X',\n   553→      au: 'B01N5P3E9X',\n   554→    }),\n   555→    imageUrl: 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=200&h=200&fit=crop',\n   556→    isBaseStack: true,\n   557→  },\n   558→  {\n   559→    id: 'magnesium_glycinate',\n   560→    name: 'Magnesium Glycinate',\n   561→    brand: \"Doctor's Best\",\n   562→    category: 'supplements',\n   563→    tagline: \"Most people are deficient and don't know it. Fixes sleep, reduces anxiety, stops eye twitches.\",\n   564→    description: 'Glycinate form for maximum absorption and minimal gut issues. 200-400mg before bed. The best sleep upgrade under $15.',\n   565→    priority: 1,\n   566→    priceRange: { min: 12, max: 20, currency: 'USD' },\n   567→    regionLinks: buildRegionLinks({\n   568→      us: 'B000BD0RT0',\n   569→      uk: 'B000BD0RT0',\n   570→      de: 'B000BD0RT0',\n   571→      fr: 'B000BD0RT0',\n   572→      au: 'B000BD0RT0',\n   573→    }),\n   574→    imageUrl: 'https://images.unsplash.com/photo-1559757175-7cb056fba93d?w=200&h=200&fit=crop',\n   575→    isBaseStack: true,\n   576→  },\n   577→  {\n   578→    id: 'omega3_fish_oil',\n   579→    name: 'Omega-3 Fish Oil',\n   580→    brand: 'Nordic Naturals',\n   581→    category: 'supplements',\n   582→    tagline: \"Your brain is 60% fat. Feed it the good stuff, not the seed oil garbage.\",\n   583→    description: 'High EPA/DHA concentration. Take 2-3 capsules with food. Reduces inflammation, supports brain function, helps skin glow.',\n   584→    priority: 1,\n   585→    priceRange: { min: 25, max: 40, currency: 'USD' },\n   586→    regionLinks: buildRegionLinks({\n   587→      us: 'B002CQU564',\n   588→      uk: 'B002CQU564',\n   589→      de: 'B002CQU564',\n   590→      fr: 'B002CQU564',\n   591→      au: 'B002CQU564',\n   592→    }),\n   593→    imageUrl: 'https://images.unsplash.com/photo-1577174881658-0f30ed549adc?w=200&h=200&fit=crop',\n   594→    isBaseStack: true,\n   595→  },\n   596→  {\n   597→    id: 'collagen_peptides',\n   598→    name: 'Collagen Peptides',\n   599→    brand: 'Vital Proteins',\n   600→    category: 'supplements',\n   601→    tagline: \"Your body stops making collagen at 25. After that, you're just slowly deflating unless you supplement.\",\n   602→    description: 'Type I & III collagen for skin elasticity and joint health. 20g daily in coffee or smoothie. Tasteless, dissolves instantly.',\n   603→    priority: 2,\n   604→    priceRange: { min: 25, max: 45, currency: 'USD' },\n   605→    regionLinks: buildRegionLinks({\n   606→      us: 'B00K9XZTW0',\n   607→      uk: 'B00K9XZTW0',\n   608→      de: 'B00K9XZTW0',\n   609→      fr: 'B00K9XZTW0',\n   610→      au: 'B00K9XZTW0',\n   611→    }),\n   612→    imageUrl: 'https://images.unsplash.com/photo-1607004468138-e7e23ea26947?w=200&h=200&fit=crop',\n   613→    isBaseStack: true,\n   614→  },\n   615→  {\n   616→    id: 'ashwagandha_ksm66',\n   617→    name: 'Ashwagandha KSM-66',\n   618→    brand: 'NOW Foods',\n   619→    category: 'supplements',\n   620→    tagline: \"Cortisol is wrecking your gains and your face. This adaptogen tells stress to calm down.\",\n   621→    description: 'KSM-66 is the gold standard extract. 600mg daily reduces cortisol, improves sleep, boosts testosterone (in men). Take in evening.',\n   622→    priority: 2,\n   623→    priceRange: { min: 15, max: 25, currency: 'USD' },\n   624→    regionLinks: buildRegionLinks({\n   625→      us: 'B01D0YJAD8',\n   626→      uk: 'B01D0YJAD8',\n   627→      de: 'B01D0YJAD8',\n   628→      fr: 'B01D0YJAD8',\n   629→      au: 'B01D0YJAD8',\n   630→    }),\n   631→    imageUrl: 'https://images.unsplash.com/photo-1471864190281-a93a3070b6de?w=200&h=200&fit=crop',\n   632→    isBaseStack: false,\n   633→  },\n   634→  {\n   635→    id: 'zinc_picolinate',\n   636→    name: 'Zinc Picolinate 30mg',\n   637→    brand: 'Thorne',\n   638→    category: 'supplements',\n   639→    tagline: \"Low zinc = low T = low everything. Get your levels checked, most gym bros are deficient.\",\n   640→    description: 'Picolinate form for superior absorption. Essential for testosterone, immune function, and skin healing. Take with food to avoid nausea.',\n   641→    priority: 2,\n   642→    priceRange: { min: 12, max: 20, currency: 'USD' },\n   643→    regionLinks: buildRegionLinks({\n   644→      us: 'B000FGWDQS',\n   645→      uk: 'B000FGWDQS',\n   646→      de: 'B000FGWDQS',\n   647→      fr: 'B000FGWDQS',\n   648→      au: 'B000FGWDQS',\n   649→    }),\n   650→    imageUrl: 'https://images.unsplash.com/photo-1550572017-edd951aa8f72?w=200&h=200&fit=crop',\n   651→    isBaseStack: false,\n   652→  },\n   653→  {\n   654→    id: 'vitamin_c_liposomal',\n   655→    name: 'Vitamin C (Liposomal)',\n   656→    brand: 'LivOn Labs',\n   657→    category: 'supplements',\n   658→    tagline: \"Regular vitamin C has like 20% absorption. Liposomal goes straight into your cells.\",\n   659→    description: 'Liposomal delivery system massively increases absorption. 1000mg daily for collagen synthesis and antioxidant protection.',\n   660→    priority: 2,\n   661→    priceRange: { min: 30, max: 45, currency: 'USD' },\n   662→    regionLinks: buildRegionLinks({\n   663→      us: 'B000CD9XGC',\n   664→      uk: 'B000CD9XGC',\n   665→      de: 'B000CD9XGC',\n   666→      fr: 'B000CD9XGC',\n   667→      au: 'B000CD9XGC',\n   668→    }),\n   669→    imageUrl: 'https://images.unsplash.com/photo-1587049352847-49f9a74abdd3?w=200&h=200&fit=crop',\n   670→    isBaseStack: false,\n   671→  },\n   672→  {\n   673→    id: 'melatonin_lowdose',\n   674→    name: 'Melatonin 0.5mg',\n   675→    brand: 'Life Extension',\n   676→    category: 'supplements',\n   677→    tagline: \"More is not better. 0.3-0.5mg works. Those 10mg pills are giving you grogginess, not sleep.\",\n   678→    description: 'Low-dose melatonin is more effective than high-dose. Take 30 mins before bed. Use for resetting circadian rhythm, not every night.',\n   679→    priority: 3,\n   680→    priceRange: { min: 8, max: 15, currency: 'USD' },\n   681→    regionLinks: buildRegionLinks({\n   682→      us: 'B001LXOHCE',\n   683→      uk: 'B001LXOHCE',\n   684→      de: 'B001LXOHCE',\n   685→      fr: 'B001LXOHCE',\n   686→      au: 'B001LXOHCE',\n   687→    }),\n   688→    imageUrl: 'https://images.unsplash.com/photo-1585435557343-3b348031d6c9?w=200&h=200&fit=crop',\n   689→    isBaseStack: false,\n   690→  },\n   691→  {\n   692→    id: 'l_theanine',\n   693→    name: 'L-Theanine 200mg',\n   694→    brand: 'NOW Foods',\n   695→    category: 'supplements',\n   696→    tagline: \"The chill without the drowsy. Pairs with caffeine for focus without the jitters.\",\n   697→    description: 'Amino acid from green tea that promotes calm focus. Take 100-200mg with coffee to smooth out the stimulant edge. No grogginess, just clarity.',\n   698→    priority: 2,\n   699→    priceRange: { min: 10, max: 18, currency: 'USD' },\n   700→    regionLinks: buildRegionLinks({\n   701→      us: 'B0013OQEO0',\n   702→      uk: 'B0013OQEO0',\n   703→      de: 'B0013OQEO0',\n   704→      fr: 'B0013OQEO0',\n   705→      au: 'B0013OQEO0',\n   706→    }),\n   707→    imageUrl: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=200&h=200&fit=crop',\n   708→    isBaseStack: false,\n   709→  },\n   710→  {\n   711→    id: 'protein_powder',\n   712→    name: 'Whey Protein Isolate',\n   713→    brand: 'Optimum Nutrition',\n   714→    category: 'supplements',\n   715→    tagline: \"1g per pound of bodyweight is the goal. This is the most efficient way to hit it.\",\n   716→    description: 'Gold standard whey isolate. 25g protein per scoop, low carb, fast absorbing. Take post-workout or whenever you need to hit your protein macro.',\n   717→    priority: 1,\n   718→    priceRange: { min: 30, max: 50, currency: 'USD' },\n   719→    regionLinks: buildRegionLinks({\n   720→      us: 'B000QSNYGI',\n   721→      uk: 'B000QSNYGI',\n   722→      de: 'B000QSNYGI',\n   723→      fr: 'B000QSNYGI',\n   724→      au: 'B000QSNYGI',\n   725→    }),\n   726→    imageUrl: 'https://images.unsplash.com/photo-1593095948071-474c5cc2989d?w=200&h=200&fit=crop',\n   727→    isBaseStack: true,\n   728→  },\n   729→  {\n   730→    id: 'nmn_supplement',\n   731→    name: 'NMN 250mg',\n   732→    brand: 'ProHealth Longevity',\n   733→    category: 'supplements',\n   734→    tagline: \"NAD+ declines 50% by age 50. This is the precursor your cells use to make more. Longevity science, not bro science.\",\n   735→    description: 'Nicotinamide Mononucleotide for cellular energy and DNA repair. 250-500mg daily. More relevant after 30 when NAD+ starts declining.',\n   736→    priority: 3,\n   737→    priceRange: { min: 40, max: 70, currency: 'USD' },\n   738→    regionLinks: buildRegionLinks({\n   739→      us: 'B08QRYWLF9',\n   740→      uk: 'B08QRYWLF9',\n   741→      de: 'B08QRYWLF9',\n   742→      fr: 'B08QRYWLF9',\n   743→      au: 'B08QRYWLF9',\n   744→    }),\n   745→    directLink: 'https://www.prohealthlongevity.com/products/nmn-pro-500?ref=looksmaxx',\n   746→    imageUrl: 'https://images.unsplash.com/photo-1631549916768-4119b2e5f926?w=200&h=200&fit=crop',\n   747→    isBaseStack: false,\n   748→  },\n   749→\n   750→  // ============================================\n   751→  // HAIR (8 products) - New\n   752→  // ============================================\n   753→  {\n   754→    id: 'kirkland_minoxidil',\n   755→    name: 'Kirkland Minoxidil 5%',\n   756→    brand: 'Kirkland',\n   757→    category: 'hair',\n   758→    tagline: \"The Big 3 starts here. At $4/month, there's no excuse not to try it if you're receding.\",\n   759→    description: '6-month supply of topical minoxidil. Apply to scalp 2x daily. Results in 4-6 months. The cost-effective gold standard.',\n   760→    priority: 1,\n   761→    priceRange: { min: 25, max: 40, currency: 'USD' },\n   762→    regionLinks: buildRegionLinks({ us: 'B00NWQB0UM', uk: 'B00NWQB0UM', de: 'B00NWQB0UM', fr: 'B00NWQB0UM', au: 'B00NWQB0UM' }),\n   763→    imageUrl: 'https://images.unsplash.com/photo-1585232004423-244e0e6904e3?w=200&h=200&fit=crop',\n   764→    isBaseStack: false,\n   765→  },\n   766→  {\n   767→    id: 'nizoral_shampoo',\n   768→    name: 'Nizoral 2% Ketoconazole Shampoo',\n   769→    brand: 'Nizoral',\n   770→    category: 'hair',\n   771→    tagline: \"Part of the Big 3. This isn't just dandruff shampoo—it's a mild DHT blocker for your scalp.\",\n   772→    description: 'Use 2-3x per week. Leave on scalp 3-5 mins before rinsing. Reduces scalp inflammation and DHT at the follicle level.',\n   773→    priority: 1,\n   774→    priceRange: { min: 15, max: 25, currency: 'USD' },\n   775→    regionLinks: buildRegionLinks({ us: 'B00AINMFAC', uk: 'B00AINMFAC', de: 'B00AINMFAC', fr: 'B00AINMFAC', au: 'B00AINMFAC' }),\n   776→    imageUrl: 'https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=200&h=200&fit=crop',\n   777→    isBaseStack: false,\n   778→  },\n   779→  {\n   780→    id: 'scalp_dermaroller',\n   781→    name: 'Scalp Derma Roller 1.5mm',\n   782→    brand: 'Koi Beauty',\n   783→    category: 'hair',\n   784→    tagline: \"Microneedling for your scalp. Sounds brutal, boosts minoxidil absorption by 4x.\",\n   785→    description: 'Use once weekly on thinning areas. Creates microchannels that enhance topical absorption. Replace every 2-3 months.',\n   786→    priority: 1,\n   787→    priceRange: { min: 12, max: 20, currency: 'USD' },\n   788→    regionLinks: buildRegionLinks({ us: 'B07B3QPMRY', uk: 'B07B3QPMRY', de: 'B07B3QPMRY', fr: 'B07B3QPMRY', au: 'B07B3QPMRY' }),\n   789→    imageUrl: 'https://images.unsplash.com/photo-1576426863848-c21f53c60b19?w=200&h=200&fit=crop',\n   790→    isBaseStack: false,\n   791→  },\n   792→  {\n   793→    id: 'biotin_10000',\n   794→    name: 'Biotin 10,000mcg',\n   795→    brand: 'Sports Research',\n   796→    category: 'hair',\n   797→    tagline: \"The most overhyped hair supplement. Won't regrow hair, but deficiency causes shedding.\",\n   798→    description: 'Take daily with food. Supports keratin production. More useful for nails than hair honestly, but cheap insurance.',\n   799→    priority: 2,\n   800→    priceRange: { min: 15, max: 25, currency: 'USD' },\n   801→    regionLinks: buildRegionLinks({ us: 'B00K0PQB0E', uk: 'B00K0PQB0E', de: 'B00K0PQB0E', fr: 'B00K0PQB0E', au: 'B00K0PQB0E' }),\n   802→    imageUrl: 'https://images.unsplash.com/photo-1550572017-4e8f0b0c0f7b?w=200&h=200&fit=crop',\n   803→    isBaseStack: false,\n   804→  },\n   805→  {\n   806→    id: 'rosemary_oil',\n   807→    name: 'Rosemary Essential Oil',\n   808→    brand: 'Handcraft',\n   809→    category: 'hair',\n   810→    tagline: \"Studies show it's as effective as minoxidil for some people. Mix with carrier oil, massage into scalp.\",\n   811→    description: 'Mix 5 drops with 1 tbsp carrier oil. Massage into scalp, leave 30+ mins or overnight. Cheaper natural alternative.',\n   812→    priority: 2,\n   813→    priceRange: { min: 10, max: 18, currency: 'USD' },\n   814→    regionLinks: buildRegionLinks({ us: 'B08Y8M2V6S', uk: 'B08Y8M2V6S', de: 'B08Y8M2V6S', fr: 'B08Y8M2V6S', au: 'B08Y8M2V6S' }),\n   815→    imageUrl: 'https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=200&h=200&fit=crop',\n   816→    isBaseStack: false,\n   817→  },\n   818→  {\n   819→    id: 'rogaine_foam',\n   820→    name: 'Rogaine Foam 5%',\n   821→    brand: 'Rogaine',\n   822→    category: 'hair',\n   823→    tagline: \"Brand name minoxidil. Same active ingredient, easier foam application, 3x the price.\",\n   824→    description: 'Foam dries faster, less greasy than liquid. Worth it if liquid irritates your scalp or you hate the dripping.',\n   825→    priority: 2,\n   826→    priceRange: { min: 40, max: 60, currency: 'USD' },\n   827→    regionLinks: buildRegionLinks({ us: 'B00ITTO2YU', uk: 'B00ITTO2YU', de: 'B00ITTO2YU', fr: 'B00ITTO2YU', au: 'B00ITTO2YU' }),\n   828→    imageUrl: 'https://images.unsplash.com/photo-1527799820374-dcf8d9d4a388?w=200&h=200&fit=crop',\n   829→    isBaseStack: false,\n   830→  },\n   831→  {\n   832→    id: 'laser_hair_cap',\n   833→    name: 'Laser Hair Growth Cap',\n   834→    brand: 'iRestore',\n   835→    category: 'hair',\n   836→    tagline: \"LLLT for your head. FDA-cleared, questionable ROI. Rich guy addition to the stack.\",\n   837→    description: 'Low-level laser therapy stimulates follicles. Use 25 mins every other day. Evidence is decent but pricey.',\n   838→    priority: 3,\n   839→    priceRange: { min: 600, max: 800, currency: 'USD' },\n   840→    regionLinks: buildRegionLinks({ us: 'B01M0QQPPT', uk: 'B01M0QQPPT', de: 'B01M0QQPPT', fr: 'B01M0QQPPT', au: 'B01M0QQPPT' }),\n   841→    imageUrl: 'https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=200&h=200&fit=crop',\n   842→    isBaseStack: false,\n   843→  },\n   844→  {\n   845→    id: 'scalp_massager',\n   846→    name: 'Scalp Massager Shampoo Brush',\n   847→    brand: 'MAXSOFT',\n   848→    category: 'hair',\n   849→    tagline: \"Feels amazing, increases blood flow to scalp. Won't regrow hair but might slow loss.\",\n   850→    description: 'Use during shampoo. Soft silicone bristles, exfoliates scalp, removes buildup. $8 for scalp tingles.',\n   851→    priority: 2,\n   852→    priceRange: { min: 8, max: 12, currency: 'USD' },\n   853→    regionLinks: buildRegionLinks({ us: 'B074ZDXFL6', uk: 'B074ZDXFL6', de: 'B074ZDXFL6', fr: 'B074ZDXFL6', au: 'B074ZDXFL6' }),\n   854→    imageUrl: 'https://images.unsplash.com/photo-1522338242042-2d1c59e088a4?w=200&h=200&fit=crop',\n   855→    isBaseStack: false,\n   856→  },\n   857→\n   858→  // ============================================\n   859→  // BEARD (5 products) - New\n   860→  // ============================================\n   861→  {\n   862→    id: 'beard_dermaroller',\n   863→    name: 'Beard Derma Roller 0.5mm',\n   864→    brand: 'Sdara',\n   865→    category: 'beard',\n   866→    tagline: \"Roll tiny needles on your face for beard gains. Yes it works. No it doesn't hurt that much.\",\n   867→    description: 'Use 1-2x weekly before minoxidil application. 0.5mm depth is the sweet spot for facial hair stimulation.',\n   868→    priority: 1,\n   869→    priceRange: { min: 12, max: 18, currency: 'USD' },\n   870→    regionLinks: buildRegionLinks({ us: 'B076Q4HJD5', uk: 'B076Q4HJD5', de: 'B076Q4HJD5', fr: 'B076Q4HJD5', au: 'B076Q4HJD5' }),\n   871→    imageUrl: 'https://images.unsplash.com/photo-1616683693504-3ea7e9ad6fec?w=200&h=200&fit=crop',\n   872→    isBaseStack: false,\n   873→  },\n   874→  {\n   875→    id: 'beard_oil_honest',\n   876→    name: 'Beard Growth Oil',\n   877→    brand: 'Honest Amish',\n   878→    category: 'beard',\n   879→    tagline: \"For when you actually have a beard to maintain. Keeps it soft, smells like a lumberjack.\",\n   880→    description: 'Apply a few drops after showering. Works into skin and hair. Organic oils nourish both beard and skin underneath.',\n   881→    priority: 2,\n   882→    priceRange: { min: 15, max: 25, currency: 'USD' },\n   883→    regionLinks: buildRegionLinks({ us: 'B00F9QBGZI', uk: 'B00F9QBGZI', de: 'B00F9QBGZI', fr: 'B00F9QBGZI', au: 'B00F9QBGZI' }),\n   884→    imageUrl: 'https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=200&h=200&fit=crop',\n   885→    isBaseStack: false,\n   886→  },\n   887→  {\n   888→    id: 'beard_balm',\n   889→    name: 'Beard Balm',\n   890→    brand: 'Viking Revolution',\n   891→    category: 'beard',\n   892→    tagline: \"Oil for moisture, balm for control. Tames wild beard hairs, adds light hold.\",\n   893→    description: 'Use after oil for styling hold. Natural ingredients, subtle scent. Works best on beards 1+ inch long.',\n   894→    priority: 2,\n   895→    priceRange: { min: 12, max: 18, currency: 'USD' },\n   896→    regionLinks: buildRegionLinks({ us: 'B071GGXWJK', uk: 'B071GGXWJK', de: 'B071GGXWJK', fr: 'B071GGXWJK', au: 'B071GGXWJK' }),\n   897→    imageUrl: 'https://images.unsplash.com/photo-1594852279555-c7b6f2fa4c90?w=200&h=200&fit=crop',\n   898→    isBaseStack: false,\n   899→  },\n   900→  {\n   901→    id: 'beard_trimmer_philips',\n   902→    name: 'Beard Trimmer',\n   903→    brand: 'Philips Norelco',\n   904→    category: 'beard',\n   905→    tagline: \"Precision guards for that perfect stubble length. 0.4mm increments so you're not guessing.\",\n   906→    description: 'Cordless, 20 length settings, self-sharpening blades. The workhorse of stubble maintenance.',\n   907→    priority: 2,\n   908→    priceRange: { min: 50, max: 80, currency: 'USD' },\n   909→    regionLinks: buildRegionLinks({ us: 'B07H4QRMQJ', uk: 'B07H4QRMQJ', de: 'B07H4QRMQJ', fr: 'B07H4QRMQJ', au: 'B07H4QRMQJ' }),\n   910→    imageUrl: 'https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=200&h=200&fit=crop',\n   911→    isBaseStack: false,\n   912→  },\n   913→  {\n   914→    id: 'jawline_exerciser_pro',\n   915→    name: 'Jawline Exerciser',\n   916→    brand: 'JawlineMe',\n   917→    category: 'beard',\n   918→    tagline: \"Chew your way to a bigger masseter. Results vary, TMJ risk if you overdo it.\",\n   919→    description: 'Resistance training for your jaw. Start with lighter resistance, progress slowly. Not a substitute for low body fat.',\n   920→    priority: 3,\n   921→    priceRange: { min: 15, max: 25, currency: 'USD' },\n   922→    regionLinks: buildRegionLinks({ us: 'B08R5ZQFR7', uk: 'B08R5ZQFR7', de: 'B08R5ZQFR7', fr: 'B08R5ZQFR7', au: 'B08R5ZQFR7' }),\n   923→    imageUrl: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop',\n   924→    isBaseStack: false,\n   925→  },\n   926→\n   927→  // ============================================\n   928→  // TEETH (6 products) - New\n   929→  // ============================================\n   930→  {\n   931→    id: 'crest_whitestrips',\n   932→    name: 'Crest 3D Whitestrips Pro',\n   933→    brand: 'Crest',\n   934→    category: 'teeth',\n   935→    tagline: \"Yellow teeth are costing you more than you think. $40 for a smile upgrade is a no-brainer.\",\n   936→    description: '20 treatments, 30 min each. Same peroxide as dentist whitening, fraction of the cost. Manage sensitivity with breaks.',\n   937→    priority: 1,\n   938→    priceRange: { min: 40, max: 55, currency: 'USD' },\n   939→    regionLinks: buildRegionLinks({ us: 'B00336EUTK', uk: 'B00336EUTK', de: 'B00336EUTK', fr: 'B00336EUTK', au: 'B00336EUTK' }),\n   940→    imageUrl: 'https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=200&h=200&fit=crop',\n   941→    isBaseStack: false,\n   942→  },\n   943→  {\n   944→    id: 'waterpik_flosser',\n   945→    name: 'Waterpik Water Flosser',\n   946→    brand: 'Waterpik',\n   947→    category: 'teeth',\n   948→    tagline: \"Flossing is non-negotiable but string floss sucks. This makes it actually happen.\",\n   949→    description: 'Pressurized water removes what brushing misses. Use daily after brushing. Your gums will stop bleeding in a week.',\n   950→    priority: 1,\n   951→    priceRange: { min: 50, max: 80, currency: 'USD' },\n   952→    regionLinks: buildRegionLinks({ us: 'B002QAFJMA', uk: 'B002QAFJMA', de: 'B002QAFJMA', fr: 'B002QAFJMA', au: 'B002QAFJMA' }),\n   953→    imageUrl: 'https://images.unsplash.com/photo-1571942676516-bcab84649e44?w=200&h=200&fit=crop',\n   954→    isBaseStack: false,\n   955→  },\n   956→  {\n   957→    id: 'retainer_cleaner',\n   958→    name: 'Retainer Cleaner Tablets',\n   959→    brand: 'Retainer Brite',\n   960→    category: 'teeth',\n   961→    tagline: \"Your retainer is growing bacteria colonies. Drop a tablet, soak 15 min, crisis averted.\",\n   962→    description: 'Works on retainers, night guards, and aligners. Daily use prevents buildup and keeps them from smelling like death.',\n   963→    priority: 2,\n   964→    priceRange: { min: 15, max: 25, currency: 'USD' },\n   965→    regionLinks: buildRegionLinks({ us: 'B003Z66O22', uk: 'B003Z66O22', de: 'B003Z66O22', fr: 'B003Z66O22', au: 'B003Z66O22' }),\n   966→    imageUrl: 'https://images.unsplash.com/photo-1609840114035-3c981b782dfe?w=200&h=200&fit=crop',\n   967→    isBaseStack: false,\n   968→  },\n   969→  {\n   970→    id: 'whitening_pen',\n   971→    name: 'Whitening Pen',\n   972→    brand: 'AuraGlow',\n   973→    category: 'teeth',\n   974→    tagline: \"Touch-up whitening for between strip sessions. Keep in your bag for emergencies.\",\n   975→    description: 'Brush-on gel, leave 1 hour. Lower concentration than strips, good for maintenance. Travel-friendly.',\n   976→    priority: 2,\n   977→    priceRange: { min: 20, max: 30, currency: 'USD' },\n   978→    regionLinks: buildRegionLinks({ us: 'B07L4GFJ7T', uk: 'B07L4GFJ7T', de: 'B07L4GFJ7T', fr: 'B07L4GFJ7T', au: 'B07L4GFJ7T' }),\n   979→    imageUrl: 'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=200&h=200&fit=crop',\n   980→    isBaseStack: false,\n   981→  },\n   982→  {\n   983→    id: 'copper_tongue_scraper',\n   984→    name: 'Copper Tongue Scraper',\n   985→    brand: 'MasterMedi',\n   986→    category: 'teeth',\n   987→    tagline: \"Copper is naturally antimicrobial. Kills bacteria while scraping. Ancient Ayurvedic move.\",\n   988→    description: 'Use before brushing, morning routine. Copper version lasts forever and has antibacterial properties.',\n   989→    priority: 2,\n   990→    priceRange: { min: 8, max: 12, currency: 'USD' },\n   991→    regionLinks: buildRegionLinks({ us: 'B07D37GTWS', uk: 'B07D37GTWS', de: 'B07D37GTWS', fr: 'B07D37GTWS', au: 'B07D37GTWS' }),\n   992→    imageUrl: 'https://images.unsplash.com/photo-1609587312208-cea54be969e7?w=200&h=200&fit=crop',\n   993→    isBaseStack: false,\n   994→  },\n   995→  {\n   996→    id: 'oralb_electric_pro',\n   997→    name: 'Oral-B iO Series 9',\n   998→    brand: 'Oral-B',\n   999→    category: 'teeth',\n  1000→    tagline: \"The premium electric toothbrush. AI tracking, pressure sensor, 7 modes. Overkill but nice.\",\n  1001→    description: 'Top-tier Oral-B with app connectivity. Tracks brushing zones, optimizes technique. For teeth obsessives.',\n  1002→    priority: 3,\n  1003→    priceRange: { min: 200, max: 300, currency: 'USD' },\n  1004→    regionLinks: buildRegionLinks({ us: 'B07RBYQ6FC', uk: 'B07RBYQ6FC', de: 'B07RBYQ6FC', fr: 'B07RBYQ6FC', au: 'B07RBYQ6FC' }),\n  1005→    imageUrl: 'https://images.unsplash.com/photo-1559467234-f7c94a27c96c?w=200&h=200&fit=crop',\n  1006→    isBaseStack: false,\n  1007→  },\n  1008→\n  1009→  // ============================================\n  1010→  // K-BEAUTY (8 products) - New\n  1011→  // ============================================\n  1012→  {\n  1013→    id: 'cosrx_snail_mucin',\n  1014→    name: 'COSRX Snail Mucin Essence',\n  1015→    brand: 'COSRX',\n  1016→    category: 'kbeauty',\n  1017→    tagline: \"Yes, it's snail slime. Yes, it works. Your skin will glow like a K-drama star.\",\n  1018→    description: '96% snail mucin for hydration and repair. Apply after cleansing, before moisturizer. Plumps and heals.',\n  1019→    priority: 1,\n  1020→    priceRange: { min: 20, max: 25, currency: 'USD' },\n  1021→    regionLinks: buildRegionLinks({ us: 'B00PBX3L7K', uk: 'B00PBX3L7K', de: 'B00PBX3L7K', fr: 'B00PBX3L7K', au: 'B00PBX3L7K' }),\n  1022→    imageUrl: 'https://images.unsplash.com/photo-1570194065650-d99fb4b38b17?w=200&h=200&fit=crop',\n  1023→    isBaseStack: false,\n  1024→  },\n  1025→  {\n  1026→    id: 'klairs_toner',\n  1027→    name: 'Klairs Supple Preparation Toner',\n  1028→    brand: 'Klairs',\n  1029→    category: 'kbeauty',\n  1030→    tagline: \"The 7-skin method starts here. Layer this toner for that 'chok chok' hydrated look.\",\n  1031→    description: 'Hydrating toner with amino acids. Pat 3-7 layers for maximum effect. The K-beauty glass skin secret.',\n  1032→    priority: 1,\n  1033→    priceRange: { min: 22, max: 28, currency: 'USD' },\n  1034→    regionLinks: buildRegionLinks({ us: 'B07BTJLLZY', uk: 'B07BTJLLZY', de: 'B07BTJLLZY', fr: 'B07BTJLLZY', au: 'B07BTJLLZY' }),\n  1035→    imageUrl: 'https://images.unsplash.com/photo-1556228720-195a672e8a03?w=200&h=200&fit=crop',\n  1036→    isBaseStack: false,\n  1037→  },\n  1038→  {\n  1039→    id: 'hada_labo_premium',\n  1040→    name: 'Hada Labo Premium Lotion',\n  1041→    brand: 'Hada Labo',\n  1042→    category: 'kbeauty',\n  1043→    tagline: \"5 types of hyaluronic acid in one bottle. Japanese skincare perfection for $15.\",\n  1044→    description: 'Multi-weight HA pulls water into skin at different depths. Apply to damp skin, seal with moisturizer.',\n  1045→    priority: 1,\n  1046→    priceRange: { min: 15, max: 20, currency: 'USD' },\n  1047→    regionLinks: buildRegionLinks({ us: 'B074GX619Q', uk: 'B074GX619Q', de: 'B074GX619Q', fr: 'B074GX619Q', au: 'B074GX619Q' }),\n  1048→    imageUrl: 'https://images.unsplash.com/photo-1617897903246-719242758050?w=200&h=200&fit=crop',\n  1049→    isBaseStack: false,\n  1050→  },\n  1051→  {\n  1052→    id: 'banila_cleansing_balm',\n  1053→    name: 'Banila Co Clean It Zero',\n  1054→    brand: 'Banila Co',\n  1055→    category: 'kbeauty',\n  1056→    tagline: \"Double cleansing step 1. This balm melts off sunscreen and makeup like nothing else.\",\n  1057→    description: 'Massage onto dry skin, emulsifies with water. Removes everything including stubborn SPF. Follow with water-based cleanser.',\n  1058→    priority: 2,\n  1059→    priceRange: { min: 20, max: 25, currency: 'USD' },\n  1060→    regionLinks: buildRegionLinks({ us: 'B00LNQ8SZO', uk: 'B00LNQ8SZO', de: 'B00LNQ8SZO', fr: 'B00LNQ8SZO', au: 'B00LNQ8SZO' }),\n  1061→    imageUrl: 'https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=200&h=200&fit=crop',\n  1062→    isBaseStack: false,\n  1063→  },\n  1064→  {\n  1065→    id: 'cosrx_aha_bha_toner',\n  1066→    name: 'COSRX AHA/BHA Clarifying Toner',\n  1067→    brand: 'COSRX',\n  1068→    category: 'kbeauty',\n  1069→    tagline: \"Low-percentage exfoliating toner for daily use. Preps skin for actives, unclogs pores.\",\n  1070→    description: 'Use after cleansing to balance pH. Contains natural AHA/BHA for gentle exfoliation. Daily use safe.',\n  1071→    priority: 2,\n  1072→    priceRange: { min: 15, max: 20, currency: 'USD' },\n  1073→    regionLinks: buildRegionLinks({ us: 'B00OZ9WOD8', uk: 'B00OZ9WOD8', de: 'B00OZ9WOD8', fr: 'B00OZ9WOD8', au: 'B00OZ9WOD8' }),\n  1074→    imageUrl: 'https://images.unsplash.com/photo-1556228720-195a672e8a03?w=200&h=200&fit=crop',\n  1075→    isBaseStack: false,\n  1076→  },\n  1077→  {\n  1078→    id: 'boj_glow_serum',\n  1079→    name: 'Beauty of Joseon Glow Serum',\n  1080→    brand: 'Beauty of Joseon',\n  1081→    category: 'kbeauty',\n  1082→    tagline: \"Propolis + niacinamide = instant glow. The Instagram filter in a bottle.\",\n  1083→    description: 'Propolis for glow and healing, niacinamide for pores. Use morning and night. Affordable glow serum.',\n  1084→    priority: 2,\n  1085→    priceRange: { min: 15, max: 20, currency: 'USD' },\n  1086→    regionLinks: buildRegionLinks({ us: 'B08WRWP8JY', uk: 'B08WRWP8JY', de: 'B08WRWP8JY', fr: 'B08WRWP8JY', au: 'B08WRWP8JY' }),\n  1087→    imageUrl: 'https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=200&h=200&fit=crop',\n  1088→    isBaseStack: false,\n  1089→  },\n  1090→  {\n  1091→    id: 'laneige_cream_skin',\n  1092→    name: 'Laneige Cream Skin Refiner',\n  1093→    brand: 'Laneige',\n  1094→    category: 'kbeauty',\n  1095→    tagline: \"Toner + moisturizer hybrid. For when you want the K-beauty routine in one step.\",\n  1096→    description: 'Creamy toner that hydrates like a moisturizer. Great for minimal routines or layering. Dewy finish.',\n  1097→    priority: 2,\n  1098→    priceRange: { min: 30, max: 40, currency: 'USD' },\n  1099→    regionLinks: buildRegionLinks({ us: 'B07QX44VYZ', uk: 'B07QX44VYZ', de: 'B07QX44VYZ', fr: 'B07QX44VYZ', au: 'B07QX44VYZ' }),\n  1100→    imageUrl: 'https://images.unsplash.com/photo-1598440947619-2c35fc9aa908?w=200&h=200&fit=crop',\n  1101→    isBaseStack: false,\n  1102→  },\n  1103→  {\n  1104→    id: 'missha_bb_cream',\n  1105→    name: 'Missha M Perfect Cover BB Cream',\n  1106→    brand: 'Missha',\n  1107→    category: 'kbeauty',\n  1108→    tagline: \"The OG K-beauty BB cream. Evens tone without looking like makeup. SPF 42 included.\",\n  1109→    description: 'Light coverage, natural finish, sun protection. Multiple shades. The daily driver for good skin days.',\n  1110→    priority: 3,\n  1111→    priceRange: { min: 15, max: 20, currency: 'USD' },\n  1112→    regionLinks: buildRegionLinks({ us: 'B004ALXQSO', uk: 'B004ALXQSO', de: 'B004ALXQSO', fr: 'B004ALXQSO', au: 'B004ALXQSO' }),\n  1113→    imageUrl: 'https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=200&h=200&fit=crop',\n  1114→    isBaseStack: false,\n  1115→  },\n  1116→\n  1117→  // ============================================\n  1118→  // HORMONAL/PCOS (5 products) - New\n  1119→  // ============================================\n  1120→  {\n  1121→    id: 'spearmint_tea',\n  1122→    name: 'Spearmint Tea',\n  1123→    brand: 'Traditional Medicinals',\n  1124→    category: 'hormonal',\n  1125→    tagline: \"Natural anti-androgen. 2 cups daily reduces hormonal acne and excess facial hair.\",\n  1126→    description: 'Studies show spearmint lowers testosterone in women. Gentle, tasty, evidence-based. For hormonal skin issues.',\n  1127→    priority: 1,\n  1128→    priceRange: { min: 5, max: 8, currency: 'USD' },\n  1129→    regionLinks: buildRegionLinks({ us: 'B0009F3POO', uk: 'B0009F3POO', de: 'B0009F3POO', fr: 'B0009F3POO', au: 'B0009F3POO' }),\n  1130→    imageUrl: 'https://images.unsplash.com/photo-1597318181409-cf64d0b5d8a2?w=200&h=200&fit=crop',\n  1131→    isBaseStack: false,\n  1132→  },\n  1133→  {\n  1134→    id: 'inositol_ovasitol',\n  1135→    name: 'Inositol (Myo + D-Chiro)',\n  1136→    brand: 'Ovasitol',\n  1137→    category: 'hormonal',\n  1138→    tagline: \"The PCOS supplement with actual research behind it. Improves insulin sensitivity and hormone balance.\",\n  1139→    description: '40:1 ratio myo-inositol to D-chiro-inositol. Take 2x daily. Shown to improve acne, hair, and cycles in PCOS.',\n  1140→    priority: 1,\n  1141→    priceRange: { min: 40, max: 60, currency: 'USD' },\n  1142→    regionLinks: buildRegionLinks({ us: 'B074KJ6RJW', uk: 'B074KJ6RJW', de: 'B074KJ6RJW', fr: 'B074KJ6RJW', au: 'B074KJ6RJW' }),\n  1143→    imageUrl: 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=200&h=200&fit=crop',\n  1144→    isBaseStack: false,\n  1145→  },\n  1146→  {\n  1147→    id: 'azelaic_acid',\n  1148→    name: 'Azelaic Acid 10%',\n  1149→    brand: \"Paula's Choice\",\n  1150→    category: 'hormonal',\n  1151→    tagline: \"Pregnancy-safe retinol alternative. Anti-inflammatory, kills acne bacteria, fades dark spots.\",\n  1152→    description: 'Use morning or night. Safe during pregnancy/breastfeeding. Treats rosacea and hormonal acne effectively.',\n  1153→    priority: 1,\n  1154→    priceRange: { min: 35, max: 45, currency: 'USD' },\n  1155→    regionLinks: buildRegionLinks({ us: 'B06VT315YJ', uk: 'B06VT315YJ', de: 'B06VT315YJ', fr: 'B06VT315YJ', au: 'B06VT315YJ' }),\n  1156→    imageUrl: 'https://images.unsplash.com/photo-1617897903246-719242758050?w=200&h=200&fit=crop',\n  1157→    isBaseStack: false,\n  1158→  },\n  1159→  {\n  1160→    id: 'dim_supplement',\n  1161→    name: 'DIM Supplement',\n  1162→    brand: 'Smoky Mountain',\n  1163→    category: 'hormonal',\n  1164→    tagline: \"Diindolylmethane—the broccoli extract that helps metabolize estrogen. Balances hormones naturally.\",\n  1165→    description: 'Take 100-200mg daily. Supports estrogen metabolism. Can help with hormonal acne and mood. Derived from cruciferous veggies.',\n  1166→    priority: 2,\n  1167→    priceRange: { min: 20, max: 30, currency: 'USD' },\n  1168→    regionLinks: buildRegionLinks({ us: 'B00K8JI3V4', uk: 'B00K8JI3V4', de: 'B00K8JI3V4', fr: 'B00K8JI3V4', au: 'B00K8JI3V4' }),\n  1169→    imageUrl: 'https://images.unsplash.com/photo-1550572017-edd951aa8f72?w=200&h=200&fit=crop',\n  1170→    isBaseStack: false,\n  1171→  },\n  1172→  {\n  1173→    id: 'braun_ipl',\n  1174→    name: 'IPL Hair Removal Device',\n  1175→    brand: 'Braun',\n  1176→    category: 'hormonal',\n  1177→    tagline: \"Permanent-ish hair reduction at home. For hirsutism from PCOS or just general hair removal.\",\n  1178→    description: 'Intense pulsed light for at-home laser-like hair removal. 6-12 weeks for results. Works best on light skin/dark hair.',\n  1179→    priority: 3,\n  1180→    priceRange: { min: 300, max: 400, currency: 'USD' },\n  1181→    regionLinks: buildRegionLinks({ us: 'B07YR7G8LS', uk: 'B07YR7G8LS', de: 'B07YR7G8LS', fr: 'B07YR7G8LS', au: 'B07YR7G8LS' }),\n  1182→    imageUrl: 'https://images.unsplash.com/photo-1594824476967-48c8b964273f?w=200&h=200&fit=crop',\n  1183→    isBaseStack: false,\n  1184→  },\n  1185→\n  1186→  // ============================================\n  1187→  // SURGERY RECOVERY (3 products) - New\n  1188→  // ============================================\n  1189→  {\n  1190→    id: 'arnica_gel',\n  1191→    name: 'Arnica Montana Gel',\n  1192→    brand: 'Boiron',\n  1193→    category: 'surgery',\n  1194→    tagline: \"Pre and post-procedure essential. Reduces bruising, swelling, and speeds healing.\",\n  1195→    description: 'Apply to bruised areas 2-3x daily. Start 3 days before procedure, continue 1-2 weeks after. Homeopathic but works.',\n  1196→    priority: 1,\n  1197→    priceRange: { min: 10, max: 15, currency: 'USD' },\n  1198→    regionLinks: buildRegionLinks({ us: 'B000GP0168', uk: 'B000GP0168', de: 'B000GP0168', fr: 'B000GP0168', au: 'B000GP0168' }),\n  1199→    imageUrl: 'https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=200&h=200&fit=crop',\n  1200→    isBaseStack: false,\n  1201→  },\n  1202→  {\n  1203→    id: 'compression_garment',\n  1204→    name: 'Compression Garment',\n  1205→    brand: 'Marena',\n  1206→    category: 'surgery',\n  1207→    tagline: \"Post-lipo essential. Reduces swelling, shapes results, speeds recovery. Wear 24/7 for weeks.\",\n  1208→    description: 'Medical-grade compression for body surgery recovery. Multiple styles for different procedures. Get fitted properly.',\n  1209→    priority: 1,\n  1210→    priceRange: { min: 80, max: 120, currency: 'USD' },\n  1211→    regionLinks: buildRegionLinks({ us: 'B07M6MPJDN', uk: 'B07M6MPJDN', de: 'B07M6MPJDN', fr: 'B07M6MPJDN', au: 'B07M6MPJDN' }),\n  1212→    imageUrl: 'https://images.unsplash.com/photo-1594381898411-846e7d193883?w=200&h=200&fit=crop',\n  1213→    isBaseStack: false,\n  1214→  },\n  1215→  {\n  1216→    id: 'scar_gel',\n  1217→    name: 'Scar Treatment Gel',\n  1218→    brand: 'Mederma',\n  1219→    category: 'surgery',\n  1220→    tagline: \"Start using once incisions close. Silicone-based, reduces scar visibility over months.\",\n  1221→    description: 'Apply 3-4x daily for 8 weeks on new scars, 3-6 months on old scars. Clinically proven to improve scar appearance.',\n  1222→    priority: 2,\n  1223→    priceRange: { min: 20, max: 30, currency: 'USD' },\n  1224→    regionLinks: buildRegionLinks({ us: 'B00EAFZUPU', uk: 'B00EAFZUPU', de: 'B00EAFZUPU', fr: 'B00EAFZUPU', au: 'B00EAFZUPU' }),\n  1225→    imageUrl: 'https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=200&h=200&fit=crop',\n  1226→    isBaseStack: false,\n  1227→  },\n  1228→\n  1229→  // ============================================\n  1230→  // ANTI-AGING (5 more products) - New\n  1231→  // ============================================\n  1232→  {\n  1233→    id: 'lrp_spf50',\n  1234→    name: 'La Roche-Posay Anthelios SPF 50',\n  1235→    brand: 'La Roche-Posay',\n  1236→    category: 'skincare',\n  1237→    tagline: \"The Euro SPF gold standard. Invisible finish, high UVA protection. Worth the premium.\",\n  1238→    description: 'Superior UVA filters (Mexoryl). Lightweight, no white cast. The skincare enthusiast SPF choice.',\n  1239→    priority: 1,\n  1240→    priceRange: { min: 25, max: 35, currency: 'USD' },\n  1241→    regionLinks: buildRegionLinks({ us: 'B002CML1XE', uk: 'B002CML1XE', de: 'B002CML1XE', fr: 'B002CML1XE', au: 'B002CML1XE' }),\n  1242→    imageUrl: 'https://images.unsplash.com/photo-1556227702-d1e4e7b5c232?w=200&h=200&fit=crop',\n  1243→    isBaseStack: false,\n  1244→  },\n  1245→  {\n  1246→    id: 'timeless_vitamin_c',\n  1247→    name: 'Vitamin C 20% Serum',\n  1248→    brand: 'Timeless',\n  1249→    category: 'skincare',\n  1250→    tagline: \"L-ascorbic acid at the right pH. Brightens, protects, boosts collagen. The $25 Skinceuticals dupe.\",\n  1251→    description: 'Apply morning before moisturizer and SPF. Store in fridge to preserve potency. Goes orange = time to replace.',\n  1252→    priority: 1,\n  1253→    priceRange: { min: 20, max: 30, currency: 'USD' },\n  1254→    regionLinks: buildRegionLinks({ us: 'B0036BI56G', uk: 'B0036BI56G', de: 'B0036BI56G', fr: 'B0036BI56G', au: 'B0036BI56G' }),\n  1255→    imageUrl: 'https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=200&h=200&fit=crop',\n  1256→    isBaseStack: false,\n  1257→  },\n  1258→  {\n  1259→    id: 'paulas_retinol',\n  1260→    name: 'Clinical 1% Retinol',\n  1261→    brand: \"Paula's Choice\",\n  1262→    category: 'skincare',\n  1263→    tagline: \"OTC retinol that actually works. Good stepping stone to prescription tretinoin.\",\n  1264→    description: 'Start 2-3x weekly, build to nightly. Contains peptides and antioxidants to buffer irritation.',\n  1265→    priority: 2,\n  1266→    priceRange: { min: 35, max: 45, currency: 'USD' },\n  1267→    regionLinks: buildRegionLinks({ us: 'B00949CO3Y', uk: 'B00949CO3Y', de: 'B00949CO3Y', fr: 'B00949CO3Y', au: 'B00949CO3Y' }),\n  1268→    imageUrl: 'https://images.unsplash.com/photo-1617897903246-719242758050?w=200&h=200&fit=crop',\n  1269→    isBaseStack: false,\n  1270→  },\n  1271→  {\n  1272→    id: 'ordinary_niacinamide',\n  1273→    name: 'Niacinamide 10% + Zinc 1%',\n  1274→    brand: 'The Ordinary',\n  1275→    category: 'skincare',\n  1276→    tagline: \"The $6 pore minimizer. Regulates sebum, reduces inflammation. Everyone should have this.\",\n  1277→    description: 'Use morning or night. Helps with oily skin, large pores, acne. Layer under moisturizer.',\n  1278→    priority: 2,\n  1279→    priceRange: { min: 6, max: 12, currency: 'USD' },\n  1280→    regionLinks: buildRegionLinks({ us: 'B06WGPT9LR', uk: 'B06WGPT9LR', de: 'B06WGPT9LR', fr: 'B06WGPT9LR', au: 'B06WGPT9LR' }),\n  1281→    imageUrl: 'https://images.unsplash.com/photo-1617897903246-719242758050?w=200&h=200&fit=crop',\n  1282→    isBaseStack: false,\n  1283→  },\n  1284→  {\n  1285→    id: 'vichy_ha',\n  1286→    name: 'Hyaluronic Acid Serum',\n  1287→    brand: 'Vichy',\n  1288→    category: 'skincare',\n  1289→    tagline: \"Pharmacy-grade hydration. Multi-weight HA plumps skin and holds 1000x its weight in water.\",\n  1290→    description: 'Apply to damp skin, layer under moisturizer. Multiple HA weights for surface and deep hydration.',\n  1291→    priority: 2,\n  1292→    priceRange: { min: 30, max: 40, currency: 'USD' },\n  1293→    regionLinks: buildRegionLinks({ us: 'B01N7T8L4H', uk: 'B01N7T8L4H', de: 'B01N7T8L4H', fr: 'B01N7T8L4H', au: 'B01N7T8L4H' }),\n  1294→    imageUrl: 'https://images.unsplash.com/photo-1598440947619-2c35fc9aa908?w=200&h=200&fit=crop',\n  1295→    isBaseStack: false,\n  1296→  },\n  1297→];\n  1298→\n  1299→// ============================================\n  1300→// HELPER FUNCTIONS\n  1301→// ============================================\n  1302→\n  1303→/**\n  1304→ * Product ID aliases for backwards compatibility\n  1305→ * Maps shorthand IDs to full product IDs\n  1306→ */\n  1307→const PRODUCT_ID_ALIASES: Record<string, string> = {\n  1308→  // Supplements\n  1309→  ashwagandha: 'ashwagandha_ksm66',\n  1310→  creatine: 'creatine_mono',\n  1311→  omega_3: 'omega3_fish_oil',\n  1312→  zinc: 'zinc_picolinate',\n  1313→  // Add more as needed\n  1314→};\n  1315→\n  1316→/**\n  1317→ * Get product by ID (supports aliases)\n  1318→ */\n  1319→export function getGuideProductById(id: string): GuideProduct | undefined {\n  1320→  // Resolve alias if it exists\n  1321→  const resolvedId = PRODUCT_ID_ALIASES[id] || id;\n  1322→  return GUIDE_PRODUCTS.find(p => p.id === resolvedId);\n  1323→}\n  1324→\n  1325→/**\n  1326→ * Get all products in a category\n  1327→ */\n  1328→export function getGuideProductsByCategory(category: ProductCategory): GuideProduct[] {\n  1329→  return GUIDE_PRODUCTS\n  1330→    .filter(p => p.category === category)\n  1331→    .sort((a, b) => a.priority - b.priority);\n  1332→}\n  1333→\n  1334→/**\n  1335→ * Get all base stack products (essentials for everyone)\n  1336→ */\n  1337→export function getBaseStackProducts(): GuideProduct[] {\n  1338→  return GUIDE_PRODUCTS\n  1339→    .filter(p => p.isBaseStack)\n  1340→    .sort((a, b) => a.priority - b.priority);\n  1341→}\n  1342→\n  1343→/**\n  1344→ * Get products by priority level\n  1345→ */\n  1346→export function getGuideProductsByPriority(priority: number): GuideProduct[] {\n  1347→  return GUIDE_PRODUCTS.filter(p => p.priority === priority);\n  1348→}\n  1349→\n  1350→/**\n  1351→ * Get all unique categories with product counts\n  1352→ */\n  1353→export function getProductCategories(): Array<{ category: ProductCategory; count: number }> {\n  1354→  const categories: ProductCategory[] = [\n  1355→    'hygiene',\n  1356→    'grooming',\n  1357→    'skincare',\n  1358→    'miscellaneous',\n  1359→    'supplements',\n  1360→    'hair',\n  1361→    'beard',\n  1362→    'teeth',\n  1363→    'kbeauty',\n  1364→    'hormonal',\n  1365→    'surgery',\n  1366→  ];\n  1367→\n  1368→  return categories.map(category => ({\n  1369→    category,\n  1370→    count: GUIDE_PRODUCTS.filter(p => p.category === category).length,\n  1371→  }));\n  1372→}\n  1373→\n  1374→/**\n  1375→ * Get products by array of IDs (preserves order)\n  1376→ */\n  1377→export function getGuideProductsByIds(ids: string[]): GuideProduct[] {\n  1378→  return ids\n  1379→    .map(id => getGuideProductById(id))\n  1380→    .filter((p): p is GuideProduct => p !== undefined);\n  1381→}\n  1382→\n  1383→/**\n  1384→ * Search products by name or description\n  1385→ */\n  1386→export function searchGuideProducts(query: string): GuideProduct[] {\n  1387→  const lowered = query.toLowerCase();\n  1388→  return GUIDE_PRODUCTS.filter(p =>\n  1389→    p.name.toLowerCase().includes(lowered) ||\n  1390→    p.description.toLowerCase().includes(lowered) ||\n  1391→    p.tagline.toLowerCase().includes(lowered) ||\n  1392→    (p.brand && p.brand.toLowerCase().includes(lowered))\n  1393→  );\n  1394→}\n  1395→\n  1396→/**\n  1397→ * Get total product count\n  1398→ */\n  1399→export function getTotalProductCount(): number {\n  1400→  return GUIDE_PRODUCTS.length;\n  1401→}\n  1402→\n  1403→/**\n  1404→ * Get category display info\n  1405→ */\n  1406→export function getCategoryDisplayInfo(category: ProductCategory): {\n  1407→  name: string;\n  1408→  icon: string;\n  1409→  description: string;\n  1410→} {\n  1411→  const info: Record<ProductCategory, { name: string; icon: string; description: string }> = {\n  1412→    hygiene: {\n  1413→      name: 'Hygiene',\n  1414→      icon: 'Sparkles',\n  1415→      description: 'Fundamentals of not repelling people',\n  1416→    },\n  1417→    grooming: {\n  1418→      name: 'Grooming',\n  1419→      icon: 'Scissors',\n  1420→      description: 'Tools for precision face maintenance',\n  1421→    },\n  1422→    skincare: {\n  1423→      name: 'Skincare',\n  1424→      icon: 'Droplet',\n  1425→      description: 'Your skin is your face. Treat it right.',\n  1426→    },\n  1427→    miscellaneous: {\n  1428→      name: 'Miscellaneous',\n  1429→      icon: 'Package',\n  1430→      description: 'The supporting cast of your glow-up',\n  1431→    },\n  1432→    supplements: {\n  1433→      name: 'Supplements',\n  1434→      icon: 'Pill',\n  1435→      description: 'Fill the gaps your diet is missing',\n  1436→    },\n  1437→    hair: {\n  1438→      name: 'Hair',\n  1439→      icon: 'Wind',\n  1440→      description: 'The Big 3 and beyond—save what you have',\n  1441→    },\n  1442→    beard: {\n  1443→      name: 'Beard',\n  1444→      icon: 'User',\n  1445→      description: 'Grow it, groom it, own it',\n  1446→    },\n  1447→    teeth: {\n  1448→      name: 'Teeth',\n  1449→      icon: 'Smile',\n  1450→      description: 'Your smile is worth more than you think',\n  1451→    },\n  1452→    kbeauty: {\n  1453→      name: 'K-Beauty',\n  1454→      icon: 'Sparkle',\n  1455→      description: 'Glass skin protocols from Seoul',\n  1456→    },\n  1457→    hormonal: {\n  1458→      name: 'Hormonal',\n  1459→      icon: 'Heart',\n  1460→      description: 'PCOS, hormonal acne, and balance',\n  1461→    },\n  1462→    surgery: {\n  1463→      name: 'Surgery',\n  1464→      icon: 'Stethoscope',\n  1465→      description: 'Post-op recovery essentials',\n  1466→    },\n  1467→  };\n  1468→\n  1469→  return info[category];\n  1470→}\n  1471→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"91fdf51a-4253-4846-bdca-d893ad5bd457","timestamp":"2025-12-28T05:53:21.371Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/data/guides/products-registry.ts","content":"/**\n * Product Registry for Guides System\n * 73 products with multi-region affiliate links and Ross-style taglines\n * Categories: hygiene, grooming, skincare, miscellaneous, supplements, hair, beard, teeth, kbeauty, hormonal, surgery\n */\n\nimport { GuideProduct, ProductCategory } from '@/types/guides';\nimport { buildAmazonUrl } from '@/lib/region';\n\n// ============================================\n// AMAZON ASIN MAPPING BY REGION\n// ============================================\n\ninterface ProductASINs {\n  us?: string;\n  uk?: string;\n  de?: string;\n  fr?: string;\n  au?: string;\n}\n\n// Regions that have Amazon stores with ASINs\ntype AmazonRegion = 'us' | 'uk' | 'de' | 'fr' | 'au';\nconst AMAZON_REGIONS: AmazonRegion[] = ['us', 'uk', 'de', 'fr', 'au'];\n\n// Helper to build region links from ASINs\nfunction buildRegionLinks(asins: ProductASINs): Record<string, string> {\n  const links: Record<string, string> = {};\n\n  AMAZON_REGIONS.forEach(region => {\n    const asin = asins[region] || asins.us; // Fallback to US ASIN\n    if (asin) {\n      links[region] = buildAmazonUrl(asin, region);\n    }\n  });\n\n  // Asia uses US ASIN on amzn.asia domain\n  if (asins.us) {\n    links['asia'] = buildAmazonUrl(asins.us, 'asia');\n  }\n\n  return links;\n}\n\n// ============================================\n// PRODUCT DATABASE (33 Products)\n// ============================================\n\nexport const GUIDE_PRODUCTS: GuideProduct[] = [\n  // ============================================\n  // HYGIENE (4 products)\n  // ============================================\n  {\n    id: 'tongue_scraper',\n    name: 'Stainless Steel Tongue Scraper',\n    brand: 'MasterMedi',\n    category: 'hygiene',\n    tagline: \"Your breath is out here committing war crimes and you don't even know it.\",\n    description: 'Medical-grade stainless steel tongue scraper. Removes bacteria and sulfur compounds that cause bad breath. Takes 10 seconds, lasts forever.',\n    priority: 1,\n    priceRange: { min: 7, max: 12, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B091G5CH14',\n      uk: 'B091G5CH14',\n      de: 'B091G5CH14',\n      fr: 'B091G5CH14',\n      au: 'B091G5CH14',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1609587312208-cea54be969e7?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'cologne_bleu',\n    name: 'Bleu de Chanel EDT',\n    brand: 'Chanel',\n    category: 'hygiene',\n    tagline: \"Stop smelling like your high school gym locker. This ain't Axe bodyspray era anymore.\",\n    description: 'Clean, versatile, universally liked. The safe choice that works for 99% of situations. Not cheap, but compliment-to-dollar ratio is unmatched.',\n    priority: 2,\n    priceRange: { min: 80, max: 150, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B01N4P3WC3',\n      uk: 'B01N4P3WC3',\n      de: 'B01N4P3WC3',\n      fr: 'B01N4P3WC3',\n      au: 'B01N4P3WC3',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1541643600914-78b084683601?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'nitrile_gloves',\n    name: 'Nitrile Examination Gloves',\n    brand: 'Dealmed',\n    category: 'hygiene',\n    tagline: \"For when you're touching your face with tretinoin hands. Your pillowcase will thank you.\",\n    description: 'Black nitrile gloves for skincare application. Prevents product waste and keeps actives off your hands.',\n    priority: 3,\n    priceRange: { min: 12, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B08BZNM84F',\n      uk: 'B08BZNM84F',\n      de: 'B08BZNM84F',\n      fr: 'B08BZNM84F',\n      au: 'B08BZNM84F',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1584820927498-cfe5211fd8bf?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'electric_toothbrush',\n    name: 'Oral-B iO Series 5',\n    brand: 'Oral-B',\n    category: 'hygiene',\n    tagline: \"Manual toothbrush in 2024 is NPC behavior. Your teeth deserve better.\",\n    description: 'Pressure sensor prevents gum damage, timer ensures 2-minute brushing. Objectively cleans better than manual brushing.',\n    priority: 1,\n    priceRange: { min: 100, max: 150, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B09LPHZ2MC',\n      uk: 'B09MVKX5KV',\n      de: 'B09MVKX5KV',\n      fr: 'B09MVKX5KV',\n      au: 'B09LPHZ2MC',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1559467234-f7c94a27c96c?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n\n  // ============================================\n  // GROOMING (5 products)\n  // ============================================\n  {\n    id: 'philips_oneblade',\n    name: 'Philips OneBlade Pro',\n    brand: 'Philips',\n    category: 'grooming',\n    tagline: \"The Swiss Army knife of face maintenance. Trim, edge, shave—it does everything except your taxes.\",\n    description: 'Trims any length, shaves close without irritation. Perfect for maintaining stubble at exact length. Replaceable blades last 4 months.',\n    priority: 1,\n    priceRange: { min: 50, max: 80, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B07W8ZBHSF',\n      uk: 'B0B12WJBQ3',\n      de: 'B0B12WJBQ3',\n      fr: 'B0B12WJBQ3',\n      au: 'B07W8ZBHSF',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1621607505837-2456a9e7b4e7?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'oneblade_blades',\n    name: 'OneBlade Replacement Blades (3-Pack)',\n    brand: 'Philips',\n    category: 'grooming',\n    tagline: \"Dull blades are giving more irritation than your ex. Stock up.\",\n    description: 'Genuine Philips replacement blades. Each lasts 3-4 months. Keep 2-3 on hand so you never suffer with a dull blade.',\n    priority: 2,\n    priceRange: { min: 25, max: 40, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B01D328BG6',\n      uk: 'B01D328BG6',\n      de: 'B01D328BG6',\n      fr: 'B01D328BG6',\n      au: 'B01D328BG6',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1585747860715-2ba37e788b70?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'shaving_cream',\n    name: 'Cremo Original Shave Cream',\n    brand: 'Cremo',\n    category: 'grooming',\n    tagline: \"If you're using canned foam, you're basically dry shaving with extra steps.\",\n    description: 'Concentrated cream formula provides incredible glide. A dime-size amount covers your entire face. No lather required.',\n    priority: 2,\n    priceRange: { min: 8, max: 12, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B00JG2URCO',\n      uk: 'B00JG2URCO',\n      de: 'B00JG2URCO',\n      fr: 'B00JG2URCO',\n      au: 'B00JG2URCO',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1598440947619-2c35fc9aa908?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'tweezers',\n    name: 'Tweezerman Slant Tweezers',\n    brand: 'Tweezerman',\n    category: 'grooming',\n    tagline: \"Unibrow is not a look, chief. These tweezers are surgical precision.\",\n    description: \"The industry standard. Perfectly aligned tips grab every hair first try. Lifetime sharpening guarantee—you'll never buy another pair.\",\n    priority: 2,\n    priceRange: { min: 20, max: 30, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B000BNKHNG',\n      uk: 'B000BNKHNG',\n      de: 'B000BNKHNG',\n      fr: 'B000BNKHNG',\n      au: 'B000BNKHNG',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'nose_trimmer',\n    name: 'Panasonic Nose & Ear Trimmer',\n    brand: 'Panasonic',\n    category: 'grooming',\n    tagline: \"Nostril tentacles waving at people mid-conversation is an instant mog-killer.\",\n    description: 'Wet/dry capable, dual-edge blade gets every angle. Takes 30 seconds once a week. Non-negotiable maintenance.',\n    priority: 1,\n    priceRange: { min: 15, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B0049KWTOW',\n      uk: 'B0049KWTOW',\n      de: 'B0049KWTOW',\n      fr: 'B0049KWTOW',\n      au: 'B0049KWTOW',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1572635196243-4dd75fbdbd7f?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n\n  // ============================================\n  // SKINCARE (5 products)\n  // ============================================\n  {\n    id: 'cerave_cleanser',\n    name: 'CeraVe Foaming Facial Cleanser',\n    brand: 'CeraVe',\n    category: 'skincare',\n    tagline: \"Skincare for people who don't want to think about skincare. Dermatologists are boring, but they're right.\",\n    description: 'pH-balanced, non-stripping, contains ceramides. Works for 90% of people. If it breaks you out, you might be the exception—switch to Hydrating version.',\n    priority: 1,\n    priceRange: { min: 12, max: 18, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B01N1LL62W',\n      uk: 'B01N1LL62W',\n      de: 'B07G14BL7M',\n      fr: 'B07G14BL7M',\n      au: 'B01N1LL62W',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'aquaphor_lip',\n    name: 'Aquaphor Lip Repair',\n    brand: 'Aquaphor',\n    category: 'skincare',\n    tagline: \"Crusty lips are sabotaging your face. This is literally 5 dollars. Lock in.\",\n    description: 'Occlusive healing ointment that actually works. Apply at night for overnight lip repair. Better than any flavored chapstick.',\n    priority: 1,\n    priceRange: { min: 4, max: 7, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B006IB5T4W',\n      uk: 'B0107QP1VE',\n      de: 'B0107QP1VE',\n      fr: 'B0107QP1VE',\n      au: 'B006IB5T4W',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1619451334792-150fd785ee74?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'cerave_moisturizer',\n    name: 'CeraVe PM Facial Moisturizer',\n    brand: 'CeraVe',\n    category: 'skincare',\n    tagline: \"Your skin barrier is either your best friend or your worst enemy. Feed it.\",\n    description: 'Lightweight, non-comedogenic, contains niacinamide for barrier repair. Works AM or PM despite the name. Pairs perfectly with tretinoin.',\n    priority: 1,\n    priceRange: { min: 14, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B00365DABC',\n      uk: 'B00365DABC',\n      de: 'B01MSQDQNR',\n      fr: 'B01MSQDQNR',\n      au: 'B00365DABC',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'sunscreen_elta',\n    name: 'EltaMD UV Clear SPF 46',\n    brand: 'EltaMD',\n    category: 'skincare',\n    tagline: \"Sun damage is the biggest scam your skin is running on your future self. Block it.\",\n    description: 'Lightweight, no white cast, contains niacinamide. The gold standard for acne-prone skin. Yes, you need it even on cloudy days.',\n    priority: 1,\n    priceRange: { min: 35, max: 45, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B002MSN3QQ',\n      uk: 'B002MSN3QQ',\n      de: 'B002MSN3QQ',\n      fr: 'B002MSN3QQ',\n      au: 'B002MSN3QQ',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1556229012-50dd2016dbfb?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'tretinoin_guide',\n    name: 'Tretinoin 0.025% Cream',\n    brand: 'Generic',\n    category: 'skincare',\n    tagline: \"The nuclear option for skin. Start low, go slow, or enjoy looking like a molting lizard.\",\n    description: 'Prescription retinoid that actually reverses aging and clears acne. Requires gradual introduction—start 2x/week, work up to nightly over 3 months.',\n    priority: 2,\n    priceRange: { min: 20, max: 80, currency: 'USD' },\n    regionLinks: {},\n    directLink: 'https://www.goodrx.com/tretinoin?ref=looksmaxx',\n    imageUrl: 'https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n\n  // ============================================\n  // MISCELLANEOUS (9 products)\n  // ============================================\n  {\n    id: 'water_jug',\n    name: 'Half Gallon Water Bottle',\n    brand: 'Venture Pal',\n    category: 'miscellaneous',\n    tagline: \"You're not drinking enough water. Yes, you. Your face is literally retaining fluid to compensate.\",\n    description: 'Time markers keep you on track. BPA-free, leak-proof. Drink one full jug by 5pm, another by bedtime. Non-negotiable.',\n    priority: 1,\n    priceRange: { min: 15, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B09D3VZ79R',\n      uk: 'B09D3VZ79R',\n      de: 'B09D3VZ79R',\n      fr: 'B09D3VZ79R',\n      au: 'B09D3VZ79R',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1523362628745-0c100150b504?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'jaw_exerciser',\n    name: 'Jawliner Jawline Exerciser',\n    brand: 'Jawliner',\n    category: 'miscellaneous',\n    tagline: \"Listen, I need you to put down the mastic gum for a second if your jaw already looks like Minecraft Steve.\",\n    description: 'Silicone jaw exerciser in 3 resistance levels. Start with beginner, progress monthly. 10-15 minutes daily. Check your FWHR—if it\\'s already high, skip this.',\n    priority: 3,\n    priceRange: { min: 15, max: 30, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B08GY61JZS',\n      uk: 'B08GY61JZS',\n      de: 'B08GY61JZS',\n      fr: 'B08GY61JZS',\n      au: 'B08GY61JZS',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'gum_mastic',\n    name: 'Mastic Gum (Greek Chios)',\n    brand: 'Chios Mastiha',\n    category: 'miscellaneous',\n    tagline: \"The OG jaw workout. Greeks have been doing this for centuries. Your masseter will hate you.\",\n    description: 'Natural tree resin from Chios island, Greece. Harder than regular gum—forces masseter development. 30-60 minutes daily. Jaw pump is real.',\n    priority: 3,\n    priceRange: { min: 15, max: 35, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B07V5CTTRB',\n      uk: 'B07V5CTTRB',\n      de: 'B07V5CTTRB',\n      fr: 'B07V5CTTRB',\n      au: 'B07V5CTTRB',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1571844307880-751c6d86f3f3?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'minoxidil',\n    name: 'Kirkland Minoxidil 5% Solution',\n    brand: 'Kirkland',\n    category: 'miscellaneous',\n    tagline: \"Rogaine is the same formula at 3x the price. Don't be a marketing victim.\",\n    description: 'Apply 1ml to scalp or beard area twice daily. Takes 3-6 months for visible results. Shedding phase is normal—push through.',\n    priority: 2,\n    priceRange: { min: 25, max: 50, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B0CSXVT3XZ',\n      uk: 'B0CSXVT3XZ',\n      de: 'B0CSXVT3XZ',\n      fr: 'B0CSXVT3XZ',\n      au: 'B0CSXVT3XZ',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1585751119414-ef2636f8aede?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'dermaroller',\n    name: '0.5mm Derma Roller',\n    brand: 'Sdara',\n    category: 'miscellaneous',\n    tagline: \"Stabbing your scalp to grow hair sounds insane, but the science is actually solid.\",\n    description: 'Use 1x per week on scalp to enhance minoxidil absorption. Replace every 3 months. Sanitize with isopropyl alcohol before each use.',\n    priority: 2,\n    priceRange: { min: 10, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B07Y1N4VLC',\n      uk: 'B07Y1N4VLC',\n      de: 'B07Y1N4VLC',\n      fr: 'B07Y1N4VLC',\n      au: 'B07Y1N4VLC',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1616683693504-3ea7e9ad6fec?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'posture_corrector',\n    name: 'Posture Corrector',\n    brand: 'Mercase',\n    category: 'miscellaneous',\n    tagline: \"You're reading this with your neck at a 45-degree angle. I know because I am too.\",\n    description: 'Wear 30 mins daily to retrain posture. Not a permanent fix—you need to strengthen upper back. But good for building awareness.',\n    priority: 3,\n    priceRange: { min: 15, max: 30, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B07P6D23C2',\n      uk: 'B07P6D23C2',\n      de: 'B07P6D23C2',\n      fr: 'B07P6D23C2',\n      au: 'B07P6D23C2',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'sleep_mask',\n    name: 'Manta Sleep Mask',\n    brand: 'Manta',\n    category: 'miscellaneous',\n    tagline: \"Your sleep schedule is committing crimes against your face and you don't even know it.\",\n    description: 'Zero light leakage, zero pressure on eyes. Adjustable eye cups work for all face shapes. Essential for deep sleep optimization.',\n    priority: 2,\n    priceRange: { min: 30, max: 40, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B07GXQX1GD',\n      uk: 'B07GXQX1GD',\n      de: 'B07GXQX1GD',\n      fr: 'B07GXQX1GD',\n      au: 'B07GXQX1GD',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1531353826977-0941b4779a1c?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'silk_pillowcase',\n    name: 'Silk Pillowcase',\n    brand: 'Alaska Bear',\n    category: 'miscellaneous',\n    tagline: \"Cotton pillowcases are giving your skin friction damage while you sleep. Upgrade.\",\n    description: '100% mulberry silk reduces friction on skin and hair. Less sleep creases, less frizz. Wash weekly on delicate cycle.',\n    priority: 3,\n    priceRange: { min: 20, max: 35, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B00IJBTAG4',\n      uk: 'B00IJBTAG4',\n      de: 'B00IJBTAG4',\n      fr: 'B00IJBTAG4',\n      au: 'B00IJBTAG4',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'blue_light_glasses',\n    name: 'Blue Light Blocking Glasses',\n    brand: 'ANRRI',\n    category: 'miscellaneous',\n    tagline: \"Screen time at 11pm is telling your brain it's noon. These help, but also maybe just go to bed.\",\n    description: 'Wear 2 hours before bed to reduce blue light exposure. Helps with sleep quality. Looks slightly ridiculous, works anyway.',\n    priority: 3,\n    priceRange: { min: 15, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B07KFXBDB8',\n      uk: 'B07KFXBDB8',\n      de: 'B07KFXBDB8',\n      fr: 'B07KFXBDB8',\n      au: 'B07KFXBDB8',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1574258495973-f010dfbb5371?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'food_scale',\n    name: 'Digital Food Scale',\n    brand: 'Etekcity',\n    category: 'miscellaneous',\n    tagline: \"Eyeballing portions is why you're at 18% body fat. At 11%, you ARE the good lighting.\",\n    description: 'Accurate to 0.1g, tare function for easy measuring. Track protein intake properly. Essential for cutting to lean levels.',\n    priority: 2,\n    priceRange: { min: 10, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B0113UZJE2',\n      uk: 'B0113UZJE2',\n      de: 'B0113UZJE2',\n      fr: 'B0113UZJE2',\n      au: 'B0113UZJE2',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1606917945122-6ea0c8f3bf1f?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n\n  // ============================================\n  // SUPPLEMENTS (10 products)\n  // ============================================\n  {\n    id: 'creatine_mono',\n    name: 'Creatine Monohydrate',\n    brand: 'Optimum Nutrition',\n    category: 'supplements',\n    tagline: \"The only supplement that actually does what it says. You'll look slightly bigger immediately. Yes, it's water. No, nobody can tell.\",\n    description: '5g daily, no loading phase needed. Cognitive benefits too—studies show improved memory and processing speed. Costs $0.10/day. Lock in.',\n    priority: 1,\n    priceRange: { min: 20, max: 35, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B002DYIZEO',\n      uk: 'B002DYIZEO',\n      de: 'B002DYIZEO',\n      fr: 'B002DYIZEO',\n      au: 'B002DYIZEO',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1579722820308-d74e571900a9?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'vitamin_d3_k2',\n    name: 'Vitamin D3+K2',\n    brand: 'Sports Research',\n    category: 'supplements',\n    tagline: \"Unless you work outside shirtless in summer, you're deficient. Get your levels checked, then take this.\",\n    description: 'D3 for bone density and immune function, K2 directs calcium to bones (not arteries). 5000 IU D3 + 100mcg K2 daily.',\n    priority: 1,\n    priceRange: { min: 18, max: 28, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B01N5P3E9X',\n      uk: 'B01N5P3E9X',\n      de: 'B01N5P3E9X',\n      fr: 'B01N5P3E9X',\n      au: 'B01N5P3E9X',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'magnesium_glycinate',\n    name: 'Magnesium Glycinate',\n    brand: \"Doctor's Best\",\n    category: 'supplements',\n    tagline: \"Most people are deficient and don't know it. Fixes sleep, reduces anxiety, stops eye twitches.\",\n    description: 'Glycinate form for maximum absorption and minimal gut issues. 200-400mg before bed. The best sleep upgrade under $15.',\n    priority: 1,\n    priceRange: { min: 12, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B000BD0RT0',\n      uk: 'B000BD0RT0',\n      de: 'B000BD0RT0',\n      fr: 'B000BD0RT0',\n      au: 'B000BD0RT0',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1559757175-7cb056fba93d?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'omega3_fish_oil',\n    name: 'Omega-3 Fish Oil',\n    brand: 'Nordic Naturals',\n    category: 'supplements',\n    tagline: \"Your brain is 60% fat. Feed it the good stuff, not the seed oil garbage.\",\n    description: 'High EPA/DHA concentration. Take 2-3 capsules with food. Reduces inflammation, supports brain function, helps skin glow.',\n    priority: 1,\n    priceRange: { min: 25, max: 40, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B002CQU564',\n      uk: 'B002CQU564',\n      de: 'B002CQU564',\n      fr: 'B002CQU564',\n      au: 'B002CQU564',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1577174881658-0f30ed549adc?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'collagen_peptides',\n    name: 'Collagen Peptides',\n    brand: 'Vital Proteins',\n    category: 'supplements',\n    tagline: \"Your body stops making collagen at 25. After that, you're just slowly deflating unless you supplement.\",\n    description: 'Type I & III collagen for skin elasticity and joint health. 20g daily in coffee or smoothie. Tasteless, dissolves instantly.',\n    priority: 2,\n    priceRange: { min: 25, max: 45, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B00K9XZTW0',\n      uk: 'B00K9XZTW0',\n      de: 'B00K9XZTW0',\n      fr: 'B00K9XZTW0',\n      au: 'B00K9XZTW0',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1607004468138-e7e23ea26947?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'ashwagandha_ksm66',\n    name: 'Ashwagandha KSM-66',\n    brand: 'NOW Foods',\n    category: 'supplements',\n    tagline: \"Cortisol is wrecking your gains and your face. This adaptogen tells stress to calm down.\",\n    description: 'KSM-66 is the gold standard extract. 600mg daily reduces cortisol, improves sleep, boosts testosterone (in men). Take in evening.',\n    priority: 2,\n    priceRange: { min: 15, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B01D0YJAD8',\n      uk: 'B01D0YJAD8',\n      de: 'B01D0YJAD8',\n      fr: 'B01D0YJAD8',\n      au: 'B01D0YJAD8',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1471864190281-a93a3070b6de?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'zinc_picolinate',\n    name: 'Zinc Picolinate 30mg',\n    brand: 'Thorne',\n    category: 'supplements',\n    tagline: \"Low zinc = low T = low everything. Get your levels checked, most gym bros are deficient.\",\n    description: 'Picolinate form for superior absorption. Essential for testosterone, immune function, and skin healing. Take with food to avoid nausea.',\n    priority: 2,\n    priceRange: { min: 12, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B000FGWDQS',\n      uk: 'B000FGWDQS',\n      de: 'B000FGWDQS',\n      fr: 'B000FGWDQS',\n      au: 'B000FGWDQS',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1550572017-edd951aa8f72?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'vitamin_c_liposomal',\n    name: 'Vitamin C (Liposomal)',\n    brand: 'LivOn Labs',\n    category: 'supplements',\n    tagline: \"Regular vitamin C has like 20% absorption. Liposomal goes straight into your cells.\",\n    description: 'Liposomal delivery system massively increases absorption. 1000mg daily for collagen synthesis and antioxidant protection.',\n    priority: 2,\n    priceRange: { min: 30, max: 45, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B000CD9XGC',\n      uk: 'B000CD9XGC',\n      de: 'B000CD9XGC',\n      fr: 'B000CD9XGC',\n      au: 'B000CD9XGC',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1587049352847-49f9a74abdd3?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'melatonin_lowdose',\n    name: 'Melatonin 0.5mg',\n    brand: 'Life Extension',\n    category: 'supplements',\n    tagline: \"More is not better. 0.3-0.5mg works. Those 10mg pills are giving you grogginess, not sleep.\",\n    description: 'Low-dose melatonin is more effective than high-dose. Take 30 mins before bed. Use for resetting circadian rhythm, not every night.',\n    priority: 3,\n    priceRange: { min: 8, max: 15, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B001LXOHCE',\n      uk: 'B001LXOHCE',\n      de: 'B001LXOHCE',\n      fr: 'B001LXOHCE',\n      au: 'B001LXOHCE',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1585435557343-3b348031d6c9?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'l_theanine',\n    name: 'L-Theanine 200mg',\n    brand: 'NOW Foods',\n    category: 'supplements',\n    tagline: \"The chill without the drowsy. Pairs with caffeine for focus without the jitters.\",\n    description: 'Amino acid from green tea that promotes calm focus. Take 100-200mg with coffee to smooth out the stimulant edge. No grogginess, just clarity.',\n    priority: 2,\n    priceRange: { min: 10, max: 18, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B0013OQEO0',\n      uk: 'B0013OQEO0',\n      de: 'B0013OQEO0',\n      fr: 'B0013OQEO0',\n      au: 'B0013OQEO0',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'protein_powder',\n    name: 'Whey Protein Isolate',\n    brand: 'Optimum Nutrition',\n    category: 'supplements',\n    tagline: \"1g per pound of bodyweight is the goal. This is the most efficient way to hit it.\",\n    description: 'Gold standard whey isolate. 25g protein per scoop, low carb, fast absorbing. Take post-workout or whenever you need to hit your protein macro.',\n    priority: 1,\n    priceRange: { min: 30, max: 50, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B000QSNYGI',\n      uk: 'B000QSNYGI',\n      de: 'B000QSNYGI',\n      fr: 'B000QSNYGI',\n      au: 'B000QSNYGI',\n    }),\n    imageUrl: 'https://images.unsplash.com/photo-1593095948071-474c5cc2989d?w=200&h=200&fit=crop',\n    isBaseStack: true,\n  },\n  {\n    id: 'nmn_supplement',\n    name: 'NMN 250mg',\n    brand: 'ProHealth Longevity',\n    category: 'supplements',\n    tagline: \"NAD+ declines 50% by age 50. This is the precursor your cells use to make more. Longevity science, not bro science.\",\n    description: 'Nicotinamide Mononucleotide for cellular energy and DNA repair. 250-500mg daily. More relevant after 30 when NAD+ starts declining.',\n    priority: 3,\n    priceRange: { min: 40, max: 70, currency: 'USD' },\n    regionLinks: buildRegionLinks({\n      us: 'B08QRYWLF9',\n      uk: 'B08QRYWLF9',\n      de: 'B08QRYWLF9',\n      fr: 'B08QRYWLF9',\n      au: 'B08QRYWLF9',\n    }),\n    directLink: 'https://www.prohealthlongevity.com/products/nmn-pro-500?ref=looksmaxx',\n    imageUrl: 'https://images.unsplash.com/photo-1631549916768-4119b2e5f926?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n\n  // ============================================\n  // HAIR (8 products) - New\n  // ============================================\n  {\n    id: 'kirkland_minoxidil',\n    name: 'Kirkland Minoxidil 5%',\n    brand: 'Kirkland',\n    category: 'hair',\n    tagline: \"The Big 3 starts here. At $4/month, there's no excuse not to try it if you're receding.\",\n    description: '6-month supply of topical minoxidil. Apply to scalp 2x daily. Results in 4-6 months. The cost-effective gold standard.',\n    priority: 1,\n    priceRange: { min: 25, max: 40, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00NWQB0UM', uk: 'B00NWQB0UM', de: 'B00NWQB0UM', fr: 'B00NWQB0UM', au: 'B00NWQB0UM' }),\n    imageUrl: 'https://images.unsplash.com/photo-1585232004423-244e0e6904e3?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'nizoral_shampoo',\n    name: 'Nizoral 2% Ketoconazole Shampoo',\n    brand: 'Nizoral',\n    category: 'hair',\n    tagline: \"Part of the Big 3. This isn't just dandruff shampoo—it's a mild DHT blocker for your scalp.\",\n    description: 'Use 2-3x per week. Leave on scalp 3-5 mins before rinsing. Reduces scalp inflammation and DHT at the follicle level.',\n    priority: 1,\n    priceRange: { min: 15, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00AINMFAC', uk: 'B00AINMFAC', de: 'B00AINMFAC', fr: 'B00AINMFAC', au: 'B00AINMFAC' }),\n    imageUrl: 'https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'scalp_dermaroller',\n    name: 'Scalp Derma Roller 1.5mm',\n    brand: 'Koi Beauty',\n    category: 'hair',\n    tagline: \"Microneedling for your scalp. Sounds brutal, boosts minoxidil absorption by 4x.\",\n    description: 'Use once weekly on thinning areas. Creates microchannels that enhance topical absorption. Replace every 2-3 months.',\n    priority: 1,\n    priceRange: { min: 12, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B07B3QPMRY', uk: 'B07B3QPMRY', de: 'B07B3QPMRY', fr: 'B07B3QPMRY', au: 'B07B3QPMRY' }),\n    imageUrl: 'https://images.unsplash.com/photo-1576426863848-c21f53c60b19?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'biotin_10000',\n    name: 'Biotin 10,000mcg',\n    brand: 'Sports Research',\n    category: 'hair',\n    tagline: \"The most overhyped hair supplement. Won't regrow hair, but deficiency causes shedding.\",\n    description: 'Take daily with food. Supports keratin production. More useful for nails than hair honestly, but cheap insurance.',\n    priority: 2,\n    priceRange: { min: 15, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00K0PQB0E', uk: 'B00K0PQB0E', de: 'B00K0PQB0E', fr: 'B00K0PQB0E', au: 'B00K0PQB0E' }),\n    imageUrl: 'https://images.unsplash.com/photo-1550572017-4e8f0b0c0f7b?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'rosemary_oil',\n    name: 'Rosemary Essential Oil',\n    brand: 'Handcraft',\n    category: 'hair',\n    tagline: \"Studies show it's as effective as minoxidil for some people. Mix with carrier oil, massage into scalp.\",\n    description: 'Mix 5 drops with 1 tbsp carrier oil. Massage into scalp, leave 30+ mins or overnight. Cheaper natural alternative.',\n    priority: 2,\n    priceRange: { min: 10, max: 18, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B08Y8M2V6S', uk: 'B08Y8M2V6S', de: 'B08Y8M2V6S', fr: 'B08Y8M2V6S', au: 'B08Y8M2V6S' }),\n    imageUrl: 'https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'rogaine_foam',\n    name: 'Rogaine Foam 5%',\n    brand: 'Rogaine',\n    category: 'hair',\n    tagline: \"Brand name minoxidil. Same active ingredient, easier foam application, 3x the price.\",\n    description: 'Foam dries faster, less greasy than liquid. Worth it if liquid irritates your scalp or you hate the dripping.',\n    priority: 2,\n    priceRange: { min: 40, max: 60, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00ITTO2YU', uk: 'B00ITTO2YU', de: 'B00ITTO2YU', fr: 'B00ITTO2YU', au: 'B00ITTO2YU' }),\n    imageUrl: 'https://images.unsplash.com/photo-1527799820374-dcf8d9d4a388?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'laser_hair_cap',\n    name: 'Laser Hair Growth Cap',\n    brand: 'iRestore',\n    category: 'hair',\n    tagline: \"LLLT for your head. FDA-cleared, questionable ROI. Rich guy addition to the stack.\",\n    description: 'Low-level laser therapy stimulates follicles. Use 25 mins every other day. Evidence is decent but pricey.',\n    priority: 3,\n    priceRange: { min: 600, max: 800, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B01M0QQPPT', uk: 'B01M0QQPPT', de: 'B01M0QQPPT', fr: 'B01M0QQPPT', au: 'B01M0QQPPT' }),\n    imageUrl: 'https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'scalp_massager',\n    name: 'Scalp Massager Shampoo Brush',\n    brand: 'MAXSOFT',\n    category: 'hair',\n    tagline: \"Feels amazing, increases blood flow to scalp. Won't regrow hair but might slow loss.\",\n    description: 'Use during shampoo. Soft silicone bristles, exfoliates scalp, removes buildup. $8 for scalp tingles.',\n    priority: 2,\n    priceRange: { min: 8, max: 12, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B074ZDXFL6', uk: 'B074ZDXFL6', de: 'B074ZDXFL6', fr: 'B074ZDXFL6', au: 'B074ZDXFL6' }),\n    imageUrl: 'https://images.unsplash.com/photo-1522338242042-2d1c59e088a4?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n\n  // ============================================\n  // BEARD (5 products) - New\n  // ============================================\n  {\n    id: 'beard_dermaroller',\n    name: 'Beard Derma Roller 0.5mm',\n    brand: 'Sdara',\n    category: 'beard',\n    tagline: \"Roll tiny needles on your face for beard gains. Yes it works. No it doesn't hurt that much.\",\n    description: 'Use 1-2x weekly before minoxidil application. 0.5mm depth is the sweet spot for facial hair stimulation.',\n    priority: 1,\n    priceRange: { min: 12, max: 18, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B076Q4HJD5', uk: 'B076Q4HJD5', de: 'B076Q4HJD5', fr: 'B076Q4HJD5', au: 'B076Q4HJD5' }),\n    imageUrl: 'https://images.unsplash.com/photo-1616683693504-3ea7e9ad6fec?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'beard_oil_honest',\n    name: 'Beard Growth Oil',\n    brand: 'Honest Amish',\n    category: 'beard',\n    tagline: \"For when you actually have a beard to maintain. Keeps it soft, smells like a lumberjack.\",\n    description: 'Apply a few drops after showering. Works into skin and hair. Organic oils nourish both beard and skin underneath.',\n    priority: 2,\n    priceRange: { min: 15, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00F9QBGZI', uk: 'B00F9QBGZI', de: 'B00F9QBGZI', fr: 'B00F9QBGZI', au: 'B00F9QBGZI' }),\n    imageUrl: 'https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'beard_balm',\n    name: 'Beard Balm',\n    brand: 'Viking Revolution',\n    category: 'beard',\n    tagline: \"Oil for moisture, balm for control. Tames wild beard hairs, adds light hold.\",\n    description: 'Use after oil for styling hold. Natural ingredients, subtle scent. Works best on beards 1+ inch long.',\n    priority: 2,\n    priceRange: { min: 12, max: 18, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B071GGXWJK', uk: 'B071GGXWJK', de: 'B071GGXWJK', fr: 'B071GGXWJK', au: 'B071GGXWJK' }),\n    imageUrl: 'https://images.unsplash.com/photo-1594852279555-c7b6f2fa4c90?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'beard_trimmer_philips',\n    name: 'Beard Trimmer',\n    brand: 'Philips Norelco',\n    category: 'beard',\n    tagline: \"Precision guards for that perfect stubble length. 0.4mm increments so you're not guessing.\",\n    description: 'Cordless, 20 length settings, self-sharpening blades. The workhorse of stubble maintenance.',\n    priority: 2,\n    priceRange: { min: 50, max: 80, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B07H4QRMQJ', uk: 'B07H4QRMQJ', de: 'B07H4QRMQJ', fr: 'B07H4QRMQJ', au: 'B07H4QRMQJ' }),\n    imageUrl: 'https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'jawline_exerciser_pro',\n    name: 'Jawline Exerciser',\n    brand: 'JawlineMe',\n    category: 'beard',\n    tagline: \"Chew your way to a bigger masseter. Results vary, TMJ risk if you overdo it.\",\n    description: 'Resistance training for your jaw. Start with lighter resistance, progress slowly. Not a substitute for low body fat.',\n    priority: 3,\n    priceRange: { min: 15, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B08R5ZQFR7', uk: 'B08R5ZQFR7', de: 'B08R5ZQFR7', fr: 'B08R5ZQFR7', au: 'B08R5ZQFR7' }),\n    imageUrl: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n\n  // ============================================\n  // TEETH (6 products) - New\n  // ============================================\n  {\n    id: 'crest_whitestrips',\n    name: 'Crest 3D Whitestrips Pro',\n    brand: 'Crest',\n    category: 'teeth',\n    tagline: \"Yellow teeth are costing you more than you think. $40 for a smile upgrade is a no-brainer.\",\n    description: '20 treatments, 30 min each. Same peroxide as dentist whitening, fraction of the cost. Manage sensitivity with breaks.',\n    priority: 1,\n    priceRange: { min: 40, max: 55, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00336EUTK', uk: 'B00336EUTK', de: 'B00336EUTK', fr: 'B00336EUTK', au: 'B00336EUTK' }),\n    imageUrl: 'https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'waterpik_flosser',\n    name: 'Waterpik Water Flosser',\n    brand: 'Waterpik',\n    category: 'teeth',\n    tagline: \"Flossing is non-negotiable but string floss sucks. This makes it actually happen.\",\n    description: 'Pressurized water removes what brushing misses. Use daily after brushing. Your gums will stop bleeding in a week.',\n    priority: 1,\n    priceRange: { min: 50, max: 80, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B002QAFJMA', uk: 'B002QAFJMA', de: 'B002QAFJMA', fr: 'B002QAFJMA', au: 'B002QAFJMA' }),\n    imageUrl: 'https://images.unsplash.com/photo-1571942676516-bcab84649e44?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'retainer_cleaner',\n    name: 'Retainer Cleaner Tablets',\n    brand: 'Retainer Brite',\n    category: 'teeth',\n    tagline: \"Your retainer is growing bacteria colonies. Drop a tablet, soak 15 min, crisis averted.\",\n    description: 'Works on retainers, night guards, and aligners. Daily use prevents buildup and keeps them from smelling like death.',\n    priority: 2,\n    priceRange: { min: 15, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B003Z66O22', uk: 'B003Z66O22', de: 'B003Z66O22', fr: 'B003Z66O22', au: 'B003Z66O22' }),\n    imageUrl: 'https://images.unsplash.com/photo-1609840114035-3c981b782dfe?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'whitening_pen',\n    name: 'Whitening Pen',\n    brand: 'AuraGlow',\n    category: 'teeth',\n    tagline: \"Touch-up whitening for between strip sessions. Keep in your bag for emergencies.\",\n    description: 'Brush-on gel, leave 1 hour. Lower concentration than strips, good for maintenance. Travel-friendly.',\n    priority: 2,\n    priceRange: { min: 20, max: 30, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B07L4GFJ7T', uk: 'B07L4GFJ7T', de: 'B07L4GFJ7T', fr: 'B07L4GFJ7T', au: 'B07L4GFJ7T' }),\n    imageUrl: 'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'copper_tongue_scraper',\n    name: 'Copper Tongue Scraper',\n    brand: 'MasterMedi',\n    category: 'teeth',\n    tagline: \"Copper is naturally antimicrobial. Kills bacteria while scraping. Ancient Ayurvedic move.\",\n    description: 'Use before brushing, morning routine. Copper version lasts forever and has antibacterial properties.',\n    priority: 2,\n    priceRange: { min: 8, max: 12, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B07D37GTWS', uk: 'B07D37GTWS', de: 'B07D37GTWS', fr: 'B07D37GTWS', au: 'B07D37GTWS' }),\n    imageUrl: 'https://images.unsplash.com/photo-1609587312208-cea54be969e7?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'oralb_electric_pro',\n    name: 'Oral-B iO Series 9',\n    brand: 'Oral-B',\n    category: 'teeth',\n    tagline: \"The premium electric toothbrush. AI tracking, pressure sensor, 7 modes. Overkill but nice.\",\n    description: 'Top-tier Oral-B with app connectivity. Tracks brushing zones, optimizes technique. For teeth obsessives.',\n    priority: 3,\n    priceRange: { min: 200, max: 300, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B07RBYQ6FC', uk: 'B07RBYQ6FC', de: 'B07RBYQ6FC', fr: 'B07RBYQ6FC', au: 'B07RBYQ6FC' }),\n    imageUrl: 'https://images.unsplash.com/photo-1559467234-f7c94a27c96c?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n\n  // ============================================\n  // K-BEAUTY (8 products) - New\n  // ============================================\n  {\n    id: 'cosrx_snail_mucin',\n    name: 'COSRX Snail Mucin Essence',\n    brand: 'COSRX',\n    category: 'kbeauty',\n    tagline: \"Yes, it's snail slime. Yes, it works. Your skin will glow like a K-drama star.\",\n    description: '96% snail mucin for hydration and repair. Apply after cleansing, before moisturizer. Plumps and heals.',\n    priority: 1,\n    priceRange: { min: 20, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00PBX3L7K', uk: 'B00PBX3L7K', de: 'B00PBX3L7K', fr: 'B00PBX3L7K', au: 'B00PBX3L7K' }),\n    imageUrl: 'https://images.unsplash.com/photo-1570194065650-d99fb4b38b17?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'klairs_toner',\n    name: 'Klairs Supple Preparation Toner',\n    brand: 'Klairs',\n    category: 'kbeauty',\n    tagline: \"The 7-skin method starts here. Layer this toner for that 'chok chok' hydrated look.\",\n    description: 'Hydrating toner with amino acids. Pat 3-7 layers for maximum effect. The K-beauty glass skin secret.',\n    priority: 1,\n    priceRange: { min: 22, max: 28, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B07BTJLLZY', uk: 'B07BTJLLZY', de: 'B07BTJLLZY', fr: 'B07BTJLLZY', au: 'B07BTJLLZY' }),\n    imageUrl: 'https://images.unsplash.com/photo-1556228720-195a672e8a03?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'hada_labo_premium',\n    name: 'Hada Labo Premium Lotion',\n    brand: 'Hada Labo',\n    category: 'kbeauty',\n    tagline: \"5 types of hyaluronic acid in one bottle. Japanese skincare perfection for $15.\",\n    description: 'Multi-weight HA pulls water into skin at different depths. Apply to damp skin, seal with moisturizer.',\n    priority: 1,\n    priceRange: { min: 15, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B074GX619Q', uk: 'B074GX619Q', de: 'B074GX619Q', fr: 'B074GX619Q', au: 'B074GX619Q' }),\n    imageUrl: 'https://images.unsplash.com/photo-1617897903246-719242758050?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'banila_cleansing_balm',\n    name: 'Banila Co Clean It Zero',\n    brand: 'Banila Co',\n    category: 'kbeauty',\n    tagline: \"Double cleansing step 1. This balm melts off sunscreen and makeup like nothing else.\",\n    description: 'Massage onto dry skin, emulsifies with water. Removes everything including stubborn SPF. Follow with water-based cleanser.',\n    priority: 2,\n    priceRange: { min: 20, max: 25, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00LNQ8SZO', uk: 'B00LNQ8SZO', de: 'B00LNQ8SZO', fr: 'B00LNQ8SZO', au: 'B00LNQ8SZO' }),\n    imageUrl: 'https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'cosrx_aha_bha_toner',\n    name: 'COSRX AHA/BHA Clarifying Toner',\n    brand: 'COSRX',\n    category: 'kbeauty',\n    tagline: \"Low-percentage exfoliating toner for daily use. Preps skin for actives, unclogs pores.\",\n    description: 'Use after cleansing to balance pH. Contains natural AHA/BHA for gentle exfoliation. Daily use safe.',\n    priority: 2,\n    priceRange: { min: 15, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00OZ9WOD8', uk: 'B00OZ9WOD8', de: 'B00OZ9WOD8', fr: 'B00OZ9WOD8', au: 'B00OZ9WOD8' }),\n    imageUrl: 'https://images.unsplash.com/photo-1556228720-195a672e8a03?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'boj_glow_serum',\n    name: 'Beauty of Joseon Glow Serum',\n    brand: 'Beauty of Joseon',\n    category: 'kbeauty',\n    tagline: \"Propolis + niacinamide = instant glow. The Instagram filter in a bottle.\",\n    description: 'Propolis for glow and healing, niacinamide for pores. Use morning and night. Affordable glow serum.',\n    priority: 2,\n    priceRange: { min: 15, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B08WRWP8JY', uk: 'B08WRWP8JY', de: 'B08WRWP8JY', fr: 'B08WRWP8JY', au: 'B08WRWP8JY' }),\n    imageUrl: 'https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'laneige_cream_skin',\n    name: 'Laneige Cream Skin Refiner',\n    brand: 'Laneige',\n    category: 'kbeauty',\n    tagline: \"Toner + moisturizer hybrid. For when you want the K-beauty routine in one step.\",\n    description: 'Creamy toner that hydrates like a moisturizer. Great for minimal routines or layering. Dewy finish.',\n    priority: 2,\n    priceRange: { min: 30, max: 40, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B07QX44VYZ', uk: 'B07QX44VYZ', de: 'B07QX44VYZ', fr: 'B07QX44VYZ', au: 'B07QX44VYZ' }),\n    imageUrl: 'https://images.unsplash.com/photo-1598440947619-2c35fc9aa908?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'missha_bb_cream',\n    name: 'Missha M Perfect Cover BB Cream',\n    brand: 'Missha',\n    category: 'kbeauty',\n    tagline: \"The OG K-beauty BB cream. Evens tone without looking like makeup. SPF 42 included.\",\n    description: 'Light coverage, natural finish, sun protection. Multiple shades. The daily driver for good skin days.',\n    priority: 3,\n    priceRange: { min: 15, max: 20, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B004ALXQSO', uk: 'B004ALXQSO', de: 'B004ALXQSO', fr: 'B004ALXQSO', au: 'B004ALXQSO' }),\n    imageUrl: 'https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n\n  // ============================================\n  // HORMONAL/PCOS (5 products) - New\n  // ============================================\n  {\n    id: 'spearmint_tea',\n    name: 'Spearmint Tea',\n    brand: 'Traditional Medicinals',\n    category: 'hormonal',\n    tagline: \"Natural anti-androgen. 2 cups daily reduces hormonal acne and excess facial hair.\",\n    description: 'Studies show spearmint lowers testosterone in women. Gentle, tasty, evidence-based. For hormonal skin issues.',\n    priority: 1,\n    priceRange: { min: 5, max: 8, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B0009F3POO', uk: 'B0009F3POO', de: 'B0009F3POO', fr: 'B0009F3POO', au: 'B0009F3POO' }),\n    imageUrl: 'https://images.unsplash.com/photo-1597318181409-cf64d0b5d8a2?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'inositol_ovasitol',\n    name: 'Inositol (Myo + D-Chiro)',\n    brand: 'Ovasitol',\n    category: 'hormonal',\n    tagline: \"The PCOS supplement with actual research behind it. Improves insulin sensitivity and hormone balance.\",\n    description: '40:1 ratio myo-inositol to D-chiro-inositol. Take 2x daily. Shown to improve acne, hair, and cycles in PCOS.',\n    priority: 1,\n    priceRange: { min: 40, max: 60, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B074KJ6RJW', uk: 'B074KJ6RJW', de: 'B074KJ6RJW', fr: 'B074KJ6RJW', au: 'B074KJ6RJW' }),\n    imageUrl: 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'azelaic_acid',\n    name: 'Azelaic Acid 10%',\n    brand: \"Paula's Choice\",\n    category: 'hormonal',\n    tagline: \"Pregnancy-safe retinol alternative. Anti-inflammatory, kills acne bacteria, fades dark spots.\",\n    description: 'Use morning or night. Safe during pregnancy/breastfeeding. Treats rosacea and hormonal acne effectively.',\n    priority: 1,\n    priceRange: { min: 35, max: 45, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B06VT315YJ', uk: 'B06VT315YJ', de: 'B06VT315YJ', fr: 'B06VT315YJ', au: 'B06VT315YJ' }),\n    imageUrl: 'https://images.unsplash.com/photo-1617897903246-719242758050?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'dim_supplement',\n    name: 'DIM Supplement',\n    brand: 'Smoky Mountain',\n    category: 'hormonal',\n    tagline: \"Diindolylmethane—the broccoli extract that helps metabolize estrogen. Balances hormones naturally.\",\n    description: 'Take 100-200mg daily. Supports estrogen metabolism. Can help with hormonal acne and mood. Derived from cruciferous veggies.',\n    priority: 2,\n    priceRange: { min: 20, max: 30, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00K8JI3V4', uk: 'B00K8JI3V4', de: 'B00K8JI3V4', fr: 'B00K8JI3V4', au: 'B00K8JI3V4' }),\n    imageUrl: 'https://images.unsplash.com/photo-1550572017-edd951aa8f72?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'braun_ipl',\n    name: 'IPL Hair Removal Device',\n    brand: 'Braun',\n    category: 'hormonal',\n    tagline: \"Permanent-ish hair reduction at home. For hirsutism from PCOS or just general hair removal.\",\n    description: 'Intense pulsed light for at-home laser-like hair removal. 6-12 weeks for results. Works best on light skin/dark hair.',\n    priority: 3,\n    priceRange: { min: 300, max: 400, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B07YR7G8LS', uk: 'B07YR7G8LS', de: 'B07YR7G8LS', fr: 'B07YR7G8LS', au: 'B07YR7G8LS' }),\n    imageUrl: 'https://images.unsplash.com/photo-1594824476967-48c8b964273f?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n\n  // ============================================\n  // SURGERY RECOVERY (3 products) - New\n  // ============================================\n  {\n    id: 'arnica_gel',\n    name: 'Arnica Montana Gel',\n    brand: 'Boiron',\n    category: 'surgery',\n    tagline: \"Pre and post-procedure essential. Reduces bruising, swelling, and speeds healing.\",\n    description: 'Apply to bruised areas 2-3x daily. Start 3 days before procedure, continue 1-2 weeks after. Homeopathic but works.',\n    priority: 1,\n    priceRange: { min: 10, max: 15, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B000GP0168', uk: 'B000GP0168', de: 'B000GP0168', fr: 'B000GP0168', au: 'B000GP0168' }),\n    imageUrl: 'https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'compression_garment',\n    name: 'Compression Garment',\n    brand: 'Marena',\n    category: 'surgery',\n    tagline: \"Post-lipo essential. Reduces swelling, shapes results, speeds recovery. Wear 24/7 for weeks.\",\n    description: 'Medical-grade compression for body surgery recovery. Multiple styles for different procedures. Get fitted properly.',\n    priority: 1,\n    priceRange: { min: 80, max: 120, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B07M6MPJDN', uk: 'B07M6MPJDN', de: 'B07M6MPJDN', fr: 'B07M6MPJDN', au: 'B07M6MPJDN' }),\n    imageUrl: 'https://images.unsplash.com/photo-1594381898411-846e7d193883?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'scar_gel',\n    name: 'Scar Treatment Gel',\n    brand: 'Mederma',\n    category: 'surgery',\n    tagline: \"Start using once incisions close. Silicone-based, reduces scar visibility over months.\",\n    description: 'Apply 3-4x daily for 8 weeks on new scars, 3-6 months on old scars. Clinically proven to improve scar appearance.',\n    priority: 2,\n    priceRange: { min: 20, max: 30, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00EAFZUPU', uk: 'B00EAFZUPU', de: 'B00EAFZUPU', fr: 'B00EAFZUPU', au: 'B00EAFZUPU' }),\n    imageUrl: 'https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n\n  // ============================================\n  // ANTI-AGING (5 more products) - New\n  // ============================================\n  {\n    id: 'lrp_spf50',\n    name: 'La Roche-Posay Anthelios SPF 50',\n    brand: 'La Roche-Posay',\n    category: 'skincare',\n    tagline: \"The Euro SPF gold standard. Invisible finish, high UVA protection. Worth the premium.\",\n    description: 'Superior UVA filters (Mexoryl). Lightweight, no white cast. The skincare enthusiast SPF choice.',\n    priority: 1,\n    priceRange: { min: 25, max: 35, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B002CML1XE', uk: 'B002CML1XE', de: 'B002CML1XE', fr: 'B002CML1XE', au: 'B002CML1XE' }),\n    imageUrl: 'https://images.unsplash.com/photo-1556227702-d1e4e7b5c232?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'timeless_vitamin_c',\n    name: 'Vitamin C 20% Serum',\n    brand: 'Timeless',\n    category: 'skincare',\n    tagline: \"L-ascorbic acid at the right pH. Brightens, protects, boosts collagen. The $25 Skinceuticals dupe.\",\n    description: 'Apply morning before moisturizer and SPF. Store in fridge to preserve potency. Goes orange = time to replace.',\n    priority: 1,\n    priceRange: { min: 20, max: 30, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B0036BI56G', uk: 'B0036BI56G', de: 'B0036BI56G', fr: 'B0036BI56G', au: 'B0036BI56G' }),\n    imageUrl: 'https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'paulas_retinol',\n    name: 'Clinical 1% Retinol',\n    brand: \"Paula's Choice\",\n    category: 'skincare',\n    tagline: \"OTC retinol that actually works. Good stepping stone to prescription tretinoin.\",\n    description: 'Start 2-3x weekly, build to nightly. Contains peptides and antioxidants to buffer irritation.',\n    priority: 2,\n    priceRange: { min: 35, max: 45, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B00949CO3Y', uk: 'B00949CO3Y', de: 'B00949CO3Y', fr: 'B00949CO3Y', au: 'B00949CO3Y' }),\n    imageUrl: 'https://images.unsplash.com/photo-1617897903246-719242758050?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'ordinary_niacinamide',\n    name: 'Niacinamide 10% + Zinc 1%',\n    brand: 'The Ordinary',\n    category: 'skincare',\n    tagline: \"The $6 pore minimizer. Regulates sebum, reduces inflammation. Everyone should have this.\",\n    description: 'Use morning or night. Helps with oily skin, large pores, acne. Layer under moisturizer.',\n    priority: 2,\n    priceRange: { min: 6, max: 12, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B06WGPT9LR', uk: 'B06WGPT9LR', de: 'B06WGPT9LR', fr: 'B06WGPT9LR', au: 'B06WGPT9LR' }),\n    imageUrl: 'https://images.unsplash.com/photo-1617897903246-719242758050?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n  {\n    id: 'vichy_ha',\n    name: 'Hyaluronic Acid Serum',\n    brand: 'Vichy',\n    category: 'skincare',\n    tagline: \"Pharmacy-grade hydration. Multi-weight HA plumps skin and holds 1000x its weight in water.\",\n    description: 'Apply to damp skin, layer under moisturizer. Multiple HA weights for surface and deep hydration.',\n    priority: 2,\n    priceRange: { min: 30, max: 40, currency: 'USD' },\n    regionLinks: buildRegionLinks({ us: 'B01N7T8L4H', uk: 'B01N7T8L4H', de: 'B01N7T8L4H', fr: 'B01N7T8L4H', au: 'B01N7T8L4H' }),\n    imageUrl: 'https://images.unsplash.com/photo-1598440947619-2c35fc9aa908?w=200&h=200&fit=crop',\n    isBaseStack: false,\n  },\n];\n\n// ============================================\n// HELPER FUNCTIONS\n// ============================================\n\n/**\n * Product ID aliases for backwards compatibility\n * Maps shorthand IDs to full product IDs\n */\nconst PRODUCT_ID_ALIASES: Record<string, string> = {\n  // Supplements\n  ashwagandha: 'ashwagandha_ksm66',\n  creatine: 'creatine_mono',\n  omega_3: 'omega3_fish_oil',\n  zinc: 'zinc_picolinate',\n  // Add more as needed\n};\n\n/**\n * Get product by ID (supports aliases)\n */\nexport function getGuideProductById(id: string): GuideProduct | undefined {\n  // Resolve alias if it exists\n  const resolvedId = PRODUCT_ID_ALIASES[id] || id;\n  return GUIDE_PRODUCTS.find(p => p.id === resolvedId);\n}\n\n/**\n * Get all products in a category\n */\nexport function getGuideProductsByCategory(category: ProductCategory): GuideProduct[] {\n  return GUIDE_PRODUCTS\n    .filter(p => p.category === category)\n    .sort((a, b) => a.priority - b.priority);\n}\n\n/**\n * Get all base stack products (essentials for everyone)\n */\nexport function getBaseStackProducts(): GuideProduct[] {\n  return GUIDE_PRODUCTS\n    .filter(p => p.isBaseStack)\n    .sort((a, b) => a.priority - b.priority);\n}\n\n/**\n * Get products by priority level\n */\nexport function getGuideProductsByPriority(priority: number): GuideProduct[] {\n  return GUIDE_PRODUCTS.filter(p => p.priority === priority);\n}\n\n/**\n * Get all unique categories with product counts\n */\nexport function getProductCategories(): Array<{ category: ProductCategory; count: number }> {\n  const categories: ProductCategory[] = [\n    'hygiene',\n    'grooming',\n    'skincare',\n    'miscellaneous',\n    'supplements',\n    'hair',\n    'beard',\n    'teeth',\n    'kbeauty',\n    'hormonal',\n    'surgery',\n  ];\n\n  return categories.map(category => ({\n    category,\n    count: GUIDE_PRODUCTS.filter(p => p.category === category).length,\n  }));\n}\n\n/**\n * Get products by array of IDs (preserves order)\n */\nexport function getGuideProductsByIds(ids: string[]): GuideProduct[] {\n  return ids\n    .map(id => getGuideProductById(id))\n    .filter((p): p is GuideProduct => p !== undefined);\n}\n\n/**\n * Search products by name or description\n */\nexport function searchGuideProducts(query: string): GuideProduct[] {\n  const lowered = query.toLowerCase();\n  return GUIDE_PRODUCTS.filter(p =>\n    p.name.toLowerCase().includes(lowered) ||\n    p.description.toLowerCase().includes(lowered) ||\n    p.tagline.toLowerCase().includes(lowered) ||\n    (p.brand && p.brand.toLowerCase().includes(lowered))\n  );\n}\n\n/**\n * Get total product count\n */\nexport function getTotalProductCount(): number {\n  return GUIDE_PRODUCTS.length;\n}\n\n/**\n * Get category display info\n */\nexport function getCategoryDisplayInfo(category: ProductCategory): {\n  name: string;\n  icon: string;\n  description: string;\n} {\n  const info: Record<ProductCategory, { name: string; icon: string; description: string }> = {\n    hygiene: {\n      name: 'Hygiene',\n      icon: 'Sparkles',\n      description: 'Fundamentals of not repelling people',\n    },\n    grooming: {\n      name: 'Grooming',\n      icon: 'Scissors',\n      description: 'Tools for precision face maintenance',\n    },\n    skincare: {\n      name: 'Skincare',\n      icon: 'Droplet',\n      description: 'Your skin is your face. Treat it right.',\n    },\n    miscellaneous: {\n      name: 'Miscellaneous',\n      icon: 'Package',\n      description: 'The supporting cast of your glow-up',\n    },\n    supplements: {\n      name: 'Supplements',\n      icon: 'Pill',\n      description: 'Fill the gaps your diet is missing',\n    },\n    hair: {\n      name: 'Hair',\n      icon: 'Wind',\n      description: 'The Big 3 and beyond—save what you have',\n    },\n    beard: {\n      name: 'Beard',\n      icon: 'User',\n      description: 'Grow it, groom it, own it',\n    },\n    teeth: {\n      name: 'Teeth',\n      icon: 'Smile',\n      description: 'Your smile is worth more than you think',\n    },\n    kbeauty: {\n      name: 'K-Beauty',\n      icon: 'Sparkle',\n      description: 'Glass skin protocols from Seoul',\n    },\n    hormonal: {\n      name: 'Hormonal',\n      icon: 'Heart',\n      description: 'PCOS, hormonal acne, and balance',\n    },\n    surgery: {\n      name: 'Surgery',\n      icon: 'Stethoscope',\n      description: 'Post-op recovery essentials',\n    },\n  };\n\n  return info[category];\n}\n","numLines":1471,"startLine":1,"totalLines":1471}}}
{"parentUuid":"91fdf51a-4253-4846-bdca-d893ad5bd457","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_01UH1NgHX83Xg2v1HPSy5kTv","type":"message","role":"assistant","content":[{"type":"text","text":"Let me also check for any additional related files and look for potential security issues like hardcoded API keys or debug code:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":18159,"cache_creation_input_tokens":29159,"cache_read_input_tokens":38124,"cache_creation":{"ephemeral_5m_input_tokens":29159,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWYZmMWVvhgrejHTNJ8FR","type":"assistant","uuid":"299b36e7-58a3-4f66-9675-e6b7e31e54b9","timestamp":"2025-12-28T05:53:26.039Z"}
{"parentUuid":"299b36e7-58a3-4f66-9675-e6b7e31e54b9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_01UH1NgHX83Xg2v1HPSy5kTv","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01CpktxS3YtXWmBRG1FWThdw","name":"Grep","input":{"pattern":"console\\.log","path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src","output_mode":"count","head_limit":50}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":18159,"cache_creation_input_tokens":29159,"cache_read_input_tokens":38124,"cache_creation":{"ephemeral_5m_input_tokens":29159,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWYZmMWVvhgrejHTNJ8FR","type":"assistant","uuid":"5f6f86e1-0572-473b-89c6-530dbe290554","timestamp":"2025-12-28T05:53:27.976Z"}
{"parentUuid":"5f6f86e1-0572-473b-89c6-530dbe290554","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_01UH1NgHX83Xg2v1HPSy5kTv","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0186LJWeMGgN1N5w79tviDXy","name":"Grep","input":{"pattern":"API_KEY|SECRET|STRIPE|SENDGRID","path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src","output_mode":"content","-i":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":18159,"cache_creation_input_tokens":29159,"cache_read_input_tokens":38124,"cache_creation":{"ephemeral_5m_input_tokens":29159,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWYZmMWVvhgrejHTNJ8FR","type":"assistant","uuid":"63110859-360d-4ced-a9aa-2f4017848d4d","timestamp":"2025-12-28T05:53:29.551Z"}
{"parentUuid":"63110859-360d-4ced-a9aa-2f4017848d4d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_01UH1NgHX83Xg2v1HPSy5kTv","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011Stf2C94vTmP1bgowxtp2S","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/recommendations/supplements.ts","limit":150}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":18159,"cache_creation_input_tokens":29159,"cache_read_input_tokens":38124,"cache_creation":{"ephemeral_5m_input_tokens":29159,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWYZmMWVvhgrejHTNJ8FR","type":"assistant","uuid":"16a0391e-ffb6-4291-a4e4-57758b09ae95","timestamp":"2025-12-28T05:53:30.709Z"}
{"parentUuid":"16a0391e-ffb6-4291-a4e4-57758b09ae95","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_01UH1NgHX83Xg2v1HPSy5kTv","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_017KHgMcsq3vQUFdjTbSo8Ba","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/types/results.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":18159,"cache_creation_input_tokens":29159,"cache_read_input_tokens":38124,"cache_creation":{"ephemeral_5m_input_tokens":29159,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWYZmMWVvhgrejHTNJ8FR","type":"assistant","uuid":"e4c8e4a3-20a1-4d51-b911-f5d4ea882a5f","timestamp":"2025-12-28T05:53:31.418Z"}
{"parentUuid":"e4c8e4a3-20a1-4d51-b911-f5d4ea882a5f","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011Stf2C94vTmP1bgowxtp2S","type":"tool_result","content":"     1→/**\n     2→ * Supplements Database\n     3→ * Evidence-based supplements for facial aesthetics and anti-aging\n     4→ */\n     5→\n     6→import { Supplement } from './types';\n     7→\n     8→export const SUPPLEMENTS: Supplement[] = [\n     9→  // ============================================\n    10→  // SKIN SUPPLEMENTS\n    11→  // ============================================\n    12→  {\n    13→    id: 'collagen_peptides',\n    14→    name: 'Collagen Peptides (Hydrolyzed)',\n    15→    category: 'skin',\n    16→    description: 'Hydrolyzed collagen powder for skin elasticity and hydration',\n    17→    dosage: '5-15g',\n    18→    frequency: 'Daily',\n    19→    timing: 'Any time, with or without food',\n    20→    effectiveness: 7,\n    21→    evidenceLevel: 'moderate',\n    22→    costPerMonth: { min: 15, max: 40 },\n    23→    timelineToResults: '4-12 weeks',\n    24→    riskLevel: 'very_low',\n    25→    sideEffects: ['Mild digestive upset', 'Bad taste (some products)'],\n    26→    interactions: [],\n    27→    contraindications: ['Fish/shellfish allergy (marine collagen)'],\n    28→    targetBenefits: ['skin_elasticity', 'wrinkle_reduction', 'skin_hydration', 'nail_strength'],\n    29→    requiresPrescription: false,\n    30→    notes: [\n    31→      'Type I and III collagen most beneficial for skin',\n    32→      '2019 meta-analysis: significant improvement in skin elasticity and hydration',\n    33→      'Vitamin C enhances collagen synthesis - take together',\n    34→      'Marine collagen has better bioavailability than bovine',\n    35→    ],\n    36→    sources: ['PMC6835901', 'Journal of Cosmetic Dermatology 2019'],\n    37→  },\n    38→  {\n    39→    id: 'vitamin_c_oral',\n    40→    name: 'Vitamin C (Ascorbic Acid)',\n    41→    category: 'skin',\n    42→    description: 'Essential antioxidant for collagen synthesis and skin health',\n    43→    dosage: '500-1000mg',\n    44→    frequency: 'Daily',\n    45→    timing: 'With meals',\n    46→    effectiveness: 7,\n    47→    evidenceLevel: 'strong',\n    48→    costPerMonth: { min: 5, max: 20 },\n    49→    timelineToResults: '4-8 weeks',\n    50→    riskLevel: 'very_low',\n    51→    sideEffects: ['GI upset at high doses', 'Kidney stones (rare, high doses)'],\n    52→    interactions: ['May increase iron absorption'],\n    53→    contraindications: ['History of kidney stones (high doses)'],\n    54→    targetBenefits: ['collagen_synthesis', 'antioxidant', 'wound_healing', 'sun_damage_protection'],\n    55→    requiresPrescription: false,\n    56→    notes: [\n    57→      'Required co-factor for collagen synthesis',\n    58→      'Liposomal vitamin C has better absorption',\n    59→      'Divide doses throughout day for optimal absorption',\n    60→      'Enhances effectiveness of topical vitamin C',\n    61→    ],\n    62→    sources: ['NIH Office of Dietary Supplements', 'Nutrients 2017'],\n    63→  },\n    64→  {\n    65→    id: 'vitamin_e',\n    66→    name: 'Vitamin E (d-Alpha Tocopherol)',\n    67→    category: 'skin',\n    68→    description: 'Fat-soluble antioxidant for skin protection',\n    69→    dosage: '400 IU',\n    70→    frequency: 'Daily',\n    71→    timing: 'With fatty meal',\n    72→    effectiveness: 6,\n    73→    evidenceLevel: 'moderate',\n    74→    costPerMonth: { min: 5, max: 15 },\n    75→    timelineToResults: '4-8 weeks',\n    76→    riskLevel: 'low',\n    77→    sideEffects: ['Increased bleeding risk at high doses'],\n    78→    interactions: ['Blood thinners', 'Statins'],\n    79→    contraindications: ['Bleeding disorders', 'Upcoming surgery'],\n    80→    targetBenefits: ['skin_protection', 'antioxidant', 'wound_healing'],\n    81→    requiresPrescription: false,\n    82→    notes: [\n    83→      'Natural form (d-) is more bioavailable than synthetic (dl-)',\n    84→      'Works synergistically with vitamin C',\n    85→      'May help with UV damage protection',\n    86→    ],\n    87→    sources: ['NIH Office of Dietary Supplements'],\n    88→  },\n    89→  {\n    90→    id: 'hyaluronic_acid_oral',\n    91→    name: 'Hyaluronic Acid (Oral)',\n    92→    category: 'skin',\n    93→    description: 'Oral supplement for skin hydration and joint health',\n    94→    dosage: '120-240mg',\n    95→    frequency: 'Daily',\n    96→    timing: 'With food',\n    97→    effectiveness: 5,\n    98→    evidenceLevel: 'weak',\n    99→    costPerMonth: { min: 10, max: 30 },\n   100→    timelineToResults: '4-12 weeks',\n   101→    riskLevel: 'very_low',\n   102→    sideEffects: ['Rare: mild GI upset'],\n   103→    interactions: [],\n   104→    contraindications: [],\n   105→    targetBenefits: ['skin_hydration', 'joint_health', 'skin_elasticity'],\n   106→    requiresPrescription: false,\n   107→    notes: [\n   108→      'Limited evidence for oral bioavailability',\n   109→      'May work best with collagen supplementation',\n   110→      'Lower molecular weight forms may absorb better',\n   111→    ],\n   112→    sources: ['Nutrition Journal 2014'],\n   113→  },\n   114→  {\n   115→    id: 'astaxanthin',\n   116→    name: 'Astaxanthin',\n   117→    category: 'skin',\n   118→    description: 'Powerful carotenoid antioxidant from algae',\n   119→    dosage: '4-12mg',\n   120→    frequency: 'Daily',\n   121→    timing: 'With fatty meal',\n   122→    effectiveness: 7,\n   123→    evidenceLevel: 'moderate',\n   124→    costPerMonth: { min: 15, max: 40 },\n   125→    timelineToResults: '4-8 weeks',\n   126→    riskLevel: 'very_low',\n   127→    sideEffects: ['Orange/red discoloration of stool'],\n   128→    interactions: [],\n   129→    contraindications: [],\n   130→    targetBenefits: ['UV_protection', 'wrinkle_reduction', 'skin_elasticity', 'antioxidant'],\n   131→    requiresPrescription: false,\n   132→    notes: [\n   133→      '6000x more potent than vitamin C as antioxidant',\n   134→      'Provides internal sun protection (does not replace sunscreen)',\n   135→      'May improve skin moisture and elasticity',\n   136→      'Natural source: Haematococcus pluvialis algae',\n   137→    ],\n   138→    sources: ['PMC3917265', 'Clinical interventions in aging 2012'],\n   139→  },\n   140→  {\n   141→    id: 'niacinamide_oral',\n   142→    name: 'Niacinamide (Vitamin B3)',\n   143→    category: 'skin',\n   144→    description: 'B vitamin for skin barrier function and sebum control',\n   145→    dosage: '500-1000mg',\n   146→    frequency: 'Daily',\n   147→    timing: 'With food',\n   148→    effectiveness: 6,\n   149→    evidenceLevel: 'moderate',\n   150→    costPerMonth: { min: 5, max: 15 },\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"73aae402-2f5c-4380-8fde-2b81caf67ead","timestamp":"2025-12-28T05:53:31.477Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/recommendations/supplements.ts","content":"/**\n * Supplements Database\n * Evidence-based supplements for facial aesthetics and anti-aging\n */\n\nimport { Supplement } from './types';\n\nexport const SUPPLEMENTS: Supplement[] = [\n  // ============================================\n  // SKIN SUPPLEMENTS\n  // ============================================\n  {\n    id: 'collagen_peptides',\n    name: 'Collagen Peptides (Hydrolyzed)',\n    category: 'skin',\n    description: 'Hydrolyzed collagen powder for skin elasticity and hydration',\n    dosage: '5-15g',\n    frequency: 'Daily',\n    timing: 'Any time, with or without food',\n    effectiveness: 7,\n    evidenceLevel: 'moderate',\n    costPerMonth: { min: 15, max: 40 },\n    timelineToResults: '4-12 weeks',\n    riskLevel: 'very_low',\n    sideEffects: ['Mild digestive upset', 'Bad taste (some products)'],\n    interactions: [],\n    contraindications: ['Fish/shellfish allergy (marine collagen)'],\n    targetBenefits: ['skin_elasticity', 'wrinkle_reduction', 'skin_hydration', 'nail_strength'],\n    requiresPrescription: false,\n    notes: [\n      'Type I and III collagen most beneficial for skin',\n      '2019 meta-analysis: significant improvement in skin elasticity and hydration',\n      'Vitamin C enhances collagen synthesis - take together',\n      'Marine collagen has better bioavailability than bovine',\n    ],\n    sources: ['PMC6835901', 'Journal of Cosmetic Dermatology 2019'],\n  },\n  {\n    id: 'vitamin_c_oral',\n    name: 'Vitamin C (Ascorbic Acid)',\n    category: 'skin',\n    description: 'Essential antioxidant for collagen synthesis and skin health',\n    dosage: '500-1000mg',\n    frequency: 'Daily',\n    timing: 'With meals',\n    effectiveness: 7,\n    evidenceLevel: 'strong',\n    costPerMonth: { min: 5, max: 20 },\n    timelineToResults: '4-8 weeks',\n    riskLevel: 'very_low',\n    sideEffects: ['GI upset at high doses', 'Kidney stones (rare, high doses)'],\n    interactions: ['May increase iron absorption'],\n    contraindications: ['History of kidney stones (high doses)'],\n    targetBenefits: ['collagen_synthesis', 'antioxidant', 'wound_healing', 'sun_damage_protection'],\n    requiresPrescription: false,\n    notes: [\n      'Required co-factor for collagen synthesis',\n      'Liposomal vitamin C has better absorption',\n      'Divide doses throughout day for optimal absorption',\n      'Enhances effectiveness of topical vitamin C',\n    ],\n    sources: ['NIH Office of Dietary Supplements', 'Nutrients 2017'],\n  },\n  {\n    id: 'vitamin_e',\n    name: 'Vitamin E (d-Alpha Tocopherol)',\n    category: 'skin',\n    description: 'Fat-soluble antioxidant for skin protection',\n    dosage: '400 IU',\n    frequency: 'Daily',\n    timing: 'With fatty meal',\n    effectiveness: 6,\n    evidenceLevel: 'moderate',\n    costPerMonth: { min: 5, max: 15 },\n    timelineToResults: '4-8 weeks',\n    riskLevel: 'low',\n    sideEffects: ['Increased bleeding risk at high doses'],\n    interactions: ['Blood thinners', 'Statins'],\n    contraindications: ['Bleeding disorders', 'Upcoming surgery'],\n    targetBenefits: ['skin_protection', 'antioxidant', 'wound_healing'],\n    requiresPrescription: false,\n    notes: [\n      'Natural form (d-) is more bioavailable than synthetic (dl-)',\n      'Works synergistically with vitamin C',\n      'May help with UV damage protection',\n    ],\n    sources: ['NIH Office of Dietary Supplements'],\n  },\n  {\n    id: 'hyaluronic_acid_oral',\n    name: 'Hyaluronic Acid (Oral)',\n    category: 'skin',\n    description: 'Oral supplement for skin hydration and joint health',\n    dosage: '120-240mg',\n    frequency: 'Daily',\n    timing: 'With food',\n    effectiveness: 5,\n    evidenceLevel: 'weak',\n    costPerMonth: { min: 10, max: 30 },\n    timelineToResults: '4-12 weeks',\n    riskLevel: 'very_low',\n    sideEffects: ['Rare: mild GI upset'],\n    interactions: [],\n    contraindications: [],\n    targetBenefits: ['skin_hydration', 'joint_health', 'skin_elasticity'],\n    requiresPrescription: false,\n    notes: [\n      'Limited evidence for oral bioavailability',\n      'May work best with collagen supplementation',\n      'Lower molecular weight forms may absorb better',\n    ],\n    sources: ['Nutrition Journal 2014'],\n  },\n  {\n    id: 'astaxanthin',\n    name: 'Astaxanthin',\n    category: 'skin',\n    description: 'Powerful carotenoid antioxidant from algae',\n    dosage: '4-12mg',\n    frequency: 'Daily',\n    timing: 'With fatty meal',\n    effectiveness: 7,\n    evidenceLevel: 'moderate',\n    costPerMonth: { min: 15, max: 40 },\n    timelineToResults: '4-8 weeks',\n    riskLevel: 'very_low',\n    sideEffects: ['Orange/red discoloration of stool'],\n    interactions: [],\n    contraindications: [],\n    targetBenefits: ['UV_protection', 'wrinkle_reduction', 'skin_elasticity', 'antioxidant'],\n    requiresPrescription: false,\n    notes: [\n      '6000x more potent than vitamin C as antioxidant',\n      'Provides internal sun protection (does not replace sunscreen)',\n      'May improve skin moisture and elasticity',\n      'Natural source: Haematococcus pluvialis algae',\n    ],\n    sources: ['PMC3917265', 'Clinical interventions in aging 2012'],\n  },\n  {\n    id: 'niacinamide_oral',\n    name: 'Niacinamide (Vitamin B3)',\n    category: 'skin',\n    description: 'B vitamin for skin barrier function and sebum control',\n    dosage: '500-1000mg',\n    frequency: 'Daily',\n    timing: 'With food',\n    effectiveness: 6,\n    evidenceLevel: 'moderate',\n    costPerMonth: { min: 5, max: 15 },","numLines":150,"startLine":1,"totalLines":700}}}
{"parentUuid":"73aae402-2f5c-4380-8fde-2b81caf67ead","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017KHgMcsq3vQUFdjTbSo8Ba","type":"tool_result","content":"     1→/**\n     2→ * Harmony-Style Results Page Types\n     3→ * Complete type definitions for the results UI\n     4→ */\n     5→\n     6→import { QualityTier, SeverityLevel, MeasurementUnit, ConfidenceLevel } from '@/lib/harmony-scoring';\n     7→\n     8→// ============================================\n     9→// ILLUSTRATION TYPES\n    10→// ============================================\n    11→\n    12→export interface IllustrationPoint {\n    13→  type: 'landmark' | 'calculated';\n    14→  landmarkId?: string;\n    15→  x?: number;\n    16→  y?: number;\n    17→  label?: string;\n    18→}\n    19→\n    20→export interface IllustrationLine {\n    21→  from: string;\n    22→  to: string;\n    23→  color: string;\n    24→  style?: 'solid' | 'dashed';\n    25→  label?: string;\n    26→  labelColor?: string;\n    27→  labelPosition?: 'start' | 'middle' | 'end';\n    28→}\n    29→\n    30→export interface RatioIllustration {\n    31→  points: Record<string, IllustrationPoint>;\n    32→  lines: Record<string, IllustrationLine>;\n    33→}\n    34→\n    35→// ============================================\n    36→// RATIO/MEASUREMENT TYPES\n    37→// ============================================\n    38→\n    39→export interface Ratio {\n    40→  id: string;\n    41→  name: string;\n    42→  value: number | string;\n    43→  score: number | string;  // 0-10 scale or Greek text\n    44→  standardizedScore: number | string;\n    45→  unit: 'x' | 'mm' | '%' | '°';\n    46→  idealMin: number;\n    47→  idealMax: number;\n    48→  rangeMin: number;\n    49→  rangeMax: number;\n    50→  description: string;\n    51→  category: string;\n    52→  qualityLevel: QualityTier;\n    53→  severity: SeverityLevel;\n    54→  illustration: RatioIllustration;\n    55→  mayIndicateFlaws: string[];\n    56→  mayIndicateStrengths: string[];\n    57→  usedLandmarks: string[];\n    58→  scoringCurveConfig?: {\n    59→    decayRate: number;\n    60→    maxScore: number;\n    61→  };\n    62→  // Harmony Taxonomy classification\n    63→  taxonomyPrimary?: string;    // 'harmony' | 'dimorphism' | 'angularity' | 'features'\n    64→  taxonomySecondary?: string;  // Subcategory ID\n    65→}\n    66→\n    67→// ============================================\n    68→// STRENGTH/FLAW TYPES\n    69→// ============================================\n    70→\n    71→export interface ResponsibleRatio {\n    72→  ratioName: string;\n    73→  ratioId: string;\n    74→  score: number | string;\n    75→  value: number | string;\n    76→  isObfuscated?: boolean;\n    77→  // Additional properties for AI descriptions\n    78→  idealMin: number;\n    79→  idealMax: number;\n    80→  unit: string;\n    81→  category?: string;\n    82→}\n    83→\n    84→export interface Strength {\n    85→  id: string;\n    86→  strengthName: string;\n    87→  summary: string;\n    88→  avgScore: number | string;\n    89→  qualityLevel: QualityTier;\n    90→  categoryName: string;\n    91→  responsibleRatios: ResponsibleRatio[];\n    92→}\n    93→\n    94→export interface Flaw {\n    95→  id: string;\n    96→  flawName: string;\n    97→  summary: string;\n    98→  harmonyPercentageLost: number;\n    99→  standardizedImpact: number;\n   100→  categoryName: string;\n   101→  isOther?: boolean;\n   102→  responsibleRatios: ResponsibleRatio[];\n   103→  rollingPointsDeducted?: number;\n   104→  rollingHarmonyPercentageLost?: number;\n   105→  rollingStandardizedImpact?: number;\n   106→  /**\n   107→   * Confidence level based on Z-score magnitude:\n   108→   * - confirmed: |z| >= 2 (statistically significant)\n   109→   * - likely: 1 <= |z| < 2\n   110→   * - possible: 0.5 <= |z| < 1\n   111→   */\n   112→  confidence?: ConfidenceLevel;\n   113→}\n   114→\n   115→// ============================================\n   116→// RECOMMENDATION TYPES\n   117→// ============================================\n   118→\n   119→export type RecommendationPhase = 'Surgical' | 'Minimally Invasive' | 'Foundational';\n   120→\n   121→export interface RecommendationTimeline {\n   122→  effect_start: 'immediate' | 'delayed' | 'gradual';\n   123→  full_results_weeks: number;\n   124→  full_results_weeks_max?: number;\n   125→}\n   126→\n   127→export interface RecommendationCost {\n   128→  type: 'flat' | 'per_month' | 'per_session';\n   129→  min: number;\n   130→  max: number;\n   131→  currency: string;\n   132→}\n   133→\n   134→export interface RatioImpact {\n   135→  ratioId: string;\n   136→  ratioName: string;\n   137→  direction: 'increase' | 'decrease' | 'both';\n   138→  percentageEffect: number;\n   139→}\n   140→\n   141→export interface Recommendation {\n   142→  ref_id: string;\n   143→  name: string;\n   144→  description: string;\n   145→  phase: RecommendationPhase;\n   146→  impact: number;  // 0-1 effectiveness score\n   147→  coverage: number;  // Number of metrics improved\n   148→  percentage: string;  // e.g., \"10-20%\"\n   149→  expectedImprovementRange?: { min: number; max: number };\n   150→  matchedFlaws: string[];\n   151→  matchedRatios: string[];\n   152→  ratios_impacted: RatioImpact[];\n   153→  timeline: RecommendationTimeline;\n   154→  cost: RecommendationCost;\n   155→  risks_side_effects: string | null;\n   156→  warnings: string[];\n   157→  gender: 'male' | 'female' | 'both';\n   158→}\n   159→\n   160→// ============================================\n   161→// HARMONY ANALYSIS TYPES\n   162→// ============================================\n   163→\n   164→export interface ProfileAnalysis {\n   165→  standardizedScore: number;\n   166→  ratios: Ratio[];\n   167→  overallAIDescription?: string | null;\n   168→}\n   169→\n   170→export interface FullHarmonyAnalysis {\n   171→  standardizedScore: number;\n   172→  front: ProfileAnalysis;\n   173→  side: ProfileAnalysis;\n   174→  strengths: Strength[];\n   175→  flaws: Flaw[];\n   176→}\n   177→\n   178→// ============================================\n   179→// FACE DATA TYPES\n   180→// ============================================\n   181→\n   182→export interface FaceData {\n   183→  id: string;\n   184→  userId?: string;\n   185→  frontPhotoUrl: string;\n   186→  sidePhotoUrl?: string;\n   187→  harmonyScore: number | null;\n   188→  frontHarmonyScore: number | null;\n   189→  sideHarmonyScore: number | null;\n   190→  gender: 'male' | 'female';\n   191→  race?: string;\n   192→  unlocked: boolean;\n   193→  actionPlanUnlocked: boolean;\n   194→  harmonyAnalysis: FullHarmonyAnalysis;\n   195→}\n   196→\n   197→// ============================================\n   198→// UI STATE TYPES\n   199→// ============================================\n   200→\n   201→export type ResultsTab =\n   202→  | 'overview'\n   203→  | 'front-ratios'\n   204→  | 'side-ratios'\n   205→  | 'leaderboard'\n   206→  | 'psl'\n   207→  | 'archetype'\n   208→  | 'plan'\n   209→  | 'guides'\n   210→  | 'shop'\n   211→  | 'community'\n   212→  | 'referrals'\n   213→  | 'options'\n   214→  | 'support';\n   215→\n   216→// ============================================\n   217→// LEADERBOARD TYPES\n   218→// ============================================\n   219→\n   220→export interface UserRank {\n   221→  userId: string;\n   222→  score: number;\n   223→  globalRank: number;\n   224→  genderRank: number;\n   225→  percentile: number;\n   226→  totalUsers: number;\n   227→  genderTotal: number;\n   228→  anonymousName: string;\n   229→  updatedAt: string;\n   230→}\n   231→\n   232→export interface LeaderboardEntry {\n   233→  userId: string;\n   234→  rank: number;\n   235→  score: number;\n   236→  anonymousName: string;\n   237→  gender: 'male' | 'female';\n   238→  facePhotoUrl: string | null;\n   239→  isCurrentUser: boolean;\n   240→  topStrengths: string[];\n   241→  topImprovements: string[];\n   242→}\n   243→\n   244→export interface UserProfile extends Omit<LeaderboardEntry, 'isCurrentUser'> {\n   245→  topStrengths: string[];\n   246→  topImprovements: string[];\n   247→}\n   248→\n   249→export interface LeaderboardData {\n   250→  entries: LeaderboardEntry[];\n   251→  totalCount: number;\n   252→  userRank: UserRank | null;\n   253→}\n   254→\n   255→export interface ResultsUIState {\n   256→  activeTab: ResultsTab;\n   257→  expandedMeasurementId: string | null;\n   258→  selectedVisualizationMetric: string | null;\n   259→  categoryFilter: string | null;\n   260→  showLandmarkOverlay: boolean;\n   261→}\n   262→\n   263→// ============================================\n   264→// CATEGORY TYPES\n   265→// ============================================\n   266→\n   267→export interface MeasurementCategory {\n   268→  id: string;\n   269→  name: string;\n   270→  color: string;\n   271→  description: string;\n   272→}\n   273→\n   274→export const MEASUREMENT_CATEGORIES: MeasurementCategory[] = [\n   275→  { id: 'midface', name: 'Midface/Face Shape', color: '#67e8f9', description: 'Facial proportions and overall shape' },\n   276→  { id: 'jaw-growth', name: 'Occlusion/Jaw Growth', color: '#a78bfa', description: 'Jaw development and bite alignment' },\n   277→  { id: 'jaw-shape', name: 'Jaw Shape', color: '#f97316', description: 'Jawline contour and angles' },\n   278→  { id: 'upper-third', name: 'Upper Third', color: '#84cc16', description: 'Forehead and hairline proportions' },\n   279→  { id: 'eyes', name: 'Eyes', color: '#06b6d4', description: 'Eye shape, spacing, and canthal tilt' },\n   280→  { id: 'nose', name: 'Nose', color: '#fbbf24', description: 'Nasal proportions and angles' },\n   281→  { id: 'lips', name: 'Lips', color: '#ec4899', description: 'Lip proportions and projection' },\n   282→  { id: 'chin', name: 'Chin', color: '#ef4444', description: 'Chin projection and shape' },\n   283→  { id: 'neck', name: 'Neck', color: '#14b8a6', description: 'Neck angle and throat definition' },\n   284→  { id: 'other', name: 'Other', color: '#6b7280', description: 'Additional measurements' },\n   285→];\n   286→\n   287→// ============================================\n   288→// SCORE COLOR HELPERS\n   289→// ============================================\n   290→\n   291→export function getScoreColor(score: number): string {\n   292→  if (score >= 8) return '#67e8f9';  // Cyan - ideal\n   293→  if (score >= 6) return '#22c55e';  // Green - good\n   294→  if (score >= 4) return '#fbbf24';  // Yellow - fair\n   295→  return 'rgb(227, 67, 67)';         // Red - poor\n   296→}\n   297→\n   298→export function getQualityColor(quality: QualityTier): string {\n   299→  switch (quality) {\n   300→    case 'ideal': return '#67e8f9';\n   301→    case 'excellent': return '#22c55e';\n   302→    case 'good': return '#fbbf24';\n   303→    case 'below_average': return 'rgb(227, 67, 67)';\n   304→    default: return '#6b7280';\n   305→  }\n   306→}\n   307→\n   308→export function getSeverityColor(severity: SeverityLevel): string {\n   309→  switch (severity) {\n   310→    case 'optimal': return '#67e8f9';\n   311→    case 'minor': return '#22c55e';\n   312→    case 'moderate': return '#fbbf24';\n   313→    case 'major': return '#f97316';\n   314→    case 'severe': return '#ef4444';\n   315→    case 'extremely_severe': return '#dc2626';\n   316→    default: return '#6b7280';\n   317→  }\n   318→}\n   319→\n   320→export function getCategoryColor(categoryName: string): string {\n   321→  const cat = MEASUREMENT_CATEGORIES.find(c =>\n   322→    c.name.toLowerCase().includes(categoryName.toLowerCase()) ||\n   323→    categoryName.toLowerCase().includes(c.name.toLowerCase())\n   324→  );\n   325→  return cat?.color || '#6b7280';\n   326→}\n   327→\n   328→// ============================================\n   329→// UNIT FORMATTING\n   330→// ============================================\n   331→\n   332→export function formatUnit(unit: 'x' | 'mm' | '%' | '°' | MeasurementUnit): string {\n   333→  switch (unit) {\n   334→    case 'x':\n   335→    case 'ratio': return 'x';\n   336→    case 'mm': return 'mm';\n   337→    case '%':\n   338→    case 'percent': return '%';\n   339→    case '°':\n   340→    case 'degrees': return '°';\n   341→    default: return '';\n   342→  }\n   343→}\n   344→\n   345→export function formatValue(value: number | string, unit: 'x' | 'mm' | '%' | '°' | MeasurementUnit): string {\n   346→  // Handle obfuscated string values\n   347→  if (typeof value === 'string') {\n   348→    return value;\n   349→  }\n   350→  const unitStr = formatUnit(unit);\n   351→  if (unit === '%' || unit === 'percent') {\n   352→    return `${value.toFixed(1)}${unitStr}`;\n   353→  }\n   354→  if (unit === '°' || unit === 'degrees') {\n   355→    return `${value.toFixed(1)}${unitStr}`;\n   356→  }\n   357→  return `${value.toFixed(2)}${unitStr}`;\n   358→}\n   359→\n   360→// ============================================\n   361→// PRODUCT & SUPPLEMENT TYPES\n   362→// ============================================\n   363→\n   364→export interface Product {\n   365→  id: string;\n   366→  name: string;\n   367→  brand: string;\n   368→  category: \"skin\" | \"hair\" | \"anti-aging\" | \"hormonal\" | \"bone\" | \"general\" | \"jawline\" | \"tools\" | \"dental\";\n   369→  affiliateLink: string;\n   370→  affiliateType: \"amazon\" | \"direct\";\n   371→  supplementId: string;\n   372→  priority: number;\n   373→  baseStackItem?: boolean;\n   374→  description?: string;\n   375→}\n   376→\n   377→export interface ProductRecommendation {\n   378→  product: Product;\n   379→  state: \"flaw\" | \"ideal\";\n   380→  targetMetric: string;\n   381→  message: string;\n   382→  urgency: \"high\" | \"medium\" | \"low\";\n   383→  matchedMetrics: string[];\n   384→}\n   385→\n   386→export interface DailyStack {\n   387→  products: Product[];\n   388→  totalCostPerMonth: { min: number; max: number };\n   389→  timing: {\n   390→    morning: Product[];\n   391→    evening: Product[];\n   392→    anytime: Product[];\n   393→  };\n   394→  rationale: string;\n   395→}\n   396→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"81da9bd5-8a14-40a4-9a90-d24ca53c3e8a","timestamp":"2025-12-28T05:53:31.477Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/types/results.ts","content":"/**\n * Harmony-Style Results Page Types\n * Complete type definitions for the results UI\n */\n\nimport { QualityTier, SeverityLevel, MeasurementUnit, ConfidenceLevel } from '@/lib/harmony-scoring';\n\n// ============================================\n// ILLUSTRATION TYPES\n// ============================================\n\nexport interface IllustrationPoint {\n  type: 'landmark' | 'calculated';\n  landmarkId?: string;\n  x?: number;\n  y?: number;\n  label?: string;\n}\n\nexport interface IllustrationLine {\n  from: string;\n  to: string;\n  color: string;\n  style?: 'solid' | 'dashed';\n  label?: string;\n  labelColor?: string;\n  labelPosition?: 'start' | 'middle' | 'end';\n}\n\nexport interface RatioIllustration {\n  points: Record<string, IllustrationPoint>;\n  lines: Record<string, IllustrationLine>;\n}\n\n// ============================================\n// RATIO/MEASUREMENT TYPES\n// ============================================\n\nexport interface Ratio {\n  id: string;\n  name: string;\n  value: number | string;\n  score: number | string;  // 0-10 scale or Greek text\n  standardizedScore: number | string;\n  unit: 'x' | 'mm' | '%' | '°';\n  idealMin: number;\n  idealMax: number;\n  rangeMin: number;\n  rangeMax: number;\n  description: string;\n  category: string;\n  qualityLevel: QualityTier;\n  severity: SeverityLevel;\n  illustration: RatioIllustration;\n  mayIndicateFlaws: string[];\n  mayIndicateStrengths: string[];\n  usedLandmarks: string[];\n  scoringCurveConfig?: {\n    decayRate: number;\n    maxScore: number;\n  };\n  // Harmony Taxonomy classification\n  taxonomyPrimary?: string;    // 'harmony' | 'dimorphism' | 'angularity' | 'features'\n  taxonomySecondary?: string;  // Subcategory ID\n}\n\n// ============================================\n// STRENGTH/FLAW TYPES\n// ============================================\n\nexport interface ResponsibleRatio {\n  ratioName: string;\n  ratioId: string;\n  score: number | string;\n  value: number | string;\n  isObfuscated?: boolean;\n  // Additional properties for AI descriptions\n  idealMin: number;\n  idealMax: number;\n  unit: string;\n  category?: string;\n}\n\nexport interface Strength {\n  id: string;\n  strengthName: string;\n  summary: string;\n  avgScore: number | string;\n  qualityLevel: QualityTier;\n  categoryName: string;\n  responsibleRatios: ResponsibleRatio[];\n}\n\nexport interface Flaw {\n  id: string;\n  flawName: string;\n  summary: string;\n  harmonyPercentageLost: number;\n  standardizedImpact: number;\n  categoryName: string;\n  isOther?: boolean;\n  responsibleRatios: ResponsibleRatio[];\n  rollingPointsDeducted?: number;\n  rollingHarmonyPercentageLost?: number;\n  rollingStandardizedImpact?: number;\n  /**\n   * Confidence level based on Z-score magnitude:\n   * - confirmed: |z| >= 2 (statistically significant)\n   * - likely: 1 <= |z| < 2\n   * - possible: 0.5 <= |z| < 1\n   */\n  confidence?: ConfidenceLevel;\n}\n\n// ============================================\n// RECOMMENDATION TYPES\n// ============================================\n\nexport type RecommendationPhase = 'Surgical' | 'Minimally Invasive' | 'Foundational';\n\nexport interface RecommendationTimeline {\n  effect_start: 'immediate' | 'delayed' | 'gradual';\n  full_results_weeks: number;\n  full_results_weeks_max?: number;\n}\n\nexport interface RecommendationCost {\n  type: 'flat' | 'per_month' | 'per_session';\n  min: number;\n  max: number;\n  currency: string;\n}\n\nexport interface RatioImpact {\n  ratioId: string;\n  ratioName: string;\n  direction: 'increase' | 'decrease' | 'both';\n  percentageEffect: number;\n}\n\nexport interface Recommendation {\n  ref_id: string;\n  name: string;\n  description: string;\n  phase: RecommendationPhase;\n  impact: number;  // 0-1 effectiveness score\n  coverage: number;  // Number of metrics improved\n  percentage: string;  // e.g., \"10-20%\"\n  expectedImprovementRange?: { min: number; max: number };\n  matchedFlaws: string[];\n  matchedRatios: string[];\n  ratios_impacted: RatioImpact[];\n  timeline: RecommendationTimeline;\n  cost: RecommendationCost;\n  risks_side_effects: string | null;\n  warnings: string[];\n  gender: 'male' | 'female' | 'both';\n}\n\n// ============================================\n// HARMONY ANALYSIS TYPES\n// ============================================\n\nexport interface ProfileAnalysis {\n  standardizedScore: number;\n  ratios: Ratio[];\n  overallAIDescription?: string | null;\n}\n\nexport interface FullHarmonyAnalysis {\n  standardizedScore: number;\n  front: ProfileAnalysis;\n  side: ProfileAnalysis;\n  strengths: Strength[];\n  flaws: Flaw[];\n}\n\n// ============================================\n// FACE DATA TYPES\n// ============================================\n\nexport interface FaceData {\n  id: string;\n  userId?: string;\n  frontPhotoUrl: string;\n  sidePhotoUrl?: string;\n  harmonyScore: number | null;\n  frontHarmonyScore: number | null;\n  sideHarmonyScore: number | null;\n  gender: 'male' | 'female';\n  race?: string;\n  unlocked: boolean;\n  actionPlanUnlocked: boolean;\n  harmonyAnalysis: FullHarmonyAnalysis;\n}\n\n// ============================================\n// UI STATE TYPES\n// ============================================\n\nexport type ResultsTab =\n  | 'overview'\n  | 'front-ratios'\n  | 'side-ratios'\n  | 'leaderboard'\n  | 'psl'\n  | 'archetype'\n  | 'plan'\n  | 'guides'\n  | 'shop'\n  | 'community'\n  | 'referrals'\n  | 'options'\n  | 'support';\n\n// ============================================\n// LEADERBOARD TYPES\n// ============================================\n\nexport interface UserRank {\n  userId: string;\n  score: number;\n  globalRank: number;\n  genderRank: number;\n  percentile: number;\n  totalUsers: number;\n  genderTotal: number;\n  anonymousName: string;\n  updatedAt: string;\n}\n\nexport interface LeaderboardEntry {\n  userId: string;\n  rank: number;\n  score: number;\n  anonymousName: string;\n  gender: 'male' | 'female';\n  facePhotoUrl: string | null;\n  isCurrentUser: boolean;\n  topStrengths: string[];\n  topImprovements: string[];\n}\n\nexport interface UserProfile extends Omit<LeaderboardEntry, 'isCurrentUser'> {\n  topStrengths: string[];\n  topImprovements: string[];\n}\n\nexport interface LeaderboardData {\n  entries: LeaderboardEntry[];\n  totalCount: number;\n  userRank: UserRank | null;\n}\n\nexport interface ResultsUIState {\n  activeTab: ResultsTab;\n  expandedMeasurementId: string | null;\n  selectedVisualizationMetric: string | null;\n  categoryFilter: string | null;\n  showLandmarkOverlay: boolean;\n}\n\n// ============================================\n// CATEGORY TYPES\n// ============================================\n\nexport interface MeasurementCategory {\n  id: string;\n  name: string;\n  color: string;\n  description: string;\n}\n\nexport const MEASUREMENT_CATEGORIES: MeasurementCategory[] = [\n  { id: 'midface', name: 'Midface/Face Shape', color: '#67e8f9', description: 'Facial proportions and overall shape' },\n  { id: 'jaw-growth', name: 'Occlusion/Jaw Growth', color: '#a78bfa', description: 'Jaw development and bite alignment' },\n  { id: 'jaw-shape', name: 'Jaw Shape', color: '#f97316', description: 'Jawline contour and angles' },\n  { id: 'upper-third', name: 'Upper Third', color: '#84cc16', description: 'Forehead and hairline proportions' },\n  { id: 'eyes', name: 'Eyes', color: '#06b6d4', description: 'Eye shape, spacing, and canthal tilt' },\n  { id: 'nose', name: 'Nose', color: '#fbbf24', description: 'Nasal proportions and angles' },\n  { id: 'lips', name: 'Lips', color: '#ec4899', description: 'Lip proportions and projection' },\n  { id: 'chin', name: 'Chin', color: '#ef4444', description: 'Chin projection and shape' },\n  { id: 'neck', name: 'Neck', color: '#14b8a6', description: 'Neck angle and throat definition' },\n  { id: 'other', name: 'Other', color: '#6b7280', description: 'Additional measurements' },\n];\n\n// ============================================\n// SCORE COLOR HELPERS\n// ============================================\n\nexport function getScoreColor(score: number): string {\n  if (score >= 8) return '#67e8f9';  // Cyan - ideal\n  if (score >= 6) return '#22c55e';  // Green - good\n  if (score >= 4) return '#fbbf24';  // Yellow - fair\n  return 'rgb(227, 67, 67)';         // Red - poor\n}\n\nexport function getQualityColor(quality: QualityTier): string {\n  switch (quality) {\n    case 'ideal': return '#67e8f9';\n    case 'excellent': return '#22c55e';\n    case 'good': return '#fbbf24';\n    case 'below_average': return 'rgb(227, 67, 67)';\n    default: return '#6b7280';\n  }\n}\n\nexport function getSeverityColor(severity: SeverityLevel): string {\n  switch (severity) {\n    case 'optimal': return '#67e8f9';\n    case 'minor': return '#22c55e';\n    case 'moderate': return '#fbbf24';\n    case 'major': return '#f97316';\n    case 'severe': return '#ef4444';\n    case 'extremely_severe': return '#dc2626';\n    default: return '#6b7280';\n  }\n}\n\nexport function getCategoryColor(categoryName: string): string {\n  const cat = MEASUREMENT_CATEGORIES.find(c =>\n    c.name.toLowerCase().includes(categoryName.toLowerCase()) ||\n    categoryName.toLowerCase().includes(c.name.toLowerCase())\n  );\n  return cat?.color || '#6b7280';\n}\n\n// ============================================\n// UNIT FORMATTING\n// ============================================\n\nexport function formatUnit(unit: 'x' | 'mm' | '%' | '°' | MeasurementUnit): string {\n  switch (unit) {\n    case 'x':\n    case 'ratio': return 'x';\n    case 'mm': return 'mm';\n    case '%':\n    case 'percent': return '%';\n    case '°':\n    case 'degrees': return '°';\n    default: return '';\n  }\n}\n\nexport function formatValue(value: number | string, unit: 'x' | 'mm' | '%' | '°' | MeasurementUnit): string {\n  // Handle obfuscated string values\n  if (typeof value === 'string') {\n    return value;\n  }\n  const unitStr = formatUnit(unit);\n  if (unit === '%' || unit === 'percent') {\n    return `${value.toFixed(1)}${unitStr}`;\n  }\n  if (unit === '°' || unit === 'degrees') {\n    return `${value.toFixed(1)}${unitStr}`;\n  }\n  return `${value.toFixed(2)}${unitStr}`;\n}\n\n// ============================================\n// PRODUCT & SUPPLEMENT TYPES\n// ============================================\n\nexport interface Product {\n  id: string;\n  name: string;\n  brand: string;\n  category: \"skin\" | \"hair\" | \"anti-aging\" | \"hormonal\" | \"bone\" | \"general\" | \"jawline\" | \"tools\" | \"dental\";\n  affiliateLink: string;\n  affiliateType: \"amazon\" | \"direct\";\n  supplementId: string;\n  priority: number;\n  baseStackItem?: boolean;\n  description?: string;\n}\n\nexport interface ProductRecommendation {\n  product: Product;\n  state: \"flaw\" | \"ideal\";\n  targetMetric: string;\n  message: string;\n  urgency: \"high\" | \"medium\" | \"low\";\n  matchedMetrics: string[];\n}\n\nexport interface DailyStack {\n  products: Product[];\n  totalCostPerMonth: { min: number; max: number };\n  timing: {\n    morning: Product[];\n    evening: Product[];\n    anytime: Product[];\n  };\n  rationale: string;\n}\n","numLines":396,"startLine":1,"totalLines":396}}}
{"parentUuid":"81da9bd5-8a14-40a4-9a90-d24ca53c3e8a","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CpktxS3YtXWmBRG1FWThdw","type":"tool_result","content":"src/contexts/ResultsContext.tsx:1\nsrc/contexts/LeaderboardContext.tsx:1\nsrc/components/LandmarkAnalysisTool.tsx:4\nsrc/lib/api.ts:1\nsrc/lib/serverSideDetection.ts:6\nsrc/lib/mediapipeDetection.ts:8\nsrc/lib/sideProfileDetection.ts:1\nsrc/app/checkout/success/page.tsx:1\nsrc/components/results/tabs/PlanTab.tsx:1\nsrc/app/results/page.tsx:10\n\nFound 34 total occurrences across 10 files. with pagination = limit: 50, offset: 0"}]},"uuid":"cb0902a4-291a-4379-ac51-dc116b3a8822","timestamp":"2025-12-28T05:53:31.835Z","toolUseResult":{"mode":"count","numFiles":10,"filenames":[],"content":"src/contexts/ResultsContext.tsx:1\nsrc/contexts/LeaderboardContext.tsx:1\nsrc/components/LandmarkAnalysisTool.tsx:4\nsrc/lib/api.ts:1\nsrc/lib/serverSideDetection.ts:6\nsrc/lib/mediapipeDetection.ts:8\nsrc/lib/sideProfileDetection.ts:1\nsrc/app/checkout/success/page.tsx:1\nsrc/components/results/tabs/PlanTab.tsx:1\nsrc/app/results/page.tsx:10","numMatches":34,"appliedLimit":50}}
{"parentUuid":"cb0902a4-291a-4379-ac51-dc116b3a8822","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0186LJWeMGgN1N5w79tviDXy","type":"tool_result","content":"src/data/guides/cutting-guide.ts:79:      content: `**The Secret to Sustainable Cutting: Volume Eating**\nsrc/data/guides/training-fundamentals.ts:161:Do this for years. That's the secret.`,\nsrc/data/guides/cardio.ts:334:Many people find step count + lifting more sustainable than formal cardio. Walking is the secret weapon.`,\nsrc/data/guides/maintenance.ts:61:3. **Tongue scrape** — This is the secret weapon. 70% of bad breath comes from bacteria on your tongue. Takes 10 seconds, changes everything.\nsrc/data/guides/mindset.ts:72:The perfect routine doesn't exist. There's no secret combination of products and exercises that will unlock chad-tier genetics. There's just consistent effort over time.\nsrc/data/guides/mindset.ts:148:- \"Secret\" techniques that are just repackaged basics\nsrc/data/guides/products-registry.ts:1031:    description: 'Hydrating toner with amino acids. Pat 3-7 layers for maximum effect. The K-beauty glass skin secret.',\nsrc/app/privacy/page.tsx:74:                  <p className=\"text-xs text-neutral-500 font-bold\">Email address, account credentials, payment information (processed via Stripe), and profile details you provide.</p>\nsrc/app/privacy/page.tsx:115:                  <li>• Payment processing via Stripe</li>\nsrc/app/privacy/page.tsx:165:                <h4 className=\"text-xs font-black uppercase text-white mb-2\">Stripe</h4>\nsrc/app/privacy/page.tsx:173:                <h4 className=\"text-xs font-black uppercase text-white mb-2\">SendGrid</h4>\nsrc/app/pricing/page.tsx:102:      // Redirect to Stripe checkout\nsrc/app/pricing/page.tsx:275:              Secure payment powered by Stripe. 30-day money-back guarantee.\nsrc/app/checkout/page.tsx:4:import { loadStripe } from '@stripe/stripe-js';\nsrc/app/checkout/page.tsx:5:import { Elements } from '@stripe/react-stripe-js';\nsrc/app/checkout/page.tsx:11:// Initialize Stripe outside to avoid recreation\nsrc/app/checkout/page.tsx:12:const stripePromise = process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY\nsrc/app/checkout/page.tsx:13:    ? loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY)\nsrc/app/checkout/page.tsx:20:    const [clientSecret, setClientSecret] = useState('');\nsrc/app/checkout/page.tsx:21:    const isDemoMode = !process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY;\nsrc/app/checkout/page.tsx:50:                .then((data) => setClientSecret(data.clientSecret));\nsrc/app/checkout/page.tsx:68:        clientSecret,\nsrc/app/checkout/page.tsx:158:                    {(isDemoMode || (clientSecret && stripePromise)) ? (\nsrc/app/checkout/page.tsx:159:                        <Elements options={isDemoMode ? undefined : options} stripe={isDemoMode ? null : stripePromise}>\nsrc/components/checkout/CheckoutForm.tsx:6:    useStripe,\nsrc/components/checkout/CheckoutForm.tsx:8:} from '@stripe/react-stripe-js';\nsrc/components/checkout/CheckoutForm.tsx:19:    const stripe = useStripe();\nsrc/components/checkout/CheckoutForm.tsx:27:        if (!stripe && !isDemoMode) {\nsrc/components/checkout/CheckoutForm.tsx:31:        if (!isDemoMode && stripe) {\nsrc/components/checkout/CheckoutForm.tsx:32:            const clientSecret = new URLSearchParams(window.location.search).get(\nsrc/components/checkout/CheckoutForm.tsx:33:                'payment_intent_client_secret'\nsrc/components/checkout/CheckoutForm.tsx:36:            if (!clientSecret) {\nsrc/components/checkout/CheckoutForm.tsx:40:            stripe.retrievePaymentIntent(clientSecret).then(({ paymentIntent }) => {\nsrc/components/checkout/CheckoutForm.tsx:58:    }, [stripe, isDemoMode]);\nsrc/components/checkout/CheckoutForm.tsx:77:        if (!stripe || !elements) {\nsrc/components/checkout/CheckoutForm.tsx:78:            // Stripe.js has not yet loaded.\nsrc/components/checkout/CheckoutForm.tsx:84:        const { error } = await stripe.confirmPayment({\nsrc/components/checkout/CheckoutForm.tsx:154:                disabled={isLoading || (!stripe && !isDemoMode) || (!elements && !isDemoMode)}"}]},"uuid":"cc031224-e3bf-4d54-9573-4de8fcd8dfa0","timestamp":"2025-12-28T05:53:31.960Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"src/data/guides/cutting-guide.ts:79:      content: `**The Secret to Sustainable Cutting: Volume Eating**\nsrc/data/guides/training-fundamentals.ts:161:Do this for years. That's the secret.`,\nsrc/data/guides/cardio.ts:334:Many people find step count + lifting more sustainable than formal cardio. Walking is the secret weapon.`,\nsrc/data/guides/maintenance.ts:61:3. **Tongue scrape** — This is the secret weapon. 70% of bad breath comes from bacteria on your tongue. Takes 10 seconds, changes everything.\nsrc/data/guides/mindset.ts:72:The perfect routine doesn't exist. There's no secret combination of products and exercises that will unlock chad-tier genetics. There's just consistent effort over time.\nsrc/data/guides/mindset.ts:148:- \"Secret\" techniques that are just repackaged basics\nsrc/data/guides/products-registry.ts:1031:    description: 'Hydrating toner with amino acids. Pat 3-7 layers for maximum effect. The K-beauty glass skin secret.',\nsrc/app/privacy/page.tsx:74:                  <p className=\"text-xs text-neutral-500 font-bold\">Email address, account credentials, payment information (processed via Stripe), and profile details you provide.</p>\nsrc/app/privacy/page.tsx:115:                  <li>• Payment processing via Stripe</li>\nsrc/app/privacy/page.tsx:165:                <h4 className=\"text-xs font-black uppercase text-white mb-2\">Stripe</h4>\nsrc/app/privacy/page.tsx:173:                <h4 className=\"text-xs font-black uppercase text-white mb-2\">SendGrid</h4>\nsrc/app/pricing/page.tsx:102:      // Redirect to Stripe checkout\nsrc/app/pricing/page.tsx:275:              Secure payment powered by Stripe. 30-day money-back guarantee.\nsrc/app/checkout/page.tsx:4:import { loadStripe } from '@stripe/stripe-js';\nsrc/app/checkout/page.tsx:5:import { Elements } from '@stripe/react-stripe-js';\nsrc/app/checkout/page.tsx:11:// Initialize Stripe outside to avoid recreation\nsrc/app/checkout/page.tsx:12:const stripePromise = process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY\nsrc/app/checkout/page.tsx:13:    ? loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY)\nsrc/app/checkout/page.tsx:20:    const [clientSecret, setClientSecret] = useState('');\nsrc/app/checkout/page.tsx:21:    const isDemoMode = !process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY;\nsrc/app/checkout/page.tsx:50:                .then((data) => setClientSecret(data.clientSecret));\nsrc/app/checkout/page.tsx:68:        clientSecret,\nsrc/app/checkout/page.tsx:158:                    {(isDemoMode || (clientSecret && stripePromise)) ? (\nsrc/app/checkout/page.tsx:159:                        <Elements options={isDemoMode ? undefined : options} stripe={isDemoMode ? null : stripePromise}>\nsrc/components/checkout/CheckoutForm.tsx:6:    useStripe,\nsrc/components/checkout/CheckoutForm.tsx:8:} from '@stripe/react-stripe-js';\nsrc/components/checkout/CheckoutForm.tsx:19:    const stripe = useStripe();\nsrc/components/checkout/CheckoutForm.tsx:27:        if (!stripe && !isDemoMode) {\nsrc/components/checkout/CheckoutForm.tsx:31:        if (!isDemoMode && stripe) {\nsrc/components/checkout/CheckoutForm.tsx:32:            const clientSecret = new URLSearchParams(window.location.search).get(\nsrc/components/checkout/CheckoutForm.tsx:33:                'payment_intent_client_secret'\nsrc/components/checkout/CheckoutForm.tsx:36:            if (!clientSecret) {\nsrc/components/checkout/CheckoutForm.tsx:40:            stripe.retrievePaymentIntent(clientSecret).then(({ paymentIntent }) => {\nsrc/components/checkout/CheckoutForm.tsx:58:    }, [stripe, isDemoMode]);\nsrc/components/checkout/CheckoutForm.tsx:77:        if (!stripe || !elements) {\nsrc/components/checkout/CheckoutForm.tsx:78:            // Stripe.js has not yet loaded.\nsrc/components/checkout/CheckoutForm.tsx:84:        const { error } = await stripe.confirmPayment({\nsrc/components/checkout/CheckoutForm.tsx:154:                disabled={isLoading || (!stripe && !isDemoMode) || (!elements && !isDemoMode)}","numLines":38}}
{"parentUuid":"cc031224-e3bf-4d54-9573-4de8fcd8dfa0","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_01Gb9XZD4YYR6vT3cuxZXnEu","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me check for image URLs and the types in the guides system:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7116,"cache_creation_input_tokens":20083,"cache_read_input_tokens":67283,"cache_creation":{"ephemeral_5m_input_tokens":20083,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CWYZn7pFxFTwBmdUx8cRA","type":"assistant","uuid":"ebab7e1b-76be-44e9-999c-c99145aabec5","timestamp":"2025-12-28T05:53:36.756Z"}
{"parentUuid":"ebab7e1b-76be-44e9-999c-c99145aabec5","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_01Gb9XZD4YYR6vT3cuxZXnEu","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_015SxZAuDX9VaVedPETRJSiN","name":"Read","input":{"file_path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/types/guides.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7116,"cache_creation_input_tokens":20083,"cache_read_input_tokens":67283,"cache_creation":{"ephemeral_5m_input_tokens":20083,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CWYZn7pFxFTwBmdUx8cRA","type":"assistant","uuid":"af4b69cd-d526-4639-b34d-de9ada8d350d","timestamp":"2025-12-28T05:53:37.967Z"}
{"parentUuid":"af4b69cd-d526-4639-b34d-de9ada8d350d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_01Gb9XZD4YYR6vT3cuxZXnEu","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01E1qDUuC6q3d7DVB7bwNRKZ","name":"Grep","input":{"pattern":"unsplash\\.com","path":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src","output_mode":"count"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7116,"cache_creation_input_tokens":20083,"cache_read_input_tokens":67283,"cache_creation":{"ephemeral_5m_input_tokens":20083,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CWYZn7pFxFTwBmdUx8cRA","type":"assistant","uuid":"4f42bc08-a0f1-4ade-bfe7-74dc25b0752b","timestamp":"2025-12-28T05:53:39.193Z"}
{"parentUuid":"4f42bc08-a0f1-4ade-bfe7-74dc25b0752b","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_015SxZAuDX9VaVedPETRJSiN","type":"tool_result","content":"     1→/**\n     2→ * Guide System Type Definitions\n     3→ * Product guides with multi-region affiliate links\n     4→ */\n     5→\n     6→// ============================================\n     7→// REGION TYPES\n     8→// ============================================\n     9→\n    10→export type Region = 'us' | 'uk' | 'de' | 'fr' | 'au' | 'asia';\n    11→\n    12→export interface RegionConfig {\n    13→  code: Region;\n    14→  name: string;\n    15→  flag: string;\n    16→  amazonDomain: string;\n    17→  affiliateTag: string;\n    18→  currency: string;\n    19→  currencySymbol: string;\n    20→}\n    21→\n    22→export const REGION_CONFIGS: Record<Region, RegionConfig> = {\n    23→  us: {\n    24→    code: 'us',\n    25→    name: 'United States',\n    26→    flag: '🇺🇸',\n    27→    amazonDomain: 'amazon.com',\n    28→    affiliateTag: 'looksmaxx-20',\n    29→    currency: 'USD',\n    30→    currencySymbol: '$',\n    31→  },\n    32→  uk: {\n    33→    code: 'uk',\n    34→    name: 'United Kingdom',\n    35→    flag: '🇬🇧',\n    36→    amazonDomain: 'amazon.co.uk',\n    37→    affiliateTag: 'looksmaxx-21',\n    38→    currency: 'GBP',\n    39→    currencySymbol: '£',\n    40→  },\n    41→  de: {\n    42→    code: 'de',\n    43→    name: 'Germany',\n    44→    flag: '🇩🇪',\n    45→    amazonDomain: 'amazon.de',\n    46→    affiliateTag: 'looksmaxx-21',\n    47→    currency: 'EUR',\n    48→    currencySymbol: '€',\n    49→  },\n    50→  fr: {\n    51→    code: 'fr',\n    52→    name: 'France',\n    53→    flag: '🇫🇷',\n    54→    amazonDomain: 'amazon.fr',\n    55→    affiliateTag: 'looksmaxx-21',\n    56→    currency: 'EUR',\n    57→    currencySymbol: '€',\n    58→  },\n    59→  au: {\n    60→    code: 'au',\n    61→    name: 'Australia',\n    62→    flag: '🇦🇺',\n    63→    amazonDomain: 'amazon.com.au',\n    64→    affiliateTag: 'looksmaxx-22',\n    65→    currency: 'AUD',\n    66→    currencySymbol: 'A$',\n    67→  },\n    68→  asia: {\n    69→    code: 'asia',\n    70→    name: 'Asia',\n    71→    flag: '🌏',\n    72→    amazonDomain: 'amzn.asia',\n    73→    affiliateTag: 'looksmaxx-22',\n    74→    currency: 'USD',\n    75→    currencySymbol: '$',\n    76→  },\n    77→};\n    78→\n    79→// ============================================\n    80→// PRODUCT TYPES\n    81→// ============================================\n    82→\n    83→export type ProductCategory =\n    84→  | 'hygiene'\n    85→  | 'grooming'\n    86→  | 'skincare'\n    87→  | 'miscellaneous'\n    88→  | 'supplements'\n    89→  | 'hair'\n    90→  | 'beard'\n    91→  | 'teeth'\n    92→  | 'kbeauty'\n    93→  | 'hormonal'\n    94→  | 'surgery';\n    95→\n    96→export interface ProductRegionLinks {\n    97→  us?: string;\n    98→  uk?: string;\n    99→  de?: string;\n   100→  fr?: string;\n   101→  au?: string;\n   102→  asia?: string;\n   103→}\n   104→\n   105→export interface GuideProduct {\n   106→  id: string;\n   107→  name: string;\n   108→  brand?: string;\n   109→  category: ProductCategory;\n   110→  tagline: string;  // Funny Ross-style tagline\n   111→  description: string;\n   112→  priority: number;  // 1 = essential, 2 = recommended, 3 = optional\n   113→  priceRange?: {\n   114→    min: number;\n   115→    max: number;\n   116→    currency: string;\n   117→  };\n   118→  regionLinks: ProductRegionLinks;\n   119→  directLink?: string;  // Non-Amazon link if available\n   120→  imageUrl?: string;\n   121→  isBaseStack?: boolean;  // Part of universal stack\n   122→}\n   123→\n   124→// ============================================\n   125→// GUIDE CONTENT TYPES\n   126→// ============================================\n   127→\n   128→export type HumorLevel = 'low' | 'medium' | 'medium-high' | 'high';\n   129→\n   130→// ============================================\n   131→// MEDIA TYPES\n   132→// ============================================\n   133→\n   134→export type MediaType = 'gif' | 'image' | 'video';\n   135→export type MediaPlacement = 'inline' | 'hero' | 'full-width';\n   136→\n   137→export interface GuideMedia {\n   138→  id: string;\n   139→  type: MediaType;\n   140→  url: string;\n   141→  alt: string;\n   142→  caption?: string;\n   143→  placement?: MediaPlacement;\n   144→  width?: number;\n   145→  height?: number;\n   146→}\n   147→\n   148→export interface GuideSection {\n   149→  id: string;\n   150→  title: string;\n   151→  content: string;  // Markdown content\n   152→  humorLevel?: HumorLevel;\n   153→  products?: string[];  // Product IDs referenced in this section\n   154→  tips?: string[];  // Quick tip callouts\n   155→  warnings?: string[];  // Important warnings\n   156→  media?: GuideMedia[];  // GIFs, images, videos for this section\n   157→}\n   158→\n   159→export type GenderTarget = 'male' | 'female' | 'all';\n   160→\n   161→export interface Guide {\n   162→  id: string;\n   163→  slug: string;\n   164→  title: string;\n   165→  subtitle?: string;  // Funny subtitle\n   166→  description: string;\n   167→  icon: string;  // Icon name or emoji\n   168→  humorLevel: HumorLevel;\n   169→  estimatedReadTime: number;  // minutes\n   170→  sections: GuideSection[];\n   171→  relatedGuides?: string[];  // Related guide IDs\n   172→  productIds?: string[];  // All products mentioned\n   173→  tags?: string[];\n   174→  order: number;  // Display order\n   175→  heroMedia?: GuideMedia;  // Hero image/GIF for the guide\n   176→  forumCategory?: string;  // Forum category slug for \"Discuss in Forum\"\n   177→  genderTarget?: GenderTarget;  // 'male' | 'female' | 'all' (default: 'all')\n   178→}\n   179→\n   180→// ============================================\n   181→// GUIDE CATEGORY TYPES\n   182→// ============================================\n   183→\n   184→export interface GuideCategory {\n   185→  id: string;\n   186→  name: string;\n   187→  description: string;\n   188→  icon: string;\n   189→  color: string;\n   190→  guideIds: string[];\n   191→}\n   192→\n   193→// ============================================\n   194→// CONTEXT STATE TYPES\n   195→// ============================================\n   196→\n   197→export interface RegionState {\n   198→  region: Region;\n   199→  isAutoDetected: boolean;\n   200→  isLoading: boolean;\n   201→}\n   202→\n   203→// ============================================\n   204→// LOCALE MAPPINGS\n   205→// ============================================\n   206→\n   207→export const LOCALE_TO_REGION: Record<string, Region> = {\n   208→  'en-US': 'us',\n   209→  'en-GB': 'uk',\n   210→  'en-AU': 'au',\n   211→  'de-DE': 'de',\n   212→  'de-AT': 'de',\n   213→  'de-CH': 'de',\n   214→  'fr-FR': 'fr',\n   215→  'fr-CA': 'us',  // Ships from US\n   216→  'fr-BE': 'fr',\n   217→  'ja-JP': 'asia',\n   218→  'ko-KR': 'asia',\n   219→  'zh-CN': 'asia',\n   220→  'zh-TW': 'asia',\n   221→  'zh-HK': 'asia',\n   222→};\n   223→\n   224→export const TIMEZONE_TO_REGION: Record<string, Region> = {\n   225→  // Americas\n   226→  'America/New_York': 'us',\n   227→  'America/Los_Angeles': 'us',\n   228→  'America/Chicago': 'us',\n   229→  'America/Denver': 'us',\n   230→  'America/Toronto': 'us',\n   231→  // Europe\n   232→  'Europe/London': 'uk',\n   233→  'Europe/Berlin': 'de',\n   234→  'Europe/Paris': 'fr',\n   235→  'Europe/Vienna': 'de',\n   236→  'Europe/Zurich': 'de',\n   237→  // Asia Pacific\n   238→  'Australia/Sydney': 'au',\n   239→  'Australia/Melbourne': 'au',\n   240→  'Australia/Brisbane': 'au',\n   241→  'Asia/Tokyo': 'asia',\n   242→  'Asia/Seoul': 'asia',\n   243→  'Asia/Shanghai': 'asia',\n   244→  'Asia/Hong_Kong': 'asia',\n   245→  'Asia/Singapore': 'asia',\n   246→};\n   247→\n   248→// ============================================\n   249→// HELPER TYPES\n   250→// ============================================\n   251→\n   252→export interface ProductClick {\n   253→  productId: string;\n   254→  region: Region;\n   255→  guideId?: string;\n   256→  sectionId?: string;\n   257→  timestamp: number;\n   258→}\n   259→\n   260→export interface GuideView {\n   261→  guideId: string;\n   262→  region: Region;\n   263→  scrollDepth: number;  // 0-100\n   264→  timeSpentSeconds: number;\n   265→  timestamp: number;\n   266→}\n   267→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"20022aea-df50-4f05-8767-fab96bc068ab","timestamp":"2025-12-28T05:53:39.283Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/types/guides.ts","content":"/**\n * Guide System Type Definitions\n * Product guides with multi-region affiliate links\n */\n\n// ============================================\n// REGION TYPES\n// ============================================\n\nexport type Region = 'us' | 'uk' | 'de' | 'fr' | 'au' | 'asia';\n\nexport interface RegionConfig {\n  code: Region;\n  name: string;\n  flag: string;\n  amazonDomain: string;\n  affiliateTag: string;\n  currency: string;\n  currencySymbol: string;\n}\n\nexport const REGION_CONFIGS: Record<Region, RegionConfig> = {\n  us: {\n    code: 'us',\n    name: 'United States',\n    flag: '🇺🇸',\n    amazonDomain: 'amazon.com',\n    affiliateTag: 'looksmaxx-20',\n    currency: 'USD',\n    currencySymbol: '$',\n  },\n  uk: {\n    code: 'uk',\n    name: 'United Kingdom',\n    flag: '🇬🇧',\n    amazonDomain: 'amazon.co.uk',\n    affiliateTag: 'looksmaxx-21',\n    currency: 'GBP',\n    currencySymbol: '£',\n  },\n  de: {\n    code: 'de',\n    name: 'Germany',\n    flag: '🇩🇪',\n    amazonDomain: 'amazon.de',\n    affiliateTag: 'looksmaxx-21',\n    currency: 'EUR',\n    currencySymbol: '€',\n  },\n  fr: {\n    code: 'fr',\n    name: 'France',\n    flag: '🇫🇷',\n    amazonDomain: 'amazon.fr',\n    affiliateTag: 'looksmaxx-21',\n    currency: 'EUR',\n    currencySymbol: '€',\n  },\n  au: {\n    code: 'au',\n    name: 'Australia',\n    flag: '🇦🇺',\n    amazonDomain: 'amazon.com.au',\n    affiliateTag: 'looksmaxx-22',\n    currency: 'AUD',\n    currencySymbol: 'A$',\n  },\n  asia: {\n    code: 'asia',\n    name: 'Asia',\n    flag: '🌏',\n    amazonDomain: 'amzn.asia',\n    affiliateTag: 'looksmaxx-22',\n    currency: 'USD',\n    currencySymbol: '$',\n  },\n};\n\n// ============================================\n// PRODUCT TYPES\n// ============================================\n\nexport type ProductCategory =\n  | 'hygiene'\n  | 'grooming'\n  | 'skincare'\n  | 'miscellaneous'\n  | 'supplements'\n  | 'hair'\n  | 'beard'\n  | 'teeth'\n  | 'kbeauty'\n  | 'hormonal'\n  | 'surgery';\n\nexport interface ProductRegionLinks {\n  us?: string;\n  uk?: string;\n  de?: string;\n  fr?: string;\n  au?: string;\n  asia?: string;\n}\n\nexport interface GuideProduct {\n  id: string;\n  name: string;\n  brand?: string;\n  category: ProductCategory;\n  tagline: string;  // Funny Ross-style tagline\n  description: string;\n  priority: number;  // 1 = essential, 2 = recommended, 3 = optional\n  priceRange?: {\n    min: number;\n    max: number;\n    currency: string;\n  };\n  regionLinks: ProductRegionLinks;\n  directLink?: string;  // Non-Amazon link if available\n  imageUrl?: string;\n  isBaseStack?: boolean;  // Part of universal stack\n}\n\n// ============================================\n// GUIDE CONTENT TYPES\n// ============================================\n\nexport type HumorLevel = 'low' | 'medium' | 'medium-high' | 'high';\n\n// ============================================\n// MEDIA TYPES\n// ============================================\n\nexport type MediaType = 'gif' | 'image' | 'video';\nexport type MediaPlacement = 'inline' | 'hero' | 'full-width';\n\nexport interface GuideMedia {\n  id: string;\n  type: MediaType;\n  url: string;\n  alt: string;\n  caption?: string;\n  placement?: MediaPlacement;\n  width?: number;\n  height?: number;\n}\n\nexport interface GuideSection {\n  id: string;\n  title: string;\n  content: string;  // Markdown content\n  humorLevel?: HumorLevel;\n  products?: string[];  // Product IDs referenced in this section\n  tips?: string[];  // Quick tip callouts\n  warnings?: string[];  // Important warnings\n  media?: GuideMedia[];  // GIFs, images, videos for this section\n}\n\nexport type GenderTarget = 'male' | 'female' | 'all';\n\nexport interface Guide {\n  id: string;\n  slug: string;\n  title: string;\n  subtitle?: string;  // Funny subtitle\n  description: string;\n  icon: string;  // Icon name or emoji\n  humorLevel: HumorLevel;\n  estimatedReadTime: number;  // minutes\n  sections: GuideSection[];\n  relatedGuides?: string[];  // Related guide IDs\n  productIds?: string[];  // All products mentioned\n  tags?: string[];\n  order: number;  // Display order\n  heroMedia?: GuideMedia;  // Hero image/GIF for the guide\n  forumCategory?: string;  // Forum category slug for \"Discuss in Forum\"\n  genderTarget?: GenderTarget;  // 'male' | 'female' | 'all' (default: 'all')\n}\n\n// ============================================\n// GUIDE CATEGORY TYPES\n// ============================================\n\nexport interface GuideCategory {\n  id: string;\n  name: string;\n  description: string;\n  icon: string;\n  color: string;\n  guideIds: string[];\n}\n\n// ============================================\n// CONTEXT STATE TYPES\n// ============================================\n\nexport interface RegionState {\n  region: Region;\n  isAutoDetected: boolean;\n  isLoading: boolean;\n}\n\n// ============================================\n// LOCALE MAPPINGS\n// ============================================\n\nexport const LOCALE_TO_REGION: Record<string, Region> = {\n  'en-US': 'us',\n  'en-GB': 'uk',\n  'en-AU': 'au',\n  'de-DE': 'de',\n  'de-AT': 'de',\n  'de-CH': 'de',\n  'fr-FR': 'fr',\n  'fr-CA': 'us',  // Ships from US\n  'fr-BE': 'fr',\n  'ja-JP': 'asia',\n  'ko-KR': 'asia',\n  'zh-CN': 'asia',\n  'zh-TW': 'asia',\n  'zh-HK': 'asia',\n};\n\nexport const TIMEZONE_TO_REGION: Record<string, Region> = {\n  // Americas\n  'America/New_York': 'us',\n  'America/Los_Angeles': 'us',\n  'America/Chicago': 'us',\n  'America/Denver': 'us',\n  'America/Toronto': 'us',\n  // Europe\n  'Europe/London': 'uk',\n  'Europe/Berlin': 'de',\n  'Europe/Paris': 'fr',\n  'Europe/Vienna': 'de',\n  'Europe/Zurich': 'de',\n  // Asia Pacific\n  'Australia/Sydney': 'au',\n  'Australia/Melbourne': 'au',\n  'Australia/Brisbane': 'au',\n  'Asia/Tokyo': 'asia',\n  'Asia/Seoul': 'asia',\n  'Asia/Shanghai': 'asia',\n  'Asia/Hong_Kong': 'asia',\n  'Asia/Singapore': 'asia',\n};\n\n// ============================================\n// HELPER TYPES\n// ============================================\n\nexport interface ProductClick {\n  productId: string;\n  region: Region;\n  guideId?: string;\n  sectionId?: string;\n  timestamp: number;\n}\n\nexport interface GuideView {\n  guideId: string;\n  region: Region;\n  scrollDepth: number;  // 0-100\n  timeSpentSeconds: number;\n  timestamp: number;\n}\n","numLines":267,"startLine":1,"totalLines":267}}}
{"parentUuid":"20022aea-df50-4f05-8767-fab96bc068ab","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01E1qDUuC6q3d7DVB7bwNRKZ","type":"tool_result","content":"src/data/guides/dopamine-optimization.ts:1\nsrc/data/guides/teeth-smile.ts:1\nsrc/data/guides/cutting-guide.ts:1\nsrc/data/guides/environmental-engineering.ts:1\nsrc/data/guides/rhinoplasty.ts:1\nsrc/data/guides/training-fundamentals.ts:1\nsrc/data/guides/blood-markers.ts:1\nsrc/data/guides/brain-fuel.ts:1\nsrc/data/guides/skincare.ts:4\nsrc/data/guides/accutane.ts:1\nsrc/data/guides/testosterone-lifestyle.ts:1\nsrc/data/guides/neck-training.ts:1\nsrc/data/guides/bulking-guide.ts:1\nsrc/data/guides/recovery-protocols.ts:1\nsrc/data/guides/filler-botox.ts:1\nsrc/data/guides/sleep-apnea.ts:1\nsrc/data/guides/cardio.ts:4\nsrc/data/guides/body-fat.ts:6\nsrc/data/guides/testosterone-nutrition.ts:1\nsrc/data/guides/cognitive-enhancers.ts:1\nsrc/data/guides/toxic-swaps.ts:1\nsrc/data/guides/circadian-rhythm.ts:1\nsrc/data/guides/maintenance.ts:2\nsrc/data/guides/mewing-jawline.ts:1\nsrc/data/guides/hair-loss.ts:1\nsrc/data/guides/glass-skin.ts:1\nsrc/data/guides/lifestyle-recovery.ts:1\nsrc/data/guides/body-surgery.ts:1\nsrc/data/guides/hormone-killers.ts:1\nsrc/data/guides/sleep-environment.ts:1\nsrc/data/guides/full-body-split.ts:1\nsrc/data/guides/ppl-split.ts:1\nsrc/data/guides/organ-function.ts:1\nsrc/data/guides/cortisol-management.ts:1\nsrc/data/guides/diet.ts:4\nsrc/data/guides/facial-procedures.ts:1\nsrc/data/guides/carb-timing.ts:1\nsrc/data/guides/debloating-protocol.ts:1\nsrc/data/guides/core-neck.ts:1\nsrc/data/guides/body-contouring-women.ts:1\nsrc/data/guides/anti-aging-women.ts:1\nsrc/data/guides/sleep-drivers.ts:1\nsrc/data/guides/toxins-aesthetics.ts:1\nsrc/data/guides/training.ts:7\nsrc/data/guides/estrogen-balance.ts:1\nsrc/data/guides/mindset.ts:4\nsrc/data/guides/recovery-modalities.ts:1\nsrc/data/guides/v-taper.ts:1\nsrc/data/guides/stress-supplements.ts:1\nsrc/data/guides/products-registry.ts:76\nsrc/data/guides/gynecomastia.ts:1\nsrc/data/guides/keto-lowcarb.ts:1\nsrc/data/guides/hormone-panels.ts:1\nsrc/data/guides/upper-lower-split.ts:1\nsrc/data/guides/cardiovascular-markers.ts:1\nsrc/data/guides/hormonal-skin.ts:1\nsrc/data/guides/nutrition-basics.ts:1\nsrc/data/guides/metabolic-markers.ts:1\nsrc/data/guides/environmental-stress.ts:1\nsrc/data/guides/beard-growth.ts:1\nsrc/data/guides/jaw-surgery.ts:1\nsrc/data/guides/feminine-features.ts:1\nsrc/data/guides/postpartum-recovery.ts:1\n\nFound 162 total occurrences across 63 files."}]},"uuid":"afff40d3-24ad-498a-88f7-4e9c585039b9","timestamp":"2025-12-28T05:53:39.632Z","toolUseResult":{"mode":"count","numFiles":63,"filenames":[],"content":"src/data/guides/dopamine-optimization.ts:1\nsrc/data/guides/teeth-smile.ts:1\nsrc/data/guides/cutting-guide.ts:1\nsrc/data/guides/environmental-engineering.ts:1\nsrc/data/guides/rhinoplasty.ts:1\nsrc/data/guides/training-fundamentals.ts:1\nsrc/data/guides/blood-markers.ts:1\nsrc/data/guides/brain-fuel.ts:1\nsrc/data/guides/skincare.ts:4\nsrc/data/guides/accutane.ts:1\nsrc/data/guides/testosterone-lifestyle.ts:1\nsrc/data/guides/neck-training.ts:1\nsrc/data/guides/bulking-guide.ts:1\nsrc/data/guides/recovery-protocols.ts:1\nsrc/data/guides/filler-botox.ts:1\nsrc/data/guides/sleep-apnea.ts:1\nsrc/data/guides/cardio.ts:4\nsrc/data/guides/body-fat.ts:6\nsrc/data/guides/testosterone-nutrition.ts:1\nsrc/data/guides/cognitive-enhancers.ts:1\nsrc/data/guides/toxic-swaps.ts:1\nsrc/data/guides/circadian-rhythm.ts:1\nsrc/data/guides/maintenance.ts:2\nsrc/data/guides/mewing-jawline.ts:1\nsrc/data/guides/hair-loss.ts:1\nsrc/data/guides/glass-skin.ts:1\nsrc/data/guides/lifestyle-recovery.ts:1\nsrc/data/guides/body-surgery.ts:1\nsrc/data/guides/hormone-killers.ts:1\nsrc/data/guides/sleep-environment.ts:1\nsrc/data/guides/full-body-split.ts:1\nsrc/data/guides/ppl-split.ts:1\nsrc/data/guides/organ-function.ts:1\nsrc/data/guides/cortisol-management.ts:1\nsrc/data/guides/diet.ts:4\nsrc/data/guides/facial-procedures.ts:1\nsrc/data/guides/carb-timing.ts:1\nsrc/data/guides/debloating-protocol.ts:1\nsrc/data/guides/core-neck.ts:1\nsrc/data/guides/body-contouring-women.ts:1\nsrc/data/guides/anti-aging-women.ts:1\nsrc/data/guides/sleep-drivers.ts:1\nsrc/data/guides/toxins-aesthetics.ts:1\nsrc/data/guides/training.ts:7\nsrc/data/guides/estrogen-balance.ts:1\nsrc/data/guides/mindset.ts:4\nsrc/data/guides/recovery-modalities.ts:1\nsrc/data/guides/v-taper.ts:1\nsrc/data/guides/stress-supplements.ts:1\nsrc/data/guides/products-registry.ts:76\nsrc/data/guides/gynecomastia.ts:1\nsrc/data/guides/keto-lowcarb.ts:1\nsrc/data/guides/hormone-panels.ts:1\nsrc/data/guides/upper-lower-split.ts:1\nsrc/data/guides/cardiovascular-markers.ts:1\nsrc/data/guides/hormonal-skin.ts:1\nsrc/data/guides/nutrition-basics.ts:1\nsrc/data/guides/metabolic-markers.ts:1\nsrc/data/guides/environmental-stress.ts:1\nsrc/data/guides/beard-growth.ts:1\nsrc/data/guides/jaw-surgery.ts:1\nsrc/data/guides/feminine-features.ts:1\nsrc/data/guides/postpartum-recovery.ts:1","numMatches":162}}
{"parentUuid":"afff40d3-24ad-498a-88f7-4e9c585039b9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/LOOKSMAXX/looksmaxx-app","sessionId":"a61428cd-9a2e-43d5-a32d-57c9c61ddd74","version":"2.0.76","gitBranch":"main","agentId":"aa3a21c","slug":"starry-squishing-stonebraker","message":{"model":"claude-opus-4-5-20251101","id":"msg_019ZBHJ5wHdtiiZzJQNss92Z","type":"message","role":"assistant","content":[{"type":"text","text":"Now I have a comprehensive view of the codebase. Let me compile the SAAS Organization and Cleanup Audit Report.\n\n---\n\n# SAAS Organization and Cleanup Audit Report\n\n## Overall Verdict: PASS WITH ISSUES\n\n**SAAS-Readiness Score: 6/10**\n\nThe codebase is functional but has significant organizational issues that should be addressed before production scale. The main concerns are duplicate product definitions, excessive debug logging, and hardcoded placeholder images.\n\n---\n\n## 1. DUPLICATIONS FOUND\n\n### Critical: Duplicate Product Databases\n\n| File | Purpose | Product Count | Issues |\n|------|---------|---------------|--------|\n| `/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/data/guides/products-registry.ts` | Guide system products | 73 products | **SHOULD BE SINGLE SOURCE OF TRUTH** - Comprehensive with multi-region links, ASINs, taglines |\n| `/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/product_db.ts` | Legacy product DB | 22 products | **REDUNDANT** - Simpler structure, overlapping products |\n| `/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/recommendations/supplements.ts` | Supplement details | 23+ supplements | Contains dosage/efficacy data not in other files |\n\n**Specific Duplications Found:**\n\n| Product | products-registry.ts | product_db.ts | Conflict |\n|---------|---------------------|---------------|----------|\n| Collagen Peptides | `collagen_peptides` | `collagen_vital_proteins` | Different IDs, same product |\n| Vitamin D3+K2 | `vitamin_d3_k2` | `d3_k2_sports_research` | Different IDs |\n| Creatine | `creatine_mono` | `creatine_optimum` | Different IDs |\n| Ashwagandha | `ashwagandha_ksm66` | `ashwagandha_now` | Different IDs |\n| Omega-3 | `omega3_fish_oil` | `omega3_nordic` | Different IDs |\n| Magnesium | `magnesium_glycinate` | `magnesium_doctors_best` | Different IDs |\n\n---\n\n## 2. RECOMMENDED SINGLE SOURCE OF TRUTH\n\n**Recommendation: Use `/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/data/guides/products-registry.ts` as the canonical product database.**\n\n**Rationale:**\n- Most comprehensive (73 products vs 22)\n- Has multi-region affiliate links (6 regions)\n- Includes proper ASINs for Amazon URLs\n- Has Ross-style taglines for marketing\n- Already used by ShopTab.tsx (the main shop interface)\n\n**Migration Required:**\n1. Merge supplement metadata from `supplements.ts` (dosage, effectiveness, evidence level) into products-registry\n2. Update `product-recommendations.ts` to use GUIDE_PRODUCTS instead of PRODUCTS\n3. Update `ProductCard.tsx` (in cards/) to use GuideProduct type\n4. Deprecate and remove `product_db.ts`\n\n---\n\n## 3. ENVIRONMENT VARIABLES NEEDED\n\n### Currently Correct (Already Using Env Vars):\n\n| Variable | Status | File |\n|----------|--------|------|\n| `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY` | OK | `/src/app/checkout/page.tsx` |\n| `NEXT_PUBLIC_API_URL` | OK | Various API calls |\n\n### Hardcoded Values That SHOULD Be Environment Variables:\n\n| Value | Location | Recommended Variable |\n|-------|----------|---------------------|\n| `tag=looksmaxx-20` | `/src/lib/product_db.ts:17,28,...` | `NEXT_PUBLIC_AMAZON_AFFILIATE_TAG_US` |\n| `tag=projectcassanova-20` | `/src/components/results/tabs/ShopTab.tsx:123` | Inconsistent! Should match above |\n| `ref=looksmaxx` | Multiple direct links | `NEXT_PUBLIC_AFFILIATE_REF` |\n| Affiliate tags in `types/guides.ts` | Lines 27-75 | Should be env vars per region |\n\n**Priority: Medium** - Affiliate tags being hardcoded creates maintenance burden when changing affiliate accounts.\n\n---\n\n## 4. IMAGES/MEDIA TO REMOVE OR TRUNCATE\n\n### Critical: 162 Unsplash Placeholder URLs Found\n\n**Location:** `/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/data/guides/products-registry.ts`\n\nAll 73 products have placeholder Unsplash URLs like:\n```typescript\nimageUrl: 'https://images.unsplash.com/photo-1609587312208-cea54be969e7?w=200&h=200&fit=crop',\n```\n\n**Issues:**\n1. Not actual product images - potentially misleading\n2. Unsplash hotlinking may violate ToS at scale\n3. No fallback if images fail to load\n4. Images are not product-specific\n\n**Recommendation:**\n- Remove `imageUrl` field entirely from products-registry (ShopTab.tsx does not render images)\n- OR replace with actual product images hosted on your CDN\n- OR use Amazon product images via Product Advertising API\n\n---\n\n## 5. DEBUG CODE TO CLEANUP\n\n### 34 Console.log Occurrences Found (10 files):\n\n| File | Count | Priority |\n|------|-------|----------|\n| `/src/app/results/page.tsx` | 10 | **HIGH** - User-facing page |\n| `/src/lib/mediapipeDetection.ts` | 8 | **MEDIUM** - Core detection |\n| `/src/lib/serverSideDetection.ts` | 6 | **MEDIUM** - Detection service |\n| `/src/components/LandmarkAnalysisTool.tsx` | 4 | **LOW** - Dev tool |\n| `/src/components/results/tabs/PlanTab.tsx` | 1 | **HIGH** - User-facing |\n| `/src/app/checkout/success/page.tsx` | 1 | **HIGH** - Payment flow |\n| `/src/lib/sideProfileDetection.ts` | 1 | **MEDIUM** |\n| `/src/lib/api.ts` | 1 | **MEDIUM** |\n| `/src/contexts/ResultsContext.tsx` | 1 | **MEDIUM** |\n| `/src/contexts/LeaderboardContext.tsx` | 1 | **LOW** |\n\n**Recommendation:** \n- Remove all console.log from user-facing pages\n- Replace with proper logging service (e.g., Sentry, LogRocket) for production\n- Keep only in development via `if (process.env.NODE_ENV === 'development')`\n\n---\n\n## 6. TYPESCRIPT ISSUES\n\n### Type Inconsistencies:\n\n| Issue | Files Affected | Severity |\n|-------|----------------|----------|\n| `Product` vs `GuideProduct` types | product_db.ts vs products-registry.ts | **HIGH** - Different structures |\n| Score types `number \\| string` | types/results.ts | **MEDIUM** - Obfuscation handling |\n| Missing type imports | product-recommendations.ts | **LOW** |\n\n### Type Conflicts:\n\n**Product type** (from `/src/types/results.ts`):\n```typescript\ninterface Product {\n  id: string;\n  name: string;\n  brand: string;\n  category: \"skin\" | \"hair\" | \"anti-aging\" | \"hormonal\" | \"bone\" | \"general\" | \"jawline\" | \"tools\" | \"dental\";\n  affiliateLink: string;\n  affiliateType: \"amazon\" | \"direct\";\n  supplementId: string;\n  priority: number;\n  baseStackItem?: boolean;\n  description?: string;\n}\n```\n\n**GuideProduct type** (from `/src/types/guides.ts`):\n```typescript\ninterface GuideProduct {\n  id: string;\n  name: string;\n  brand?: string;\n  category: ProductCategory; // Different enum!\n  tagline: string;\n  description: string;\n  priority: number;\n  priceRange?: { min: number; max: number; currency: string };\n  regionLinks: ProductRegionLinks;\n  directLink?: string;\n  imageUrl?: string;\n  isBaseStack?: boolean;\n}\n```\n\n**Recommendation:** Unify into single `Product` type with all necessary fields.\n\n---\n\n## 7. SECURITY CONCERNS\n\n### Verdict: NO CRITICAL SECURITY ISSUES\n\n| Check | Result |\n|-------|--------|\n| Hardcoded API Keys | NOT FOUND |\n| Exposed Secrets | NOT FOUND |\n| Stripe Keys | PROPERLY USING ENV VARS |\n| Sensitive Data in Code | NOT FOUND |\n\n### Minor Concerns:\n\n1. **Affiliate tags hardcoded** - Not a security issue but creates maintenance burden\n2. **Amazon ASINs exposed** - This is normal and not a security risk\n3. **Stripe client secret handling** - Properly handled in checkout flow\n\n---\n\n## 8. ACTIONABLE RECOMMENDATIONS\n\n### Priority 1 (Critical):\n\n1. **Consolidate product databases**\n   - Use `products-registry.ts` as single source of truth\n   - Delete or deprecate `product_db.ts`\n   - Update all imports\n\n2. **Remove debug logging from production**\n   - Remove 34 console.log statements\n   - Implement proper error tracking\n\n### Priority 2 (High):\n\n3. **Fix affiliate tag inconsistency**\n   - `looksmaxx-20` vs `projectcassanova-20` - pick one\n   - Move to environment variables\n\n4. **Remove placeholder images**\n   - Remove all Unsplash URLs from products-registry\n   - Use actual product images or no images\n\n### Priority 3 (Medium):\n\n5. **Unify TypeScript types**\n   - Create single `Product` interface\n   - Include fields from both current types\n\n6. **Environment variable migration**\n   - Move affiliate tags to env vars\n   - Create `.env.example` with all required vars\n\n---\n\n## Summary Table\n\n| Category | Issues Found | Severity |\n|----------|--------------|----------|\n| Duplications | 2 product databases, ~20 duplicate products | **HIGH** |\n| Single Source of Truth | Not established | **HIGH** |\n| Environment Variables | 4 hardcoded affiliate configs | **MEDIUM** |\n| Images/Media | 162 placeholder URLs | **MEDIUM** |\n| Debug Code | 34 console.log statements | **HIGH** |\n| TypeScript Issues | 2 conflicting types | **MEDIUM** |\n| Security Concerns | None critical | **LOW** |\n\n---\n\n**Files That Need Immediate Attention:**\n\n1. `/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/product_db.ts` - DEPRECATE\n2. `/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/lib/product-recommendations.ts` - UPDATE IMPORTS\n3. `/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/app/results/page.tsx` - REMOVE DEBUG\n4. `/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/data/guides/products-registry.ts` - REMOVE PLACEHOLDER IMAGES\n5. `/Users/imorgado/LOOKSMAXX/looksmaxx-app/src/components/results/cards/ProductCard.tsx` - UPDATE TYPES"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":11417,"cache_read_input_tokens":87366,"cache_creation":{"ephemeral_5m_input_tokens":11417,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CWYZngbEfFD7KbLChZj5L","type":"assistant","uuid":"114ca1f7-8fac-42e4-aeeb-23cb87db8df4","timestamp":"2025-12-28T05:54:37.963Z"}
