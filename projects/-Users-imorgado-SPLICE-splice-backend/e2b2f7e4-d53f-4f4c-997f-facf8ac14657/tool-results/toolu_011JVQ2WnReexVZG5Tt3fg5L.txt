447-            return null;
448-        }
449-        // Double encode to add slight obfuscation layer
450-        const jsonStr = JSON.stringify(data);
451-        const encoded = encodeURIComponent(jsonStr);
452:        return btoa(encoded);
453-    } catch (e) {
454-        debugLog('[Config] Encryption error:', e);
455-        return null;
456-    }
457-}
--
465-function decryptFromStorage(data) {
466-    try {
467-        if (!data || typeof data !== 'string') {
468-            return null;
469-        }
470:        const decoded = atob(data);
471-        const jsonStr = decodeURIComponent(decoded);
472-        return JSON.parse(jsonStr);
473-    } catch (e) {
474-        // This is expected for unencrypted legacy data - don't log as warning
475-        return null;
476-    }
477-}
478-
479-/**
480: * Check if a value appears to be encrypted (base64 encoded JSON)
481- *
482- * @param {any} value - Value to check
483- * @returns {boolean} True if value appears to be encrypted
484- */
485-function isEncryptedValue(value) {
--
489-    // Unencrypted values typically start with known patterns
490-    // (e.g., "cus_" for Stripe customer IDs, "SPLICE-" for license keys)
491-    if (value.startsWith('cus_') || value.startsWith('SPLICE-')) {
492-        return false;
493-    }
494:    // Check if it's a valid base64 string that decodes to valid JSON
495-    try {
496:        const decoded = atob(value);
497-        const jsonStr = decodeURIComponent(decoded);
498-        JSON.parse(jsonStr);
499-        return true;
500-    } catch {
501-        return false;