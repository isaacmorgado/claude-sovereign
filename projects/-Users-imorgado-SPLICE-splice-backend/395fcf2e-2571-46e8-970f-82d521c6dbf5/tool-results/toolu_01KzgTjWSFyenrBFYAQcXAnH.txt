The file /Users/imorgado/SPLICE/splice-plugin/js/settings.js has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   547→    return null;
   548→  }
   549→}
   550→
   551→// =============================================================================
   552→// LOGIN MODAL
   553→// =============================================================================
   554→
   555→/**
   556→ * Initialize login modal handlers
   557→ */
   558→function initLoginModal() {
   559→  const loginModal = document.getElementById('loginModal');
   560→  const closeLoginBtn = document.getElementById('closeLoginBtn');
   561→  const saveLoginBtn = document.getElementById('saveLoginBtn');
   562→  const customerIdInput = document.getElementById('customerIdInput');
   563→  const loginError = document.getElementById('loginError');
   564→  const creditBadge = document.getElementById('creditBadge');
   565→
   566→  // Show login modal when clicking credit badge (if not logged in)
   567→  if (creditBadge) {
   568→    creditBadge.addEventListener('click', () => {
   569→      const settings = getSettings();
   570→      if (!settings.customerId) {
   571→        showLoginModal();
   572→      }
   573→    });
   574→  }
   575→
   576→  // Close login modal
   577→  if (closeLoginBtn && loginModal) {
   578→    closeLoginBtn.addEventListener('click', () => {
   579→      loginModal.classList.add('hidden');
   580→    });
   581→  }
   582→
   583→  // Close on backdrop click
   584→  if (loginModal) {
   585→    loginModal.addEventListener('click', (e) => {
   586→      if (e.target === loginModal) {
   587→        loginModal.classList.add('hidden');
   588→      }
   589→    });
   590→  }
   591→
   592→  // Save customer ID
   593→  if (saveLoginBtn) {
   594→    saveLoginBtn.addEventListener('click', async () => {
   595→      const customerId = customerIdInput?.value?.trim();
   596→
   597→      if (!customerId) {
   598→        showLoginError('Please enter your customer ID');
   599→        return;
   600→      }
   601→
   602→      if (!customerId.startsWith('cus_')) {
   603→        showLoginError('Customer ID should start with "cus_"');
   604→        return;
   605→      }
   606→
   607→      // Save to settings
   608→      saveSettings({ customerId });
   609→
   610→      // Hide modal
   611→      loginModal?.classList.add('hidden');
   612→
   613→      // Refresh credits display
   614→      if (typeof refreshCredits === 'function') {
   615→        await refreshCredits();
   616→      }
   617→
   618→      if (typeof setStatus === 'function') {
   619→        setStatus('Logged in successfully');
   620→      }
   621→    });
   622→  }
   623→
   624→  // Load existing customer ID into input
   625→  const settings = getSettings();
   626→  if (customerIdInput && settings.customerId) {
   627→    customerIdInput.value = settings.customerId;
   628→  }
   629→}
   630→
   631→/**
   632→ * Show login modal
   633→ */
   634→function showLoginModal() {
   635→  const loginModal = document.getElementById('loginModal');
   636→  const loginError = document.getElementById('loginError');
   637→
   638→  if (loginError) {
   639→    loginError.style.display = 'none';
   640→  }
   641→
   642→  if (loginModal) {
   643→    loginModal.classList.remove('hidden');
   644→  }
   645→}
   646→
   647→/**
   648→ * Show login error message
   649→ */
   650→function showLoginError(message) {
   651→  const loginError = document.getElementById('loginError');
   652→  if (loginError) {
   653→    loginError.textContent = message;
   654→    loginError.style.display = 'block';
   655→  }
   656→}
   657→
   658→/**
   659→ * Check if user is logged in
   660→ * @returns {boolean}
   661→ */
   662→function isLoggedIn() {
   663→  const settings = getSettings();
   664→  return !!settings.customerId;
   665→}
   666→
   667→/**
   668→ * Get customer ID
   669→ * @returns {string|null}
   670→ */
   671→function getCustomerId() {
   672→  const settings = getSettings();
   673→  return settings.customerId || null;
   674→}
   675→
   676→/**
   677→ * Logout - clear customer ID
   678→ */
   679→function logout() {
   680→  saveSettings({ customerId: null });
   681→  if (typeof setStatus === 'function') {
   682→    setStatus('Logged out');
   683→  }
   684→}
   685→
   686→// Load settings on script load
   687→loadSettings();
   688→