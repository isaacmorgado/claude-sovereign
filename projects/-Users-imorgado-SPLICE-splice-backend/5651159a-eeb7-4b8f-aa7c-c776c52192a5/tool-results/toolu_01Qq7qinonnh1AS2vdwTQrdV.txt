The file /Users/imorgado/SPLICE/splice-backend/tests/phase5-e2e.test.js has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
    10→ * - Retry logic - API retry with backoff
    11→ * - Cache limit - LRU cache eviction
    12→ */
    13→
    14→const https = require('https');
    15→const { toSRT, toVTT, toPlainText, toJSON, groupWordsIntoCaptions } = require('../services/captionExporter');
    16→
    17→const BASE_URL = 'https://127.0.0.1:3847';
    18→const TEST_CUSTOMER_ID = 'cus_test_phase5_e2e';
    19→
    20→// Allow self-signed certs
    21→const agent = new https.Agent({ rejectUnauthorized: false });
    22→
    23→/**
    24→ * Check if server is running before API tests
    25→ */
    26→async function checkServerAvailable() {
    27→  return new Promise((resolve) => {
    28→    const url = new URL('/health', BASE_URL);
    29→    const req = https.request({
    30→      method: 'GET',
    31→      hostname: url.hostname,
    32→      port: url.port,
    33→      path: url.pathname,
    34→      agent,
    35→      timeout: 2000
    36→    }, (res) => {
    37→      resolve(res.statusCode === 200);
    38→    });
    39→    req.on('error', () => resolve(false));
    40→    req.on('timeout', () => {
    41→      req.destroy();
    42→      resolve(false);
    43→    });
    44→    req.end();
    45→  });
    46→}
    47→
    48→/**
    49→ * Helper: Make HTTPS request
    50→ */