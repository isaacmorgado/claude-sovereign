     1→"use client";
     2→
     3→import { useEffect, useState, Suspense } from "react";
     4→import { useSearchParams } from "next/navigation";
     5→import { Card, CardContent } from "@/components/ui/card";
     6→import { Button } from "@/components/ui/button";
     7→import { motion } from "framer-motion";
     8→import {
     9→  CheckCircle,
    10→  Download,
    11→  Mail,
    12→  ArrowRight,
    13→  Loader2,
    14→  Copy,
    15→  Check,
    16→} from "lucide-react";
    17→import Link from "next/link";
    18→import { Header } from "@/components/landing/Header";
    19→import { Footer } from "@/components/landing/Footer";
    20→
    21→function SuccessContent() {
    22→  const searchParams = useSearchParams();
    23→  const sessionId = searchParams.get("session_id");
    24→
    25→  const [isLoading, setIsLoading] = useState(true);
    26→  const [sessionData, setSessionData] = useState<{
    27→    customerEmail: string;
    28→    plan: string;
    29→  } | null>(null);
    30→  const [copied, setCopied] = useState(false);
    31→
    32→  useEffect(() => {
    33→    if (sessionId) {
    34→      fetch(`/api/checkout?session_id=${sessionId}`)
    35→        .then((res) => res.json())
    36→        .then((data) => {
    37→          setSessionData(data);
    38→          setIsLoading(false);
    39→        })
    40→        .catch(() => {
    41→          setIsLoading(false);
    42→        });
    43→    } else {
    44→      setIsLoading(false);
    45→    }
    46→  }, [sessionId]);
    47→
    48→  const copyEmail = () => {
    49→    if (sessionData?.customerEmail) {
    50→      navigator.clipboard.writeText(sessionData.customerEmail);
    51→      setCopied(true);
    52→      setTimeout(() => setCopied(false), 2000);
    53→    }
    54→  };
    55→
    56→  if (isLoading) {
    57→    return (
    58→      <div className="min-h-screen flex items-center justify-center">
    59→        <Loader2 className="w-8 h-8 animate-spin text-primary" />
    60→      </div>
    61→    );
    62→  }
    63→
    64→  return (
    65→    <div className="min-h-screen">
    66→      <Header />
    67→      <main className="pt-24 pb-16">
    68→        <div className="container mx-auto px-4">
    69→          <div className="max-w-2xl mx-auto text-center">
    70→            {/* Success animation */}
    71→            <motion.div
    72→              initial={{ scale: 0 }}
    73→              animate={{ scale: 1 }}
    74→              transition={{
    75→                type: "spring",
    76→                stiffness: 200,
    77→                damping: 15,
    78→              }}
    79→              className="mb-8"
    80→            >
    81→              <div className="w-24 h-24 rounded-full bg-green-500/20 flex items-center justify-center mx-auto">
    82→                <CheckCircle className="w-12 h-12 text-green-500" />
    83→              </div>
    84→            </motion.div>
    85→
    86→            <motion.div
    87→              initial={{ opacity: 0, y: 20 }}
    88→              animate={{ opacity: 1, y: 0 }}
    89→              transition={{ duration: 0.5, delay: 0.2 }}
    90→            >
    91→              <h1 className="text-3xl md:text-4xl font-bold mb-4">
    92→                Welcome to SPLICE!
    93→              </h1>
    94→              <p className="text-lg text-muted-foreground mb-8">
    95→                Your 14-day free trial has started. Let&apos;s get you set up.
    96→              </p>
    97→            </motion.div>
    98→
    99→            {/* Next steps */}
   100→            <motion.div
   101→              initial={{ opacity: 0, y: 20 }}
   102→              animate={{ opacity: 1, y: 0 }}
   103→              transition={{ duration: 0.5, delay: 0.4 }}
   104→              className="space-y-4"
   105→            >
   106→              {/* Email confirmation */}
   107→              <Card>
   108→                <CardContent className="p-6">
   109→                  <div className="flex items-start gap-4">
   110→                    <div className="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0">
   111→                      <Mail className="w-5 h-5 text-primary" />
   112→                    </div>
   113→                    <div className="text-left flex-1">
   114→                      <h3 className="font-semibold mb-1">
   115→                        Check your email
   116→                      </h3>
   117→                      <p className="text-sm text-muted-foreground mb-2">
   118→                        We&apos;ve sent your license key to:
   119→                      </p>
   120→                      {sessionData?.customerEmail && (
   121→                        <div className="flex items-center gap-2">
   122→                          <code className="bg-muted px-2 py-1 rounded text-sm">
   123→                            {sessionData.customerEmail}
   124→                          </code>
   125→                          <button
   126→                            onClick={copyEmail}
   127→                            className="p-1 hover:bg-muted rounded"
   128→                            aria-label="Copy email"
   129→                          >
   130→                            {copied ? (
   131→                              <Check className="w-4 h-4 text-green-500" />
   132→                            ) : (
   133→                              <Copy className="w-4 h-4 text-muted-foreground" />
   134→                            )}
   135→                          </button>
   136→                        </div>
   137→                      )}
   138→                    </div>
   139→                  </div>
   140→                </CardContent>
   141→              </Card>
   142→
   143→              {/* Download */}
   144→              <Card>
   145→                <CardContent className="p-6">
   146→                  <div className="flex items-start gap-4">
   147→                    <div className="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0">
   148→                      <Download className="w-5 h-5 text-primary" />
   149→                    </div>
   150→                    <div className="text-left flex-1">
   151→                      <h3 className="font-semibold mb-1">
   152→                        Download the plugin
   153→                      </h3>
   154→                      <p className="text-sm text-muted-foreground mb-3">
   155→                        Get SPLICE for your version of Premiere Pro
   156→                      </p>
   157→                      <Button
   158→                        variant="outline"
   159→                        size="sm"
   160→                        asChild
   161→                      >
   162→                        <Link href="/download">
   163→                          Go to Downloads
   164→                          <ArrowRight className="w-4 h-4 ml-2" />
   165→                        </Link>
   166→                      </Button>
   167→                    </div>
   168→                  </div>
   169→                </CardContent>
   170→              </Card>
   171→
   172→              {/* Plan info */}
   173→              {sessionData?.plan && (
   174→                <Card className="bg-gradient-to-br from-violet-500/10 to-cyan-500/10 border-primary/20">
   175→                  <CardContent className="p-6">
   176→                    <div className="flex items-center justify-between">
   177→                      <div className="text-left">
   178→                        <p className="text-sm text-muted-foreground">Your plan</p>
   179→                        <h3 className="text-xl font-bold capitalize">
   180→                          {sessionData.plan}
   181→                        </h3>
   182→                      </div>
   183→                      <div className="text-right">
   184→                        <p className="text-sm text-muted-foreground">Trial ends in</p>
   185→                        <h3 className="text-xl font-bold text-primary">14 days</h3>
   186→                      </div>
   187→                    </div>
   188→                  </CardContent>
   189→                </Card>
   190→              )}
   191→            </motion.div>
   192→
   193→            {/* Quick links */}
   194→            <motion.div
   195→              initial={{ opacity: 0, y: 20 }}
   196→              animate={{ opacity: 1, y: 0 }}
   197→              transition={{ duration: 0.5, delay: 0.6 }}
   198→              className="mt-8 flex flex-col sm:flex-row items-center justify-center gap-4"
   199→            >
   200→              <Button
   201→                className="bg-gradient-to-r from-violet-600 to-cyan-600 hover:from-violet-700 hover:to-cyan-700"
   202→                size="lg"
   203→                asChild
   204→              >
   205→                <Link href="/download">
   206→                  <Download className="w-4 h-4 mr-2" />
   207→                  Download SPLICE
   208→                </Link>
   209→              </Button>
   210→              <Button variant="outline" size="lg" asChild>
   211→                <Link href="/docs">View Documentation</Link>
   212→              </Button>
   213→            </motion.div>
   214→
   215→            {/* Help text */}
   216→            <motion.p
   217→              initial={{ opacity: 0 }}
   218→              animate={{ opacity: 1 }}
   219→              transition={{ duration: 0.5, delay: 0.8 }}
   220→              className="mt-8 text-sm text-muted-foreground"
   221→            >
   222→              Need help getting started?{" "}
   223→              <a
   224→                href="mailto:support@splice.app"
   225→                className="text-primary hover:underline"
   226→              >
   227→                Contact support
   228→              </a>{" "}
   229→              or check our{" "}
   230→              <Link href="/docs/quickstart" className="text-primary hover:underline">
   231→                quick start guide
   232→              </Link>
   233→              .
   234→            </motion.p>
   235→          </div>
   236→        </div>
   237→      </main>
   238→      <Footer />
   239→    </div>
   240→  );
   241→}
   242→
   243→export default function SuccessPage() {
   244→  return (
   245→    <Suspense
   246→      fallback={
   247→        <div className="min-h-screen flex items-center justify-center">
   248→          <Loader2 className="w-8 h-8 animate-spin text-primary" />
   249→        </div>
   250→      }
   251→    >
   252→      <SuccessContent />
   253→    </Suspense>
   254→  );
   255→}
   256→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
