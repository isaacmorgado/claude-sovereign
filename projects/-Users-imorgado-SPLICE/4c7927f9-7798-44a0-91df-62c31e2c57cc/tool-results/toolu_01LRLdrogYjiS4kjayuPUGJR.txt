     1→# =============================================================================
     2→# SPLICE Backend Environment Variables
     3→# =============================================================================
     4→# Copy this file to .env and fill in your values
     5→# NEVER commit .env to git
     6→
     7→# -----------------------------------------------------------------------------
     8→# AI Services
     9→# -----------------------------------------------------------------------------
    10→GROQ_API_KEY=your_groq_api_key_here
    11→OPENAI_API_KEY=your_openai_api_key_here
    12→REPLICATE_API_TOKEN=your_replicate_token_here
    13→
    14→# -----------------------------------------------------------------------------
    15→# Stripe (for billing/subscriptions)
    16→# Get these from https://dashboard.stripe.com/apikeys
    17→# -----------------------------------------------------------------------------
    18→STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here
    19→STRIPE_SECRET_KEY=sk_test_your_secret_key_here
    20→STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
    21→
    22→# Stripe Price IDs (create products in Stripe Dashboard first)
    23→# Monthly prices: Starter $15, Pro $39, Team $129
    24→STRIPE_PRICE_STARTER=price_your_starter_monthly_id
    25→STRIPE_PRICE_PRO=price_your_pro_monthly_id
    26→STRIPE_PRICE_TEAM=price_your_team_monthly_id
    27→
    28→# Annual prices (20% discount): Starter $144, Pro $374, Team $1238
    29→STRIPE_PRICE_STARTER_ANNUAL=price_your_starter_annual_id
    30→STRIPE_PRICE_PRO_ANNUAL=price_your_pro_annual_id
    31→STRIPE_PRICE_TEAM_ANNUAL=price_your_team_annual_id
    32→
    33→# Overage metered billing: $2/hour, $1/song
    34→STRIPE_PRICE_OVERAGE_HOURS=price_your_hours_overage_id
    35→STRIPE_PRICE_OVERAGE_MUSIC=price_your_music_overage_id
    36→
    37→# Stripe Meters (for usage-based billing)
    38→STRIPE_METER_HOURS=mtr_your_hours_meter_id
    39→STRIPE_METER_MUSIC=mtr_your_music_meter_id
    40→
    41→# -----------------------------------------------------------------------------
    42→# Database (Railway PostgreSQL)
    43→# Railway will auto-inject this when you add PostgreSQL
    44→# -----------------------------------------------------------------------------
    45→DATABASE_URL=postgresql://user:password@host:port/database
    46→
    47→# -----------------------------------------------------------------------------
    48→# Upstash Redis (for token blacklist, job queues, caching)
    49→# Get these from https://console.upstash.com/redis
    50→# -----------------------------------------------------------------------------
    51→# BullMQ uses the standard Redis URL (for job queues)
    52→UPSTASH_REDIS_URL=rediss://default:your_password@your_endpoint.upstash.io:6379
    53→
    54→# REST API credentials (for token blacklist - recommended for serverless)
    55→UPSTASH_REDIS_REST_URL=https://your_endpoint.upstash.io
    56→UPSTASH_REDIS_REST_TOKEN=your_rest_token_here
    57→
    58→# -----------------------------------------------------------------------------
    59→# Music Generation (Mureka API)
    60→# -----------------------------------------------------------------------------
    61→MUREKA_API_KEY=your_mureka_api_key_here
    62→
    63→# -----------------------------------------------------------------------------
    64→# Cloudflare R2 Storage (for music files)
    65→# -----------------------------------------------------------------------------
    66→R2_ACCOUNT_ID=your_r2_account_id_here
    67→R2_ACCESS_KEY_ID=your_r2_access_key_id_here
    68→R2_SECRET_ACCESS_KEY=your_r2_secret_access_key_here
    69→R2_BUCKET_NAME=splice-music
    70→
    71→# -----------------------------------------------------------------------------
    72→# Song Identification (ACRCloud) - Optional
    73→# -----------------------------------------------------------------------------
    74→ACRCLOUD_HOST=identify-us-west-2.acrcloud.com
    75→ACRCLOUD_ACCESS_KEY=your_acrcloud_access_key_here
    76→ACRCLOUD_ACCESS_SECRET=your_acrcloud_access_secret_here
    77→
    78→# -----------------------------------------------------------------------------
    79→# Server Config
    80→# -----------------------------------------------------------------------------
    81→PORT=3847
    82→NODE_ENV=production
    83→
    84→# -----------------------------------------------------------------------------
    85→# JWT Authentication
    86→# CRITICAL: Must be set to a secure random value in production!
    87→# Generate with: openssl rand -hex 32
    88→# -----------------------------------------------------------------------------
    89→JWT_SECRET=your_secure_jwt_secret_here_CHANGE_IN_PRODUCTION
    90→JWT_EXPIRES_IN=24h
    91→JWT_REFRESH_EXPIRES_IN=7d
    92→
    93→# -----------------------------------------------------------------------------
    94→# Email Service (SendGrid or AWS SES)
    95→# -----------------------------------------------------------------------------
    96→# Provider: 'sendgrid' | 'ses' | 'console' (console = log only, for dev)
    97→EMAIL_PROVIDER=console
    98→
    99→# SendGrid Configuration (if EMAIL_PROVIDER=sendgrid)
   100→SENDGRID_API_KEY=SG_your_sendgrid_api_key_here
   101→
   102→# AWS SES Configuration (if EMAIL_PROVIDER=ses)
   103→# AWS_SES_REGION=us-east-1
   104→# AWS_ACCESS_KEY_ID=your_aws_access_key
   105→# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
   106→
   107→# Email addresses
   108→EMAIL_FROM=SPLICE <noreply@splice.video>
   109→EMAIL_REPLY_TO=support@splice.video
   110→

</system-reminder>
