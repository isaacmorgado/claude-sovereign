{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","type":"user","message":{"role":"user","content":"How does model configuration work in Claude Code? Specifically:\n1. How to add custom model providers\n2. How the /model command works\n3. How to configure API keys for different model providers\n4. Any MCP server integration for model switching"},"uuid":"c3f0454e-bdcc-4045-a37b-480c23b30c99","timestamp":"2026-01-12T16:00:03.068Z"}
{"parentUuid":"c3f0454e-bdcc-4045-a37b-480c23b30c99","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01W7p8EZkK5rTmT2hfmjyxWL","type":"message","role":"assistant","content":[{"type":"text","text":"I'll fetch the Claude Code documentation to answer your questions about model configuration."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":8190,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":8190,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CX3mAQ6Jj2pE4Qar8dkGQ","type":"assistant","uuid":"4867e739-fca4-4e0d-94a8-3a9726035fe8","timestamp":"2026-01-12T16:00:03.931Z"}
{"parentUuid":"4867e739-fca4-4e0d-94a8-3a9726035fe8","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01W7p8EZkK5rTmT2hfmjyxWL","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_016zpSHN7viVdjJSNrz8Xn8w","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/claude_code_docs_map.md","prompt":"Find documentation about model configuration, model providers, /model command, and API keys"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":8190,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":8190,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CX3mAQ6Jj2pE4Qar8dkGQ","type":"assistant","uuid":"b3ec0cef-f79c-482f-aee3-e7b278c78841","timestamp":"2026-01-12T16:00:04.895Z"}
{"parentUuid":"b3ec0cef-f79c-482f-aee3-e7b278c78841","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016zpSHN7viVdjJSNrz8Xn8w","type":"tool_result","content":"# null\n\n# Claude Code Documentation Map\n\nThis is a comprehensive map of all Claude Code documentation pages with their headings, designed for easy navigation by LLMs.\n\n> **Note:** This file is auto-generated by GitHub Actions. Do not edit manually.\n> Last updated: 2026-01-10 23:15:24 UTC\n\n## Document Structure\n\nThis map uses a hierarchical structure:\n\n* **##** marks documentation groups (e.g., 'Getting started')\n* **###** marks individual documentation pages\n* **Nested bullets** show the heading structure within each page\n* Each page title links to the full documentation\n\n## Getting started\n\n### [overview](https://code.claude.com/docs/en/overview.md)\n\n* Get started in 30 seconds\n* What Claude Code does for you\n* Why developers love Claude Code\n* Next steps\n* Additional resources\n\n### [quickstart](https://code.claude.com/docs/en/quickstart.md)\n\n* Before you begin\n* Step 1: Install Claude Code\n* Step 2: Log in to your account\n* Step 3: Start your first session\n* Step 4: Ask your first question\n* Step 5: Make your first code change\n* Step 6: Use Git with Claude Code\n* Step 7: Fix a bug or add a feature\n* Step 8: Test out other common workflows\n* Essential commands\n* Pro tips for beginners\n* What's next?\n* Getting help\n\n### [common-workflows](https://code.claude.com/docs/en/common-workflows.md)\n\n* Understand new codebases\n  * Get a quick codebase overview\n  * Find relevant code\n* Fix bugs efficiently\n* Refactor code\n* Use specialized subagents\n* Use Plan Mode for safe code analysis\n  * When to use Plan Mode\n  * How to use Plan Mode\n  * Example: Planning a complex refactor\n  * Configure Plan Mode as default\n* Work with tests\n* Create pull requests\n* Handle documentation\n* Work with images\n* Reference files and directories\n* Use extended thinking (thinking mode)\n  * Per-request thinking with `ultrathink`\n  * How extended thinking token budgets work\n* Resume previous conversations\n  * Name your sessions\n  * Use the session picker\n* Run parallel Claude Code sessions with Git worktrees\n* Use Claude as a unix-style utility\n  * Add Claude to your verification process\n  * Pipe in, pipe out\n  * Control output format\n* Create custom slash commands\n  * Create project-specific commands\n  * Add command arguments with \\$ARGUMENTS\n  * Create personal slash commands\n* Ask Claude about its capabilities\n  * Example questions\n* Next steps\n\n### [changelog](https://code.claude.com/docs/en/changelog.md)\n\n* (No headings found)\n\n## Outside of the terminal\n\n### [claude-code-on-the-web](https://code.claude.com/docs/en/claude-code-on-the-web.md)\n\n* What is Claude Code on the web?\n* Who can use Claude Code on the web?\n* Getting started\n* How it works\n* Moving tasks between web and terminal\n  * From terminal to web\n    * Tips for background tasks\n  * From web to terminal\n    * Requirements for teleporting\n* Cloud environment\n  * Default image\n    * Checking available tools\n    * Language-specific setups\n    * Databases\n  * Environment configuration\n  * Dependency management\n    * Local vs remote execution\n    * Persisting environment variables\n* Network access and security\n  * Network policy\n    * GitHub proxy\n    * Security proxy\n  * Access levels\n  * Default allowed domains\n    * Anthropic Services\n    * Version Control\n    * Container Registries\n    * Cloud Platforms\n    * Package Managers - JavaScript/Node\n    * Package Managers - Python\n    * Package Managers - Ruby\n    * Package Managers - Rust\n    * Package Managers - Go\n    * Package Managers - JVM\n    * Package Managers - Other Languages\n    * Linux Distributions\n    * Development Tools & Platforms\n    * Cloud Services & Monitoring\n    * Content Delivery & Mirrors\n    * Schema & Configuration\n  * Security best practices for customized network access\n* Security and isolation\n* Pricing and rate limits\n* Limitations\n* Best practices\n* Related resources\n\n### [desktop](https://code.claude.com/docs/en/desktop.md)\n\n* Claude Code on desktop (Preview)\n* Features\n* Installation\n* Using Git worktrees\n  * Copying files ignored with `.gitignore`\n  * Launch Claude Code on the web\n* Bundled Claude Code version\n* Environment configuration\n  * Custom environment variables\n* Enterprise configuration\n* Related resources\n\n### [chrome](https://code.claude.com/docs/en/chrome.md)\n\n* What the integration enables\n* Prerequisites\n* How the integration works\n* Set up the integration\n* Try it out\n* Example workflows\n  * Test a local web application\n  * Debug with console logs\n  * Automate form filling\n  * Draft content in Google Docs\n  * Extract data from web pages\n  * Run multi-site workflows\n  * Record a demo GIF\n* Best practices\n* Troubleshooting\n  * Extension not detected\n  * Browser not responding\n  * First-time setup\n* Enable by default\n* See also\n\n### [vs-code](https://code.claude.com/docs/en/vs-code.md)\n\n* Prerequisites\n* Install the extension\n* Get started\n* Customize your workflow\n  * Change the layout\n  * Switch to terminal mode\n* VS Code commands and shortcuts\n* Configure settings\n* Use third-party providers\n* VS Code extension vs. Claude Code CLI\n  * Run CLI in VS Code\n  * Switch between extension and CLI\n* Security considerations\n* Fix common issues\n  * Extension won't install\n  * Spark icon not visible\n  * Claude Code never responds\n  * Standalone CLI not connecting to IDE\n* Uninstall the extension\n* Next steps\n\n### [jetbrains](https://code.claude.com/docs/en/jetbrains.md)\n\n* Supported IDEs\n* Features\n* Installation\n  * Marketplace Installation\n* Usage\n  * From Your IDE\n  * From External Terminals\n* Configuration\n  * Claude Code Settings\n  * Plugin Settings\n    * General Settings\n    * ESC Key Configuration\n* Special Configurations\n  * Remote Development\n  * WSL Configuration\n* Troubleshooting\n  * Plugin Not Working\n  * IDE Not Detected\n  * Command Not Found\n* Security Considerations\n\n### [github-actions](https://code.claude.com/docs/en/github-actions.md)\n\n* Why use Claude Code GitHub Actions?\n* What can Claude do?\n  * Claude Code Action\n* Setup\n* Quick setup\n* Manual setup\n* Upgrading from Beta\n  * Essential changes\n  * Breaking Changes Reference\n  * Before and After Example\n* Example use cases\n  * Basic workflow\n  * Using slash commands\n  * Custom automation with prompts\n  * Common use cases\n* Best practices\n  * CLAUDE.md configuration\n  * Security considerations\n  * Optimizing performance\n  * CI costs\n* Configuration examples\n* Using with AWS Bedrock & Google Vertex AI\n  * Prerequisites\n    * For Google Cloud Vertex AI:\n    * For AWS Bedrock:\n* Troubleshooting\n  * Claude not responding to @claude commands\n  * CI not running on Claude's commits\n  * Authentication errors\n* Advanced configuration\n  * Action parameters\n    * Pass CLI arguments\n  * Alternative integration methods\n  * Customizing Claude's behavior\n\n### [gitlab-ci-cd](https://code.claude.com/docs/en/gitlab-ci-cd.md)\n\n* Why use Claude Code with GitLab?\n* How it works\n* What can Claude do?\n* Setup\n  * Quick setup\n  * Manual setup (recommended for production)\n* Example use cases\n  * Turn issues into MRs\n  * Get implementation help\n  * Fix bugs quickly\n* Using with AWS Bedrock & Google Vertex AI\n* Configuration examples\n  * Basic .gitlab-ci.yml (Claude API)\n  * AWS Bedrock job example (OIDC)\n  * Google Vertex AI job example (Workload Identity Federation)\n* Best practices\n  * CLAUDE.md configuration\n  * Security considerations\n  * Optimizing performance\n  * CI costs\n* Security and governance\n* Troubleshooting\n  * Claude not responding to @claude commands\n  * Job can't write comments or open MRs\n  * Authentication errors\n* Advanced configuration\n  * Common parameters and variables\n  * Customizing Claude's behavior\n\n### [slack](https://code.claude.com/docs/en/slack.md)\n\n* Use cases\n* Prerequisites\n* Setting up Claude Code in Slack\n* How it works\n  * Automatic detection\n  * Context gathering\n  * Session flow\n* User interface elements\n  * App Home\n  * Message actions\n  * Repository selection\n* Access and permissions\n  * User-level access\n  * Workspace admin permissions\n* What's accessible where\n* Best practices\n  * Writing effective requests\n  * When to use Slack vs. web\n* Troubleshooting\n  * Sessions not starting\n  * Repository not showing\n  * Wrong repository selected\n  * Authentication errors\n  * Session expiration\n* Current limitations\n* Related resources\n\n## Build with Claude Code\n\n### [sub-agents](https://code.claude.com/docs/en/sub-agents.md)\n\n* Built-in subagents\n* Quickstart: create your first subagent\n* Configure subagents\n  * Use the /agents command\n  * Choose the subagent scope\n  * Write subagent files\n    * Supported frontmatter fields\n  * Choose a model\n  * Control subagent capabilities\n    * Available tools\n    * Permission modes\n    * Conditional rules with hooks\n    * Disable specific subagents\n  * Define hooks for subagents\n    * Hooks in subagent frontmatter\n    * Project-level hooks for subagent events\n* Work with subagents\n  * Understand automatic delegation\n  * Run subagents in foreground or background\n  * Common patterns\n    * Isolate high-volume operations\n    * Run parallel research\n    * Chain subagents\n  * Choose between subagents and main conversation\n  * Manage subagent context\n    * Resume subagents\n    * Auto-compaction\n* Example subagents\n  * Code reviewer\n  * Debugger\n  * Data scientist\n  * Database query validator\n* Next steps\n\n### [plugins](https://code.claude.com/docs/en/plugins.md)\n\n* When to use plugins vs standalone configuration\n* Quickstart\n  * Prerequisites\n  * Create your first plugin\n* Hello Command\n* Hello Command\n  * Plugin structure overview\n  * Develop more complex plugins\n    * Add Skills to your plugin\n    * Add LSP servers to your plugin\n    * Organize complex plugins\n    * Test your plugins locally\n    * Debug plugin issues\n    * Share your plugins\n  * Convert existing configurations to plugins\n    * Migration steps\n    * What changes when migrating\n  * Next steps\n    * For plugin users\n    * For plugin developers\n\n### [discover-plugins](https://code.claude.com/docs/en/discover-plugins.md)\n\n* How marketplaces work\n* Official Anthropic marketplace\n  * Code intelligence\n  * External integrations\n  * Development workflows\n  * Output styles\n* Try it: add the demo marketplace\n* Add marketplaces\n  * Add from GitHub\n  * Add from other Git hosts\n  * Add from local paths\n* Install plugins\n* Manage installed plugins\n* Manage marketplaces\n  * Use the interactive interface\n  * Use CLI commands\n  * Configure auto-updates\n* Configure team marketplaces\n* Troubleshooting\n  * /plugin command not recognized\n  * Common issues\n* Next steps\n\n### [skills](https://code.claude.com/docs/en/skills.md)\n\n* Create your first Skill\n* How Skills work\n  * Where Skills live\n  * When to use Skills versus other options\n* Configure Skills\n  * Write SKILL.md\n    * Available metadata fields\n  * Update or delete a Skill\n  * Add supporting files with progressive disclosure\n    * Example: multi-file Skill structure\n  * Restrict tool access with allowed-tools\n  * Run Skills in a forked context\n  * Define hooks for Skills\n  * Control Skill visibility\n    * When to use each setting\n    * Example: model-only Skill\n  * Skills and subagents\n    * Give a subagent access to Skills\n    * Run a Skill in a subagent context\n  * Distribute Skills\n* Examples\n  * Simple Skill (single file)\n  * Use multiple files\n* Troubleshooting\n  * View and test Skills\n  * Skill not triggering\n  * Skill doesn't load\n  * Skill has errors\n  * Multiple Skills conflict\n  * Plugin Skills not appearing\n* Next steps\n\n### [output-styles](https://code.claude.com/docs/en/output-styles.md)\n\n* Built-in output styles\n* How output styles work\n* Change your output style\n* Create a custom output style\n  * Frontmatter\n* Comparisons to related features\n  * Output Styles vs. CLAUDE.md vs. --append-system-prompt\n  * Output Styles vs. [Agents](/en/sub-agents)\n  * Output Styles vs. [Custom Slash Commands](/en/slash-commands)\n\n### [hooks-guide](https://code.claude.com/docs/en/hooks-guide.md)\n\n* Hook Events Overview\n* Quickstart\n  * Prerequisites\n  * Step 1: Open hooks configuration\n  * Step 2: Add a matcher\n  * Step 3: Add the hook\n  * Step 4: Save your configuration\n  * Step 5: Verify your hook\n  * Step 6: Test your hook\n* More Examples\n  * Code Formatting Hook\n  * Markdown Formatting Hook\n  * Custom Notification Hook\n  * File Protection Hook\n* Learn more\n\n### [headless](https://code.claude.com/docs/en/headless.md)\n\n* Basic usage\n* Examples\n  * Get structured output\n  * Auto-approve tools\n  * Create a commit\n  * Customize the system prompt\n  * Continue conversations\n* Next steps\n\n### [mcp](https://code.claude.com/docs/en/mcp.md)\n\n* What you can do with MCP\n* Popular MCP servers\n* Installing MCP servers\n  * Option 1: Add a remote HTTP server\n  * Option 2: Add a remote SSE server\n  * Option 3: Add a local stdio server\n  * Managing your servers\n  * Dynamic tool updates\n  * Plugin-provided MCP servers\n* MCP installation scopes\n  * Local scope\n  * Project scope\n  * User scope\n  * Choosing the right scope\n  * Scope hierarchy and precedence\n  * Environment variable expansion in `.mcp.json`\n* Practical examples\n  * Example: Monitor errors with Sentry\n  * Example: Connect to GitHub for code reviews\n  * Example: Query your PostgreSQL database\n* Authenticate with remote MCP servers\n* Add MCP servers from JSON configuration\n* Import MCP servers from Claude Desktop\n* Use Claude Code as an MCP server\n* MCP output limits and warnings\n* Use MCP resources\n  * Reference MCP resources\n* Use MCP prompts as slash commands\n  * Execute MCP prompts\n* Managed MCP configuration\n  * Option 1: Exclusive control with managed-mcp.json\n  * Option 2: Policy-based control with allowlists and denylists\n    * Restriction options\n    * Example configuration\n    * How command-based restrictions work\n    * How URL-based restrictions work\n    * Allowlist behavior (`allowedMcpServers`)\n    * Denylist behavior (`deniedMcpServers`)\n    * Important notes\n\n### [troubleshooting](https://code.claude.com/docs/en/troubleshooting.md)\n\n* Common installation issues\n  * Windows installation issues: errors in WSL\n  * Linux and Mac installation issues: permission or command not found errors\n    * Recommended solution: Native Claude Code installation\n  * Windows: \"Claude Code on Windows requires git-bash\"\n  * Windows: \"installMethod is native, but claude command not found\"\n* Permissions and authentication\n  * Repeated permission prompts\n  * Authentication issues\n* Configuration file locations\n  * Resetting configuration\n* Performance and stability\n  * High CPU or memory usage\n  * Command hangs or freezes\n  * Search and discovery issues\n  * Slow or incomplete search results on WSL\n* IDE integration issues\n  * JetBrains IDE not detected on WSL2\n    * WSL2 networking modes\n  * Reporting Windows IDE integration issues (both native and WSL)\n  * Escape key not working in JetBrains (IntelliJ, PyCharm, etc.) terminals\n* Markdown formatting issues\n  * Missing language tags in code blocks\n  * Inconsistent spacing and formatting\n  * Best practices for markdown generation\n* Getting more help\n\n## Deployment\n\n### [third-party-integrations](https://code.claude.com/docs/en/third-party-integrations.md)\n\n* Compare deployment options\n* Configure proxies and gateways\n  * Amazon Bedrock\n  * Microsoft Foundry\n  * Google Vertex AI\n* Best practices for organizations\n  * Invest in documentation and memory\n  * Simplify deployment\n  * Start with guided usage\n  * Configure security policies\n  * Leverage MCP for integrations\n* Next steps\n\n### [amazon-bedrock](https://code.claude.com/docs/en/amazon-bedrock.md)\n\n* Prerequisites\n* Setup\n  * 1. Submit use case details\n  * 2. Configure AWS credentials\n    * Advanced credential configuration\n      * Example configuration\n      * Configuration settings explained\n  * 3. Configure Claude Code\n  * 4. Model configuration\n  * 5. Output token configuration\n* IAM configuration\n* Troubleshooting\n* Additional resources\n\n### [google-vertex-ai](https://code.claude.com/docs/en/google-vertex-ai.md)\n\n* Prerequisites\n* Region Configuration\n* Setup\n  * 1. Enable Vertex AI API\n  * 2. Request model access\n  * 3. Configure GCP credentials\n  * 4. Configure Claude Code\n  * 5. Model configuration\n* IAM configuration\n* 1M token context window\n* Troubleshooting\n* Additional resources\n\n### [microsoft-foundry](https://code.claude.com/docs/en/microsoft-foundry.md)\n\n* Prerequisites\n* Setup\n  * 1. Provision Microsoft Foundry resource\n  * 2. Configure Azure credentials\n  * 3. Configure Claude Code\n* Azure RBAC configuration\n* Troubleshooting\n* Additional resources\n\n### [network-config](https://code.claude.com/docs/en/network-config.md)\n\n* Proxy configuration\n  * Environment variables\n  * Basic authentication\n* Custom CA certificates\n* mTLS authentication\n* Network access requirements\n* Additional resources\n\n### [llm-gateway](https://code.claude.com/docs/en/llm-gateway.md)\n\n* Gateway requirements\n* Configuration\n  * Model selection\n* LiteLLM configuration\n  * Prerequisites\n  * Basic LiteLLM setup\n    * Authentication methods\n      * Static API key\n      * Dynamic API key with helper\n    * Unified endpoint (recommended)\n    * Provider-specific pass-through endpoints (alternative)\n      * Claude API through LiteLLM\n      * Amazon Bedrock through LiteLLM\n      * Google Vertex AI through LiteLLM\n* Additional resources\n\n### [devcontainer](https://code.claude.com/docs/en/devcontainer.md)\n\n* Key features\n* Getting started in 4 steps\n* Configuration breakdown\n* Security features\n* Customization options\n* Example use cases\n  * Secure client work\n  * Team onboarding\n  * Consistent CI/CD environments\n* Related resources\n\n### [sandboxing](https://code.claude.com/docs/en/sandboxing.md)\n\n* Overview\n* Why sandboxing matters\n* How it works\n  * Filesystem isolation\n  * Network isolation\n  * OS-level enforcement\n* Getting started\n  * Enable sandboxing\n  * Sandbox modes\n  * Configure sandboxing\n* Security benefits\n  * Protection against prompt injection\n  * Reduced attack surface\n  * Transparent operation\n* Security Limitations\n* Advanced usage\n  * Custom proxy configuration\n  * Integration with existing security tools\n* Best practices\n* Open source\n* Limitations\n* See also\n\n## Administration\n\n### [setup](https://code.claude.com/docs/en/setup.md)\n\n* System requirements\n  * Additional dependencies\n* Standard installation\n* Windows setup\n* Alternative installation methods\n  * Native installation options\n  * NPM installation\n* Authentication options\n  * For individuals\n  * For teams and organizations\n* Running on AWS or GCP\n* Update Claude Code\n  * Auto updates\n  * Update manually\n* Uninstall Claude Code\n  * Native installation\n  * Homebrew installation\n  * NPM installation\n  * Clean up configuration files (optional)\n\n### [iam](https://code.claude.com/docs/en/iam.md)\n\n* Authentication methods\n  * Claude for Teams or Enterprise (recommended)\n  * Claude Console authentication\n  * Cloud provider authentication\n* Access control and permissions\n  * Permission system\n  * Configuring permissions\n    * Permission modes\n    * Working directories\n    * Tool-specific permission rules\n  * Additional permission control with hooks\n  * Managed settings\n  * Settings precedence\n* Credential management\n\n### [security](https://code.claude.com/docs/en/security.md)\n\n* How we approach security\n  * Security foundation\n  * Permission-based architecture\n  * Built-in protections\n  * User responsibility\n* Protect against prompt injection\n  * Core protections\n  * Privacy safeguards\n  * Additional safeguards\n* MCP security\n* IDE security\n* Cloud execution security\n* Security best practices\n  * Working with sensitive code\n  * Team security\n  * Reporting security issues\n* Related resources\n\n### [data-usage](https://code.claude.com/docs/en/data-usage.md)\n\n* Data policies\n  * Data training policy\n  * Development Partner Program\n  * Feedback using the `/bug` command\n  * Session quality surveys\n  * Data retention\n* Data access\n* Local Claude Code: Data flow and dependencies\n  * Cloud execution: Data flow and dependencies\n* Telemetry services\n* Default behaviors by API provider\n\n### [monitoring-usage](https://code.claude.com/docs/en/monitoring-usage.md)\n\n* Quick start\n* Administrator configuration\n* Configuration details\n  * Common configuration variables\n  * Metrics cardinality control\n  * Dynamic headers\n    * Settings configuration\n    * Script requirements\n    * Refresh behavior\n  * Multi-team organization support\n  * Example configurations\n* Available metrics and events\n  * Standard attributes\n  * Metrics\n  * Metric details\n    * Session counter\n    * Lines of code counter\n    * Pull request counter\n    * Commit counter\n    * Cost counter\n    * Token counter\n    * Code edit tool decision counter\n    * Active time counter\n  * Events\n    * User prompt event\n    * Tool result event\n    * API request event\n    * API error event\n    * Tool decision event\n* Interpreting metrics and events data\n  * Usage monitoring\n  * Cost monitoring\n  * Alerting and segmentation\n  * Event analysis\n* Backend considerations\n  * For metrics\n  * For events/logs\n* Service information\n* ROI measurement resources\n* Security/privacy considerations\n* Monitoring Claude Code on Amazon Bedrock\n\n### [costs](https://code.claude.com/docs/en/costs.md)\n\n* Track your costs\n  * Using the `/cost` command\n  * Additional tracking options\n* Managing costs for teams\n  * Rate limit recommendations\n* Reduce token usage\n* Background token usage\n* Tracking version changes and updates\n  * Current version information\n  * Understanding changes in Claude Code behavior\n  * When cost reporting changes\n\n### [analytics](https://code.claude.com/docs/en/analytics.md)\n\n* Access analytics\n  * Required roles\n* Available metrics\n  * Lines of code accepted\n  * Suggestion accept rate\n  * Activity\n  * Spend\n  * Team insights\n* Using analytics effectively\n  * Monitor adoption\n  * Measure productivity\n* Related resources\n\n### [plugin-marketplaces](https://code.claude.com/docs/en/plugin-marketplaces.md)\n\n* Overview\n* Walkthrough: create a local marketplace\n* Create the marketplace file\n* Marketplace schema\n  * Required fields\n  * Owner fields\n  * Optional metadata\n* Plugin entries\n  * Required fields\n  * Optional plugin fields\n* Plugin sources\n  * Relative paths\n  * GitHub repositories\n  * Git repositories\n  * Advanced plugin entries\n* Host and distribute marketplaces\n  * Host on GitHub (recommended)\n  * Host on other git services\n  * Test locally before distribution\n  * Require marketplaces for your team\n  * Managed marketplace restrictions\n    * Common configurations\n    * How restrictions work\n* Validation and testing\n* Troubleshooting\n  * Marketplace not loading\n  * Marketplace validation errors\n  * Plugin installation failures\n  * Files not found after installation\n* See also\n\n## Configuration\n\n### [settings](https://code.claude.com/docs/en/settings.md)\n\n* Configuration scopes\n  * Available scopes\n  * When to use each scope\n  * How scopes interact\n  * What uses scopes\n* Settings files\n  * Available settings\n  * Permission settings\n  * Sandbox settings\n  * Attribution settings\n  * File suggestion settings\n  * Hook configuration\n  * Settings precedence\n  * Key points about the configuration system\n  * System prompt\n  * Excluding sensitive files\n* Subagent configuration\n* Plugin configuration\n  * Plugin settings\n    * `enabledPlugins`\n    * `extraKnownMarketplaces`\n    * `strictKnownMarketplaces`\n  * Managing plugins\n* Environment variables\n* Tools available to Claude\n  * Bash tool behavior\n  * Extending tools with hooks\n* See also\n\n### [terminal-config](https://code.claude.com/docs/en/terminal-config.md)\n\n* Themes and appearance\n* Line breaks\n* Notification setup\n  * iTerm 2 system notifications\n  * Custom notification hooks\n* Handling large inputs\n* Vim Mode\n\n### [model-config](https://code.claude.com/docs/en/model-config.md)\n\n* Available models\n  * Model aliases\n  * Setting your model\n* Special model behavior\n  * `default` model setting\n  * `opusplan` model setting\n  * Extended context with \\[1m]\n* Checking your current model\n* Environment variables\n  * Prompt caching configuration\n\n### [memory](https://code.claude.com/docs/en/memory.md)\n\n* Determine memory type\n* CLAUDE.md imports\n* How Claude looks up memories\n* Directly edit memories with `/memory`\n* Set up project memory\n* Modular rules with `.claude/rules/`\n  * Basic structure\n  * Path-specific rules\n  * Glob patterns\n  * Subdirectories\n  * Symlinks\n  * User-level rules\n* Organization-level memory management\n* Memory best practices\n\n### [statusline](https://code.claude.com/docs/en/statusline.md)\n\n* Create a custom status line\n* How it Works\n* JSON Input Structure\n* Example Scripts\n  * Simple Status Line\n  * Git-Aware Status Line\n  * Python Example\n  * Node.js Example\n  * Helper Function Approach\n  * Context Window Usage\n* Tips\n* Troubleshooting\n\n## Reference\n\n### [cli-reference](https://code.claude.com/docs/en/cli-reference.md)\n\n* CLI commands\n* CLI flags\n  * Agents flag format\n  * System prompt flags\n* See also\n\n### [interactive-mode](https://code.claude.com/docs/en/interactive-mode.md)\n\n* Keyboard shortcuts\n  * General controls\n  * Text editing\n  * Theme and display\n  * Multiline input\n  * Quick commands\n* Vim editor mode\n  * Mode switching\n  * Navigation (NORMAL mode)\n  * Editing (NORMAL mode)\n  * Text objects (NORMAL mode)\n* Command history\n  * Reverse search with Ctrl+R\n* Background bash commands\n  * How backgrounding works\n  * Bash mode with `!` prefix\n* See also\n\n### [slash-commands](https://code.claude.com/docs/en/slash-commands.md)\n\n* Built-in slash commands\n* Custom slash commands\n  * Syntax\n    * Parameters\n  * Command types\n    * Project commands\n    * Personal commands\n  * Features\n    * Namespacing\n    * Arguments\n      * All arguments with `$ARGUMENTS`\n      * Individual arguments with `$1`, `$2`, etc.\n    * Bash command execution\n    * File references\n    * Thinking mode\n  * Frontmatter\n    * Define hooks for commands\n* Plugin commands\n  * How plugin commands work\n  * Plugin command structure\n  * Invocation patterns\n* MCP slash commands\n  * Command format\n  * Features\n    * Dynamic discovery\n    * Arguments\n    * Naming conventions\n  * Managing MCP connections\n  * MCP permissions and wildcards\n* `Skill` tool\n  * What the `Skill` tool can invoke\n  * Encourage Claude to use specific commands\n  * Disable the `Skill` tool\n  * Disable specific commands or Skills\n  * `Skill` permission rules\n  * Character budget limit\n* Skills vs slash commands\n  * Use slash commands for\n  * Use Skills for\n  * Key differences\n  * Example comparison\n  * When to use each\n* See also\n\n### [checkpointing](https://code.claude.com/docs/en/checkpointing.md)\n\n* How checkpoints work\n  * Automatic tracking\n  * Rewinding changes\n* Common use cases\n* Limitations\n  * Bash command changes not tracked\n  * External changes not tracked\n  * Not a replacement for version control\n* See also\n\n### [hooks](https://code.claude.com/docs/en/hooks.md)\n\n* Configuration\n  * Structure\n  * Project-Specific Hook Scripts\n  * Plugin hooks\n  * Hooks in Skills, Agents, and Slash Commands\n* Prompt-Based Hooks\n  * How prompt-based hooks work\n  * Configuration\n  * Response schema\n  * Supported hook events\n  * Example: Intelligent Stop hook\n  * Example: SubagentStop with custom logic\n  * Comparison with bash command hooks\n  * Best practices\n* Hook Events\n  * PreToolUse\n  * PermissionRequest\n  * PostToolUse\n  * Notification\n  * UserPromptSubmit\n  * Stop\n  * SubagentStop\n  * PreCompact\n  * SessionStart\n    * Persisting environment variables\n  * SessionEnd\n* Hook Input\n  * PreToolUse Input\n    * Bash tool\n    * Write tool\n    * Edit tool\n    * Read tool\n  * PostToolUse Input\n  * Notification Input\n  * UserPromptSubmit Input\n  * Stop and SubagentStop Input\n  * PreCompact Input\n  * SessionStart Input\n  * SessionEnd Input\n* Hook Output\n  * Simple: Exit Code\n    * Exit Code 2 Behavior\n  * Advanced: JSON Output\n    * Common JSON Fields\n    * `PreToolUse` Decision Control\n    * `PermissionRequest` Decision Control\n    * `PostToolUse` Decision Control\n    * `UserPromptSubmit` Decision Control\n    * `Stop`/`SubagentStop` Decision Control\n    * `SessionStart` Decision Control\n    * `SessionEnd` Decision Control\n    * Exit Code Example: Bash Command Validation\n    * JSON Output Example: UserPromptSubmit to Add Context and Validation\n    * JSON Output Example: PreToolUse with Approval\n* Working with MCP Tools\n  * MCP Tool Naming\n  * Configuring Hooks for MCP Tools\n* Examples\n* Security Considerations\n  * Disclaimer\n  * Security Best Practices\n  * Configuration Safety\n* Hook Execution Details\n* Debugging\n  * Basic Troubleshooting\n  * Advanced Debugging\n  * Debug Output Example\n\n### [plugins-reference](https://code.claude.com/docs/en/plugins-reference.md)\n\n* Plugin components reference\n  * Commands\n  * Agents\n  * Skills\n  * Hooks\n  * MCP servers\n  * LSP servers\n* Plugin installation scopes\n* Plugin manifest schema\n  * Complete schema\n  * Required fields\n  * Metadata fields\n  * Component path fields\n  * Path behavior rules\n  * Environment variables\n* Plugin caching and file resolution\n  * How plugin caching works\n  * Path traversal limitations\n  * Working with external dependencies\n* Plugin directory structure\n  * Standard plugin layout\n  * File locations reference\n* CLI commands reference\n  * plugin install\n  * plugin uninstall\n  * plugin enable\n  * plugin disable\n  * plugin update\n* Debugging and development tools\n  * Debugging commands\n  * Common issues\n  * Example error messages\n  * Hook troubleshooting\n  * MCP server troubleshooting\n  * Directory structure mistakes\n* Distribution and versioning reference\n  * Version management\n* See also\n\n## Resources\n\n### [legal-and-compliance](https://code.claude.com/docs/en/legal-and-compliance.md)\n\n* Legal agreements\n  * License\n  * Commercial agreements\n* Compliance\n  * Healthcare compliance (BAA)\n* Security and trust\n  * Trust and safety\n  * Security vulnerability reporting\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt"}]},"uuid":"2271b4fc-9223-459f-b9b7-85651af30a4f","timestamp":"2026-01-12T16:00:05.175Z","toolUseResult":{"bytes":30066,"code":200,"codeText":"OK","result":"# null\n\n# Claude Code Documentation Map\n\nThis is a comprehensive map of all Claude Code documentation pages with their headings, designed for easy navigation by LLMs.\n\n> **Note:** This file is auto-generated by GitHub Actions. Do not edit manually.\n> Last updated: 2026-01-10 23:15:24 UTC\n\n## Document Structure\n\nThis map uses a hierarchical structure:\n\n* **##** marks documentation groups (e.g., 'Getting started')\n* **###** marks individual documentation pages\n* **Nested bullets** show the heading structure within each page\n* Each page title links to the full documentation\n\n## Getting started\n\n### [overview](https://code.claude.com/docs/en/overview.md)\n\n* Get started in 30 seconds\n* What Claude Code does for you\n* Why developers love Claude Code\n* Next steps\n* Additional resources\n\n### [quickstart](https://code.claude.com/docs/en/quickstart.md)\n\n* Before you begin\n* Step 1: Install Claude Code\n* Step 2: Log in to your account\n* Step 3: Start your first session\n* Step 4: Ask your first question\n* Step 5: Make your first code change\n* Step 6: Use Git with Claude Code\n* Step 7: Fix a bug or add a feature\n* Step 8: Test out other common workflows\n* Essential commands\n* Pro tips for beginners\n* What's next?\n* Getting help\n\n### [common-workflows](https://code.claude.com/docs/en/common-workflows.md)\n\n* Understand new codebases\n  * Get a quick codebase overview\n  * Find relevant code\n* Fix bugs efficiently\n* Refactor code\n* Use specialized subagents\n* Use Plan Mode for safe code analysis\n  * When to use Plan Mode\n  * How to use Plan Mode\n  * Example: Planning a complex refactor\n  * Configure Plan Mode as default\n* Work with tests\n* Create pull requests\n* Handle documentation\n* Work with images\n* Reference files and directories\n* Use extended thinking (thinking mode)\n  * Per-request thinking with `ultrathink`\n  * How extended thinking token budgets work\n* Resume previous conversations\n  * Name your sessions\n  * Use the session picker\n* Run parallel Claude Code sessions with Git worktrees\n* Use Claude as a unix-style utility\n  * Add Claude to your verification process\n  * Pipe in, pipe out\n  * Control output format\n* Create custom slash commands\n  * Create project-specific commands\n  * Add command arguments with \\$ARGUMENTS\n  * Create personal slash commands\n* Ask Claude about its capabilities\n  * Example questions\n* Next steps\n\n### [changelog](https://code.claude.com/docs/en/changelog.md)\n\n* (No headings found)\n\n## Outside of the terminal\n\n### [claude-code-on-the-web](https://code.claude.com/docs/en/claude-code-on-the-web.md)\n\n* What is Claude Code on the web?\n* Who can use Claude Code on the web?\n* Getting started\n* How it works\n* Moving tasks between web and terminal\n  * From terminal to web\n    * Tips for background tasks\n  * From web to terminal\n    * Requirements for teleporting\n* Cloud environment\n  * Default image\n    * Checking available tools\n    * Language-specific setups\n    * Databases\n  * Environment configuration\n  * Dependency management\n    * Local vs remote execution\n    * Persisting environment variables\n* Network access and security\n  * Network policy\n    * GitHub proxy\n    * Security proxy\n  * Access levels\n  * Default allowed domains\n    * Anthropic Services\n    * Version Control\n    * Container Registries\n    * Cloud Platforms\n    * Package Managers - JavaScript/Node\n    * Package Managers - Python\n    * Package Managers - Ruby\n    * Package Managers - Rust\n    * Package Managers - Go\n    * Package Managers - JVM\n    * Package Managers - Other Languages\n    * Linux Distributions\n    * Development Tools & Platforms\n    * Cloud Services & Monitoring\n    * Content Delivery & Mirrors\n    * Schema & Configuration\n  * Security best practices for customized network access\n* Security and isolation\n* Pricing and rate limits\n* Limitations\n* Best practices\n* Related resources\n\n### [desktop](https://code.claude.com/docs/en/desktop.md)\n\n* Claude Code on desktop (Preview)\n* Features\n* Installation\n* Using Git worktrees\n  * Copying files ignored with `.gitignore`\n  * Launch Claude Code on the web\n* Bundled Claude Code version\n* Environment configuration\n  * Custom environment variables\n* Enterprise configuration\n* Related resources\n\n### [chrome](https://code.claude.com/docs/en/chrome.md)\n\n* What the integration enables\n* Prerequisites\n* How the integration works\n* Set up the integration\n* Try it out\n* Example workflows\n  * Test a local web application\n  * Debug with console logs\n  * Automate form filling\n  * Draft content in Google Docs\n  * Extract data from web pages\n  * Run multi-site workflows\n  * Record a demo GIF\n* Best practices\n* Troubleshooting\n  * Extension not detected\n  * Browser not responding\n  * First-time setup\n* Enable by default\n* See also\n\n### [vs-code](https://code.claude.com/docs/en/vs-code.md)\n\n* Prerequisites\n* Install the extension\n* Get started\n* Customize your workflow\n  * Change the layout\n  * Switch to terminal mode\n* VS Code commands and shortcuts\n* Configure settings\n* Use third-party providers\n* VS Code extension vs. Claude Code CLI\n  * Run CLI in VS Code\n  * Switch between extension and CLI\n* Security considerations\n* Fix common issues\n  * Extension won't install\n  * Spark icon not visible\n  * Claude Code never responds\n  * Standalone CLI not connecting to IDE\n* Uninstall the extension\n* Next steps\n\n### [jetbrains](https://code.claude.com/docs/en/jetbrains.md)\n\n* Supported IDEs\n* Features\n* Installation\n  * Marketplace Installation\n* Usage\n  * From Your IDE\n  * From External Terminals\n* Configuration\n  * Claude Code Settings\n  * Plugin Settings\n    * General Settings\n    * ESC Key Configuration\n* Special Configurations\n  * Remote Development\n  * WSL Configuration\n* Troubleshooting\n  * Plugin Not Working\n  * IDE Not Detected\n  * Command Not Found\n* Security Considerations\n\n### [github-actions](https://code.claude.com/docs/en/github-actions.md)\n\n* Why use Claude Code GitHub Actions?\n* What can Claude do?\n  * Claude Code Action\n* Setup\n* Quick setup\n* Manual setup\n* Upgrading from Beta\n  * Essential changes\n  * Breaking Changes Reference\n  * Before and After Example\n* Example use cases\n  * Basic workflow\n  * Using slash commands\n  * Custom automation with prompts\n  * Common use cases\n* Best practices\n  * CLAUDE.md configuration\n  * Security considerations\n  * Optimizing performance\n  * CI costs\n* Configuration examples\n* Using with AWS Bedrock & Google Vertex AI\n  * Prerequisites\n    * For Google Cloud Vertex AI:\n    * For AWS Bedrock:\n* Troubleshooting\n  * Claude not responding to @claude commands\n  * CI not running on Claude's commits\n  * Authentication errors\n* Advanced configuration\n  * Action parameters\n    * Pass CLI arguments\n  * Alternative integration methods\n  * Customizing Claude's behavior\n\n### [gitlab-ci-cd](https://code.claude.com/docs/en/gitlab-ci-cd.md)\n\n* Why use Claude Code with GitLab?\n* How it works\n* What can Claude do?\n* Setup\n  * Quick setup\n  * Manual setup (recommended for production)\n* Example use cases\n  * Turn issues into MRs\n  * Get implementation help\n  * Fix bugs quickly\n* Using with AWS Bedrock & Google Vertex AI\n* Configuration examples\n  * Basic .gitlab-ci.yml (Claude API)\n  * AWS Bedrock job example (OIDC)\n  * Google Vertex AI job example (Workload Identity Federation)\n* Best practices\n  * CLAUDE.md configuration\n  * Security considerations\n  * Optimizing performance\n  * CI costs\n* Security and governance\n* Troubleshooting\n  * Claude not responding to @claude commands\n  * Job can't write comments or open MRs\n  * Authentication errors\n* Advanced configuration\n  * Common parameters and variables\n  * Customizing Claude's behavior\n\n### [slack](https://code.claude.com/docs/en/slack.md)\n\n* Use cases\n* Prerequisites\n* Setting up Claude Code in Slack\n* How it works\n  * Automatic detection\n  * Context gathering\n  * Session flow\n* User interface elements\n  * App Home\n  * Message actions\n  * Repository selection\n* Access and permissions\n  * User-level access\n  * Workspace admin permissions\n* What's accessible where\n* Best practices\n  * Writing effective requests\n  * When to use Slack vs. web\n* Troubleshooting\n  * Sessions not starting\n  * Repository not showing\n  * Wrong repository selected\n  * Authentication errors\n  * Session expiration\n* Current limitations\n* Related resources\n\n## Build with Claude Code\n\n### [sub-agents](https://code.claude.com/docs/en/sub-agents.md)\n\n* Built-in subagents\n* Quickstart: create your first subagent\n* Configure subagents\n  * Use the /agents command\n  * Choose the subagent scope\n  * Write subagent files\n    * Supported frontmatter fields\n  * Choose a model\n  * Control subagent capabilities\n    * Available tools\n    * Permission modes\n    * Conditional rules with hooks\n    * Disable specific subagents\n  * Define hooks for subagents\n    * Hooks in subagent frontmatter\n    * Project-level hooks for subagent events\n* Work with subagents\n  * Understand automatic delegation\n  * Run subagents in foreground or background\n  * Common patterns\n    * Isolate high-volume operations\n    * Run parallel research\n    * Chain subagents\n  * Choose between subagents and main conversation\n  * Manage subagent context\n    * Resume subagents\n    * Auto-compaction\n* Example subagents\n  * Code reviewer\n  * Debugger\n  * Data scientist\n  * Database query validator\n* Next steps\n\n### [plugins](https://code.claude.com/docs/en/plugins.md)\n\n* When to use plugins vs standalone configuration\n* Quickstart\n  * Prerequisites\n  * Create your first plugin\n* Hello Command\n* Hello Command\n  * Plugin structure overview\n  * Develop more complex plugins\n    * Add Skills to your plugin\n    * Add LSP servers to your plugin\n    * Organize complex plugins\n    * Test your plugins locally\n    * Debug plugin issues\n    * Share your plugins\n  * Convert existing configurations to plugins\n    * Migration steps\n    * What changes when migrating\n  * Next steps\n    * For plugin users\n    * For plugin developers\n\n### [discover-plugins](https://code.claude.com/docs/en/discover-plugins.md)\n\n* How marketplaces work\n* Official Anthropic marketplace\n  * Code intelligence\n  * External integrations\n  * Development workflows\n  * Output styles\n* Try it: add the demo marketplace\n* Add marketplaces\n  * Add from GitHub\n  * Add from other Git hosts\n  * Add from local paths\n* Install plugins\n* Manage installed plugins\n* Manage marketplaces\n  * Use the interactive interface\n  * Use CLI commands\n  * Configure auto-updates\n* Configure team marketplaces\n* Troubleshooting\n  * /plugin command not recognized\n  * Common issues\n* Next steps\n\n### [skills](https://code.claude.com/docs/en/skills.md)\n\n* Create your first Skill\n* How Skills work\n  * Where Skills live\n  * When to use Skills versus other options\n* Configure Skills\n  * Write SKILL.md\n    * Available metadata fields\n  * Update or delete a Skill\n  * Add supporting files with progressive disclosure\n    * Example: multi-file Skill structure\n  * Restrict tool access with allowed-tools\n  * Run Skills in a forked context\n  * Define hooks for Skills\n  * Control Skill visibility\n    * When to use each setting\n    * Example: model-only Skill\n  * Skills and subagents\n    * Give a subagent access to Skills\n    * Run a Skill in a subagent context\n  * Distribute Skills\n* Examples\n  * Simple Skill (single file)\n  * Use multiple files\n* Troubleshooting\n  * View and test Skills\n  * Skill not triggering\n  * Skill doesn't load\n  * Skill has errors\n  * Multiple Skills conflict\n  * Plugin Skills not appearing\n* Next steps\n\n### [output-styles](https://code.claude.com/docs/en/output-styles.md)\n\n* Built-in output styles\n* How output styles work\n* Change your output style\n* Create a custom output style\n  * Frontmatter\n* Comparisons to related features\n  * Output Styles vs. CLAUDE.md vs. --append-system-prompt\n  * Output Styles vs. [Agents](/en/sub-agents)\n  * Output Styles vs. [Custom Slash Commands](/en/slash-commands)\n\n### [hooks-guide](https://code.claude.com/docs/en/hooks-guide.md)\n\n* Hook Events Overview\n* Quickstart\n  * Prerequisites\n  * Step 1: Open hooks configuration\n  * Step 2: Add a matcher\n  * Step 3: Add the hook\n  * Step 4: Save your configuration\n  * Step 5: Verify your hook\n  * Step 6: Test your hook\n* More Examples\n  * Code Formatting Hook\n  * Markdown Formatting Hook\n  * Custom Notification Hook\n  * File Protection Hook\n* Learn more\n\n### [headless](https://code.claude.com/docs/en/headless.md)\n\n* Basic usage\n* Examples\n  * Get structured output\n  * Auto-approve tools\n  * Create a commit\n  * Customize the system prompt\n  * Continue conversations\n* Next steps\n\n### [mcp](https://code.claude.com/docs/en/mcp.md)\n\n* What you can do with MCP\n* Popular MCP servers\n* Installing MCP servers\n  * Option 1: Add a remote HTTP server\n  * Option 2: Add a remote SSE server\n  * Option 3: Add a local stdio server\n  * Managing your servers\n  * Dynamic tool updates\n  * Plugin-provided MCP servers\n* MCP installation scopes\n  * Local scope\n  * Project scope\n  * User scope\n  * Choosing the right scope\n  * Scope hierarchy and precedence\n  * Environment variable expansion in `.mcp.json`\n* Practical examples\n  * Example: Monitor errors with Sentry\n  * Example: Connect to GitHub for code reviews\n  * Example: Query your PostgreSQL database\n* Authenticate with remote MCP servers\n* Add MCP servers from JSON configuration\n* Import MCP servers from Claude Desktop\n* Use Claude Code as an MCP server\n* MCP output limits and warnings\n* Use MCP resources\n  * Reference MCP resources\n* Use MCP prompts as slash commands\n  * Execute MCP prompts\n* Managed MCP configuration\n  * Option 1: Exclusive control with managed-mcp.json\n  * Option 2: Policy-based control with allowlists and denylists\n    * Restriction options\n    * Example configuration\n    * How command-based restrictions work\n    * How URL-based restrictions work\n    * Allowlist behavior (`allowedMcpServers`)\n    * Denylist behavior (`deniedMcpServers`)\n    * Important notes\n\n### [troubleshooting](https://code.claude.com/docs/en/troubleshooting.md)\n\n* Common installation issues\n  * Windows installation issues: errors in WSL\n  * Linux and Mac installation issues: permission or command not found errors\n    * Recommended solution: Native Claude Code installation\n  * Windows: \"Claude Code on Windows requires git-bash\"\n  * Windows: \"installMethod is native, but claude command not found\"\n* Permissions and authentication\n  * Repeated permission prompts\n  * Authentication issues\n* Configuration file locations\n  * Resetting configuration\n* Performance and stability\n  * High CPU or memory usage\n  * Command hangs or freezes\n  * Search and discovery issues\n  * Slow or incomplete search results on WSL\n* IDE integration issues\n  * JetBrains IDE not detected on WSL2\n    * WSL2 networking modes\n  * Reporting Windows IDE integration issues (both native and WSL)\n  * Escape key not working in JetBrains (IntelliJ, PyCharm, etc.) terminals\n* Markdown formatting issues\n  * Missing language tags in code blocks\n  * Inconsistent spacing and formatting\n  * Best practices for markdown generation\n* Getting more help\n\n## Deployment\n\n### [third-party-integrations](https://code.claude.com/docs/en/third-party-integrations.md)\n\n* Compare deployment options\n* Configure proxies and gateways\n  * Amazon Bedrock\n  * Microsoft Foundry\n  * Google Vertex AI\n* Best practices for organizations\n  * Invest in documentation and memory\n  * Simplify deployment\n  * Start with guided usage\n  * Configure security policies\n  * Leverage MCP for integrations\n* Next steps\n\n### [amazon-bedrock](https://code.claude.com/docs/en/amazon-bedrock.md)\n\n* Prerequisites\n* Setup\n  * 1. Submit use case details\n  * 2. Configure AWS credentials\n    * Advanced credential configuration\n      * Example configuration\n      * Configuration settings explained\n  * 3. Configure Claude Code\n  * 4. Model configuration\n  * 5. Output token configuration\n* IAM configuration\n* Troubleshooting\n* Additional resources\n\n### [google-vertex-ai](https://code.claude.com/docs/en/google-vertex-ai.md)\n\n* Prerequisites\n* Region Configuration\n* Setup\n  * 1. Enable Vertex AI API\n  * 2. Request model access\n  * 3. Configure GCP credentials\n  * 4. Configure Claude Code\n  * 5. Model configuration\n* IAM configuration\n* 1M token context window\n* Troubleshooting\n* Additional resources\n\n### [microsoft-foundry](https://code.claude.com/docs/en/microsoft-foundry.md)\n\n* Prerequisites\n* Setup\n  * 1. Provision Microsoft Foundry resource\n  * 2. Configure Azure credentials\n  * 3. Configure Claude Code\n* Azure RBAC configuration\n* Troubleshooting\n* Additional resources\n\n### [network-config](https://code.claude.com/docs/en/network-config.md)\n\n* Proxy configuration\n  * Environment variables\n  * Basic authentication\n* Custom CA certificates\n* mTLS authentication\n* Network access requirements\n* Additional resources\n\n### [llm-gateway](https://code.claude.com/docs/en/llm-gateway.md)\n\n* Gateway requirements\n* Configuration\n  * Model selection\n* LiteLLM configuration\n  * Prerequisites\n  * Basic LiteLLM setup\n    * Authentication methods\n      * Static API key\n      * Dynamic API key with helper\n    * Unified endpoint (recommended)\n    * Provider-specific pass-through endpoints (alternative)\n      * Claude API through LiteLLM\n      * Amazon Bedrock through LiteLLM\n      * Google Vertex AI through LiteLLM\n* Additional resources\n\n### [devcontainer](https://code.claude.com/docs/en/devcontainer.md)\n\n* Key features\n* Getting started in 4 steps\n* Configuration breakdown\n* Security features\n* Customization options\n* Example use cases\n  * Secure client work\n  * Team onboarding\n  * Consistent CI/CD environments\n* Related resources\n\n### [sandboxing](https://code.claude.com/docs/en/sandboxing.md)\n\n* Overview\n* Why sandboxing matters\n* How it works\n  * Filesystem isolation\n  * Network isolation\n  * OS-level enforcement\n* Getting started\n  * Enable sandboxing\n  * Sandbox modes\n  * Configure sandboxing\n* Security benefits\n  * Protection against prompt injection\n  * Reduced attack surface\n  * Transparent operation\n* Security Limitations\n* Advanced usage\n  * Custom proxy configuration\n  * Integration with existing security tools\n* Best practices\n* Open source\n* Limitations\n* See also\n\n## Administration\n\n### [setup](https://code.claude.com/docs/en/setup.md)\n\n* System requirements\n  * Additional dependencies\n* Standard installation\n* Windows setup\n* Alternative installation methods\n  * Native installation options\n  * NPM installation\n* Authentication options\n  * For individuals\n  * For teams and organizations\n* Running on AWS or GCP\n* Update Claude Code\n  * Auto updates\n  * Update manually\n* Uninstall Claude Code\n  * Native installation\n  * Homebrew installation\n  * NPM installation\n  * Clean up configuration files (optional)\n\n### [iam](https://code.claude.com/docs/en/iam.md)\n\n* Authentication methods\n  * Claude for Teams or Enterprise (recommended)\n  * Claude Console authentication\n  * Cloud provider authentication\n* Access control and permissions\n  * Permission system\n  * Configuring permissions\n    * Permission modes\n    * Working directories\n    * Tool-specific permission rules\n  * Additional permission control with hooks\n  * Managed settings\n  * Settings precedence\n* Credential management\n\n### [security](https://code.claude.com/docs/en/security.md)\n\n* How we approach security\n  * Security foundation\n  * Permission-based architecture\n  * Built-in protections\n  * User responsibility\n* Protect against prompt injection\n  * Core protections\n  * Privacy safeguards\n  * Additional safeguards\n* MCP security\n* IDE security\n* Cloud execution security\n* Security best practices\n  * Working with sensitive code\n  * Team security\n  * Reporting security issues\n* Related resources\n\n### [data-usage](https://code.claude.com/docs/en/data-usage.md)\n\n* Data policies\n  * Data training policy\n  * Development Partner Program\n  * Feedback using the `/bug` command\n  * Session quality surveys\n  * Data retention\n* Data access\n* Local Claude Code: Data flow and dependencies\n  * Cloud execution: Data flow and dependencies\n* Telemetry services\n* Default behaviors by API provider\n\n### [monitoring-usage](https://code.claude.com/docs/en/monitoring-usage.md)\n\n* Quick start\n* Administrator configuration\n* Configuration details\n  * Common configuration variables\n  * Metrics cardinality control\n  * Dynamic headers\n    * Settings configuration\n    * Script requirements\n    * Refresh behavior\n  * Multi-team organization support\n  * Example configurations\n* Available metrics and events\n  * Standard attributes\n  * Metrics\n  * Metric details\n    * Session counter\n    * Lines of code counter\n    * Pull request counter\n    * Commit counter\n    * Cost counter\n    * Token counter\n    * Code edit tool decision counter\n    * Active time counter\n  * Events\n    * User prompt event\n    * Tool result event\n    * API request event\n    * API error event\n    * Tool decision event\n* Interpreting metrics and events data\n  * Usage monitoring\n  * Cost monitoring\n  * Alerting and segmentation\n  * Event analysis\n* Backend considerations\n  * For metrics\n  * For events/logs\n* Service information\n* ROI measurement resources\n* Security/privacy considerations\n* Monitoring Claude Code on Amazon Bedrock\n\n### [costs](https://code.claude.com/docs/en/costs.md)\n\n* Track your costs\n  * Using the `/cost` command\n  * Additional tracking options\n* Managing costs for teams\n  * Rate limit recommendations\n* Reduce token usage\n* Background token usage\n* Tracking version changes and updates\n  * Current version information\n  * Understanding changes in Claude Code behavior\n  * When cost reporting changes\n\n### [analytics](https://code.claude.com/docs/en/analytics.md)\n\n* Access analytics\n  * Required roles\n* Available metrics\n  * Lines of code accepted\n  * Suggestion accept rate\n  * Activity\n  * Spend\n  * Team insights\n* Using analytics effectively\n  * Monitor adoption\n  * Measure productivity\n* Related resources\n\n### [plugin-marketplaces](https://code.claude.com/docs/en/plugin-marketplaces.md)\n\n* Overview\n* Walkthrough: create a local marketplace\n* Create the marketplace file\n* Marketplace schema\n  * Required fields\n  * Owner fields\n  * Optional metadata\n* Plugin entries\n  * Required fields\n  * Optional plugin fields\n* Plugin sources\n  * Relative paths\n  * GitHub repositories\n  * Git repositories\n  * Advanced plugin entries\n* Host and distribute marketplaces\n  * Host on GitHub (recommended)\n  * Host on other git services\n  * Test locally before distribution\n  * Require marketplaces for your team\n  * Managed marketplace restrictions\n    * Common configurations\n    * How restrictions work\n* Validation and testing\n* Troubleshooting\n  * Marketplace not loading\n  * Marketplace validation errors\n  * Plugin installation failures\n  * Files not found after installation\n* See also\n\n## Configuration\n\n### [settings](https://code.claude.com/docs/en/settings.md)\n\n* Configuration scopes\n  * Available scopes\n  * When to use each scope\n  * How scopes interact\n  * What uses scopes\n* Settings files\n  * Available settings\n  * Permission settings\n  * Sandbox settings\n  * Attribution settings\n  * File suggestion settings\n  * Hook configuration\n  * Settings precedence\n  * Key points about the configuration system\n  * System prompt\n  * Excluding sensitive files\n* Subagent configuration\n* Plugin configuration\n  * Plugin settings\n    * `enabledPlugins`\n    * `extraKnownMarketplaces`\n    * `strictKnownMarketplaces`\n  * Managing plugins\n* Environment variables\n* Tools available to Claude\n  * Bash tool behavior\n  * Extending tools with hooks\n* See also\n\n### [terminal-config](https://code.claude.com/docs/en/terminal-config.md)\n\n* Themes and appearance\n* Line breaks\n* Notification setup\n  * iTerm 2 system notifications\n  * Custom notification hooks\n* Handling large inputs\n* Vim Mode\n\n### [model-config](https://code.claude.com/docs/en/model-config.md)\n\n* Available models\n  * Model aliases\n  * Setting your model\n* Special model behavior\n  * `default` model setting\n  * `opusplan` model setting\n  * Extended context with \\[1m]\n* Checking your current model\n* Environment variables\n  * Prompt caching configuration\n\n### [memory](https://code.claude.com/docs/en/memory.md)\n\n* Determine memory type\n* CLAUDE.md imports\n* How Claude looks up memories\n* Directly edit memories with `/memory`\n* Set up project memory\n* Modular rules with `.claude/rules/`\n  * Basic structure\n  * Path-specific rules\n  * Glob patterns\n  * Subdirectories\n  * Symlinks\n  * User-level rules\n* Organization-level memory management\n* Memory best practices\n\n### [statusline](https://code.claude.com/docs/en/statusline.md)\n\n* Create a custom status line\n* How it Works\n* JSON Input Structure\n* Example Scripts\n  * Simple Status Line\n  * Git-Aware Status Line\n  * Python Example\n  * Node.js Example\n  * Helper Function Approach\n  * Context Window Usage\n* Tips\n* Troubleshooting\n\n## Reference\n\n### [cli-reference](https://code.claude.com/docs/en/cli-reference.md)\n\n* CLI commands\n* CLI flags\n  * Agents flag format\n  * System prompt flags\n* See also\n\n### [interactive-mode](https://code.claude.com/docs/en/interactive-mode.md)\n\n* Keyboard shortcuts\n  * General controls\n  * Text editing\n  * Theme and display\n  * Multiline input\n  * Quick commands\n* Vim editor mode\n  * Mode switching\n  * Navigation (NORMAL mode)\n  * Editing (NORMAL mode)\n  * Text objects (NORMAL mode)\n* Command history\n  * Reverse search with Ctrl+R\n* Background bash commands\n  * How backgrounding works\n  * Bash mode with `!` prefix\n* See also\n\n### [slash-commands](https://code.claude.com/docs/en/slash-commands.md)\n\n* Built-in slash commands\n* Custom slash commands\n  * Syntax\n    * Parameters\n  * Command types\n    * Project commands\n    * Personal commands\n  * Features\n    * Namespacing\n    * Arguments\n      * All arguments with `$ARGUMENTS`\n      * Individual arguments with `$1`, `$2`, etc.\n    * Bash command execution\n    * File references\n    * Thinking mode\n  * Frontmatter\n    * Define hooks for commands\n* Plugin commands\n  * How plugin commands work\n  * Plugin command structure\n  * Invocation patterns\n* MCP slash commands\n  * Command format\n  * Features\n    * Dynamic discovery\n    * Arguments\n    * Naming conventions\n  * Managing MCP connections\n  * MCP permissions and wildcards\n* `Skill` tool\n  * What the `Skill` tool can invoke\n  * Encourage Claude to use specific commands\n  * Disable the `Skill` tool\n  * Disable specific commands or Skills\n  * `Skill` permission rules\n  * Character budget limit\n* Skills vs slash commands\n  * Use slash commands for\n  * Use Skills for\n  * Key differences\n  * Example comparison\n  * When to use each\n* See also\n\n### [checkpointing](https://code.claude.com/docs/en/checkpointing.md)\n\n* How checkpoints work\n  * Automatic tracking\n  * Rewinding changes\n* Common use cases\n* Limitations\n  * Bash command changes not tracked\n  * External changes not tracked\n  * Not a replacement for version control\n* See also\n\n### [hooks](https://code.claude.com/docs/en/hooks.md)\n\n* Configuration\n  * Structure\n  * Project-Specific Hook Scripts\n  * Plugin hooks\n  * Hooks in Skills, Agents, and Slash Commands\n* Prompt-Based Hooks\n  * How prompt-based hooks work\n  * Configuration\n  * Response schema\n  * Supported hook events\n  * Example: Intelligent Stop hook\n  * Example: SubagentStop with custom logic\n  * Comparison with bash command hooks\n  * Best practices\n* Hook Events\n  * PreToolUse\n  * PermissionRequest\n  * PostToolUse\n  * Notification\n  * UserPromptSubmit\n  * Stop\n  * SubagentStop\n  * PreCompact\n  * SessionStart\n    * Persisting environment variables\n  * SessionEnd\n* Hook Input\n  * PreToolUse Input\n    * Bash tool\n    * Write tool\n    * Edit tool\n    * Read tool\n  * PostToolUse Input\n  * Notification Input\n  * UserPromptSubmit Input\n  * Stop and SubagentStop Input\n  * PreCompact Input\n  * SessionStart Input\n  * SessionEnd Input\n* Hook Output\n  * Simple: Exit Code\n    * Exit Code 2 Behavior\n  * Advanced: JSON Output\n    * Common JSON Fields\n    * `PreToolUse` Decision Control\n    * `PermissionRequest` Decision Control\n    * `PostToolUse` Decision Control\n    * `UserPromptSubmit` Decision Control\n    * `Stop`/`SubagentStop` Decision Control\n    * `SessionStart` Decision Control\n    * `SessionEnd` Decision Control\n    * Exit Code Example: Bash Command Validation\n    * JSON Output Example: UserPromptSubmit to Add Context and Validation\n    * JSON Output Example: PreToolUse with Approval\n* Working with MCP Tools\n  * MCP Tool Naming\n  * Configuring Hooks for MCP Tools\n* Examples\n* Security Considerations\n  * Disclaimer\n  * Security Best Practices\n  * Configuration Safety\n* Hook Execution Details\n* Debugging\n  * Basic Troubleshooting\n  * Advanced Debugging\n  * Debug Output Example\n\n### [plugins-reference](https://code.claude.com/docs/en/plugins-reference.md)\n\n* Plugin components reference\n  * Commands\n  * Agents\n  * Skills\n  * Hooks\n  * MCP servers\n  * LSP servers\n* Plugin installation scopes\n* Plugin manifest schema\n  * Complete schema\n  * Required fields\n  * Metadata fields\n  * Component path fields\n  * Path behavior rules\n  * Environment variables\n* Plugin caching and file resolution\n  * How plugin caching works\n  * Path traversal limitations\n  * Working with external dependencies\n* Plugin directory structure\n  * Standard plugin layout\n  * File locations reference\n* CLI commands reference\n  * plugin install\n  * plugin uninstall\n  * plugin enable\n  * plugin disable\n  * plugin update\n* Debugging and development tools\n  * Debugging commands\n  * Common issues\n  * Example error messages\n  * Hook troubleshooting\n  * MCP server troubleshooting\n  * Directory structure mistakes\n* Distribution and versioning reference\n  * Version management\n* See also\n\n## Resources\n\n### [legal-and-compliance](https://code.claude.com/docs/en/legal-and-compliance.md)\n\n* Legal agreements\n  * License\n  * Commercial agreements\n* Compliance\n  * Healthcare compliance (BAA)\n* Security and trust\n  * Trust and safety\n  * Security vulnerability reporting\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt","durationMs":226,"url":"https://code.claude.com/docs/en/claude_code_docs_map.md"}}
{"parentUuid":"2271b4fc-9223-459f-b9b7-85651af30a4f","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01JGBH6hzFbJyqqgMejZ9GmU","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me fetch the model configuration documentation:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":8167,"cache_read_input_tokens":8190,"cache_creation":{"ephemeral_5m_input_tokens":8167,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX3mAYw7pzUybuJ23gjCr","type":"assistant","uuid":"93f7ff74-593b-4922-bae0-16a2dcc233ec","timestamp":"2026-01-12T16:00:06.138Z"}
{"parentUuid":"93f7ff74-593b-4922-bae0-16a2dcc233ec","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01JGBH6hzFbJyqqgMejZ9GmU","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01JfhaBCUdY3JRoK6kbyVjD1","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/model-config.md","prompt":"What is the complete documentation for model configuration, including how to add custom models, /model command, API keys, and MCP integration?"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":8167,"cache_read_input_tokens":8190,"cache_creation":{"ephemeral_5m_input_tokens":8167,"ephemeral_1h_input_tokens":0},"output_tokens":123,"service_tier":"standard"}},"requestId":"req_011CX3mAYw7pzUybuJ23gjCr","type":"assistant","uuid":"eda436c0-bc66-405a-84c5-9261c047c105","timestamp":"2026-01-12T16:00:06.831Z"}
{"parentUuid":"eda436c0-bc66-405a-84c5-9261c047c105","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01JfhaBCUdY3JRoK6kbyVjD1","type":"tool_result","content":"# Model configuration\n\n> Learn about the Claude Code model configuration, including model aliases like `opusplan`\n\n## Available models\n\nFor the `model` setting in Claude Code, you can configure either:\n\n* A **model alias**\n* A **model name**\n  * Anthropic API: A full **[model name](https://docs.claude.com/en/docs/about-claude/models/overview#model-names)**\n  * Bedrock: an inference profile ARN\n  * Foundry: a deployment name\n  * Vertex: a version name\n\n### Model aliases\n\nModel aliases provide a convenient way to select model settings without\nremembering exact version numbers:\n\n| Model alias      | Behavior                                                                                                                                                                |\n| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| **`default`**    | Recommended model setting, depending on your account type                                                                                                               |\n| **`sonnet`**     | Uses the latest Sonnet model (currently Sonnet 4.5) for daily coding tasks                                                                                              |\n| **`opus`**       | Uses Opus model (currently Opus 4.5) for specialized complex reasoning tasks                                                                                            |\n| **`haiku`**      | Uses the fast and efficient Haiku model for simple tasks                                                                                                                |\n| **`sonnet[1m]`** | Uses Sonnet with a [1 million token context window](https://docs.claude.com/en/docs/build-with-claude/context-windows#1m-token-context-window) window for long sessions |\n| **`opusplan`**   | Special mode that uses `opus` during plan mode, then switches to `sonnet` for execution                                                                                 |\n\n### Setting your model\n\nYou can configure your model in several ways, listed in order of priority:\n\n1. **During session** - Use `/model <alias|name>` to switch models mid-session\n2. **At startup** - Launch with `claude --model <alias|name>`\n3. **Environment variable** - Set `ANTHROPIC_MODEL=<alias|name>`\n4. **Settings** - Configure permanently in your settings file using the `model`\n   field.\n\nExample usage:\n\n```bash  theme={null}\n# Start with Opus\nclaude --model opus\n\n# Switch to Sonnet during session\n/model sonnet\n```\n\nExample settings file:\n\n```\n{\n    \"permissions\": {\n        ...\n    },\n    \"model\": \"opus\"\n}\n```\n\n## Special model behavior\n\n### `default` model setting\n\nThe behavior of `default` depends on your account type.\n\nFor certain Max users, Claude Code will automatically fall back to Sonnet if you\nhit a usage threshold with Opus.\n\n### `opusplan` model setting\n\nThe `opusplan` model alias provides an automated hybrid approach:\n\n* **In plan mode** - Uses `opus` for complex reasoning and architecture\n  decisions\n* **In execution mode** - Automatically switches to `sonnet` for code generation\n  and implementation\n\nThis gives you the best of both worlds: Opus's superior reasoning for planning,\nand Sonnet's efficiency for execution.\n\n### Extended context with \\[1m]\n\nFor Console/API users, the `[1m]` suffix can be added to full model names to\nenable a\n[1 million token context window](https://docs.claude.com/en/docs/build-with-claude/context-windows#1m-token-context-window).\n\n```bash  theme={null}\n# Example of using a full model name with the [1m] suffix\n/model anthropic.claude-sonnet-4-5-20250929-v1:0[1m]\n```\n\nNote: Extended context models have\n[different pricing](https://docs.claude.com/en/docs/about-claude/pricing#long-context-pricing).\n\n## Checking your current model\n\nYou can see which model you're currently using in several ways:\n\n1. In [status line](/en/statusline) (if configured)\n2. In `/status`, which also displays your account information.\n\n## Environment variables\n\nYou can use the following environment variables, which must be full **model\nnames** (or equivalent for your API provider), to control the model names that the aliases map to.\n\n| Environment variable             | Description                                                                                   |\n| -------------------------------- | --------------------------------------------------------------------------------------------- |\n| `ANTHROPIC_DEFAULT_OPUS_MODEL`   | The model to use for `opus`, or for `opusplan` when Plan Mode is active.                      |\n| `ANTHROPIC_DEFAULT_SONNET_MODEL` | The model to use for `sonnet`, or for `opusplan` when Plan Mode is not active.                |\n| `ANTHROPIC_DEFAULT_HAIKU_MODEL`  | The model to use for `haiku`, or [background functionality](/en/costs#background-token-usage) |\n| `CLAUDE_CODE_SUBAGENT_MODEL`     | The model to use for [subagents](/en/sub-agents)                                              |\n\nNote: `ANTHROPIC_SMALL_FAST_MODEL` is deprecated in favor of\n`ANTHROPIC_DEFAULT_HAIKU_MODEL`.\n\n### Prompt caching configuration\n\nClaude Code automatically uses [prompt caching](https://docs.claude.com/en/docs/build-with-claude/prompt-caching) to optimize performance and reduce costs. You can disable prompt caching globally or for specific model tiers:\n\n| Environment variable            | Description                                                                                    |\n| ------------------------------- | ---------------------------------------------------------------------------------------------- |\n| `DISABLE_PROMPT_CACHING`        | Set to `1` to disable prompt caching for all models (takes precedence over per-model settings) |\n| `DISABLE_PROMPT_CACHING_HAIKU`  | Set to `1` to disable prompt caching for Haiku models only                                     |\n| `DISABLE_PROMPT_CACHING_SONNET` | Set to `1` to disable prompt caching for Sonnet models only                                    |\n| `DISABLE_PROMPT_CACHING_OPUS`   | Set to `1` to disable prompt caching for Opus models only                                      |\n\nThese environment variables give you fine-grained control over prompt caching behavior. The global `DISABLE_PROMPT_CACHING` setting takes precedence over the model-specific settings, allowing you to quickly disable all caching when needed. The per-model settings are useful for selective control, such as when debugging specific models or working with cloud providers that may have different caching implementations.\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt"}]},"uuid":"3bae256d-c14c-4322-b372-e98e1d82ab00","timestamp":"2026-01-12T16:00:07.002Z","toolUseResult":{"bytes":6800,"code":200,"codeText":"OK","result":"# Model configuration\n\n> Learn about the Claude Code model configuration, including model aliases like `opusplan`\n\n## Available models\n\nFor the `model` setting in Claude Code, you can configure either:\n\n* A **model alias**\n* A **model name**\n  * Anthropic API: A full **[model name](https://docs.claude.com/en/docs/about-claude/models/overview#model-names)**\n  * Bedrock: an inference profile ARN\n  * Foundry: a deployment name\n  * Vertex: a version name\n\n### Model aliases\n\nModel aliases provide a convenient way to select model settings without\nremembering exact version numbers:\n\n| Model alias      | Behavior                                                                                                                                                                |\n| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| **`default`**    | Recommended model setting, depending on your account type                                                                                                               |\n| **`sonnet`**     | Uses the latest Sonnet model (currently Sonnet 4.5) for daily coding tasks                                                                                              |\n| **`opus`**       | Uses Opus model (currently Opus 4.5) for specialized complex reasoning tasks                                                                                            |\n| **`haiku`**      | Uses the fast and efficient Haiku model for simple tasks                                                                                                                |\n| **`sonnet[1m]`** | Uses Sonnet with a [1 million token context window](https://docs.claude.com/en/docs/build-with-claude/context-windows#1m-token-context-window) window for long sessions |\n| **`opusplan`**   | Special mode that uses `opus` during plan mode, then switches to `sonnet` for execution                                                                                 |\n\n### Setting your model\n\nYou can configure your model in several ways, listed in order of priority:\n\n1. **During session** - Use `/model <alias|name>` to switch models mid-session\n2. **At startup** - Launch with `claude --model <alias|name>`\n3. **Environment variable** - Set `ANTHROPIC_MODEL=<alias|name>`\n4. **Settings** - Configure permanently in your settings file using the `model`\n   field.\n\nExample usage:\n\n```bash  theme={null}\n# Start with Opus\nclaude --model opus\n\n# Switch to Sonnet during session\n/model sonnet\n```\n\nExample settings file:\n\n```\n{\n    \"permissions\": {\n        ...\n    },\n    \"model\": \"opus\"\n}\n```\n\n## Special model behavior\n\n### `default` model setting\n\nThe behavior of `default` depends on your account type.\n\nFor certain Max users, Claude Code will automatically fall back to Sonnet if you\nhit a usage threshold with Opus.\n\n### `opusplan` model setting\n\nThe `opusplan` model alias provides an automated hybrid approach:\n\n* **In plan mode** - Uses `opus` for complex reasoning and architecture\n  decisions\n* **In execution mode** - Automatically switches to `sonnet` for code generation\n  and implementation\n\nThis gives you the best of both worlds: Opus's superior reasoning for planning,\nand Sonnet's efficiency for execution.\n\n### Extended context with \\[1m]\n\nFor Console/API users, the `[1m]` suffix can be added to full model names to\nenable a\n[1 million token context window](https://docs.claude.com/en/docs/build-with-claude/context-windows#1m-token-context-window).\n\n```bash  theme={null}\n# Example of using a full model name with the [1m] suffix\n/model anthropic.claude-sonnet-4-5-20250929-v1:0[1m]\n```\n\nNote: Extended context models have\n[different pricing](https://docs.claude.com/en/docs/about-claude/pricing#long-context-pricing).\n\n## Checking your current model\n\nYou can see which model you're currently using in several ways:\n\n1. In [status line](/en/statusline) (if configured)\n2. In `/status`, which also displays your account information.\n\n## Environment variables\n\nYou can use the following environment variables, which must be full **model\nnames** (or equivalent for your API provider), to control the model names that the aliases map to.\n\n| Environment variable             | Description                                                                                   |\n| -------------------------------- | --------------------------------------------------------------------------------------------- |\n| `ANTHROPIC_DEFAULT_OPUS_MODEL`   | The model to use for `opus`, or for `opusplan` when Plan Mode is active.                      |\n| `ANTHROPIC_DEFAULT_SONNET_MODEL` | The model to use for `sonnet`, or for `opusplan` when Plan Mode is not active.                |\n| `ANTHROPIC_DEFAULT_HAIKU_MODEL`  | The model to use for `haiku`, or [background functionality](/en/costs#background-token-usage) |\n| `CLAUDE_CODE_SUBAGENT_MODEL`     | The model to use for [subagents](/en/sub-agents)                                              |\n\nNote: `ANTHROPIC_SMALL_FAST_MODEL` is deprecated in favor of\n`ANTHROPIC_DEFAULT_HAIKU_MODEL`.\n\n### Prompt caching configuration\n\nClaude Code automatically uses [prompt caching](https://docs.claude.com/en/docs/build-with-claude/prompt-caching) to optimize performance and reduce costs. You can disable prompt caching globally or for specific model tiers:\n\n| Environment variable            | Description                                                                                    |\n| ------------------------------- | ---------------------------------------------------------------------------------------------- |\n| `DISABLE_PROMPT_CACHING`        | Set to `1` to disable prompt caching for all models (takes precedence over per-model settings) |\n| `DISABLE_PROMPT_CACHING_HAIKU`  | Set to `1` to disable prompt caching for Haiku models only                                     |\n| `DISABLE_PROMPT_CACHING_SONNET` | Set to `1` to disable prompt caching for Sonnet models only                                    |\n| `DISABLE_PROMPT_CACHING_OPUS`   | Set to `1` to disable prompt caching for Opus models only                                      |\n\nThese environment variables give you fine-grained control over prompt caching behavior. The global `DISABLE_PROMPT_CACHING` setting takes precedence over the model-specific settings, allowing you to quickly disable all caching when needed. The per-model settings are useful for selective control, such as when debugging specific models or working with cloud providers that may have different caching implementations.\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt","durationMs":144,"url":"https://code.claude.com/docs/en/model-config.md"}}
{"parentUuid":"3bae256d-c14c-4322-b372-e98e1d82ab00","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01QeVHaY2yuu3auaGN3R8kPz","type":"message","role":"assistant","content":[{"type":"text","text":"Let me also fetch the documentation on third-party integrations and LLM gateways for custom provider information:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":1704,"cache_read_input_tokens":16357,"cache_creation":{"ephemeral_5m_input_tokens":1704,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CX3mAgkQyGcaGcy74xMFu","type":"assistant","uuid":"d957d9aa-f899-4cfe-a9a2-9cbf088462d7","timestamp":"2026-01-12T16:00:09.079Z"}
{"parentUuid":"d957d9aa-f899-4cfe-a9a2-9cbf088462d7","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01QeVHaY2yuu3auaGN3R8kPz","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01UMLGXTYnUFEXdtLfuqhKFr","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/llm-gateway.md","prompt":"How to configure custom model providers, API keys, and LiteLLM gateway integration"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":1704,"cache_read_input_tokens":16357,"cache_creation":{"ephemeral_5m_input_tokens":1704,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CX3mAgkQyGcaGcy74xMFu","type":"assistant","uuid":"9ba0403e-b59c-41ac-9886-45cba4cd5cb9","timestamp":"2026-01-12T16:00:09.826Z"}
{"parentUuid":"9ba0403e-b59c-41ac-9886-45cba4cd5cb9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01QeVHaY2yuu3auaGN3R8kPz","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01XfaKLodty2nC4guZ1hcW6X","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/third-party-integrations.md","prompt":"Overview of third-party model providers and integration options"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":1704,"cache_read_input_tokens":16357,"cache_creation":{"ephemeral_5m_input_tokens":1704,"ephemeral_1h_input_tokens":0},"output_tokens":210,"service_tier":"standard"}},"requestId":"req_011CX3mAgkQyGcaGcy74xMFu","type":"assistant","uuid":"7a4e5301-427a-48bd-b4c6-08b1b52a156e","timestamp":"2026-01-12T16:00:10.042Z"}
{"parentUuid":"7a4e5301-427a-48bd-b4c6-08b1b52a156e","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01UMLGXTYnUFEXdtLfuqhKFr","type":"tool_result","content":"# LLM gateway configuration\n\n> Learn how to configure Claude Code to work with LLM gateway solutions. Covers gateway requirements, authentication configuration, model selection, and provider-specific endpoint setup.\n\nLLM gateways provide a centralized proxy layer between Claude Code and model providers, often providing:\n\n* **Centralized authentication** - Single point for API key management\n* **Usage tracking** - Monitor usage across teams and projects\n* **Cost controls** - Implement budgets and rate limits\n* **Audit logging** - Track all model interactions for compliance\n* **Model routing** - Switch between providers without code changes\n\n## Gateway requirements\n\nFor an LLM gateway to work with Claude Code, it must meet the following requirements:\n\n**API format**\n\nThe gateway must expose to clients at least one of the following API formats:\n\n1. **Anthropic Messages**: `/v1/messages`, `/v1/messages/count_tokens`\n   * Must forward request headers: `anthropic-beta`, `anthropic-version`\n\n2. **Bedrock InvokeModel**: `/invoke`, `/invoke-with-response-stream`\n   * Must preserve request body fields: `anthropic_beta`, `anthropic_version`\n\n3. **Vertex rawPredict**: `:rawPredict`, `:streamRawPredict`, `/count-tokens:rawPredict`\n   * Must forward request headers: `anthropic-beta`, `anthropic-version`\n\nFailure to forward headers or preserve body fields may result in reduced functionality or inability to use Claude Code features.\n\n<Note>\n  Claude Code determines which features to enable based on the API format. When using the Anthropic Messages format with Bedrock or Vertex, you may need to set environment variable `CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS=1`.\n</Note>\n\n## Configuration\n\n### Model selection\n\nBy default, Claude Code will use standard model names for the selected API format.\n\nIf you have configured custom model names in your gateway, use the environment variables documented in [Model configuration](/en/model-config) to match your custom names.\n\n## LiteLLM configuration\n\n<Note>\n  LiteLLM is a third-party proxy service. Anthropic doesn't endorse, maintain, or audit LiteLLM's security or functionality. This guide is provided for informational purposes and may become outdated. Use at your own discretion.\n</Note>\n\n### Prerequisites\n\n* Claude Code updated to the latest version\n* LiteLLM Proxy Server deployed and accessible\n* Access to Claude models through your chosen provider\n\n### Basic LiteLLM setup\n\n**Configure Claude Code**:\n\n#### Authentication methods\n\n##### Static API key\n\nSimplest method using a fixed API key:\n\n```bash  theme={null}\n# Set in environment\nexport ANTHROPIC_AUTH_TOKEN=sk-litellm-static-key\n\n# Or in Claude Code settings\n{\n  \"env\": {\n    \"ANTHROPIC_AUTH_TOKEN\": \"sk-litellm-static-key\"\n  }\n}\n```\n\nThis value will be sent as the `Authorization` header.\n\n##### Dynamic API key with helper\n\nFor rotating keys or per-user authentication:\n\n1. Create an API key helper script:\n\n```bash  theme={null}\n#!/bin/bash\n# ~/bin/get-litellm-key.sh\n\n# Example: Fetch key from vault\nvault kv get -field=api_key secret/litellm/claude-code\n\n# Example: Generate JWT token\njwt encode \\\n  --secret=\"${JWT_SECRET}\" \\\n  --exp=\"+1h\" \\\n  '{\"user\":\"'${USER}'\",\"team\":\"engineering\"}'\n```\n\n2. Configure Claude Code settings to use the helper:\n\n```json  theme={null}\n{\n  \"apiKeyHelper\": \"~/bin/get-litellm-key.sh\"\n}\n```\n\n3. Set token refresh interval:\n\n```bash  theme={null}\n# Refresh every hour (3600000 ms)\nexport CLAUDE_CODE_API_KEY_HELPER_TTL_MS=3600000\n```\n\nThis value will be sent as `Authorization` and `X-Api-Key` headers. The `apiKeyHelper` has lower precedence than `ANTHROPIC_AUTH_TOKEN` or `ANTHROPIC_API_KEY`.\n\n#### Unified endpoint (recommended)\n\nUsing LiteLLM's [Anthropic format endpoint](https://docs.litellm.ai/docs/anthropic_unified):\n\n```bash  theme={null}\nexport ANTHROPIC_BASE_URL=https://litellm-server:4000\n```\n\n**Benefits of the unified endpoint over pass-through endpoints:**\n\n* Load balancing\n* Fallbacks\n* Consistent support for cost tracking and end-user tracking\n\n#### Provider-specific pass-through endpoints (alternative)\n\n##### Claude API through LiteLLM\n\nUsing [pass-through endpoint](https://docs.litellm.ai/docs/pass_through/anthropic_completion):\n\n```bash  theme={null}\nexport ANTHROPIC_BASE_URL=https://litellm-server:4000/anthropic\n```\n\n##### Amazon Bedrock through LiteLLM\n\nUsing [pass-through endpoint](https://docs.litellm.ai/docs/pass_through/bedrock):\n\n```bash  theme={null}\nexport ANTHROPIC_BEDROCK_BASE_URL=https://litellm-server:4000/bedrock\nexport CLAUDE_CODE_SKIP_BEDROCK_AUTH=1\nexport CLAUDE_CODE_USE_BEDROCK=1\n```\n\n##### Google Vertex AI through LiteLLM\n\nUsing [pass-through endpoint](https://docs.litellm.ai/docs/pass_through/vertex_ai):\n\n```bash  theme={null}\nexport ANTHROPIC_VERTEX_BASE_URL=https://litellm-server:4000/vertex_ai/v1\nexport ANTHROPIC_VERTEX_PROJECT_ID=your-gcp-project-id\nexport CLAUDE_CODE_SKIP_VERTEX_AUTH=1\nexport CLAUDE_CODE_USE_VERTEX=1\nexport CLOUD_ML_REGION=us-east5\n```\n\nFor more detailed information, refer to the [LiteLLM documentation](https://docs.litellm.ai/).\n\n## Additional resources\n\n* [LiteLLM documentation](https://docs.litellm.ai/)\n* [Claude Code settings](/en/settings)\n* [Enterprise network configuration](/en/network-config)\n* [Third-party integrations overview](/en/third-party-integrations)\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt"}]},"uuid":"2a15d7b9-be94-4065-afb6-160591a33ebe","timestamp":"2026-01-12T16:00:10.236Z","toolUseResult":{"bytes":5448,"code":200,"codeText":"OK","result":"# LLM gateway configuration\n\n> Learn how to configure Claude Code to work with LLM gateway solutions. Covers gateway requirements, authentication configuration, model selection, and provider-specific endpoint setup.\n\nLLM gateways provide a centralized proxy layer between Claude Code and model providers, often providing:\n\n* **Centralized authentication** - Single point for API key management\n* **Usage tracking** - Monitor usage across teams and projects\n* **Cost controls** - Implement budgets and rate limits\n* **Audit logging** - Track all model interactions for compliance\n* **Model routing** - Switch between providers without code changes\n\n## Gateway requirements\n\nFor an LLM gateway to work with Claude Code, it must meet the following requirements:\n\n**API format**\n\nThe gateway must expose to clients at least one of the following API formats:\n\n1. **Anthropic Messages**: `/v1/messages`, `/v1/messages/count_tokens`\n   * Must forward request headers: `anthropic-beta`, `anthropic-version`\n\n2. **Bedrock InvokeModel**: `/invoke`, `/invoke-with-response-stream`\n   * Must preserve request body fields: `anthropic_beta`, `anthropic_version`\n\n3. **Vertex rawPredict**: `:rawPredict`, `:streamRawPredict`, `/count-tokens:rawPredict`\n   * Must forward request headers: `anthropic-beta`, `anthropic-version`\n\nFailure to forward headers or preserve body fields may result in reduced functionality or inability to use Claude Code features.\n\n<Note>\n  Claude Code determines which features to enable based on the API format. When using the Anthropic Messages format with Bedrock or Vertex, you may need to set environment variable `CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS=1`.\n</Note>\n\n## Configuration\n\n### Model selection\n\nBy default, Claude Code will use standard model names for the selected API format.\n\nIf you have configured custom model names in your gateway, use the environment variables documented in [Model configuration](/en/model-config) to match your custom names.\n\n## LiteLLM configuration\n\n<Note>\n  LiteLLM is a third-party proxy service. Anthropic doesn't endorse, maintain, or audit LiteLLM's security or functionality. This guide is provided for informational purposes and may become outdated. Use at your own discretion.\n</Note>\n\n### Prerequisites\n\n* Claude Code updated to the latest version\n* LiteLLM Proxy Server deployed and accessible\n* Access to Claude models through your chosen provider\n\n### Basic LiteLLM setup\n\n**Configure Claude Code**:\n\n#### Authentication methods\n\n##### Static API key\n\nSimplest method using a fixed API key:\n\n```bash  theme={null}\n# Set in environment\nexport ANTHROPIC_AUTH_TOKEN=sk-litellm-static-key\n\n# Or in Claude Code settings\n{\n  \"env\": {\n    \"ANTHROPIC_AUTH_TOKEN\": \"sk-litellm-static-key\"\n  }\n}\n```\n\nThis value will be sent as the `Authorization` header.\n\n##### Dynamic API key with helper\n\nFor rotating keys or per-user authentication:\n\n1. Create an API key helper script:\n\n```bash  theme={null}\n#!/bin/bash\n# ~/bin/get-litellm-key.sh\n\n# Example: Fetch key from vault\nvault kv get -field=api_key secret/litellm/claude-code\n\n# Example: Generate JWT token\njwt encode \\\n  --secret=\"${JWT_SECRET}\" \\\n  --exp=\"+1h\" \\\n  '{\"user\":\"'${USER}'\",\"team\":\"engineering\"}'\n```\n\n2. Configure Claude Code settings to use the helper:\n\n```json  theme={null}\n{\n  \"apiKeyHelper\": \"~/bin/get-litellm-key.sh\"\n}\n```\n\n3. Set token refresh interval:\n\n```bash  theme={null}\n# Refresh every hour (3600000 ms)\nexport CLAUDE_CODE_API_KEY_HELPER_TTL_MS=3600000\n```\n\nThis value will be sent as `Authorization` and `X-Api-Key` headers. The `apiKeyHelper` has lower precedence than `ANTHROPIC_AUTH_TOKEN` or `ANTHROPIC_API_KEY`.\n\n#### Unified endpoint (recommended)\n\nUsing LiteLLM's [Anthropic format endpoint](https://docs.litellm.ai/docs/anthropic_unified):\n\n```bash  theme={null}\nexport ANTHROPIC_BASE_URL=https://litellm-server:4000\n```\n\n**Benefits of the unified endpoint over pass-through endpoints:**\n\n* Load balancing\n* Fallbacks\n* Consistent support for cost tracking and end-user tracking\n\n#### Provider-specific pass-through endpoints (alternative)\n\n##### Claude API through LiteLLM\n\nUsing [pass-through endpoint](https://docs.litellm.ai/docs/pass_through/anthropic_completion):\n\n```bash  theme={null}\nexport ANTHROPIC_BASE_URL=https://litellm-server:4000/anthropic\n```\n\n##### Amazon Bedrock through LiteLLM\n\nUsing [pass-through endpoint](https://docs.litellm.ai/docs/pass_through/bedrock):\n\n```bash  theme={null}\nexport ANTHROPIC_BEDROCK_BASE_URL=https://litellm-server:4000/bedrock\nexport CLAUDE_CODE_SKIP_BEDROCK_AUTH=1\nexport CLAUDE_CODE_USE_BEDROCK=1\n```\n\n##### Google Vertex AI through LiteLLM\n\nUsing [pass-through endpoint](https://docs.litellm.ai/docs/pass_through/vertex_ai):\n\n```bash  theme={null}\nexport ANTHROPIC_VERTEX_BASE_URL=https://litellm-server:4000/vertex_ai/v1\nexport ANTHROPIC_VERTEX_PROJECT_ID=your-gcp-project-id\nexport CLAUDE_CODE_SKIP_VERTEX_AUTH=1\nexport CLAUDE_CODE_USE_VERTEX=1\nexport CLOUD_ML_REGION=us-east5\n```\n\nFor more detailed information, refer to the [LiteLLM documentation](https://docs.litellm.ai/).\n\n## Additional resources\n\n* [LiteLLM documentation](https://docs.litellm.ai/)\n* [Claude Code settings](/en/settings)\n* [Enterprise network configuration](/en/network-config)\n* [Third-party integrations overview](/en/third-party-integrations)\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt","durationMs":167,"url":"https://code.claude.com/docs/en/llm-gateway.md"}}
{"parentUuid":"2a15d7b9-be94-4065-afb6-160591a33ebe","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XfaKLodty2nC4guZ1hcW6X","type":"tool_result","content":"# Enterprise deployment overview\n\n> Learn how Claude Code can integrate with various third-party services and infrastructure to meet enterprise deployment requirements.\n\nOrganizations can deploy Claude Code through Anthropic directly or through a cloud provider. This page helps you choose the right configuration.\n\n## Compare deployment options\n\nFor most organizations, Claude for Teams or Claude for Enterprise provides the best experience. Team members get access to both Claude Code and Claude on the web with a single subscription, centralized billing, and no infrastructure setup required.\n\n**Claude for Teams** is self-service and includes collaboration features, admin tools, and billing management. Best for smaller teams that need to get started quickly.\n\n**Claude for Enterprise** adds SSO and domain capture, role-based permissions, compliance API access, and managed policy settings for deploying organization-wide Claude Code configurations. Best for larger organizations with security and compliance requirements.\n\nLearn more about [Team plans](https://support.claude.com/en/articles/9266767-what-is-the-team-plan) and [Enterprise plans](https://support.claude.com/en/articles/9797531-what-is-the-enterprise-plan).\n\nIf your organization has specific infrastructure requirements, compare the options below:\n\n<table>\n  <thead>\n    <tr>\n      <th>Feature</th>\n      <th>Claude for Teams/Enterprise</th>\n      <th>Anthropic Console</th>\n      <th>Amazon Bedrock</th>\n      <th>Google Vertex AI</th>\n      <th>Microsoft Foundry</th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr>\n      <td>Best for</td>\n      <td>Most organizations (recommended)</td>\n      <td>Individual developers</td>\n      <td>AWS-native deployments</td>\n      <td>GCP-native deployments</td>\n      <td>Azure-native deployments</td>\n    </tr>\n\n    <tr>\n      <td>Billing</td>\n      <td><strong>Teams:</strong> \\$150/seat (Premium) with PAYG available<br /><strong>Enterprise:</strong> <a href=\"https://claude.com/contact-sales\">Contact Sales</a></td>\n      <td>PAYG</td>\n      <td>PAYG through AWS</td>\n      <td>PAYG through GCP</td>\n      <td>PAYG through Azure</td>\n    </tr>\n\n    <tr>\n      <td>Regions</td>\n      <td>Supported [countries](https://www.anthropic.com/supported-countries)</td>\n      <td>Supported [countries](https://www.anthropic.com/supported-countries)</td>\n      <td>Multiple AWS [regions](https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html)</td>\n      <td>Multiple GCP [regions](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/locations)</td>\n      <td>Multiple Azure [regions](https://azure.microsoft.com/en-us/explore/global-infrastructure/products-by-region/)</td>\n    </tr>\n\n    <tr>\n      <td>Prompt caching</td>\n      <td>Enabled by default</td>\n      <td>Enabled by default</td>\n      <td>Enabled by default</td>\n      <td>Enabled by default</td>\n      <td>Enabled by default</td>\n    </tr>\n\n    <tr>\n      <td>Authentication</td>\n      <td>Claude.ai SSO or email</td>\n      <td>API key</td>\n      <td>API key or AWS credentials</td>\n      <td>GCP credentials</td>\n      <td>API key or Microsoft Entra ID</td>\n    </tr>\n\n    <tr>\n      <td>Cost tracking</td>\n      <td>Usage dashboard</td>\n      <td>Usage dashboard</td>\n      <td>AWS Cost Explorer</td>\n      <td>GCP Billing</td>\n      <td>Azure Cost Management</td>\n    </tr>\n\n    <tr>\n      <td>Includes Claude on web</td>\n      <td>Yes</td>\n      <td>No</td>\n      <td>No</td>\n      <td>No</td>\n      <td>No</td>\n    </tr>\n\n    <tr>\n      <td>Enterprise features</td>\n      <td>Team management, SSO, usage monitoring</td>\n      <td>None</td>\n      <td>IAM policies, CloudTrail</td>\n      <td>IAM roles, Cloud Audit Logs</td>\n      <td>RBAC policies, Azure Monitor</td>\n    </tr>\n  </tbody>\n</table>\n\nSelect a deployment option to view setup instructions:\n\n* [Claude for Teams or Enterprise](/en/iam#claude-for-teams-or-enterprise-recommended)\n* [Anthropic Console](/en/iam#claude-console-authentication)\n* [Amazon Bedrock](/en/amazon-bedrock)\n* [Google Vertex AI](/en/google-vertex-ai)\n* [Microsoft Foundry](/en/microsoft-foundry)\n\n## Configure proxies and gateways\n\nMost organizations can use a cloud provider directly without additional configuration. However, you may need to configure a corporate proxy or LLM gateway if your organization has specific network or management requirements. These are different configurations that can be used together:\n\n* **Corporate proxy**: Routes traffic through an HTTP/HTTPS proxy. Use this if your organization requires all outbound traffic to pass through a proxy server for security monitoring, compliance, or network policy enforcement. Configure with the `HTTPS_PROXY` or `HTTP_PROXY` environment variables. Learn more in [Enterprise network configuration](/en/network-config).\n* **LLM Gateway**: A service that sits between Claude Code and the cloud provider to handle authentication and routing. Use this if you need centralized usage tracking across teams, custom rate limiting or budgets, or centralized authentication management. Configure with the `ANTHROPIC_BASE_URL`, `ANTHROPIC_BEDROCK_BASE_URL`, or `ANTHROPIC_VERTEX_BASE_URL` environment variables. Learn more in [LLM gateway configuration](/en/llm-gateway).\n\nThe following examples show the environment variables to set in your shell or shell profile (`.bashrc`, `.zshrc`). See [Settings](/en/settings) for other configuration methods.\n\n### Amazon Bedrock\n\n<Tabs>\n  <Tab title=\"Corporate proxy\">\n    Route Bedrock traffic through your corporate proxy by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Bedrock\n    export CLAUDE_CODE_USE_BEDROCK=1\n    export AWS_REGION=us-east-1\n\n    # Configure corporate proxy\n    export HTTPS_PROXY='https://proxy.example.com:8080'\n    ```\n  </Tab>\n\n  <Tab title=\"LLM Gateway\">\n    Route Bedrock traffic through your LLM gateway by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Bedrock\n    export CLAUDE_CODE_USE_BEDROCK=1\n\n    # Configure LLM gateway\n    export ANTHROPIC_BEDROCK_BASE_URL='https://your-llm-gateway.com/bedrock'\n    export CLAUDE_CODE_SKIP_BEDROCK_AUTH=1  # If gateway handles AWS auth\n    ```\n  </Tab>\n</Tabs>\n\n### Microsoft Foundry\n\n<Tabs>\n  <Tab title=\"Corporate proxy\">\n    Route Foundry traffic through your corporate proxy by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Microsoft Foundry\n    export CLAUDE_CODE_USE_FOUNDRY=1\n    export ANTHROPIC_FOUNDRY_RESOURCE=your-resource\n    export ANTHROPIC_FOUNDRY_API_KEY=your-api-key  # Or omit for Entra ID auth\n\n    # Configure corporate proxy\n    export HTTPS_PROXY='https://proxy.example.com:8080'\n    ```\n  </Tab>\n\n  <Tab title=\"LLM Gateway\">\n    Route Foundry traffic through your LLM gateway by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Microsoft Foundry\n    export CLAUDE_CODE_USE_FOUNDRY=1\n\n    # Configure LLM gateway\n    export ANTHROPIC_FOUNDRY_BASE_URL='https://your-llm-gateway.com'\n    export CLAUDE_CODE_SKIP_FOUNDRY_AUTH=1  # If gateway handles Azure auth\n    ```\n  </Tab>\n</Tabs>\n\n### Google Vertex AI\n\n<Tabs>\n  <Tab title=\"Corporate proxy\">\n    Route Vertex AI traffic through your corporate proxy by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Vertex\n    export CLAUDE_CODE_USE_VERTEX=1\n    export CLOUD_ML_REGION=us-east5\n    export ANTHROPIC_VERTEX_PROJECT_ID=your-project-id\n\n    # Configure corporate proxy\n    export HTTPS_PROXY='https://proxy.example.com:8080'\n    ```\n  </Tab>\n\n  <Tab title=\"LLM Gateway\">\n    Route Vertex AI traffic through your LLM gateway by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Vertex\n    export CLAUDE_CODE_USE_VERTEX=1\n\n    # Configure LLM gateway\n    export ANTHROPIC_VERTEX_BASE_URL='https://your-llm-gateway.com/vertex'\n    export CLAUDE_CODE_SKIP_VERTEX_AUTH=1  # If gateway handles GCP auth\n    ```\n  </Tab>\n</Tabs>\n\n<Tip>\n  Use `/status` in Claude Code to verify your proxy and gateway configuration is applied correctly.\n</Tip>\n\n## Best practices for organizations\n\n### Invest in documentation and memory\n\nWe strongly recommend investing in documentation so that Claude Code understands your codebase. Organizations can deploy CLAUDE.md files at multiple levels:\n\n* **Organization-wide**: Deploy to system directories like `/Library/Application Support/ClaudeCode/CLAUDE.md` (macOS) for company-wide standards\n* **Repository-level**: Create `CLAUDE.md` files in repository roots containing project architecture, build commands, and contribution guidelines. Check these into source control so all users benefit\n\nLearn more in [Memory and CLAUDE.md files](/en/memory).\n\n### Simplify deployment\n\nIf you have a custom development environment, we find that creating a \"one click\" way to install Claude Code is key to growing adoption across an organization.\n\n### Start with guided usage\n\nEncourage new users to try Claude Code for codebase Q\\&A, or on smaller bug fixes or feature requests. Ask Claude Code to make a plan. Check Claude's suggestions and give feedback if it's off-track. Over time, as users understand this new paradigm better, then they'll be more effective at letting Claude Code run more agentically.\n\n### Configure security policies\n\nSecurity teams can configure managed permissions for what Claude Code is and is not allowed to do, which cannot be overwritten by local configuration. [Learn more](/en/security).\n\n### Leverage MCP for integrations\n\nMCP is a great way to give Claude Code more information, such as connecting to ticket management systems or error logs. We recommend that one central team configures MCP servers and checks a `.mcp.json` configuration into the codebase so that all users benefit. [Learn more](/en/mcp).\n\nAt Anthropic, we trust Claude Code to power development across every Anthropic codebase. We hope you enjoy using Claude Code as much as we do.\n\n## Next steps\n\nOnce you've chosen a deployment option and configured access for your team:\n\n1. **Roll out to your team**: Share installation instructions and have team members [install Claude Code](/en/setup) and authenticate with their credentials.\n2. **Set up shared configuration**: Create a [CLAUDE.md file](/en/memory) in your repositories to help Claude Code understand your codebase and coding standards.\n3. **Configure permissions**: Review [security settings](/en/security) to define what Claude Code can and cannot do in your environment.\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt"}]},"uuid":"81a87ae4-3f01-4c56-af95-6d8bcbb7bf0a","timestamp":"2026-01-12T16:00:10.279Z","toolUseResult":{"bytes":10913,"code":200,"codeText":"OK","result":"# Enterprise deployment overview\n\n> Learn how Claude Code can integrate with various third-party services and infrastructure to meet enterprise deployment requirements.\n\nOrganizations can deploy Claude Code through Anthropic directly or through a cloud provider. This page helps you choose the right configuration.\n\n## Compare deployment options\n\nFor most organizations, Claude for Teams or Claude for Enterprise provides the best experience. Team members get access to both Claude Code and Claude on the web with a single subscription, centralized billing, and no infrastructure setup required.\n\n**Claude for Teams** is self-service and includes collaboration features, admin tools, and billing management. Best for smaller teams that need to get started quickly.\n\n**Claude for Enterprise** adds SSO and domain capture, role-based permissions, compliance API access, and managed policy settings for deploying organization-wide Claude Code configurations. Best for larger organizations with security and compliance requirements.\n\nLearn more about [Team plans](https://support.claude.com/en/articles/9266767-what-is-the-team-plan) and [Enterprise plans](https://support.claude.com/en/articles/9797531-what-is-the-enterprise-plan).\n\nIf your organization has specific infrastructure requirements, compare the options below:\n\n<table>\n  <thead>\n    <tr>\n      <th>Feature</th>\n      <th>Claude for Teams/Enterprise</th>\n      <th>Anthropic Console</th>\n      <th>Amazon Bedrock</th>\n      <th>Google Vertex AI</th>\n      <th>Microsoft Foundry</th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr>\n      <td>Best for</td>\n      <td>Most organizations (recommended)</td>\n      <td>Individual developers</td>\n      <td>AWS-native deployments</td>\n      <td>GCP-native deployments</td>\n      <td>Azure-native deployments</td>\n    </tr>\n\n    <tr>\n      <td>Billing</td>\n      <td><strong>Teams:</strong> \\$150/seat (Premium) with PAYG available<br /><strong>Enterprise:</strong> <a href=\"https://claude.com/contact-sales\">Contact Sales</a></td>\n      <td>PAYG</td>\n      <td>PAYG through AWS</td>\n      <td>PAYG through GCP</td>\n      <td>PAYG through Azure</td>\n    </tr>\n\n    <tr>\n      <td>Regions</td>\n      <td>Supported [countries](https://www.anthropic.com/supported-countries)</td>\n      <td>Supported [countries](https://www.anthropic.com/supported-countries)</td>\n      <td>Multiple AWS [regions](https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html)</td>\n      <td>Multiple GCP [regions](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/locations)</td>\n      <td>Multiple Azure [regions](https://azure.microsoft.com/en-us/explore/global-infrastructure/products-by-region/)</td>\n    </tr>\n\n    <tr>\n      <td>Prompt caching</td>\n      <td>Enabled by default</td>\n      <td>Enabled by default</td>\n      <td>Enabled by default</td>\n      <td>Enabled by default</td>\n      <td>Enabled by default</td>\n    </tr>\n\n    <tr>\n      <td>Authentication</td>\n      <td>Claude.ai SSO or email</td>\n      <td>API key</td>\n      <td>API key or AWS credentials</td>\n      <td>GCP credentials</td>\n      <td>API key or Microsoft Entra ID</td>\n    </tr>\n\n    <tr>\n      <td>Cost tracking</td>\n      <td>Usage dashboard</td>\n      <td>Usage dashboard</td>\n      <td>AWS Cost Explorer</td>\n      <td>GCP Billing</td>\n      <td>Azure Cost Management</td>\n    </tr>\n\n    <tr>\n      <td>Includes Claude on web</td>\n      <td>Yes</td>\n      <td>No</td>\n      <td>No</td>\n      <td>No</td>\n      <td>No</td>\n    </tr>\n\n    <tr>\n      <td>Enterprise features</td>\n      <td>Team management, SSO, usage monitoring</td>\n      <td>None</td>\n      <td>IAM policies, CloudTrail</td>\n      <td>IAM roles, Cloud Audit Logs</td>\n      <td>RBAC policies, Azure Monitor</td>\n    </tr>\n  </tbody>\n</table>\n\nSelect a deployment option to view setup instructions:\n\n* [Claude for Teams or Enterprise](/en/iam#claude-for-teams-or-enterprise-recommended)\n* [Anthropic Console](/en/iam#claude-console-authentication)\n* [Amazon Bedrock](/en/amazon-bedrock)\n* [Google Vertex AI](/en/google-vertex-ai)\n* [Microsoft Foundry](/en/microsoft-foundry)\n\n## Configure proxies and gateways\n\nMost organizations can use a cloud provider directly without additional configuration. However, you may need to configure a corporate proxy or LLM gateway if your organization has specific network or management requirements. These are different configurations that can be used together:\n\n* **Corporate proxy**: Routes traffic through an HTTP/HTTPS proxy. Use this if your organization requires all outbound traffic to pass through a proxy server for security monitoring, compliance, or network policy enforcement. Configure with the `HTTPS_PROXY` or `HTTP_PROXY` environment variables. Learn more in [Enterprise network configuration](/en/network-config).\n* **LLM Gateway**: A service that sits between Claude Code and the cloud provider to handle authentication and routing. Use this if you need centralized usage tracking across teams, custom rate limiting or budgets, or centralized authentication management. Configure with the `ANTHROPIC_BASE_URL`, `ANTHROPIC_BEDROCK_BASE_URL`, or `ANTHROPIC_VERTEX_BASE_URL` environment variables. Learn more in [LLM gateway configuration](/en/llm-gateway).\n\nThe following examples show the environment variables to set in your shell or shell profile (`.bashrc`, `.zshrc`). See [Settings](/en/settings) for other configuration methods.\n\n### Amazon Bedrock\n\n<Tabs>\n  <Tab title=\"Corporate proxy\">\n    Route Bedrock traffic through your corporate proxy by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Bedrock\n    export CLAUDE_CODE_USE_BEDROCK=1\n    export AWS_REGION=us-east-1\n\n    # Configure corporate proxy\n    export HTTPS_PROXY='https://proxy.example.com:8080'\n    ```\n  </Tab>\n\n  <Tab title=\"LLM Gateway\">\n    Route Bedrock traffic through your LLM gateway by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Bedrock\n    export CLAUDE_CODE_USE_BEDROCK=1\n\n    # Configure LLM gateway\n    export ANTHROPIC_BEDROCK_BASE_URL='https://your-llm-gateway.com/bedrock'\n    export CLAUDE_CODE_SKIP_BEDROCK_AUTH=1  # If gateway handles AWS auth\n    ```\n  </Tab>\n</Tabs>\n\n### Microsoft Foundry\n\n<Tabs>\n  <Tab title=\"Corporate proxy\">\n    Route Foundry traffic through your corporate proxy by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Microsoft Foundry\n    export CLAUDE_CODE_USE_FOUNDRY=1\n    export ANTHROPIC_FOUNDRY_RESOURCE=your-resource\n    export ANTHROPIC_FOUNDRY_API_KEY=your-api-key  # Or omit for Entra ID auth\n\n    # Configure corporate proxy\n    export HTTPS_PROXY='https://proxy.example.com:8080'\n    ```\n  </Tab>\n\n  <Tab title=\"LLM Gateway\">\n    Route Foundry traffic through your LLM gateway by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Microsoft Foundry\n    export CLAUDE_CODE_USE_FOUNDRY=1\n\n    # Configure LLM gateway\n    export ANTHROPIC_FOUNDRY_BASE_URL='https://your-llm-gateway.com'\n    export CLAUDE_CODE_SKIP_FOUNDRY_AUTH=1  # If gateway handles Azure auth\n    ```\n  </Tab>\n</Tabs>\n\n### Google Vertex AI\n\n<Tabs>\n  <Tab title=\"Corporate proxy\">\n    Route Vertex AI traffic through your corporate proxy by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Vertex\n    export CLAUDE_CODE_USE_VERTEX=1\n    export CLOUD_ML_REGION=us-east5\n    export ANTHROPIC_VERTEX_PROJECT_ID=your-project-id\n\n    # Configure corporate proxy\n    export HTTPS_PROXY='https://proxy.example.com:8080'\n    ```\n  </Tab>\n\n  <Tab title=\"LLM Gateway\">\n    Route Vertex AI traffic through your LLM gateway by setting the following [environment variables](/en/settings#environment-variables):\n\n    ```bash  theme={null}\n    # Enable Vertex\n    export CLAUDE_CODE_USE_VERTEX=1\n\n    # Configure LLM gateway\n    export ANTHROPIC_VERTEX_BASE_URL='https://your-llm-gateway.com/vertex'\n    export CLAUDE_CODE_SKIP_VERTEX_AUTH=1  # If gateway handles GCP auth\n    ```\n  </Tab>\n</Tabs>\n\n<Tip>\n  Use `/status` in Claude Code to verify your proxy and gateway configuration is applied correctly.\n</Tip>\n\n## Best practices for organizations\n\n### Invest in documentation and memory\n\nWe strongly recommend investing in documentation so that Claude Code understands your codebase. Organizations can deploy CLAUDE.md files at multiple levels:\n\n* **Organization-wide**: Deploy to system directories like `/Library/Application Support/ClaudeCode/CLAUDE.md` (macOS) for company-wide standards\n* **Repository-level**: Create `CLAUDE.md` files in repository roots containing project architecture, build commands, and contribution guidelines. Check these into source control so all users benefit\n\nLearn more in [Memory and CLAUDE.md files](/en/memory).\n\n### Simplify deployment\n\nIf you have a custom development environment, we find that creating a \"one click\" way to install Claude Code is key to growing adoption across an organization.\n\n### Start with guided usage\n\nEncourage new users to try Claude Code for codebase Q\\&A, or on smaller bug fixes or feature requests. Ask Claude Code to make a plan. Check Claude's suggestions and give feedback if it's off-track. Over time, as users understand this new paradigm better, then they'll be more effective at letting Claude Code run more agentically.\n\n### Configure security policies\n\nSecurity teams can configure managed permissions for what Claude Code is and is not allowed to do, which cannot be overwritten by local configuration. [Learn more](/en/security).\n\n### Leverage MCP for integrations\n\nMCP is a great way to give Claude Code more information, such as connecting to ticket management systems or error logs. We recommend that one central team configures MCP servers and checks a `.mcp.json` configuration into the codebase so that all users benefit. [Learn more](/en/mcp).\n\nAt Anthropic, we trust Claude Code to power development across every Anthropic codebase. We hope you enjoy using Claude Code as much as we do.\n\n## Next steps\n\nOnce you've chosen a deployment option and configured access for your team:\n\n1. **Roll out to your team**: Share installation instructions and have team members [install Claude Code](/en/setup) and authenticate with their credentials.\n2. **Set up shared configuration**: Create a [CLAUDE.md file](/en/memory) in your repositories to help Claude Code understand your codebase and coding standards.\n3. **Configure permissions**: Review [security settings](/en/security) to define what Claude Code can and cannot do in your environment.\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt","durationMs":209,"url":"https://code.claude.com/docs/en/third-party-integrations.md"}}
{"parentUuid":"81a87ae4-3f01-4c56-af95-6d8bcbb7bf0a","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"82c162d2-f7ef-4cdf-8828-6f469a0aa1c3","version":"2.0.76","gitBranch":"","agentId":"ae65dfa","slug":"idempotent-cooking-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01VBuyQKoPcAkjoxZdU8KUmg","type":"message","role":"assistant","content":[{"type":"text","text":"Perfect! I now have comprehensive information about model configuration. Let me provide you with a detailed answer.\n\n## Model Configuration in Claude Code\n\nBased on the official documentation, here's how model configuration works:\n\n### 1. **How to Add Custom Model Providers**\n\nClaude Code supports multiple model providers through configuration:\n\n**Built-in Providers:**\n- Anthropic API (Console)\n- Amazon Bedrock\n- Google Vertex AI\n- Microsoft Foundry\n\n**Custom Providers via LLM Gateway:**\nFor custom providers, use an LLM gateway (like [LiteLLM](https://docs.litellm.ai/)):\n\n```bash\n# Set the gateway endpoint (unified format recommended)\nexport ANTHROPIC_BASE_URL=https://your-gateway.com\n\n# Or provider-specific endpoints\nexport ANTHROPIC_BEDROCK_BASE_URL=https://your-gateway.com/bedrock\nexport ANTHROPIC_VERTEX_BASE_URL=https://your-gateway.com/vertex\n```\n\nThe gateway acts as a proxy between Claude Code and your model providers, enabling centralized authentication, usage tracking, cost controls, and audit logging.\n\n### 2. **How the /model Command Works**\n\nThe `/model` command switches models mid-session with this priority order:\n\n```bash\n# During session (highest priority)\n/model opus\n/model sonnet\n/model haiku\n\n# At startup\nclaude --model opus\n\n# Environment variable\nexport ANTHROPIC_MODEL=sonnet\n\n# Settings file (lowest priority)\n# In ~/.claude/settings.json or project settings\n{ \"model\": \"opus\" }\n```\n\n**Available model aliases:**\n- `default` - Recommended model (depends on account type)\n- `sonnet` - Latest Sonnet (currently 4.5) for daily coding\n- `opus` - Opus 4.5 for complex reasoning\n- `haiku` - Fast/efficient for simple tasks\n- `opusplan` - Opus for planning, Sonnet for execution\n- `sonnet[1m]` - Sonnet with 1M token context window\n\n### 3. **How to Configure API Keys for Different Providers**\n\n**Static API Key (simplest):**\n```bash\nexport ANTHROPIC_AUTH_TOKEN=sk-your-api-key\n\n# Or in settings\n{ \"env\": { \"ANTHROPIC_AUTH_TOKEN\": \"sk-your-api-key\" } }\n```\n\n**Dynamic API Key with Helper (rotating/per-user):**\n```bash\n# Create ~/bin/get-api-key.sh that outputs your key\n#!/bin/bash\nvault kv get -field=api_key secret/my-api-key\n\n# Configure in settings\n{ \"apiKeyHelper\": \"~/bin/get-api-key.sh\" }\n\n# Set refresh interval (in milliseconds)\nexport CLAUDE_CODE_API_KEY_HELPER_TTL_MS=3600000\n```\n\n**Provider-Specific Configuration:**\n\nFor Bedrock:\n```bash\nexport CLAUDE_CODE_USE_BEDROCK=1\nexport AWS_REGION=us-east-1\n```\n\nFor Vertex AI:\n```bash\nexport CLAUDE_CODE_USE_VERTEX=1\nexport CLOUD_ML_REGION=us-east5\nexport ANTHROPIC_VERTEX_PROJECT_ID=your-project-id\n```\n\nFor Foundry:\n```bash\nexport CLAUDE_CODE_USE_FOUNDRY=1\nexport ANTHROPIC_FOUNDRY_RESOURCE=your-resource\nexport ANTHROPIC_FOUNDRY_API_KEY=your-api-key\n```\n\n### 4. **Model Alias Configuration via Environment Variables**\n\nOverride default model mappings:\n\n```bash\n# Map aliases to specific model names\nexport ANTHROPIC_DEFAULT_OPUS_MODEL=claude-opus-4-5-20251101\nexport ANTHROPIC_DEFAULT_SONNET_MODEL=claude-sonnet-4-5-20250929\nexport ANTHROPIC_DEFAULT_HAIKU_MODEL=claude-haiku-4-5-20251001\n\n# For subagents\nexport CLAUDE_CODE_SUBAGENT_MODEL=claude-sonnet-4-5-20250929\n```\n\n### 5. **MCP Server Integration for Model Switching**\n\nWhile Claude Code doesn't have built-in MCP support specifically for model switching, you can:\n\n- **Use MCP servers to provide context** that helps Claude Code make better decisions\n- **Configure subagents with different models** for specialized tasks using the subagent system\n- **Leverage the gateway pattern** where an MCP-enabled gateway handles model routing\n\n### 6. **Prompt Caching Configuration**\n\nClaude Code automatically uses prompt caching to optimize costs:\n\n```bash\n# Disable for all models\nexport DISABLE_PROMPT_CACHING=1\n\n# Disable for specific models\nexport DISABLE_PROMPT_CACHING_SONNET=1\nexport DISABLE_PROMPT_CACHING_OPUS=1\nexport DISABLE_PROMPT_CACHING_HAIKU=1\n```\n\n### 7. **Check Current Configuration**\n\n```bash\n/status          # Shows current model and account info\n/model           # View current model\n```\n\n### Key Takeaway\n\nFor your setup in `/Users/imorgado/Desktop/Projects/komplete-kontrol-cli`, you're currently configured with `\"model\": \"sonnet\"` in your settings. You can:\n- Switch models temporarily with `/model opus`\n- Add custom providers via LLM gateway configuration\n- Use API key helpers for rotating/dynamic authentication\n- Configure cloud provider integrations for enterprise deployments\n\nDocumentation sources:\n- [Model configuration](https://code.claude.com/docs/en/model-config.md)\n- [LLM gateway configuration](https://code.claude.com/docs/en/llm-gateway.md)\n- [Third-party integrations](https://code.claude.com/docs/en/third-party-integrations.md)"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":4921,"cache_read_input_tokens":18061,"cache_creation":{"ephemeral_5m_input_tokens":4921,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX3mAvn26DTooBt1dmUwV","type":"assistant","uuid":"ca3a838e-b670-447b-b1fe-2aae972220cf","timestamp":"2026-01-12T16:00:24.225Z"}
