256:`);Cp1()};return process.on("exit",A),()=>{process.off("exit",A)}},[])}function XU3(A,Q){return Math.round(A*Q)/Q}function atA(A,Q,B){uv0(A,Q,B),ev0()?.add(A,{model:B}),cCA()?.add(Q.input_tokens,{type:"input",model:B}),cCA()?.add(Q.output_tokens,{type:"output",model:B}),cCA()?.add(Q.cache_read_input_tokens??0,{type:"cacheRead",model:B}),cCA()?.add(Q.cache_creation_input_tokens??0,{type:"cacheCreation",model:B})}var IsQ;var IR=w(()=>{t6();m2();IQ();q0();q0();q0();oj();q0();IsQ=c(JA(),1)});function IU3(A,Q){return Q.input_tokens/1e6*A.inputTokens+Q.output_tokens/1e6*A.outputTokens+(Q.cache_read_input_tokens??0)/1e6*A.promptCacheReadTokens+(Q.cache_creation_input_tokens??0)/1e6*A.promptCacheWriteTokens+(Q.server_tool_use?.web_search_requests??0)*A.webSearchRequests}function WU3(A){return A.input_tokens+(A.cache_read_input_tokens??0)+(A.cache_creation_input_tokens??0)}function DU3(A,Q){let B=Nz(A),G=DsQ[B];if(G===m0A&&WU3(Q)>200000)return Up1;if(!G)return p("tengu_unknown_model_cost",{model:A,shortName:B}),y$1(),DsQ[Nz(VsQ)];return G}function ttA(A,Q){let B=DU3(A,Q);return IU3(B,Q)}function KsQ(A){if(Number.isInteger(A))return`$${A}`;return`$${A.toFixed(2)}`}function Dn(A){return`${KsQ(A.inputTokens)}/${KsQ(A.outputTokens)} per Mtok`}var m0A,rtA,stA,Up1,qp1,Np1,DsQ;var etA=w(()=>{IR();Z0();SqA();m2();m0A={inputTokens:3,outputTokens:15,promptCacheWriteTokens:3.75,promptCacheReadTokens:0.3,webSearchRequests:0.01},rtA={inputTokens:15,outputTokens:75,promptCacheWriteTokens:18.75,promptCacheReadTokens:1.5,webSearchRequests:0.01},stA={inputTokens:5,outputTokens:25,promptCacheWriteTokens:6.25,promptCacheReadTokens:0.5,webSearchRequests:0.01},Up1={inputTokens:6,outputTokens:22.5,promptCacheWriteTokens:7.5,promptCacheReadTokens:0.6,webSearchRequests:0.01},qp1={inputTokens:0.8,outputTokens:4,promptCacheWriteTokens:1,promptCacheReadTokens:0.08,webSearchRequests:0.01},Np1={inputTokens:1,outputTokens:5,promptCacheWriteTokens:1.25,promptCacheReadTokens:0.1,webSearchRequests:0.01},DsQ={[Nz(RqA.firstParty)]:qp1,[Nz(_qA.firstParty)]:Np1,[Nz(MqA.firstParty)]:m0A,[Nz(OqA.firstParty)]:m0A,[Nz(v1A.firstParty)]:m0A,[Nz(jqA.firstParty)]:rtA,[Nz(TqA.firstParty)]:rtA,[Nz(PqA.firstParty)]:stA,...{}}});function Kn(){let A=process.env.CLAUDE_AGENT_SDK_VERSION?`, agent-sdk/${process.env.CLAUDE_AGENT_SDK_VERSION}`:"";return`claude-cli/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.1.5",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2026-01-11T21:29:41Z"}.VERSION} (external, ${process.env.CLAUDE_CODE_ENTRYPOINT}${A})`}function d0A(){return`claude-code/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.1.5",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2026-01-11T21:29:41Z"}.VERSION}`}function RW(){return`claude-code/${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.1.5",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2026-01-11T21:29:41Z"}.VERSION}`}function HJ(){if(OB()){let Q=f4();if(!Q?.accessToken)return{headers:{},error:"No OAuth token available"};return{headers:{Authorization:`Bearer ${Q.accessToken}`,"anthropic-beta":dl}}}let A=uw();if(!A)return{headers:{},error:"No API key available"};return{headers:{"x-api-key":A}}}var wz=w(()=>{eB();ZX()});async function VU3(){let A=O3()?.organizationUuid;if(!A)throw Error("No organization ID available");let Q=HJ();if(Q.error)throw Error(`Auth error: ${Q.error}`);let B={"Content-Type":"application/json","User-Agent":RW(),...Q.headers};try{let G=`https://api.anthropic.com/api/organization/${A}/claude_code_sonnet_1m_access`,Z=await fQ.get(G,{headers:B,timeout:5000});return{hasAccess:Z.data.has_access,hasAccessNotAsDefault:Z.data.has_access_not_as_default,hasError:!1}}catch(G){return s(G),{hasAccess:!1,hasError:!0}}}async function HU3(){try{return await FU3()}catch(A){return k("Sonnet-1M access check failed, defaulting to no access"),{hasAccess:!1,hasError:!0}}}function Vn(){let A=O3()?.organizationUuid;if(!A)return{hasAccess:!1,wasPartOfDefaultRollout:!1,needsRefresh:!1};let Q=R1(),B=(OB()?Q.s1mAccessCache:Q.s1mNonSubscriberAccessCache)?.[A],G=Date.now();if(!B)return{hasAccess:!1,wasPartOfDefaultRollout:!1,needsRefresh:!0};let{hasAccess:Z,hasAccessNotAsDefault:Y,timestamp:J}=B,X=G-J>EU3;return{hasAccess:Z||(Y??!1),wasPartOfDefaultRollout:Z,needsRefresh:X}}async function FsQ(){let{needsRefresh:A}=Vn();if(A)zU3()}async function zU3(){let A=O3()?.organizationUuid;if(!A)return;if(!OB()){let Q=await liA();if(!Q)return;let{uuid:B,rate_limit_tier:G}=Q.organization,Z={hasAccess:G==="auto_prepaid_tier_3"||G==="manual_tier_3",timestamp:Date.now()};h0((Y)=>({...Y,s1mNonSubscriberAccessCache:{...Y.s1mNonSubscriberAccessCache,[B]:Z}}));return}try{let{hasAccess:Q,hasAccessNotAsDefault:B}=await HU3(),G={hasAccess:Q,hasAccessNotAsDefault:B,timestamp:Date.now()};h0((Z)=>({...Z,s1mAccessCache:{...Z.s1mAccessCache,[A]:G}}))}catch(Q){k("Failed to fetch and cache Sonnet-1M access"),s(Q)}}var KU3=3600000,FU3,EU3=3600000;var AeA=w(()=>{f5();miA();wz();y1();f1();IQ();eB();FqA();FU3=uiA(VU3,KU3)});function $U3(){return"inherit"}function _W(){return process.env.ANTHROPIC_SMALL_FAST_MODEL||Lp1()}function VJA(A){return A===rX().opus40||A===rX().opus41||A===rX().opus45}function BeA(A){return A.includes("opus")}function GeA(){let A,Q=nv0();if(Q!==void 0)A=Q;else{let B=NQ()||{};A=process.env.ANTHROPIC_MODEL||B.model||void 0}if(OB()&&!DR()&&A&&BeA(A))return;return A}function p0A(A={}){let Q=GeA();if(Q!==null&&Q!==void 0)return Q;let{forDisplay:B=!1}=A;return zsQ(B)}function d3(){let A=p0A();if(A!==void 0&&A!==null)return KX(A);return Bu()}function WR(){if(process.env.ANTHROPIC_DEFAULT_SONNET_MODEL)return process.env.ANTHROPIC_DEFAULT_SONNET_MODEL;return rX().sonnet45}function yLA(){return E6()==="max"}function vLA(){return E6()==="team"}function ZeA(){return E6()==="pro"}function c0A(){if(process.env.ANTHROPIC_DEFAULT_OPUS_MODEL)return process.env.ANTHROPIC_DEFAULT_OPUS_MODEL;if(a4()==="firstParty")return rX().opus45;return rX().opus41}function Lp1(){if(process.env.ANTHROPIC_DEFAULT_HAIKU_MODEL)return process.env.ANTHROPIC_DEFAULT_HAIKU_MODEL;return rX().haiku45}function FJA(){return AY("tengu_opus_default_pro_plan","opus_is_default",!1)}function l0A(A){let{permissionMode:Q,mainLoopModel:B,exceeds200kTokens:G=!1}=A;if(p0A()==="opusplan"&&Q==="plan"&&!G)return c0A();if(p0A()==="haiku"&&Q==="plan")return WR();return B}function Op1(){if(!OB())return!1;let{hasAccess:A}=Vn();if(!A)return!1;return AY("sonnet_1m_default","enabled",!1)}function zsQ(A){let Q=UU3();if(Q!==null&&Q.name)return A?Q.displayName??Q.name:Q.name;if(Op1())return"sonnet[1m]";return}function i0A(A={}){let{forDisplay:Q=!1}=A,B=zsQ(Q);if(B!==void 0)return B;if(yLA()||vLA())return c0A();if(ZeA()&&FJA())return c0A();return WR()}function Bu(A={}){return KX(i0A(A))}function Nz(A){if(A.includes("claude-opus-4-5"))return"claude-opus-4-5";if(A.includes("claude-opus-4-1"))return"claude-opus-4-1";if(A.includes("claude-opus-4"))return"claude-opus-4";let Q=A.match(/(claude-(\d+-\d+-)?\w+)/);if(Q&&Q[1])return Q[1];return A}async function CsQ(){try{if(R1().claudeCodeFirstTokenDate!==void 0)return;let Q=HJ();if(Q.error){s(Error(`Failed to get auth headers: ${Q.error}`));return}let G=`${b9().BASE_API_URL}/api/organization/claude_code_first_token_date`,Y=(await fQ.get(G,{headers:{...Q.headers,"User-Agent":RW()}})).data?.first_token_date??null;if(Y!==null){let J=new Date(Y).getTime();if(isNaN(J)){s(Error(`Received invalid first_token_date from API: ${Y}`));return}}h0((J)=>({...J,claudeCodeFirstTokenDate:Y}))}catch(A){s(A instanceof Error?A:Error(String(A)))}}function xLA(){if(Op1())return"Sonnet 4.5 with 1M context · Best for everyday tasks";if(yLA()||vLA())return"Opus 4.5 · Most capable for complex work";if(ZeA()&&FJA())return"Opus 4.5 · Most capable for complex work";return"Sonnet 4.5 · Best for everyday tasks"}function qU3(A){if(A==="opusplan")return"Opus 4.5 in plan mode, else Sonnet 4.5";return B$(KX(A))}function $sQ(A){if(A==="opusplan")return"Opus Plan";if(Rp1(A))return A.charAt(0).toUpperCase()+A.slice(1);return B$(A)}function UsQ(A){switch(A){case rX().opus45:return"Opus 4.5";case rX().opus41:return"Opus 4.1";case rX().opus40:return"Opus 4";case rX().sonnet45+"[1m]":return"Sonnet 4.5 (1M context)";case rX().sonnet45:return"Sonnet 4.5";case rX().sonnet40:return"Sonnet 4";case rX().sonnet40+"[1m]":return"Sonnet 4 (1M context)";case rX().sonnet37:return"Sonnet 3.7";case rX().sonnet35:return"Sonnet 3.5";case rX().haiku45:return"Haiku 4.5";case rX().haiku35:return"Haiku 3.5";default:return null}}function B$(A){let Q=UsQ(A);if(Q)return Q;return A}function qsQ(A){let Q=UsQ(A);if(Q)return`Claude ${Q}`;return"Claude"}function Fn(){if(OB()){if(!DR())return{value:null,label:"Sonnet",description:Mp1.description};if(ZeA()&&FJA())return{value:null,label:"Opus",description:xLA()};return{value:null,label:"Default (recommended)",description:xLA()}}return{value:null,label:"Default (recommended)",description:`Use the default model (currently ${qU3(i0A({forDisplay:!0}))}) · ${Dn(m0A)}`}}function LU3(){return Lp1()===rX().haiku45?LsQ:wU3}function RU3(){let A=LsQ;if(OB()){if(!DR())return[Fn(),QeA];if(yLA()||vLA()){let G=[Fn(),EsQ];if(Vn().hasAccess)G.push(HsQ);return G.push(QeA),G}if(ZeA()&&FJA())return[Fn(),EsQ,QeA];let B=[Fn(),OU3];if(Op1())B.push({value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 with 200K context"});else if(Vn().hasAccess)B.push(HsQ);return B.push(QeA),B}let Q=[Fn(),wsQ()];if(a4()!=="firstParty")Q.push(NU3());if(Vn().hasAccess)Q.push(NsQ);if(A)Q.push(A);return Q}function HJA(){let A=RU3(),Q=null,B=GeA(),G=OmA();if(B!==void 0&&B!==null)Q=B;else if(G!==null)Q=G;if(Q===null||A.some((Z)=>Z.value===Q))return A;if(Q==="opusplan")return[...A,MU3()];if(!OB()&&Rp1(Q))if(Q==="sonnet")A.push(Mp1);else if(Q==="sonnet[1m]")A.push(NsQ);else if(Q==="opus")A.push(wsQ());else if(Q==="haiku")A.push(LU3());else A.push({value:Q,label:Q,description:"Custom model"});else A.push({value:Q,label:Q,description:"Custom model"});return A}function Rp1(A){return DJA.includes(A)}function KX(A){let Q=A.trim(),B=Q.toLowerCase(),G=B.endsWith("[1m]"),Z=G?B.replace(/\[1m]$/i,"").trim():B;if(Rp1(Z))switch(Z){case"opusplan":return WR()+(G?"[1m]":"");case"sonnet":return WR()+(G?"[1m]":"");case"haiku":return Lp1()+(G?"[1m]":"");case"opus":return c0A();default:}if(G)return Q.replace(/\[1m\]$/i,"").trim()+"[1m]";return Q}function vT(A){if(A===null){if(OB()&&!DR())return`Sonnet (${Mp1.description})`;else if(OB())return`Default (${xLA()})`;return`Default (${Bu({forDisplay:!0})})`}let Q=KX(A);return A===Q?Q:`${A} (${Q})`}function EJA(A,Q,B,G){if(process.env.CLAUDE_CODE_SUBAGENT_MODEL)return process.env.CLAUDE_CODE_SUBAGENT_MODEL;let Z=Hp1(Q),Y=(X)=>{if(Z&&a4()==="bedrock")return JsQ(X,Z);return X};if(B)return Y(KX(B));let J=A??$U3();if(!J)return Y(KX(wp1));if(J==="inherit")return l0A({permissionMode:G??"default",mainLoopModel:Q,exceeds200kTokens:!1});return Y(KX(J))}function YeA(A){if(!A)return"Sonnet (default)";if(A==="inherit")return"Inherit from parent";return A.charAt(0).toUpperCase()+A.slice(1)}function OsQ(){let A=[{value:"sonnet",label:"Sonnet",description:"Balanced performance - best for most agents"}];if(DR())A.push({value:"opus",label:"Opus",description:"Most capable for complex reasoning tasks"});return A.push({value:"haiku",label:"Haiku",description:"Fast and efficient for simple tasks"},{value:"inherit",label:"Inherit from parent",description:"Use the same model as the main conversation"}),A}function Gu(A){return A.replace(/\[(1|2)m\]/gi,"")}var DJA,CU3,VsQ,KJA,wp1="sonnet",UU3,Mp1,NsQ,wsQ=()=>{let A=a4()!=="firstParty";return{value:"opus",label:A?"Opus 4.1":"Opus",description:`Opus ${A?"4.1":"4.5"} · ${A?"Legacy":"Most capable for complex work"} · ${Dn(A?rtA:stA)}`,descriptionForModel:A?"Opus 4.1 - legacy version":"Opus 4.5 - most capable for complex work"}},NU3=()=>{return{value:rX().opus45,label:"Opus 4.5",description:`Opus 4.5 · Most capable for complex work · ${Dn(stA)}`,descriptionForModel:"Opus 4.5 - most capable for complex work"}},LsQ,wU3,OU3,HsQ,EsQ,QeA,MU3=()=>{return{value:"opusplan",label:"Opus Plan Mode",description:"Use Opus 4.5 in plan mode, Sonnet 4.5 otherwise"}};var m2=w(()=>{X9();IQ();q0();eB();SqA();Ep1();etA();GB();VX();Zu();f5();ZX();f1();wz();AeA();jD();jLA();M3();DJA=["sonnet","opus","haiku","sonnet[1m]","opusplan"],CU3=v1A,VsQ=CU3.firstParty,KJA=[...DJA,"inherit"];UU3=W0(()=>{return null});Mp1={value:"sonnet",label:"Sonnet",description:`Sonnet 4.5 · Best for everyday tasks · ${Dn(m0A)}`,descriptionForModel:"Sonnet 4.5 - best for everyday tasks. Generally recommended for most coding tasks"},NsQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:`Sonnet 4.5 for long sessions · ${Dn(Up1)}`,descriptionForModel:"Sonnet 4.5 with 1M context window - for long sessions with large codebases"},LsQ={value:"haiku",label:"Haiku",description:`Haiku 4.5 · Fastest for quick answers · ${Dn(Np1)}`,descriptionForModel:"Haiku 4.5 - fastest for quick answers. Lower cost but less capable than Sonnet 4.5."},wU3={value:"haiku",label:"Haiku",description:`Haiku 3.5 for simple tasks · ${Dn(qp1)}`,descriptionForModel:"Haiku 3.5 - faster and lower cost, but less capable than Sonnet. Use for simple tasks."};OU3={value:"opus",label:"Opus",description:"Opus 4.5 · Most capable for complex work"},HsQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:"Sonnet 4.5 with 1M context · Uses rate limits faster"},EsQ={value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 · Best for everyday tasks"},QeA={value:"haiku",label:"Haiku",description:"Haiku 4.5 · Fastest for quick answers"}});import{AsyncLocalStorage as _U3}from"async_hooks";function RsQ(){return MsQ.getStore()}function JeA(A,Q){return MsQ.run(A,Q)}var MsQ;var _p1=w(()=>{MsQ=new _U3});function f9(A){if(A.startsWith("mcp__"))return"mcp_tool";return A}function TU3(){let A=RsQ();if(A)return{agentId:A.agentId,parentSessionId:A.parentSessionId,agentType:A.agentType};return{...{},...process.env.CLAUDE_CODE_PARENT_SESSION_ID?{parentSessionId:process.env.CLAUDE_CODE_PARENT_SESSION_ID}:{}}}function xU3(){return}async function Hn(A={}){let Q=A.model?String(A.model):d3(),B=TH(Q),G=await SU3(),Z=xU3();return{model:Q,sessionId:E0(),userType:"external",...B.length>0?{betas:B.join(",")}:{},envContext:G,...process.env.CLAUDE_CODE_ENTRYPOINT&&{entrypoint:process.env.CLAUDE_CODE_ENTRYPOINT},...process.env.CLAUDE_AGENT_SDK_VERSION&&{agentSdkVersion:process.env.CLAUDE_AGENT_SDK_VERSION},isInteractive:String(jmA()),clientType:TmA(),...Z&&{processMetrics:Z},sweBenchRunId:process.env.SWE_BENCH_RUN_ID||"",sweBenchInstanceId:process.env.SWE_BENCH_INSTANCE_ID||"",sweBenchTaskId:process.env.SWE_BENCH_TASK_ID||"",...TU3()}}function _sQ(A,Q={}){let B={};for(let[G,Z]of Object.entries(Q))if(Z!==void 0)B[G]=String(Z);for(let[G,Z]of Object.entries(A)){if(Z===void 0)continue;if(G==="envContext")B.env=Q1(Z);else if(G==="processMetrics")B.process=Q1(Z);else B[G]=String(Z)}return B}function jsQ(A,Q={}){let{envContext:B,processMetrics:G,...Z}=A;return{...Q,...Z,env:B,...G&&{process:G},surface:jU3}}function TsQ(A,Q,B={}){let{envContext:G,processMetrics:Z,...Y}=A,J={platform:G.platform,arch:G.arch,node_version:G.nodeVersion,terminal:G.terminal||"unknown",package_managers:G.packageManagers,runtimes:G.runtimes,is_running_with_bun:G.isRunningWithBun,is_ci:G.isCi,is_claubbit:G.isClaubbit,is_claude_code_remote:G.isClaudeCodeRemote,is_local_agent_mode:G.isLocalAgentMode,is_conductor:G.isConductor,is_github_action:G.isGithubAction,is_claude_code_action:G.isClaudeCodeAction,is_claude_ai_auth:G.isClaudeAiAuth,version:G.version,build_time:G.buildTime,deployment_environment:G.deploymentEnvironment};if(G.remoteEnvironmentType)J.remote_environment_type=G.remoteEnvironmentType;if(G.claudeCodeContainerId)J.claude_code_container_id=G.claudeCodeContainerId;if(G.claudeCodeRemoteSessionId)J.claude_code_remote_session_id=G.claudeCodeRemoteSessionId;if(G.tags)J.tags=G.tags.split(",").map((I)=>I.trim()).filter(Boolean);if(G.githubEventName)J.github_event_name=G.githubEventName;if(G.githubActionsRunnerEnvironment)J.github_actions_runner_environment=G.githubActionsRunnerEnvironment;if(G.githubActionsRunnerOs)J.github_actions_runner_os=G.githubActionsRunnerOs;if(G.githubActionRef)J.github_action_ref=G.githubActionRef;if(G.wslVersion)J.wsl_version=G.wslVersion;if(G.versionBase)J.version_base=G.versionBase;let X={session_id:Y.sessionId,model:Y.model,user_type:Y.userType,is_interactive:Y.isInteractive==="true",client_type:Y.clientType};if(Y.betas)X.betas=Y.betas;if(Y.entrypoint)X.entrypoint=Y.entrypoint;if(Y.agentSdkVersion)X.agent_sdk_version=Y.agentSdkVersion;if(Y.sweBenchRunId)X.swe_bench_run_id=Y.sweBenchRunId;if(Y.sweBenchInstanceId)X.swe_bench_instance_id=Y.sweBenchInstanceId;if(Y.sweBenchTaskId)X.swe_bench_task_id=Y.sweBenchTaskId;if(Y.agentId)X.agent_id=Y.agentId;if(Y.parentSessionId)X.parent_session_id=Y.parentSessionId;if(Y.agentType)X.agent_type=Y.agentType;if(Q.githubActionsMetadata){let I=Q.githubActionsMetadata;J.github_actions_metadata={actor_id:I.actorId,repository_id:I.repositoryId,repository_owner_id:I.repositoryOwnerId}}return{env:J,...Z&&{process:Q1(Z)},core:X,additional:B}}var jU3="claude-code",PU3,SU3;var hD=w(()=>{X9();h3();y1A();Mq();m2();q0();bQ();eB();f3();_p1();e1();PU3=W0(()=>{let A={ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.1.5",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2026-01-11T21:29:41Z"}.VERSION.match(/^\d+\.\d+\.\d+(?:-[a-z]+)?/);return A?A[0]:void 0}),SU3=W0(async()=>{let[A,Q]=await Promise.all([n0.getPackageManagers(),n0.getRuntimes()]);return{platform:n0.platform,arch:n0.arch,nodeVersion:n0.nodeVersion,terminal:Yq.terminal,packageManagers:A.join(","),runtimes:Q.join(","),isRunningWithBun:n0.isRunningWithBun(),isCi:i1(!1),isClaubbit:process.env.CLAUBBIT==="true",isClaudeCodeRemote:process.env.CLAUDE_CODE_REMOTE==="true",isLocalAgentMode:process.env.CLAUDE_CODE_ENTRYPOINT==="local-agent",isConductor:n0.isConductor(),...process.env.CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE&&{remoteEnvironmentType:process.env.CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE},...process.env.CLAUDE_CODE_CONTAINER_ID&&{claudeCodeContainerId:process.env.CLAUDE_CODE_CONTAINER_ID},...process.env.CLAUDE_CODE_REMOTE_SESSION_ID&&{claudeCodeRemoteSessionId:process.env.CLAUDE_CODE_REMOTE_SESSION_ID},...process.env.CLAUDE_CODE_TAGS&&{tags:process.env.CLAUDE_CODE_TAGS},isGithubAction:process.env.GITHUB_ACTIONS==="true",isClaudeCodeAction:process.env.CLAUDE_CODE_ACTION==="1"||process.env.CLAUDE_CODE_ACTION==="true",isClaudeAiAuth:OB(),version:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.1.5",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2026-01-11T21:29:41Z"}.VERSION,versionBase:PU3(),buildTime:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.1.5",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2026-01-11T21:29:41Z"}.BUILD_TIME,deploymentEnvironment:n0.detectDeploymentEnvironment(),...process.env.GITHUB_ACTIONS==="true"&&{githubEventName:process.env.GITHUB_EVENT_NAME,githubActionsRunnerEnvironment:process.env.RUNNER_ENVIRONMENT,githubActionsRunnerOs:process.env.RUNNER_OS,githubActionRef:process.env.GITHUB_ACTION_PATH?.includes("claude-code-action/")?process.env.GITHUB_ACTION_PATH.split("claude-code-action/")[1]:void 0},...vAA()&&{wslVersion:vAA()}}})});function gD(){return i1(process.env.CLAUDE_CODE_USE_BEDROCK)||i1(process.env.CLAUDE_CODE_USE_VERTEX)||i1(process.env.CLAUDE_CODE_USE_FOUNDRY)||!!process.env.DISABLE_TELEMETRY||!!process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC}var Yu=w(()=>{bQ()});import{createHash as yU3}from"crypto";function kU3(A){let Q=En(!0),B={networkConfig:{api:"https://statsig.anthropic.com/v1/",networkTimeoutMs:30000},environment:{tier:["test","dev"].includes("production")?"development":"production"},includeCurrentPageUrlWithEvents:!1,logLevel:XeA.LogLevel.None,storageProvider:new wT1,customUserCacheKeyFunc:(Y,J)=>{return yU3("sha1").update(Y).update(J.userID||"").digest("hex").slice(0,10)}},G=new XeA.StatsigClient(A,Q,B);G.on("error",()=>{fQ.head("https://api.anthropic.com/api/hello").catch(()=>{})});let Z=G.initializeAsync();return process.on("beforeExit",async()=>{await G.flush()}),process.on("exit",()=>{G.flush()}),{client:G,initialized:Z}}function SsQ(){IeA.cache?.clear?.(),Ju.cache?.clear?.(),WeA.cache?.clear?.()}async function n0A(){if(gD())return;try{let A=En(!0),Q=await Ju();if(Q)await Q.updateUserAsync(A)}catch(A){s(A instanceof Error?A:Error(`Statsig: Force refresh failed: ${A}`))}}function xsQ(){if(gD())return;let A=setInterval(()=>{n0A()},vU3);process.on("beforeExit",()=>{clearInterval(A)})}async function jp1(A,Q){if(gD())return;try{let[B,G]=await Promise.all([Ju(),Hn({model:Q.model})]);if(!B)return;let Z=_sQ(G,Q),Y={eventName:A,metadata:Z};B.logEvent(Y),await B.flush()}catch(B){}}function ysQ(A,Q){jp1(A,Q)}function vsQ(){return{...PsQ}}function AY(A,Q,B){let G=IeA();if(!G)return B;let Z=G.client.getExperiment(A);if(!Z)return B;return Z.get(Q,B)}function kLA(A){return bU3(A),R1().cachedStatsigGates[A]??!1}var XeA,vU3=21600000,PsQ,IeA,Ju,WeA,bU3;var VX=w(()=>{X9();f5();SzQ();yzQ();lpA();Zu();y1();f1();IQ();hD();Yu();e1();XeA=c(PzQ(),1),PsQ={};IeA=W0(()=>{if(gD())return null;return kU3(Y9Q)}),Ju=W0(async()=>{let A=IeA();if(!A)return null;return await A.initialized,A.client});WeA=W0(async(A)=>{if(gD())return!1;let Q=IeA();if(!Q)return!1;await Q.initialized;let B=Q.client.checkGate(A);return PsQ[A]=B,B});bU3=W0(async(A)=>{let Q=await WeA(A);h0((B)=>{if(B.cachedStatsigGates[A]===Q)return B;return{...B,cachedStatsigGates:{...B.cachedStatsigGates,[A]:Q}}})})});function fU3(A){let Q=[],B=[];for(let G of A)if(ksQ.includes(G))Q.push(G);else B.push(G);return{allowed:Q,disallowed:B}}function bsQ(A){if(!A||A.length===0)return;if(OB()){console.warn("Warning: Custom betas are only available for API key users. Ignoring provided betas.");return}let{allowed:Q,disallowed:B}=fU3(A);for(let G of B)console.warn(`Warning: Beta header '${G}' is not allowed. Only the following betas are supported: ${ksQ.join(", ")}`);return Q.length>0?Q:void 0}function hU3(A){let Q=a4();if(Q==="foundry")return!0;if(Q==="firstParty")return!A.includes("claude-3-");return A.includes("claude-opus-4")||A.includes("claude-sonnet-4")}function gU3(A){let Q=A.toLowerCase();return Q.includes("claude-opus-4")||Q.includes("claude-sonnet-4")||Q.includes("claude-haiku-4")}function Tp1(A){return A.includes("-structured-")}function fsQ(){let A=a4();if(A==="vertex"||A==="bedrock")return vv0;return yv0}function uU3(){return(a4()==="firstParty"||a4()==="foundry")&&!i1(process.env.CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS)}function DeA(A){let Q=TH(A),B=Rw();if(!B||B.length===0)return Q;return[...Q,...B.filter((G)=>!Q.includes(G))]}function KeA(){Pp1.cache?.clear?.(),TH.cache?.clear?.(),Sp1.cache?.clear?.()}var ksQ,Pp1,TH,Sp1;var Mq=w(()=>{X9();q0();F5A();ZX();eB();bQ();jD();VX();M3();ksQ=[V5A];Pp1=W0((A)=>{let Q=[],B=A.includes("haiku"),G=a4(),Z=uU3();if(!B)Q.push(Pv0);if(OB())Q.push(dl);if(A.includes("[1m]"))Q.push(V5A);else if(A.includes("claude-sonnet-4-5")){if(AY("sonnet_45_1m_header","enabled",!1))Q.push(V5A)}if(!i1(process.env.DISABLE_INTERLEAVED_THINKING)&&hU3(A))Q.push(Sv0);let Y=Z&&AY("preserve_thinking","enabled",!1);if(i1(process.env.USE_API_CONTEXT_MANAGEMENT)&&!1||Y)Q.push(UmA);let J=y8("tengu_tool_pear");if(Tp1(A)&&J)Q.push(xv0);if(Z&&AY("tool_use_examples","enabled",!1))Q.push(qmA);if(G==="vertex"&&gU3(A))Q.push(_$1);if(G==="foundry")Q.push(_$1);if(process.env.ANTHROPIC_BETAS&&!B)Q.push(...process.env.ANTHROPIC_BETAS.split(",").map((X)=>X.trim()).filter(Boolean));return Q}),TH=W0((A)=>{let Q=Pp1(A);if(a4()==="bedrock")return Q.filter((B)=>!j$1.has(B));return Q}),Sp1=W0((A)=>{return Pp1(A).filter((B)=>j$1.has(B))})});var hp1=U((iU3)=>{iU3.HttpAuthLocation=void 0;(function(A){A.HEADER="header",A.QUERY="query"})(iU3.HttpAuthLocation||(iU3.HttpAuthLocation={}));iU3.HttpApiKeyAuthLocation=void 0;(function(A){A.HEADER="header",A.QUERY="query"})(iU3.HttpApiKeyAuthLocation||(iU3.HttpApiKeyAuthLocation={}));iU3.EndpointURLScheme=void 0;(function(A){A.HTTP="http",A.HTTPS="https"})(iU3.EndpointURLScheme||(iU3.EndpointURLScheme={}));iU3.AlgorithmId=void 0;(function(A){A.MD5="md5",A.CRC32="crc32",A.CRC32C="crc32c",A.SHA1="sha1",A.SHA256="sha256"})(iU3.AlgorithmId||(iU3.AlgorithmId={}));var mU3=(A)=>{let Q=[];if(A.sha256!==void 0)Q.push({algorithmId:()=>iU3.AlgorithmId.SHA256,checksumConstructor:()=>A.sha256});if(A.md5!=null)Q.push({algorithmId:()=>iU3.AlgorithmId.MD5,checksumConstructor:()=>A.md5});return{addChecksumAlgorithm(B){Q.push(B)},checksumAlgorithms(){return Q}}},dU3=(A)=>{let Q={};return A.checksumAlgorithms().forEach((B)=>{Q[B.algorithmId()]=B.checksumConstructor()}),Q},pU3=(A)=>{return mU3(A)},cU3=(A)=>{return dU3(A)};iU3.FieldPosition=void 0;(function(A){A[A.HEADER=0]="HEADER",A[A.TRAILER=1]="TRAILER"})(iU3.FieldPosition||(iU3.FieldPosition={}));var lU3="__smithy_context";iU3.IniSectionType=void 0;(function(A){A.PROFILE="profile",A.SSO_SESSION="sso-session",A.SERVICES="services"})(iU3.IniSectionType||(iU3.IniSectionType={}));iU3.RequestHandlerProtocol=void 0;(function(A){A.HTTP_0_9="http/0.9",A.HTTP_1_0="http/1.0",A.TDS_8_0="tds/8.0"})(iU3.RequestHandlerProtocol||(iU3.RequestHandlerProtocol={}));iU3.SMITHY_CONTEXT_KEY=lU3;iU3.getDefaultClientConfiguration=pU3;iU3.resolveDefaultRuntimeConfig=cU3});var a0A=U((CJA)=>{var usQ=Bv(),pp1=Iq(),up1=hp1(),rU3=IX(),hsQ=Xq();class msQ{config;middlewareStack=usQ.constructStack();initConfig;handlers;constructor(A){this.config=A}send(A,Q,B){let G=typeof Q!=="function"?Q:void 0,Z=typeof Q==="function"?Q:B,Y=G===void 0&&this.config.cacheMiddleware===!0,J;if(Y){if(!this.handlers)this.handlers=new WeakMap;let X=this.handlers;if(X.has(A.constructor))J=X.get(A.constructor);else J=A.resolveMiddleware(this.middlewareStack,this.config,G),X.set(A.constructor,J)}else delete this.handlers,J=A.resolveMiddleware(this.middlewareStack,this.config,G);if(Z)J(A).then((X)=>Z(null,X.output),(X)=>Z(X)).catch(()=>{});else return J(A).then((X)=>X.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}var gp1="***SensitiveInformation***";function mp1(A,Q){if(Q==null)return Q;let B=rU3.NormalizedSchema.of(A);if(B.getMergedTraits().sensitive)return gp1;if(B.isListSchema()){if(!!B.getValueSchema().getMergedTraits().sensitive)return gp1}else if(B.isMapSchema()){if(!!B.getKeySchema().getMergedTraits().sensitive||!!B.getValueSchema().getMergedTraits().sensitive)return gp1}else if(B.isStructSchema()&&typeof Q==="object"){let G=Q,Z={};for(let[Y,J]of B.structIterator())if(G[Y]!=null)Z[Y]=mp1(J,G[Y]);return Z}return Q}class cp1{middlewareStack=usQ.constructStack();schema;static classBuilder(){return new dsQ}resolveMiddlewareWithContext(A,Q,B,{middlewareFn:G,clientName:Z,commandName:Y,inputFilterSensitiveLog:J,outputFilterSensitiveLog:X,smithyContext:I,additionalContext:W,CommandCtor:D}){for(let E of G.bind(this)(D,A,Q,B))this.middlewareStack.use(E);let K=A.concat(this.middlewareStack),{logger:V}=Q,F={logger:V,clientName:Z,commandName:Y,inputFilterSensitiveLog:J,outputFilterSensitiveLog:X,[up1.SMITHY_CONTEXT_KEY]:{commandInstance:this,...I},...W},{requestHandler:H}=Q;return K.resolve((E)=>H.handle(E.request,B||{}),F)}}class dsQ{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(A){this._init=A}ep(A){return this._ep=A,this}m(A){return this._middlewareFn=A,this}s(A,Q,B={}){return this._smithyContext={service:A,operation:Q,...B},this}c(A={}){return this._additionalContext=A,this}n(A,Q){return this._clientName=A,this._commandName=Q,this}f(A=(B)=>B,Q=(B)=>B){return this._inputFilterSensitiveLog=A,this._outputFilterSensitiveLog=Q,this}ser(A){return this._serializer=A,this}de(A){return this._deserializer=A,this}sc(A){return this._operationSchema=A,this._smithyContext.operationSchema=A,this}build(){let A=this,Q;return Q=class extends cp1{input;static getEndpointParameterInstructions(){return A._ep}constructor(...[B]){super();this.input=B??{},A._init(this),this.schema=A._operationSchema}resolveMiddleware(B,G,Z){let Y=A._operationSchema,J=Y?.[4]??Y?.input,X=Y?.[5]??Y?.output;return this.resolveMiddlewareWithContext(B,G,Z,{CommandCtor:Q,middlewareFn:A._middlewareFn,clientName:A._clientName,commandName:A._commandName,inputFilterSensitiveLog:A._inputFilterSensitiveLog??(Y?mp1.bind(null,J):(I)=>I),outputFilterSensitiveLog:A._outputFilterSensitiveLog??(Y?mp1.bind(null,X):(I)=>I),smithyContext:A._smithyContext,additionalContext:A._additionalContext})}serialize=A._serializer;deserialize=A._deserializer}}}var sU3="***SensitiveInformation***",tU3=(A,Q)=>{for(let B of Object.keys(A)){let G=A[B],Z=async function(J,X,I){let W=new G(J);if(typeof X==="function")this.send(W,X);else if(typeof I==="function"){if(typeof X!=="object")throw Error(`Expected http options but got ${typeof X}`);this.send(W,X||{},I)}else return this.send(W,X)},Y=(B[0].toLowerCase()+B.slice(1)).replace(/Command$/,"");Q.prototype[Y]=Z}};class zJA extends Error{$fault;$response;$retryable;$metadata;constructor(A){super(A.message);Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=A.name,this.$fault=A.$fault,this.$metadata=A.$metadata}static isInstance(A){if(!A)return!1;let Q=A;return zJA.prototype.isPrototypeOf(Q)||Boolean(Q.$fault)&&Boolean(Q.$metadata)&&(Q.$fault==="client"||Q.$fault==="server")}static[Symbol.hasInstance](A){if(!A)return!1;let Q=A;if(this===zJA)return zJA.isInstance(A);if(zJA.isInstance(A)){if(Q.name&&this.name)return this.prototype.isPrototypeOf(A)||Q.name===this.name;return this.prototype.isPrototypeOf(A)}return!1}}var psQ=(A,Q={})=>{Object.entries(Q).filter(([,G])=>G!==void 0).forEach(([G,Z])=>{if(A[G]==null||A[G]==="")A[G]=Z});let B=A.message||A.Message||"UnknownError";return A.message=B,delete A.Message,A},csQ=({output:A,parsedBody:Q,exceptionCtor:B,errorCode:G})=>{let Z=Aq3(A),Y=Z.httpStatusCode?Z.httpStatusCode+"":void 0,J=new B({name:Q?.code||Q?.Code||G||Y||"UnknownError",$fault:"client",$metadata:Z});throw psQ(J,Q)},eU3=(A)=>{return({output:Q,parsedBody:B,errorCode:G})=>{csQ({output:Q,parsedBody:B,exceptionCtor:A,errorCode:G})}},Aq3=(A)=>({httpStatusCode:A.statusCode,requestId:A.headers["x-amzn-requestid"]??A.headers["x-amzn-request-id"]??A.headers["x-amz-request-id"],extendedRequestId:A.headers["x-amz-id-2"],cfId:A.headers["x-amz-cf-id"]}),Qq3=(A)=>{switch(A){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:30000};default:return{}}},gsQ=!1,Bq3=(A)=>{if(A&&!gsQ&&parseInt(A.substring(1,A.indexOf(".")))<16)gsQ=!0},Gq3=(A)=>{let Q=[];for(let B in up1.AlgorithmId){let G=up1.AlgorithmId[B];if(A[G]===void 0)continue;Q.push({algorithmId:()=>G,checksumConstructor:()=>A[G]})}return{addChecksumAlgorithm(B){Q.push(B)},checksumAlgorithms(){return Q}}},Zq3=(A)=>{let Q={};return A.checksumAlgorithms().forEach((B)=>{Q[B.algorithmId()]=B.checksumConstructor()}),Q},Yq3=(A)=>{return{setRetryStrategy(Q){A.retryStrategy=Q},retryStrategy(){return A.retryStrategy}}},Jq3=(A)=>{let Q={};return Q.retryStrategy=A.retryStrategy(),Q},lsQ=(A)=>{return Object.assign(Gq3(A),Yq3(A))},Xq3=lsQ,Iq3=(A)=>{return Object.assign(Zq3(A),Jq3(A))},Wq3=(A)=>Array.isArray(A)?A:[A],isQ=(A)=>{for(let B in A)if(A.hasOwnProperty(B)&&A[B]["#text"]!==void 0)A[B]=A[B]["#text"];else if(typeof A[B]==="object"&&A[B]!==null)A[B]=isQ(A[B]);return A},Dq3=(A)=>{return A!=null};class nsQ{trace(){}debug(){}info(){}warn(){}error(){}}function asQ(A,Q,B){let G,Z,Y;if(typeof Q>"u"&&typeof B>"u")G={},Y=A;else if(G=A,typeof Q==="function")return Z=Q,Y=B,Fq3(G,Z,Y);else Y=Q;for(let J of Object.keys(Y)){if(!Array.isArray(Y[J])){G[J]=Y[J];continue}osQ(G,null,Y,J)}return G}var Kq3=(A)=>{let Q={};for(let[B,G]of Object.entries(A||{}))Q[B]=[,G];return Q},Vq3=(A,Q)=>{let B={};for(let G in Q)osQ(B,A,Q,G);return B},Fq3=(A,Q,B)=>{return asQ(A,Object.entries(B).reduce((G,[Z,Y])=>{if(Array.isArray(Y))G[Z]=Y;else if(typeof Y==="function")G[Z]=[Q,Y()];else G[Z]=[Q,Y];return G},{}))},osQ=(A,Q,B,G)=>{if(Q!==null){let J=B[G];if(typeof J==="function")J=[,J];let[X=Hq3,I=Eq3,W=G]=J;if(typeof X==="function"&&X(Q[W])||typeof X!=="function"&&!!X)A[G]=I(Q[W]);return}let[Z,Y]=B[G];if(typeof Y==="function"){let J,X=Z===void 0&&(J=Y())!=null,I=typeof Z==="function"&&!!Z(void 0)||typeof Z!=="function"&&!!Z;if(X)A[G]=J;else if(I)A[G]=Y()}else{let J=Z===void 0&&Y!=null,X=typeof Z==="function"&&!!Z(Y)||typeof Z!=="function"&&!!Z;if(J||X)A[G]=Y}},Hq3=(A)=>A!=null,Eq3=(A)=>A,zq3=(A)=>{if(A!==A)return"NaN";switch(A){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return A}},Cq3=(A)=>A.toISOString().replace(".000Z","Z"),dp1=(A)=>{if(A==null)return{};if(Array.isArray(A))return A.filter((Q)=>Q!=null).map(dp1);if(typeof A==="object"){let Q={};for(let B of Object.keys(A)){if(A[B]==null)continue;Q[B]=dp1(A[B])}return Q}return A};Object.defineProperty(CJA,"collectBody",{enumerable:!0,get:function(){return pp1.collectBody}});Object.defineProperty(CJA,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return pp1.extendedEncodeURIComponent}});Object.defineProperty(CJA,"resolvedPath",{enumerable:!0,get:function(){return pp1.resolvedPath}});CJA.Client=msQ;CJA.Command=cp1;CJA.NoOpLogger=nsQ;CJA.SENSITIVE_STRING=sU3;CJA.ServiceException=zJA;CJA._json=dp1;CJA.convertMap=Kq3;CJA.createAggregatedClient=tU3;CJA.decorateServiceException=psQ;CJA.emitWarningIfUnsupportedVersion=Bq3;CJA.getArrayIfSingleItem=Wq3;CJA.getDefaultClientConfiguration=Xq3;CJA.getDefaultExtensionConfiguration=lsQ;CJA.getValueFromTextNode=isQ;CJA.isSerializableHeaderValue=Dq3;CJA.loadConfigsForDefaultMode=Qq3;CJA.map=asQ;CJA.resolveDefaultRuntimeConfig=Iq3;CJA.serializeDateTime=Cq3;CJA.serializeFloat=zq3;CJA.take=Vq3;CJA.throwDefaultError=csQ;CJA.withBaseException=eU3;Object.keys(hsQ).forEach(function(A){if(A!=="default"&&!Object.prototype.hasOwnProperty.call(CJA,A))Object.defineProperty(CJA,A,{enumerable:!0,get:function(){return hsQ[A]}})})});var ip1=U((ssQ)=>{Object.defineProperty(ssQ,"__esModule",{value:!0});ssQ.resolveHttpAuthSchemeConfig=ssQ.resolveStsAuthConfig=ssQ.defaultSTSHttpAuthSchemeProvider=ssQ.defaultSTSHttpAuthSchemeParametersProvider=void 0;var mq3=vY(),lp1=Iz(),dq3=np1(),pq3=async(A,Q,B)=>{return{operation:(0,lp1.getSmithyContext)(Q).operation,region:await(0,lp1.normalizeProvider)(A.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}};ssQ.defaultSTSHttpAuthSchemeParametersProvider=pq3;function cq3(A){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:A.region},propertiesExtractor:(Q,B)=>({signingProperties:{config:Q,context:B}})}}function rsQ(A){return{schemeId:"smithy.api#noAuth"}}var lq3=(A)=>{let Q=[];switch(A.operation){case"AssumeRoleWithSAML":{Q.push(rsQ(A));break}case"AssumeRoleWithWebIdentity":{Q.push(rsQ(A));break}default:Q.push(cq3(A))}return Q};ssQ.defaultSTSHttpAuthSchemeProvider=lq3;var iq3=(A)=>Object.assign(A,{stsClientCtor:dq3.STSClient});ssQ.resolveStsAuthConfig=iq3;var nq3=(A)=>{let Q=ssQ.resolveStsAuthConfig(A),B=(0,mq3.resolveAwsSdkSigV4Config)(Q);return Object.assign(B,{authSchemePreference:(0,lp1.normalizeProvider)(A.authSchemePreference??[])})};ssQ.resolveHttpAuthSchemeConfig=nq3});var ap1=U((AtQ)=>{Object.defineProperty(AtQ,"__esModule",{value:!0});AtQ.commonParams=AtQ.resolveClientEndpointParameters=void 0;var rq3=(A)=>{return Object.assign(A,{useDualstackEndpoint:A.useDualstackEndpoint??!1,useFipsEndpoint:A.useFipsEndpoint??!1,useGlobalEndpoint:A.useGlobalEndpoint??!1,defaultSigningName:"sts"})};AtQ.resolveClientEndpointParameters=rq3;AtQ.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var BtQ=U((CJG,tq3)=>{tq3.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.936.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.936.0","@aws-sdk/credential-provider-node":"3.936.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.936.0","@aws-sdk/middleware-user-agent":"3.936.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.936.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.5","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.12","@smithy/middleware-retry":"^4.4.12","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.8","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.11","@smithy/util-defaults-mode-node":"^4.2.14","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var GtQ=U((AN3)=>{var eq3=(A)=>typeof ArrayBuffer==="function"&&A instanceof ArrayBuffer||Object.prototype.toString.call(A)==="[object ArrayBuffer]";AN3.isArrayBuffer=eq3});var rp1=U((YN3)=>{var BN3=GtQ(),op1=qA("buffer"),GN3=(A,Q=0,B=A.byteLength-Q)=>{if(!BN3.isArrayBuffer(A))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof A} (${A})`);return op1.Buffer.from(A,Q,B)},ZN3=(A,Q)=>{if(typeof A!=="string")throw TypeError(`The "input" argument must be of type string. Received type ${typeof A} (${A})`);return Q?op1.Buffer.from(A,Q):op1.Buffer.from(A)};YN3.fromArrayBuffer=GN3;YN3.fromString=ZN3});var JtQ=U((ZtQ)=>{Object.defineProperty(ZtQ,"__esModule",{value:!0});ZtQ.fromBase64=void 0;var IN3=rp1(),WN3=/^[A-Za-z0-9+/]*={0,2}$/,DN3=(A)=>{if(A.length*3%4!==0)throw TypeError("Incorrect padding on base64 string.");if(!WN3.exec(A))throw TypeError("Invalid base64 string.");let Q=(0,IN3.fromString)(A,"base64");return new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength)};ZtQ.fromBase64=DN3});var WtQ=U((XtQ)=>{Object.defineProperty(XtQ,"__esModule",{value:!0});XtQ.toBase64=void 0;var KN3=rp1(),VN3=lG(),FN3=(A)=>{let Q;if(typeof A==="string")Q=(0,VN3.fromUtf8)(A);else Q=A;if(typeof Q!=="object"||typeof Q.byteOffset!=="number"||typeof Q.byteLength!=="number")throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,KN3.fromArrayBuffer)(Q.buffer,Q.byteOffset,Q.byteLength).toString("base64")};XtQ.toBase64=FN3});var VtQ=U((fLA)=>{var DtQ=JtQ(),KtQ=WtQ();Object.keys(DtQ).forEach(function(A){if(A!=="default"&&!Object.prototype.hasOwnProperty.call(fLA,A))Object.defineProperty(fLA,A,{enumerable:!0,get:function(){return DtQ[A]}})});Object.keys(KtQ).forEach(function(A){if(A!=="default"&&!Object.prototype.hasOwnProperty.call(fLA,A))Object.defineProperty(fLA,A,{enumerable:!0,get:function(){return KtQ[A]}})})});var btQ=U((vtQ)=>{Object.defineProperty(vtQ,"__esModule",{value:!0});vtQ.ruleSet=void 0;var OtQ="required",p3="type",m7="fn",d7="argv",Cn="ref",FtQ=!1,sp1=!0,zn="booleanEquals",PH="stringEquals",MtQ="sigv4",RtQ="sts",_tQ="us-east-1",FX="endpoint",HtQ="https://sts.{Region}.{PartitionResult#dnsSuffix}",mv="tree",$JA="error",ep1="getAttr",EtQ={[OtQ]:!1,[p3]:"string"},tp1={[OtQ]:!0,default:!1,[p3]:"boolean"},jtQ={[Cn]:"Endpoint"},ztQ={[m7]:"isSet",[d7]:[{[Cn]:"Region"}]},SH={[Cn]:"Region"},CtQ={[m7]:"aws.partition",[d7]:[SH],assign:"PartitionResult"},TtQ={[Cn]:"UseFIPS"},PtQ={[Cn]:"UseDualStack"},Lz={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:MtQ,signingName:RtQ,signingRegion:_tQ}]},headers:{}},YL={},$tQ={conditions:[{[m7]:PH,[d7]:[SH,"aws-global"]}],[FX]:Lz,[p3]:FX},StQ={[m7]:zn,[d7]:[TtQ,!0]},xtQ={[m7]:zn,[d7]:[PtQ,!0]},UtQ={[m7]:ep1,[d7]:[{[Cn]:"PartitionResult"},"supportsFIPS"]},ytQ={[Cn]:"PartitionResult"},qtQ={[m7]:zn,[d7]:[!0,{[m7]:ep1,[d7]:[ytQ,"supportsDualStack"]}]},NtQ=[{[m7]:"isSet",[d7]:[jtQ]}],wtQ=[StQ],LtQ=[xtQ],HN3={version:"1.0",parameters:{Region:EtQ,UseDualStack:tp1,UseFIPS:tp1,Endpoint:EtQ,UseGlobalEndpoint:tp1},rules:[{conditions:[{[m7]:zn,[d7]:[{[Cn]:"UseGlobalEndpoint"},sp1]},{[m7]:"not",[d7]:NtQ},ztQ,CtQ,{[m7]:zn,[d7]:[TtQ,FtQ]},{[m7]:zn,[d7]:[PtQ,FtQ]}],rules:[{conditions:[{[m7]:PH,[d7]:[SH,"ap-northeast-1"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"ap-south-1"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"ap-southeast-1"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"ap-southeast-2"]}],endpoint:Lz,[p3]:FX},$tQ,{conditions:[{[m7]:PH,[d7]:[SH,"ca-central-1"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"eu-central-1"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"eu-north-1"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"eu-west-1"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"eu-west-2"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"eu-west-3"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"sa-east-1"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,_tQ]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"us-east-2"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"us-west-1"]}],endpoint:Lz,[p3]:FX},{conditions:[{[m7]:PH,[d7]:[SH,"us-west-2"]}],endpoint:Lz,[p3]:FX},{endpoint:{url:HtQ,properties:{authSchemes:[{name:MtQ,signingName:RtQ,signingRegion:"{Region}"}]},headers:YL},[p3]:FX}],[p3]:mv},{conditions:NtQ,rules:[{conditions:wtQ,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[p3]:$JA},{conditions:LtQ,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[p3]:$JA},{endpoint:{url:jtQ,properties:YL,headers:YL},[p3]:FX}],[p3]:mv},{conditions:[ztQ],rules:[{conditions:[CtQ],rules:[{conditions:[StQ,xtQ],rules:[{conditions:[{[m7]:zn,[d7]:[sp1,UtQ]},qtQ],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:YL,headers:YL},[p3]:FX}],[p3]:mv},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[p3]:$JA}],[p3]:mv},{conditions:wtQ,rules:[{conditions:[{[m7]:zn,[d7]:[UtQ,sp1]}],rules:[{conditions:[{[m7]:PH,[d7]:[{[m7]:ep1,[d7]:[ytQ,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:YL,headers:YL},[p3]:FX},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:YL,headers:YL},[p3]:FX}],[p3]:mv},{error:"FIPS is enabled but this partition does not support FIPS",[p3]:$JA}],[p3]:mv},{conditions:LtQ,rules:[{conditions:[qtQ],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:YL,headers:YL},[p3]:FX}],[p3]:mv},{error:"DualStack is enabled but this partition does not support DualStack",[p3]:$JA}],[p3]:mv},$tQ,{endpoint:{url:HtQ,properties:YL,headers:YL},[p3]:FX}],[p3]:mv}],[p3]:mv},{error:"Invalid Configuration: Missing Region",[p3]:$JA}]};vtQ.ruleSet=HN3});var gtQ=U((ftQ)=>{Object.defineProperty(ftQ,"__esModule",{value:!0});ftQ.defaultEndpointResolver=void 0;var EN3=Qv(),Ac1=FT(),zN3=btQ(),CN3=new Ac1.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),$N3=(A,Q={})=>{return CN3.get(A,()=>(0,Ac1.resolveEndpoint)(zN3.ruleSet,{endpointParams:A,logger:Q.logger}))};ftQ.defaultEndpointResolver=$N3;Ac1.customEndpointFunctions.aws=EN3.awsEndpointFunctions});var ctQ=U((dtQ)=>{Object.defineProperty(dtQ,"__esModule",{value:!0});dtQ.getRuntimeConfig=void 0;var UN3=vY(),qN3=yg(),NN3=iG(),wN3=a0A(),LN3=vM(),utQ=VtQ(),mtQ=lG(),ON3=ip1(),MN3=gtQ(),RN3=(A)=>{return{apiVersion:"2011-06-15",base64Decoder:A?.base64Decoder??utQ.fromBase64,base64Encoder:A?.base64Encoder??utQ.toBase64,disableHostPrefix:A?.disableHostPrefix??!1,endpointProvider:A?.endpointProvider??MN3.defaultEndpointResolver,extensions:A?.extensions??[],httpAuthSchemeProvider:A?.httpAuthSchemeProvider??ON3.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:A?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:(Q)=>Q.getIdentityProvider("aws.auth#sigv4"),signer:new UN3.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:(Q)=>Q.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new NN3.NoAuthSigner}],logger:A?.logger??new wN3.NoOpLogger,protocol:A?.protocol??new qN3.AwsQueryProtocol({defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15"}),serviceId:A?.serviceId??"STS",urlParser:A?.urlParser??LN3.parseUrl,utf8Decoder:A?.utf8Decoder??mtQ.fromUtf8,utf8Encoder:A?.utf8Encoder??mtQ.toUtf8}};dtQ.getRuntimeConfig=RN3});var stQ=U((otQ)=>{Object.defineProperty(otQ,"__esModule",{value:!0});otQ.getRuntimeConfig=void 0;var _N3=NZ(),jN3=_N3.__importDefault(BtQ()),Qc1=vY(),ltQ=G0A(),itQ=Tg(),VeA=wW(),TN3=iG(),PN3=Pg(),ntQ=wH(),o0A=Dq(),atQ=dw(),SN3=Sg(),xN3=Jv(),yN3=ctQ(),vN3=a0A(),kN3=kg(),bN3=a0A(),fN3=(A)=>{(0,bN3.emitWarningIfUnsupportedVersion)(process.version);let Q=(0,kN3.resolveDefaultsModeConfig)(A),B=()=>Q().then(vN3.loadConfigsForDefaultMode),G=(0,yN3.getRuntimeConfig)(A);(0,Qc1.emitWarningIfUnsupportedVersion)(process.version);let Z={profile:A?.profile,logger:G.logger};return{...G,...A,runtime:"node",defaultsMode:Q,authSchemePreference:A?.authSchemePreference??(0,o0A.loadConfig)(Qc1.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,Z),bodyLengthChecker:A?.bodyLengthChecker??SN3.calculateBodyLength,credentialDefaultProvider:A?.credentialDefaultProvider??ltQ.defaultProvider,defaultUserAgentProvider:A?.defaultUserAgentProvider??(0,itQ.createDefaultUserAgentProvider)({serviceId:G.serviceId,clientVersion:jN3.default.version}),httpAuthSchemes:A?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:(Y)=>Y.getIdentityProvider("aws.auth#sigv4")||(async(J)=>await(0,ltQ.defaultProvider)(J?.__config||{})()),signer:new Qc1.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:(Y)=>Y.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new TN3.NoAuthSigner}],maxAttempts:A?.maxAttempts??(0,o0A.loadConfig)(ntQ.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,A),region:A?.region??(0,o0A.loadConfig)(VeA.NODE_REGION_CONFIG_OPTIONS,{...VeA.NODE_REGION_CONFIG_FILE_OPTIONS,...Z}),requestHandler:atQ.NodeHttpHandler.create(A?.requestHandler??B),retryMode:A?.retryMode??(0,o0A.loadConfig)({...ntQ.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await B()).retryMode||xN3.DEFAULT_RETRY_MODE},A),sha256:A?.sha256??PN3.Hash.bind(null,"sha256"),streamCollector:A?.streamCollector??atQ.streamCollector,useDualstackEndpoint:A?.useDualstackEndpoint??(0,o0A.loadConfig)(VeA.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,Z),useFipsEndpoint:A?.useFipsEndpoint??(0,o0A.loadConfig)(VeA.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,Z),userAgentAppId:A?.userAgentAppId??(0,o0A.loadConfig)(itQ.NODE_APP_ID_CONFIG_OPTIONS,Z)}};otQ.getRuntimeConfig=fN3});var QeQ=U((pN3)=>{var hN3=hp1(),gN3=(A)=>{return{setHttpHandler(Q){A.httpHandler=Q},httpHandler(){return A.httpHandler},updateHttpClientConfig(Q,B){A.httpHandler?.updateHttpClientConfig(Q,B)},httpHandlerConfigs(){return A.httpHandler.httpHandlerConfigs()}}},uN3=(A)=>{return{httpHandler:A.httpHandler()}};class ttQ{name;kind;values;constructor({name:A,kind:Q=hN3.FieldPosition.HEADER,values:B=[]}){this.name=A,this.kind=Q,this.values=B}add(A){this.values.push(A)}set(A){this.values=A}remove(A){this.values=this.values.filter((Q)=>Q!==A)}toString(){return this.values.map((A)=>A.includes(",")||A.includes(" ")?`"${A}"`:A).join(", ")}get(){return this.values}}class etQ{entries={};encoding;constructor({fields:A=[],encoding:Q="utf-8"}){A.forEach(this.setField.bind(this)),this.encoding=Q}setField(A){this.entries[A.name.toLowerCase()]=A}getField(A){return this.entries[A.toLowerCase()]}removeField(A){delete this.entries[A.toLowerCase()]}getByType(A){return Object.values(this.entries).filter((Q)=>Q.kind===A)}}class FeA{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(A){this.method=A.method||"GET",this.hostname=A.hostname||"localhost",this.port=A.port,this.query=A.query||{},this.headers=A.headers||{},this.body=A.body,this.protocol=A.protocol?A.protocol.slice(-1)!==":"?`${A.protocol}:`:A.protocol:"https:",this.path=A.path?A.path.charAt(0)!=="/"?`/${A.path}`:A.path:"/",this.username=A.username,this.password=A.password,this.fragment=A.fragment}static clone(A){let Q=new FeA({...A,headers:{...A.headers}});if(Q.query)Q.query=mN3(Q.query);return Q}static isInstance(A){if(!A)return!1;let Q=A;return"method"in Q&&"protocol"in Q&&"hostname"in Q&&"path"in Q&&typeof Q.query==="object"&&typeof Q.headers==="object"}clone(){return FeA.clone(this)}}function mN3(A){return Object.keys(A).reduce((Q,B)=>{let G=A[B];return{...Q,[B]:Array.isArray(G)?[...G]:G}},{})}class AeQ{statusCode;reason;headers;body;constructor(A){this.statusCode=A.statusCode,this.reason=A.reason,this.headers=A.headers||{},this.body=A.body}static isInstance(A){if(!A)return!1;let Q=A;return typeof Q.statusCode==="number"&&typeof Q.headers==="object"}}function dN3(A){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(A)}pN3.Field=ttQ;pN3.Fields=etQ;pN3.HttpRequest=FeA;pN3.HttpResponse=AeQ;pN3.getHttpHandlerExtensionConfiguration=gN3;pN3.isValidHostname=dN3;pN3.resolveHttpHandlerRuntimeConfig=uN3});var ZeQ=U((BeQ)=>{Object.defineProperty(BeQ,"__esModule",{value:!0});BeQ.resolveHttpAuthRuntimeConfig=BeQ.getHttpAuthExtensionConfiguration=void 0;var sN3=(A)=>{let{httpAuthSchemes:Q,httpAuthSchemeProvider:B,credentials:G}=A;return{setHttpAuthScheme(Z){let Y=Q.findIndex((J)=>J.schemeId===Z.schemeId);if(Y===-1)Q.push(Z);else Q.splice(Y,1,Z)},httpAuthSchemes(){return Q},setHttpAuthSchemeProvider(Z){B=Z},httpAuthSchemeProvider(){return B},setCredentials(Z){G=Z},credentials(){return G}}};BeQ.getHttpAuthExtensionConfiguration=sN3;var tN3=(A)=>{return{httpAuthSchemes:A.httpAuthSchemes(),httpAuthSchemeProvider:A.httpAuthSchemeProvider(),credentials:A.credentials()}};BeQ.resolveHttpAuthRuntimeConfig=tN3});var KeQ=U((WeQ)=>{Object.defineProperty(WeQ,"__esModule",{value:!0});WeQ.resolveRuntimeExtensions=void 0;var YeQ=ET(),JeQ=QeQ(),XeQ=a0A(),IeQ=ZeQ(),Aw3=(A,Q)=>{let B=Object.assign((0,YeQ.getAwsRegionExtensionConfiguration)(A),(0,XeQ.getDefaultExtensionConfiguration)(A),(0,JeQ.getHttpHandlerExtensionConfiguration)(A),(0,IeQ.getHttpAuthExtensionConfiguration)(A));return Q.forEach((G)=>G.configure(B)),Object.assign(A,(0,YeQ.resolveAwsRegionExtensionConfiguration)(B),(0,XeQ.resolveDefaultRuntimeConfig)(B),(0,JeQ.resolveHttpHandlerRuntimeConfig)(B),(0,IeQ.resolveHttpAuthRuntimeConfig)(B))};WeQ.resolveRuntimeExtensions=Aw3});var np1=U((Gc1)=>{Object.defineProperty(Gc1,"__esModule",{value:!0});Gc1.STSClient=Gc1.__Client=void 0;var VeQ=zg(),Qw3=Cg(),Bw3=$g(),FeQ=Zv(),Gw3=wW(),Bc1=iG(),Zw3=IX(),Yw3=jg(),Jw3=HT(),HeQ=wH(),zeQ=a0A();Object.defineProperty(Gc1,"__Client",{enumerable:!0,get:function(){return zeQ.Client}});var EeQ=ip1(),Xw3=ap1(),Iw3=stQ(),Ww3=KeQ();class CeQ extends zeQ.Client{config;constructor(...[A]){let Q=(0,Iw3.getRuntimeConfig)(A||{});super(Q);this.initConfig=Q;let B=(0,Xw3.resolveClientEndpointParameters)(Q),G=(0,FeQ.resolveUserAgentConfig)(B),Z=(0,HeQ.resolveRetryConfig)(G),Y=(0,Gw3.resolveRegionConfig)(Z),J=(0,VeQ.resolveHostHeaderConfig)(Y),X=(0,Jw3.resolveEndpointConfig)(J),I=(0,EeQ.resolveHttpAuthSchemeConfig)(X),W=(0,Ww3.resolveRuntimeExtensions)(I,A?.extensions||[]);this.config=W,this.middlewareStack.use((0,Zw3.getSchemaSerdePlugin)(this.config)),this.middlewareStack.use((0,FeQ.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,HeQ.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Yw3.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,VeQ.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Qw3.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Bw3.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Bc1.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:EeQ.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async(D)=>new Bc1.DefaultIdentityProviderConfig({"aws.auth#sigv4":D.credentials})})),this.middlewareStack.use((0,Bc1.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}Gc1.STSClient=CeQ});var neQ=U((HeA)=>{var hLA=np1(),Rq=a0A(),kT=HT(),bT=ap1(),JL=IX(),Zc1=Wq(),Dw3=ET(),_q=class A extends Rq.ServiceException{constructor(Q){super(Q);Object.setPrototypeOf(this,A.prototype)}},UeQ=class A extends _q{name="ExpiredTokenException";$fault="client";constructor(Q){super({name:"ExpiredTokenException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},qeQ=class A extends _q{name="MalformedPolicyDocumentException";$fault="client";constructor(Q){super({name:"MalformedPolicyDocumentException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},NeQ=class A extends _q{name="PackedPolicyTooLargeException";$fault="client";constructor(Q){super({name:"PackedPolicyTooLargeException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},weQ=class A extends _q{name="RegionDisabledException";$fault="client";constructor(Q){super({name:"RegionDisabledException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},LeQ=class A extends _q{name="IDPRejectedClaimException";$fault="client";constructor(Q){super({name:"IDPRejectedClaimException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},OeQ=class A extends _q{name="InvalidIdentityTokenException";$fault="client";constructor(Q){super({name:"InvalidIdentityTokenException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},MeQ=class A extends _q{name="IDPCommunicationErrorException";$fault="client";constructor(Q){super({name:"IDPCommunicationErrorException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},ReQ=class A extends _q{name="InvalidAuthorizationMessageException";$fault="client";constructor(Q){super({name:"InvalidAuthorizationMessageException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},_eQ=class A extends _q{name="ExpiredTradeInTokenException";$fault="client";constructor(Q){super({name:"ExpiredTradeInTokenException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},jeQ=class A extends _q{name="JWTPayloadSizeExceededException";$fault="client";constructor(Q){super({name:"JWTPayloadSizeExceededException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},TeQ=class A extends _q{name="OutboundWebIdentityFederationDisabledException";$fault="client";constructor(Q){super({name:"OutboundWebIdentityFederationDisabledException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},PeQ=class A extends _q{name="SessionDurationEscalationException";$fault="client";constructor(Q){super({name:"SessionDurationEscalationException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},Yc1="Arn",SeQ="AccessKeyId",Kw3="AssumedPrincipal",Vw3="AssumeRole",Fw3="AssumedRoleId",Hw3="AssumeRoleRequest",Ew3="AssumeRoleResponse",zw3="AssumeRootRequest",Cw3="AssumeRootResponse",EeA="AssumedRoleUser",$w3="AssumeRoleWithSAML",Uw3="AssumeRoleWithSAMLRequest",qw3="AssumeRoleWithSAMLResponse",Nw3="AssumeRoleWithWebIdentity",ww3="AssumeRoleWithWebIdentityRequest",Lw3="AssumeRoleWithWebIdentityResponse",Ow3="AssumeRoot",xeQ="Account",Jc1="Audience",$n="Credentials",Mw3="ContextAssertion",Rw3="DecodeAuthorizationMessage",_w3="DecodeAuthorizationMessageRequest",jw3="DecodeAuthorizationMessageResponse",Tw3="DecodedMessage",r0A="DurationSeconds",yeQ="Expiration",Pw3="ExternalId",Sw3="EncodedMessage",xw3="ExpiredTokenException",yw3="ExpiredTradeInTokenException",veQ="FederatedUser",vw3="FederatedUserId",kw3="GetAccessKeyInfo",bw3="GetAccessKeyInfoRequest",fw3="GetAccessKeyInfoResponse",hw3="GetCallerIdentity",gw3="GetCallerIdentityRequest",uw3="GetCallerIdentityResponse",mw3="GetDelegatedAccessToken",dw3="GetDelegatedAccessTokenRequest",pw3="GetDelegatedAccessTokenResponse",cw3="GetFederationToken",lw3="GetFederationTokenRequest",iw3="GetFederationTokenResponse",nw3="GetSessionToken",aw3="GetSessionTokenRequest",ow3="GetSessionTokenResponse",rw3="GetWebIdentityToken",sw3="GetWebIdentityTokenRequest",tw3="GetWebIdentityTokenResponse",ew3="Issuer",AL3="InvalidAuthorizationMessageException",QL3="IDPCommunicationErrorException",BL3="IDPRejectedClaimException",GL3="InvalidIdentityTokenException",ZL3="JWTPayloadSizeExceededException",YL3="Key",JL3="MalformedPolicyDocumentException",XL3="Name",IL3="NameQualifier",WL3="OutboundWebIdentityFederationDisabledException",zeA="Policy",CeA="PolicyArns",DL3="PrincipalArn",KL3="ProviderArn",VL3="ProvidedContexts",FL3="ProvidedContextsListType",HL3="ProvidedContext",EL3="PolicyDescriptorType",zL3="ProviderId",gLA="PackedPolicySize",CL3="PackedPolicyTooLargeException",$L3="Provider",Xc1="RoleArn",UL3="RegionDisabledException",keQ="RoleSessionName",qL3="Subject",NL3="SigningAlgorithm",wL3="SecretAccessKey",LL3="SAMLAssertion",OL3="SAMLAssertionType",ML3="SessionDurationEscalationException",RL3="SubjectFromWebIdentityToken",uLA="SourceIdentity",beQ="SerialNumber",_L3="SubjectType",jL3="SessionToken",Ic1="Tags",feQ="TokenCode",TL3="TradeInToken",PL3="TargetPrincipal",SL3="TaskPolicyArn",xL3="TransitiveTagKeys",yL3="Tag",vL3="UserId",kL3="Value",heQ="WebIdentityToken",bL3="arn",fL3="accessKeySecretType",KR="awsQueryError",VR="client",hL3="clientTokenType",FR="error",HR="httpError",ER="message",gL3="policyDescriptorListType",geQ="smithy.ts.sdk.synthetic.com.amazonaws.sts",uL3="tradeInTokenType",mL3="tagListType",dL3="webIdentityTokenType",L2="com.amazonaws.sts",pL3=[0,L2,fL3,8,0],cL3=[0,L2,hL3,8,0],lL3=[0,L2,OL3,8,0],iL3=[0,L2,uL3,8,0],nL3=[0,L2,dL3,8,0],Wc1=[3,L2,EeA,0,[Fw3,Yc1],[0,0]],aL3=[3,L2,Hw3,0,[Xc1,keQ,CeA,zeA,r0A,Ic1,xL3,Pw3,beQ,feQ,uLA,VL3],[0,0,()=>$eA,0,1,()=>Dc1,64,0,0,0,0,()=>xO3]],oL3=[3,L2,Ew3,0,[$n,EeA,gLA,uLA],[[()=>s0A,0],()=>Wc1,1,0]],rL3=[3,L2,Uw3,0,[Xc1,DL3,LL3,CeA,zeA,r0A],[0,0,[()=>lL3,0],()=>$eA,0,1]],sL3=[3,L2,qw3,0,[$n,EeA,gLA,qL3,_L3,ew3,Jc1,IL3,uLA],[[()=>s0A,0],()=>Wc1,1,0,0,0,0,0,0]],tL3=[3,L2,ww3,0,[Xc1,keQ,heQ,zL3,CeA,zeA,r0A],[0,0,[()=>cL3,0],0,()=>$eA,0,1]],eL3=[3,L2,Lw3,0,[$n,RL3,EeA,gLA,$L3,Jc1,uLA],[[()=>s0A,0],0,()=>Wc1,1,0,0,0]],AO3=[3,L2,zw3,0,[PL3,SL3,r0A],[0,()=>ueQ,1]],QO3=[3,L2,Cw3,0,[$n,uLA],[[()=>s0A,0],0]],s0A=[3,L2,$n,0,[SeQ,wL3,jL3,yeQ],[0,[()=>pL3,0],0,4]],BO3=[3,L2,_w3,0,[Sw3],[0]],GO3=[3,L2,jw3,0,[Tw3],[0]],ZO3=[-3,L2,xw3,{[FR]:VR,[HR]:400,[KR]:["ExpiredTokenException",400]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(ZO3,UeQ);var YO3=[-3,L2,yw3,{[FR]:VR,[HR]:400,[KR]:["ExpiredTradeInTokenException",400]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(YO3,_eQ);var JO3=[3,L2,veQ,0,[vw3,Yc1],[0,0]],XO3=[3,L2,bw3,0,[SeQ],[0]],IO3=[3,L2,fw3,0,[xeQ],[0]],WO3=[3,L2,gw3,0,[],[]],DO3=[3,L2,uw3,0,[vL3,xeQ,Yc1],[0,0,0]],KO3=[3,L2,dw3,0,[TL3],[[()=>iL3,0]]],VO3=[3,L2,pw3,0,[$n,gLA,Kw3],[[()=>s0A,0],1,0]],FO3=[3,L2,lw3,0,[XL3,zeA,CeA,r0A,Ic1],[0,0,()=>$eA,1,()=>Dc1]],HO3=[3,L2,iw3,0,[$n,veQ,gLA],[[()=>s0A,0],()=>JO3,1]],EO3=[3,L2,aw3,0,[r0A,beQ,feQ],[1,0,0]],zO3=[3,L2,ow3,0,[$n],[[()=>s0A,0]]],CO3=[3,L2,sw3,0,[Jc1,r0A,NL3,Ic1],[64,1,0,()=>Dc1]],$O3=[3,L2,tw3,0,[heQ,yeQ],[[()=>nL3,0],4]],UO3=[-3,L2,QL3,{[FR]:VR,[HR]:400,[KR]:["IDPCommunicationError",400]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(UO3,MeQ);var qO3=[-3,L2,BL3,{[FR]:VR,[HR]:403,[KR]:["IDPRejectedClaim",403]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(qO3,LeQ);var NO3=[-3,L2,AL3,{[FR]:VR,[HR]:400,[KR]:["InvalidAuthorizationMessageException",400]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(NO3,ReQ);var wO3=[-3,L2,GL3,{[FR]:VR,[HR]:400,[KR]:["InvalidIdentityToken",400]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(wO3,OeQ);var LO3=[-3,L2,ZL3,{[FR]:VR,[HR]:400,[KR]:["JWTPayloadSizeExceededException",400]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(LO3,jeQ);var OO3=[-3,L2,JL3,{[FR]:VR,[HR]:400,[KR]:["MalformedPolicyDocument",400]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(OO3,qeQ);var MO3=[-3,L2,WL3,{[FR]:VR,[HR]:403,[KR]:["OutboundWebIdentityFederationDisabledException",403]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(MO3,TeQ);var RO3=[-3,L2,CL3,{[FR]:VR,[HR]:400,[KR]:["PackedPolicyTooLarge",400]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(RO3,NeQ);var ueQ=[3,L2,EL3,0,[bL3],[0]],_O3=[3,L2,HL3,0,[KL3,Mw3],[0,0]],jO3=[-3,L2,UL3,{[FR]:VR,[HR]:403,[KR]:["RegionDisabledException",403]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(jO3,weQ);var TO3=[-3,L2,ML3,{[FR]:VR,[HR]:403,[KR]:["SessionDurationEscalationException",403]},[ER],[0]];JL.TypeRegistry.for(L2).registerError(TO3,PeQ);var PO3=[3,L2,yL3,0,[YL3,kL3],[0,0]],SO3=[-3,geQ,"STSServiceException",0,[],[]];JL.TypeRegistry.for(geQ).registerError(SO3,_q);var $eA=[1,L2,gL3,0,()=>ueQ],xO3=[1,L2,FL3,0,()=>_O3],Dc1=[1,L2,mL3,0,()=>PO3],yO3=[9,L2,Vw3,0,()=>aL3,()=>oL3],vO3=[9,L2,$w3,0,()=>rL3,()=>sL3],kO3=[9,L2,Nw3,0,()=>tL3,()=>eL3],bO3=[9,L2,Ow3,0,()=>AO3,()=>QO3],fO3=[9,L2,Rw3,0,()=>BO3,()=>GO3],hO3=[9,L2,kw3,0,()=>XO3,()=>IO3],gO3=[9,L2,hw3,0,()=>WO3,()=>DO3],uO3=[9,L2,mw3,0,()=>KO3,()=>VO3],mO3=[9,L2,cw3,0,()=>FO3,()=>HO3],dO3=[9,L2,nw3,0,()=>EO3,()=>zO3],pO3=[9,L2,rw3,0,()=>CO3,()=>$O3];class UeA extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(yO3).build(){}class Kc1 extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").sc(vO3).build(){}class qeA extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(kO3).build(){}class Vc1 extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoot",{}).n("STSClient","AssumeRootCommand").sc(bO3).build(){}class Fc1 extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").sc(fO3).build(){}class Hc1 extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").sc(hO3).build(){}class Ec1 extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").sc(gO3).build(){}class zc1 extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetDelegatedAccessToken",{}).n("STSClient","GetDelegatedAccessTokenCommand").sc(uO3).build(){}class Cc1 extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").sc(mO3).build(){}class $c1 extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").sc(dO3).build(){}class Uc1 extends Rq.Command.classBuilder().ep(bT.commonParams).m(function(A,Q,B,G){return[kT.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetWebIdentityToken",{}).n("STSClient","GetWebIdentityTokenCommand").sc(pO3).build(){}var cO3={AssumeRoleCommand:UeA,AssumeRoleWithSAMLCommand:Kc1,AssumeRoleWithWebIdentityCommand:qeA,AssumeRootCommand:Vc1,DecodeAuthorizationMessageCommand:Fc1,GetAccessKeyInfoCommand:Hc1,GetCallerIdentityCommand:Ec1,GetDelegatedAccessTokenCommand:zc1,GetFederationTokenCommand:Cc1,GetSessionTokenCommand:$c1,GetWebIdentityTokenCommand:Uc1};class qc1 extends hLA.STSClient{}Rq.createAggregatedClient(cO3,qc1);var meQ=(A)=>{if(typeof A?.Arn==="string"){let Q=A.Arn.split(":");if(Q.length>4&&Q[4]!=="")return Q[4]}return},deQ=async(A,Q,B,G={})=>{let Z=typeof A==="function"?await A():A,Y=typeof Q==="function"?await Q():Q,J=await Dw3.stsRegionDefaultResolver(G)();return B?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${Z} (credential provider clientConfig)`,`${Y} (contextual client)`,`${J} (STS default: AWS_REGION, profile region, or us-east-1)`),Z??Y??J},lO3=(A,Q)=>{let B,G;return async(Z,Y)=>{if(G=Z,!B){let{logger:D=A?.parentClientConfig?.logger,profile:K=A?.parentClientConfig?.profile,region:V,requestHandler:F=A?.parentClientConfig?.requestHandler,credentialProviderLogger:H,userAgentAppId:E=A?.parentClientConfig?.userAgentAppId}=A,z=await deQ(V,A?.parentClientConfig?.region,H,{logger:D,profile:K}),C=!peQ(F);B=new Q({...A,userAgentAppId:E,profile:K,credentialDefaultProvider:()=>async()=>G,region:z,requestHandler:C?F:void 0,logger:D})}let{Credentials:J,AssumedRoleUser:X}=await B.send(new UeA(Y));if(!J||!J.AccessKeyId||!J.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${Y.RoleArn}`);let I=meQ(X),W={accessKeyId:J.AccessKeyId,secretAccessKey:J.SecretAccessKey,sessionToken:J.SessionToken,expiration:J.Expiration,...J.CredentialScope&&{credentialScope:J.CredentialScope},...I&&{accountId:I}};return Zc1.setCredentialFeature(W,"CREDENTIALS_STS_ASSUME_ROLE","i"),W}},iO3=(A,Q)=>{let B;return async(G)=>{if(!B){let{logger:I=A?.parentClientConfig?.logger,profile:W=A?.parentClientConfig?.profile,region:D,requestHandler:K=A?.parentClientConfig?.requestHandler,credentialProviderLogger:V,userAgentAppId:F=A?.parentClientConfig?.userAgentAppId}=A,H=await deQ(D,A?.parentClientConfig?.region,V,{logger:I,profile:W}),E=!peQ(K);B=new Q({...A,userAgentAppId:F,profile:W,region:H,requestHandler:E?K:void 0,logger:I})}let{Credentials:Z,AssumedRoleUser:Y}=await B.send(new qeA(G));if(!Z||!Z.AccessKeyId||!Z.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${G.RoleArn}`);let J=meQ(Y),X={accessKeyId:Z.AccessKeyId,secretAccessKey:Z.SecretAccessKey,sessionToken:Z.SessionToken,expiration:Z.Expiration,...Z.CredentialScope&&{credentialScope:Z.CredentialScope},...J&&{accountId:J}};if(J)Zc1.setCredentialFeature(X,"RESOLVED_ACCOUNT_ID","T");return Zc1.setCredentialFeature(X,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),X}},peQ=(A)=>{return A?.metadata?.handlerProtocol==="h2"},ceQ=(A,Q)=>{if(!Q)return A;else return class extends A{constructor(G){super(G);for(let Z of Q)this.middlewareStack.use(Z)}}},leQ=(A={},Q)=>lO3(A,ceQ(hLA.STSClient,Q)),ieQ=(A={},Q)=>iO3(A,ceQ(hLA.STSClient,Q)),nO3=(A)=>(Q)=>A({roleAssumer:leQ(Q),roleAssumerWithWebIdentity:ieQ(Q),...Q});Object.defineProperty(HeA,"$Command",{enumerable:!0,get:function(){return Rq.Command}});HeA.AssumeRoleCommand=UeA;HeA.AssumeRoleWithSAMLCommand=Kc1;HeA.AssumeRoleWithWebIdentityCommand=qeA;HeA.AssumeRootCommand=Vc1;HeA.DecodeAuthorizationMessageCommand=Fc1;HeA.ExpiredTokenException=UeQ;HeA.ExpiredTradeInTokenException=_eQ;HeA.GetAccessKeyInfoCommand=Hc1;HeA.GetCallerIdentityCommand=Ec1;HeA.GetDelegatedAccessTokenCommand=zc1;HeA.GetFederationTokenCommand=Cc1;HeA.GetSessionTokenCommand=$c1;HeA.GetWebIdentityTokenCommand=Uc1;HeA.IDPCommunicationErrorException=MeQ;HeA.IDPRejectedClaimException=LeQ;HeA.InvalidAuthorizationMessageException=ReQ;HeA.InvalidIdentityTokenException=OeQ;HeA.JWTPayloadSizeExceededException=jeQ;HeA.MalformedPolicyDocumentException=qeQ;HeA.OutboundWebIdentityFederationDisabledException=TeQ;HeA.PackedPolicyTooLargeException=NeQ;HeA.RegionDisabledException=weQ;HeA.STS=qc1;HeA.STSServiceException=_q;HeA.SessionDurationEscalationException=PeQ;HeA.decorateDefaultCredentialProvider=nO3;HeA.getDefaultRoleAssumer=leQ;HeA.getDefaultRoleAssumerWithWebIdentity=ieQ;Object.keys(hLA).forEach(function(A){if(A!=="default"&&!Object.prototype.hasOwnProperty.call(HeA,A))Object.defineProperty(HeA,A,{enumerable:!0,get:function(){return hLA[A]}})})});var oeQ=U((aeQ)=>{Object.defineProperty(aeQ,"__esModule",{value:!0});aeQ.propertyProviderChain=aeQ.createCredentialChain=void 0;var wM3=TD(),LM3=(...A)=>{let Q=-1,G=Object.assign(async(Z)=>{let Y=await aeQ.propertyProviderChain(...A)(Z);if(!Y.expiration&&Q!==-1)Y.expiration=new Date(Date.now()+Q);return Y},{expireAfter(Z){if(Z<300000)throw Error("@aws-sdk/credential-providers - createCredentialChain(...).expireAfter(ms) may not be called with a duration lower than five minutes.");return Q=Z,G}});return G};aeQ.createCredentialChain=LM3;var OM3=(...A)=>async(Q)=>{if(A.length===0)throw new wM3.ProviderError("No providers in chain",{tryNextLink:!1});let B;for(let G of A)try{return await G(Q)}catch(Z){if(B=Z,Z?.tryNextLink)continue;throw Z}throw B};aeQ.propertyProviderChain=OM3});var jc1=U((SM3)=>{SM3.HttpAuthLocation=void 0;(function(A){A.HEADER="header",A.QUERY="query"})(SM3.HttpAuthLocation||(SM3.HttpAuthLocation={}));SM3.HttpApiKeyAuthLocation=void 0;(function(A){A.HEADER="header",A.QUERY="query"})(SM3.HttpApiKeyAuthLocation||(SM3.HttpApiKeyAuthLocation={}));SM3.EndpointURLScheme=void 0;(function(A){A.HTTP="http",A.HTTPS="https"})(SM3.EndpointURLScheme||(SM3.EndpointURLScheme={}));SM3.AlgorithmId=void 0;(function(A){A.MD5="md5",A.CRC32="crc32",A.CRC32C="crc32c",A.SHA1="sha1",A.SHA256="sha256"})(SM3.AlgorithmId||(SM3.AlgorithmId={}));var RM3=(A)=>{let Q=[];if(A.sha256!==void 0)Q.push({algorithmId:()=>SM3.AlgorithmId.SHA256,checksumConstructor:()=>A.sha256});if(A.md5!=null)Q.push({algorithmId:()=>SM3.AlgorithmId.MD5,checksumConstructor:()=>A.md5});return{addChecksumAlgorithm(B){Q.push(B)},checksumAlgorithms(){return Q}}},_M3=(A)=>{let Q={};return A.checksumAlgorithms().forEach((B)=>{Q[B.algorithmId()]=B.checksumConstructor()}),Q},jM3=(A)=>{return RM3(A)},TM3=(A)=>{return _M3(A)};SM3.FieldPosition=void 0;(function(A){A[A.HEADER=0]="HEADER",A[A.TRAILER=1]="TRAILER"})(SM3.FieldPosition||(SM3.FieldPosition={}));var PM3="__smithy_context";SM3.IniSectionType=void 0;(function(A){A.PROFILE="profile",A.SSO_SESSION="sso-session",A.SERVICES="services"})(SM3.IniSectionType||(SM3.IniSectionType={}));SM3.RequestHandlerProtocol=void 0;(function(A){A.HTTP_0_9="http/0.9",A.HTTP_1_0="http/1.0",A.TDS_8_0="tds/8.0"})(SM3.RequestHandlerProtocol||(SM3.RequestHandlerProtocol={}));SM3.SMITHY_CONTEXT_KEY=PM3;SM3.getDefaultClientConfiguration=jM3;SM3.resolveDefaultRuntimeConfig=TM3});var dLA=U((qJA)=>{var teQ=Bv(),yc1=Iq(),Pc1=jc1(),kM3=IX(),reQ=Xq();class eeQ{config;middlewareStack=teQ.constructStack();initConfig;handlers;constructor(A){this.config=A}send(A,Q,B){let G=typeof Q!=="function"?Q:void 0,Z=typeof Q==="function"?Q:B,Y=G===void 0&&this.config.cacheMiddleware===!0,J;if(Y){if(!this.handlers)this.handlers=new WeakMap;let X=this.handlers;if(X.has(A.constructor))J=X.get(A.constructor);else J=A.resolveMiddleware(this.middlewareStack,this.config,G),X.set(A.constructor,J)}else delete this.handlers,J=A.resolveMiddleware(this.middlewareStack,this.config,G);if(Z)J(A).then((X)=>Z(null,X.output),(X)=>Z(X)).catch(()=>{});else return J(A).then((X)=>X.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}var Tc1="***SensitiveInformation***";function Sc1(A,Q){if(Q==null)return Q;let B=kM3.NormalizedSchema.of(A);if(B.getMergedTraits().sensitive)return Tc1;if(B.isListSchema()){if(!!B.getValueSchema().getMergedTraits().sensitive)return Tc1}else if(B.isMapSchema()){if(!!B.getKeySchema().getMergedTraits().sensitive||!!B.getValueSchema().getMergedTraits().sensitive)return Tc1}else if(B.isStructSchema()&&typeof Q==="object"){let G=Q,Z={};for(let[Y,J]of B.structIterator())if(G[Y]!=null)Z[Y]=Sc1(J,G[Y]);return Z}return Q}class vc1{middlewareStack=teQ.constructStack();schema;static classBuilder(){return new AAB}resolveMiddlewareWithContext(A,Q,B,{middlewareFn:G,clientName:Z,commandName:Y,inputFilterSensitiveLog:J,outputFilterSensitiveLog:X,smithyContext:I,additionalContext:W,CommandCtor:D}){for(let E of G.bind(this)(D,A,Q,B))this.middlewareStack.use(E);let K=A.concat(this.middlewareStack),{logger:V}=Q,F={logger:V,clientName:Z,commandName:Y,inputFilterSensitiveLog:J,outputFilterSensitiveLog:X,[Pc1.SMITHY_CONTEXT_KEY]:{commandInstance:this,...I},...W},{requestHandler:H}=Q;return K.resolve((E)=>H.handle(E.request,B||{}),F)}}class AAB{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(A){this._init=A}ep(A){return this._ep=A,this}m(A){return this._middlewareFn=A,this}s(A,Q,B={}){return this._smithyContext={service:A,operation:Q,...B},this}c(A={}){return this._additionalContext=A,this}n(A,Q){return this._clientName=A,this._commandName=Q,this}f(A=(B)=>B,Q=(B)=>B){return this._inputFilterSensitiveLog=A,this._outputFilterSensitiveLog=Q,this}ser(A){return this._serializer=A,this}de(A){return this._deserializer=A,this}sc(A){return this._operationSchema=A,this._smithyContext.operationSchema=A,this}build(){let A=this,Q;return Q=class extends vc1{input;static getEndpointParameterInstructions(){return A._ep}constructor(...[B]){super();this.input=B??{},A._init(this),this.schema=A._operationSchema}resolveMiddleware(B,G,Z){let Y=A._operationSchema,J=Y?.[4]??Y?.input,X=Y?.[5]??Y?.output;return this.resolveMiddlewareWithContext(B,G,Z,{CommandCtor:Q,middlewareFn:A._middlewareFn,clientName:A._clientName,commandName:A._commandName,inputFilterSensitiveLog:A._inputFilterSensitiveLog??(Y?Sc1.bind(null,J):(I)=>I),outputFilterSensitiveLog:A._outputFilterSensitiveLog??(Y?Sc1.bind(null,X):(I)=>I),smithyContext:A._smithyContext,additionalContext:A._additionalContext})}serialize=A._serializer;deserialize=A._deserializer}}}var bM3="***SensitiveInformation***",fM3=(A,Q)=>{for(let B of Object.keys(A)){let G=A[B],Z=async function(J,X,I){let W=new G(J);if(typeof X==="function")this.send(W,X);else if(typeof I==="function"){if(typeof X!=="object")throw Error(`Expected http options but got ${typeof X}`);this.send(W,X||{},I)}else return this.send(W,X)},Y=(B[0].toLowerCase()+B.slice(1)).replace(/Command$/,"");Q.prototype[Y]=Z}};class UJA extends Error{$fault;$response;$retryable;$metadata;constructor(A){super(A.message);Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=A.name,this.$fault=A.$fault,this.$metadata=A.$metadata}static isInstance(A){if(!A)return!1;let Q=A;return UJA.prototype.isPrototypeOf(Q)||Boolean(Q.$fault)&&Boolean(Q.$metadata)&&(Q.$fault==="client"||Q.$fault==="server")}static[Symbol.hasInstance](A){if(!A)return!1;let Q=A;if(this===UJA)return UJA.isInstance(A);if(UJA.isInstance(A)){if(Q.name&&this.name)return this.prototype.isPrototypeOf(A)||Q.name===this.name;return this.prototype.isPrototypeOf(A)}return!1}}var QAB=(A,Q={})=>{Object.entries(Q).filter(([,G])=>G!==void 0).forEach(([G,Z])=>{if(A[G]==null||A[G]==="")A[G]=Z});let B=A.message||A.Message||"UnknownError";return A.message=B,delete A.Message,A},BAB=({output:A,parsedBody:Q,exceptionCtor:B,errorCode:G})=>{let Z=gM3(A),Y=Z.httpStatusCode?Z.httpStatusCode+"":void 0,J=new B({name:Q?.code||Q?.Code||G||Y||"UnknownError",$fault:"client",$metadata:Z});throw QAB(J,Q)},hM3=(A)=>{return({output:Q,parsedBody:B,errorCode:G})=>{BAB({output:Q,parsedBody:B,exceptionCtor:A,errorCode:G})}},gM3=(A)=>({httpStatusCode:A.statusCode,requestId:A.headers["x-amzn-requestid"]??A.headers["x-amzn-request-id"]??A.headers["x-amz-request-id"],extendedRequestId:A.headers["x-amz-id-2"],cfId:A.headers["x-amz-cf-id"]}),uM3=(A)=>{switch(A){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:30000};default:return{}}},seQ=!1,mM3=(A)=>{if(A&&!seQ&&parseInt(A.substring(1,A.indexOf(".")))<16)seQ=!0},dM3=(A)=>{let Q=[];for(let B in Pc1.AlgorithmId){let G=Pc1.AlgorithmId[B];if(A[G]===void 0)continue;Q.push({algorithmId:()=>G,checksumConstructor:()=>A[G]})}return{addChecksumAlgorithm(B){Q.push(B)},checksumAlgorithms(){return Q}}},pM3=(A)=>{let Q={};return A.checksumAlgorithms().forEach((B)=>{Q[B.algorithmId()]=B.checksumConstructor()}),Q},cM3=(A)=>{return{setRetryStrategy(Q){A.retryStrategy=Q},retryStrategy(){return A.retryStrategy}}},lM3=(A)=>{let Q={};return Q.retryStrategy=A.retryStrategy(),Q},GAB=(A)=>{return Object.assign(dM3(A),cM3(A))},iM3=GAB,nM3=(A)=>{return Object.assign(pM3(A),lM3(A))},aM3=(A)=>Array.isArray(A)?A:[A],ZAB=(A)=>{for(let B in A)if(A.hasOwnProperty(B)&&A[B]["#text"]!==void 0)A[B]=A[B]["#text"];else if(typeof A[B]==="object"&&A[B]!==null)A[B]=ZAB(A[B]);return A},oM3=(A)=>{return A!=null};class YAB{trace(){}debug(){}info(){}warn(){}error(){}}function JAB(A,Q,B){let G,Z,Y;if(typeof Q>"u"&&typeof B>"u")G={},Y=A;else if(G=A,typeof Q==="function")return Z=Q,Y=B,tM3(G,Z,Y);else Y=Q;for(let J of Object.keys(Y)){if(!Array.isArray(Y[J])){G[J]=Y[J];continue}XAB(G,null,Y,J)}return G}var rM3=(A)=>{let Q={};for(let[B,G]of Object.entries(A||{}))Q[B]=[,G];return Q},sM3=(A,Q)=>{let B={};for(let G in Q)XAB(B,A,Q,G);return B},tM3=(A,Q,B)=>{return JAB(A,Object.entries(B).reduce((G,[Z,Y])=>{if(Array.isArray(Y))G[Z]=Y;else if(typeof Y==="function")G[Z]=[Q,Y()];else G[Z]=[Q,Y];return G},{}))},XAB=(A,Q,B,G)=>{if(Q!==null){let J=B[G];if(typeof J==="function")J=[,J];let[X=eM3,I=AR3,W=G]=J;if(typeof X==="function"&&X(Q[W])||typeof X!=="function"&&!!X)A[G]=I(Q[W]);return}let[Z,Y]=B[G];if(typeof Y==="function"){let J,X=Z===void 0&&(J=Y())!=null,I=typeof Z==="function"&&!!Z(void 0)||typeof Z!=="function"&&!!Z;if(X)A[G]=J;else if(I)A[G]=Y()}else{let J=Z===void 0&&Y!=null,X=typeof Z==="function"&&!!Z(Y)||typeof Z!=="function"&&!!Z;if(J||X)A[G]=Y}},eM3=(A)=>A!=null,AR3=(A)=>A,QR3=(A)=>{if(A!==A)return"NaN";switch(A){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return A}},BR3=(A)=>A.toISOString().replace(".000Z","Z"),xc1=(A)=>{if(A==null)return{};if(Array.isArray(A))return A.filter((Q)=>Q!=null).map(xc1);if(typeof A==="object"){let Q={};for(let B of Object.keys(A)){if(A[B]==null)continue;Q[B]=xc1(A[B])}return Q}return A};Object.defineProperty(qJA,"collectBody",{enumerable:!0,get:function(){return yc1.collectBody}});Object.defineProperty(qJA,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return yc1.extendedEncodeURIComponent}});Object.defineProperty(qJA,"resolvedPath",{enumerable:!0,get:function(){return yc1.resolvedPath}});qJA.Client=eeQ;qJA.Command=vc1;qJA.NoOpLogger=YAB;qJA.SENSITIVE_STRING=bM3;qJA.ServiceException=UJA;qJA._json=xc1;qJA.convertMap=rM3;qJA.createAggregatedClient=fM3;qJA.decorateServiceException=QAB;qJA.emitWarningIfUnsupportedVersion=mM3;qJA.getArrayIfSingleItem=aM3;qJA.getDefaultClientConfiguration=iM3;qJA.getDefaultExtensionConfiguration=GAB;qJA.getValueFromTextNode=ZAB;qJA.isSerializableHeaderValue=oM3;qJA.loadConfigsForDefaultMode=uM3;qJA.map=JAB;qJA.resolveDefaultRuntimeConfig=nM3;qJA.serializeDateTime=BR3;qJA.serializeFloat=QR3;qJA.take=sM3;qJA.throwDefaultError=BAB;qJA.withBaseException=hM3;Object.keys(reQ).forEach(function(A){if(A!=="default"&&!Object.prototype.hasOwnProperty.call(qJA,A))Object.defineProperty(qJA,A,{enumerable:!0,get:function(){return reQ[A]}})})});var bc1=U((IAB)=>{Object.defineProperty(IAB,"__esModule",{value:!0});IAB.resolveHttpAuthSchemeConfig=IAB.defaultCognitoIdentityHttpAuthSchemeProvider=IAB.defaultCognitoIdentityHttpAuthSchemeParametersProvider=void 0;var RR3=vY(),kc1=Iz(),_R3=async(A,Q,B)=>{return{operation:(0,kc1.getSmithyContext)(Q).operation,region:await(0,kc1.normalizeProvider)(A.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}};IAB.defaultCognitoIdentityHttpAuthSchemeParametersProvider=_R3;function jR3(A){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:A.region},propertiesExtractor:(Q,B)=>({signingProperties:{config:Q,context:B}})}}function NeA(A){return{schemeId:"smithy.api#noAuth"}}var TR3=(A)=>{let Q=[];switch(A.operation){case"GetCredentialsForIdentity":{Q.push(NeA(A));break}case"GetId":{Q.push(NeA(A));break}case"GetOpenIdToken":{Q.push(NeA(A));break}case"UnlinkIdentity":{Q.push(NeA(A));break}default:Q.push(jR3(A))}return Q};IAB.defaultCognitoIdentityHttpAuthSchemeProvider=TR3;var PR3=(A)=>{let Q=(0,RR3.resolveAwsSdkSigV4Config)(A);return Object.assign(Q,{authSchemePreference:(0,kc1.normalizeProvider)(A.authSchemePreference??[])})};IAB.resolveHttpAuthSchemeConfig=PR3});var DAB=U((hJG,yR3)=>{yR3.exports={name:"@aws-sdk/client-cognito-identity",description:"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",version:"3.936.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts --mode development","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.936.0","@aws-sdk/credential-provider-node":"3.936.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.936.0","@aws-sdk/middleware-user-agent":"3.936.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.936.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.5","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.12","@smithy/middleware-retry":"^4.4.12","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.8","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.11","@smithy/util-defaults-mode-node":"^4.2.14","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/client-iam":"3.936.0","@tsconfig/node18":"18.2.4","@types/chai":"^4.2.11","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"}}});var KAB=U((kR3)=>{var vR3=(A)=>typeof ArrayBuffer==="function"&&A instanceof ArrayBuffer||Object.prototype.toString.call(A)==="[object ArrayBuffer]";kR3.isArrayBuffer=vR3});var hc1=U((uR3)=>{var fR3=KAB(),fc1=qA("buffer"),hR3=(A,Q=0,B=A.byteLength-Q)=>{if(!fR3.isArrayBuffer(A))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof A} (${A})`);return fc1.Buffer.from(A,Q,B)},gR3=(A,Q)=>{if(typeof A!=="string")throw TypeError(`The "input" argument must be of type string. Received type ${typeof A} (${A})`);return Q?fc1.Buffer.from(A,Q):fc1.Buffer.from(A)};uR3.fromArrayBuffer=hR3;uR3.fromString=gR3});var HAB=U((VAB)=>{Object.defineProperty(VAB,"__esModule",{value:!0});VAB.fromBase64=void 0;var pR3=hc1(),cR3=/^[A-Za-z0-9+/]*={0,2}$/,lR3=(A)=>{if(A.length*3%4!==0)throw TypeError("Incorrect padding on base64 string.");if(!cR3.exec(A))throw TypeError("Invalid base64 string.");let Q=(0,pR3.fromString)(A,"base64");return new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength)};VAB.fromBase64=lR3});var CAB=U((EAB)=>{Object.defineProperty(EAB,"__esModule",{value:!0});EAB.toBase64=void 0;var iR3=hc1(),nR3=lG(),aR3=(A)=>{let Q;if(typeof A==="string")Q=(0,nR3.fromUtf8)(A);else Q=A;if(typeof Q!=="object"||typeof Q.byteOffset!=="number"||typeof Q.byteLength!=="number")throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,iR3.fromArrayBuffer)(Q.buffer,Q.byteOffset,Q.byteLength).toString("base64")};EAB.toBase64=aR3});var qAB=U((pLA)=>{var $AB=HAB(),UAB=CAB();Object.keys($AB).forEach(function(A){if(A!=="default"&&!Object.prototype.hasOwnProperty.call(pLA,A))Object.defineProperty(pLA,A,{enumerable:!0,get:function(){return $AB[A]}})});Object.keys(UAB).forEach(function(A){if(A!=="default"&&!Object.prototype.hasOwnProperty.call(pLA,A))Object.defineProperty(pLA,A,{enumerable:!0,get:function(){return UAB[A]}})})});var fAB=U((kAB)=>{Object.defineProperty(kAB,"__esModule",{value:!0});kAB.ruleSet=void 0;var SAB="required",Oz="fn",Mz="argv",wJA="ref",NAB=!0,wAB="isSet",iLA="booleanEquals",NJA="error",dv="endpoint",Xu="tree",gc1="PartitionResult",uc1="getAttr",cLA="stringEquals",LAB={[SAB]:!1,type:"string"},OAB={[SAB]:!0,default:!1,type:"boolean"},MAB={[wJA]:"Endpoint"},xAB={[Oz]:iLA,[Mz]:[{[wJA]:"UseFIPS"},!0]},yAB={[Oz]:iLA,[Mz]:[{[wJA]:"UseDualStack"},!0]},uD={},lLA={[wJA]:"Region"},RAB={[Oz]:uc1,[Mz]:[{[wJA]:gc1},"supportsFIPS"]},vAB={[wJA]:gc1},_AB={[Oz]:iLA,[Mz]:[!0,{[Oz]:uc1,[Mz]:[vAB,"supportsDualStack"]}]},jAB=[xAB],TAB=[yAB],PAB=[lLA],oR3={version:"1.0",parameters:{Region:LAB,UseDualStack:OAB,UseFIPS:OAB,Endpoint:LAB},rules:[{conditions:[{[Oz]:wAB,[Mz]:[MAB]}],rules:[{conditions:jAB,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:NJA},{conditions:TAB,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:NJA},{endpoint:{url:MAB,properties:uD,headers:uD},type:dv}],type:Xu},{conditions:[{[Oz]:wAB,[Mz]:PAB}],rules:[{conditions:[{[Oz]:"aws.partition",[Mz]:PAB,assign:gc1}],rules:[{conditions:[xAB,yAB],rules:[{conditions:[{[Oz]:iLA,[Mz]:[NAB,RAB]},_AB],rules:[{conditions:[{[Oz]:cLA,[Mz]:[lLA,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:uD,headers:uD},type:dv},{conditions:[{[Oz]:cLA,[Mz]:[lLA,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:uD,headers:uD},type:dv},{conditions:[{[Oz]:cLA,[Mz]:[lLA,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:uD,headers:uD},type:dv},{conditions:[{[Oz]:cLA,[Mz]:[lLA,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:uD,headers:uD},type:dv},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:uD,headers:uD},type:dv}],type:Xu},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:NJA}],type:Xu},{conditions:jAB,rules:[{conditions:[{[Oz]:iLA,[Mz]:[RAB,NAB]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:uD,headers:uD},type:dv}],type:Xu},{error:"FIPS is enabled but this partition does not support FIPS",type:NJA}],type:Xu},{conditions:TAB,rules:[{conditions:[_AB],rules:[{conditions:[{[Oz]:cLA,[Mz]:["aws",{[Oz]:uc1,[Mz]:[vAB,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:uD,headers:uD},type:dv},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:uD,headers:uD},type:dv}],type:Xu},{error:"DualStack is enabled but this partition does not support DualStack",type:NJA}],type:Xu},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:uD,headers:uD},type:dv}],type:Xu}],type:Xu},{error:"Invalid Configuration: Missing Region",type:NJA}]};kAB.ruleSet=oR3});var uAB=U((hAB)=>{Object.defineProperty(hAB,"__esModule",{value:!0});hAB.defaultEndpointResolver=void 0;var rR3=Qv(),mc1=FT(),sR3=fAB(),tR3=new mc1.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),eR3=(A,Q={})=>{return tR3.get(A,()=>(0,mc1.resolveEndpoint)(sR3.ruleSet,{endpointParams:A,logger:Q.logger}))};hAB.defaultEndpointResolver=eR3;mc1.customEndpointFunctions.aws=rR3.awsEndpointFunctions});var lAB=U((pAB)=>{Object.defineProperty(pAB,"__esModule",{value:!0});pAB.getRuntimeConfig=void 0;var A_3=vY(),Q_3=yg(),B_3=iG(),G_3=dLA(),Z_3=vM(),mAB=qAB(),dAB=lG(),Y_3=bc1(),J_3=uAB(),X_3=(A)=>{return{apiVersion:"2014-06-30",base64Decoder:A?.base64Decoder??mAB.fromBase64,base64Encoder:A?.base64Encoder??mAB.toBase64,disableHostPrefix:A?.disableHostPrefix??!1,endpointProvider:A?.endpointProvider??J_3.defaultEndpointResolver,extensions:A?.extensions??[],httpAuthSchemeProvider:A?.httpAuthSchemeProvider??Y_3.defaultCognitoIdentityHttpAuthSchemeProvider,httpAuthSchemes:A?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:(Q)=>Q.getIdentityProvider("aws.auth#sigv4"),signer:new A_3.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:(Q)=>Q.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new B_3.NoAuthSigner}],logger:A?.logger??new G_3.NoOpLogger,protocol:A?.protocol??new Q_3.AwsJson1_1Protocol({defaultNamespace:"com.amazonaws.cognitoidentity",serviceTarget:"AWSCognitoIdentityService",awsQueryCompatible:!1}),serviceId:A?.serviceId??"Cognito Identity",urlParser:A?.urlParser??Z_3.parseUrl,utf8Decoder:A?.utf8Decoder??dAB.fromUtf8,utf8Encoder:A?.utf8Encoder??dAB.toUtf8}};pAB.getRuntimeConfig=X_3});var tAB=U((rAB)=>{Object.defineProperty(rAB,"__esModule",{value:!0});rAB.getRuntimeConfig=void 0;var I_3=NZ(),W_3=I_3.__importDefault(DAB()),iAB=vY(),D_3=G0A(),nAB=Tg(),weA=wW(),K_3=Pg(),aAB=wH(),t0A=Dq(),oAB=dw(),V_3=Sg(),F_3=Jv(),H_3=lAB(),E_3=dLA(),z_3=kg(),C_3=dLA(),$_3=(A)=>{(0,C_3.emitWarningIfUnsupportedVersion)(process.version);let Q=(0,z_3.resolveDefaultsModeConfig)(A),B=()=>Q().then(E_3.loadConfigsForDefaultMode),G=(0,H_3.getRuntimeConfig)(A);(0,iAB.emitWarningIfUnsupportedVersion)(process.version);let Z={profile:A?.profile,logger:G.logger};return{...G,...A,runtime:"node",defaultsMode:Q,authSchemePreference:A?.authSchemePreference??(0,t0A.loadConfig)(iAB.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,Z),bodyLengthChecker:A?.bodyLengthChecker??V_3.calculateBodyLength,credentialDefaultProvider:A?.credentialDefaultProvider??D_3.defaultProvider,defaultUserAgentProvider:A?.defaultUserAgentProvider??(0,nAB.createDefaultUserAgentProvider)({serviceId:G.serviceId,clientVersion:W_3.default.version}),maxAttempts:A?.maxAttempts??(0,t0A.loadConfig)(aAB.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,A),region:A?.region??(0,t0A.loadConfig)(weA.NODE_REGION_CONFIG_OPTIONS,{...weA.NODE_REGION_CONFIG_FILE_OPTIONS,...Z}),requestHandler:oAB.NodeHttpHandler.create(A?.requestHandler??B),retryMode:A?.retryMode??(0,t0A.loadConfig)({...aAB.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await B()).retryMode||F_3.DEFAULT_RETRY_MODE},A),sha256:A?.sha256??K_3.Hash.bind(null,"sha256"),streamCollector:A?.streamCollector??oAB.streamCollector,useDualstackEndpoint:A?.useDualstackEndpoint??(0,t0A.loadConfig)(weA.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,Z),useFipsEndpoint:A?.useFipsEndpoint??(0,t0A.loadConfig)(weA.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,Z),userAgentAppId:A?.userAgentAppId??(0,t0A.loadConfig)(nAB.NODE_APP_ID_CONFIG_OPTIONS,Z)}};rAB.getRuntimeConfig=$_3});var B1B=U((O_3)=>{var U_3=jc1(),q_3=(A)=>{return{setHttpHandler(Q){A.httpHandler=Q},httpHandler(){return A.httpHandler},updateHttpClientConfig(Q,B){A.httpHandler?.updateHttpClientConfig(Q,B)},httpHandlerConfigs(){return A.httpHandler.httpHandlerConfigs()}}},N_3=(A)=>{return{httpHandler:A.httpHandler()}};class eAB{name;kind;values;constructor({name:A,kind:Q=U_3.FieldPosition.HEADER,values:B=[]}){this.name=A,this.kind=Q,this.values=B}add(A){this.values.push(A)}set(A){this.values=A}remove(A){this.values=this.values.filter((Q)=>Q!==A)}toString(){return this.values.map((A)=>A.includes(",")||A.includes(" ")?`"${A}"`:A).join(", ")}get(){return this.values}}class A1B{entries={};encoding;constructor({fields:A=[],encoding:Q="utf-8"}){A.forEach(this.setField.bind(this)),this.encoding=Q}setField(A){this.entries[A.name.toLowerCase()]=A}getField(A){return this.entries[A.toLowerCase()]}removeField(A){delete this.entries[A.toLowerCase()]}getByType(A){return Object.values(this.entries).filter((Q)=>Q.kind===A)}}class LeA{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(A){this.method=A.method||"GET",this.hostname=A.hostname||"localhost",this.port=A.port,this.query=A.query||{},this.headers=A.headers||{},this.body=A.body,this.protocol=A.protocol?A.protocol.slice(-1)!==":"?`${A.protocol}:`:A.protocol:"https:",this.path=A.path?A.path.charAt(0)!=="/"?`/${A.path}`:A.path:"/",this.username=A.username,this.password=A.password,this.fragment=A.fragment}static clone(A){let Q=new LeA({...A,headers:{...A.headers}});if(Q.query)Q.query=w_3(Q.query);return Q}static isInstance(A){if(!A)return!1;let Q=A;return"method"in Q&&"protocol"in Q&&"hostname"in Q&&"path"in Q&&typeof Q.query==="object"&&typeof Q.headers==="object"}clone(){return LeA.clone(this)}}function w_3(A){return Object.keys(A).reduce((Q,B)=>{let G=A[B];return{...Q,[B]:Array.isArray(G)?[...G]:G}},{})}class Q1B{statusCode;reason;headers;body;constructor(A){this.statusCode=A.statusCode,this.reason=A.reason,this.headers=A.headers||{},this.body=A.body}static isInstance(A){if(!A)return!1;let Q=A;return typeof Q.statusCode==="number"&&typeof Q.headers==="object"}}function L_3(A){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(A)}O_3.Field=eAB;O_3.Fields=A1B;O_3.HttpRequest=LeA;O_3.HttpResponse=Q1B;O_3.getHttpHandlerExtensionConfiguration=q_3;O_3.isValidHostname=L_3;O_3.resolveHttpHandlerRuntimeConfig=N_3});var h1B=U((El1)=>{var G1B=zg(),x_3=Cg(),y_3=$g(),Z1B=Zv(),v_3=wW(),OeA=iG(),XL=IX(),k_3=jg(),HX=HT(),Y1B=wH(),jG=dLA(),J1B=bc1(),b_3=tAB(),X1B=ET(),I1B=B1B(),f_3=(A)=>{return Object.assign(A,{useDualstackEndpoint:A.useDualstackEndpoint??!1,useFipsEndpoint:A.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"})},sX={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},h_3=(A)=>{let{httpAuthSchemes:Q,httpAuthSchemeProvider:B,credentials:G}=A;return{setHttpAuthScheme(Z){let Y=Q.findIndex((J)=>J.schemeId===Z.schemeId);if(Y===-1)Q.push(Z);else Q.splice(Y,1,Z)},httpAuthSchemes(){return Q},setHttpAuthSchemeProvider(Z){B=Z},httpAuthSchemeProvider(){return B},setCredentials(Z){G=Z},credentials(){return G}}},g_3=(A)=>{return{httpAuthSchemes:A.httpAuthSchemes(),httpAuthSchemeProvider:A.httpAuthSchemeProvider(),credentials:A.credentials()}},u_3=(A,Q)=>{let B=Object.assign(X1B.getAwsRegionExtensionConfiguration(A),jG.getDefaultExtensionConfiguration(A),I1B.getHttpHandlerExtensionConfiguration(A),h_3(A));return Q.forEach((G)=>G.configure(B)),Object.assign(A,X1B.resolveAwsRegionExtensionConfiguration(B),jG.resolveDefaultRuntimeConfig(B),I1B.resolveHttpHandlerRuntimeConfig(B),g_3(B))};class ReA extends jG.Client{config;constructor(...[A]){let Q=b_3.getRuntimeConfig(A||{});super(Q);this.initConfig=Q;let B=f_3(Q),G=Z1B.resolveUserAgentConfig(B),Z=Y1B.resolveRetryConfig(G),Y=v_3.resolveRegionConfig(Z),J=G1B.resolveHostHeaderConfig(Y),X=HX.resolveEndpointConfig(J),I=J1B.resolveHttpAuthSchemeConfig(X),W=u_3(I,A?.extensions||[]);this.config=W,this.middlewareStack.use(XL.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(Z1B.getUserAgentPlugin(this.config)),this.middlewareStack.use(Y1B.getRetryPlugin(this.config)),this.middlewareStack.use(k_3.getContentLengthPlugin(this.config)),this.middlewareStack.use(G1B.getHostHeaderPlugin(this.config)),this.middlewareStack.use(x_3.getLoggerPlugin(this.config)),this.middlewareStack.use(y_3.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(OeA.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:J1B.defaultCognitoIdentityHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async(D)=>new OeA.DefaultIdentityProviderConfig({"aws.auth#sigv4":D.credentials})})),this.middlewareStack.use(OeA.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}}var IL=class A extends jG.ServiceException{constructor(Q){super(Q);Object.setPrototypeOf(this,A.prototype)}},W1B=class A extends IL{name="InternalErrorException";$fault="server";constructor(Q){super({name:"InternalErrorException",$fault:"server",...Q});Object.setPrototypeOf(this,A.prototype)}},D1B=class A extends IL{name="InvalidParameterException";$fault="client";constructor(Q){super({name:"InvalidParameterException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},K1B=class A extends IL{name="LimitExceededException";$fault="client";constructor(Q){super({name:"LimitExceededException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},V1B=class A extends IL{name="NotAuthorizedException";$fault="client";constructor(Q){super({name:"NotAuthorizedException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},F1B=class A extends IL{name="ResourceConflictException";$fault="client";constructor(Q){super({name:"ResourceConflictException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},H1B=class A extends IL{name="TooManyRequestsException";$fault="client";constructor(Q){super({name:"TooManyRequestsException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},E1B=class A extends IL{name="ResourceNotFoundException";$fault="client";constructor(Q){super({name:"ResourceNotFoundException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},z1B=class A extends IL{name="ExternalServiceException";$fault="client";constructor(Q){super({name:"ExternalServiceException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},C1B=class A extends IL{name="InvalidIdentityPoolConfigurationException";$fault="client";constructor(Q){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},$1B=class A extends IL{name="DeveloperUserAlreadyRegisteredException";$fault="client";constructor(Q){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},U1B=class A extends IL{name="ConcurrentModificationException";$fault="client";constructor(Q){super({name:"ConcurrentModificationException",$fault:"client",...Q});Object.setPrototypeOf(this,A.prototype)}},q1B="AllowClassicFlow",m_3="AccountId",d_3="AccessKeyId",p_3="AmbiguousRoleResolution",N1B="AllowUnauthenticatedIdentities",w1B="Credentials",c_3="CreationDate",l_3="ClientId",i_3="CognitoIdentityProvider",n_3="CreateIdentityPoolInput",a_3="CognitoIdentityProviderList",L1B="CognitoIdentityProviders",o_3="CreateIdentityPool",r_3="ConcurrentModificationException",s_3="CustomRoleArn",t_3="Claim",e_3="DeleteIdentities",Aj3="DeleteIdentitiesInput",Qj3="DescribeIdentityInput",Bj3="DeleteIdentityPool",Gj3="DeleteIdentityPoolInput",Zj3="DescribeIdentityPoolInput",Yj3="DescribeIdentityPool",Jj3="DeleteIdentitiesResponse",Xj3="DescribeIdentity",_eA="DeveloperProviderName",Ij3="DeveloperUserAlreadyRegisteredException",O1B="DeveloperUserIdentifier",Wj3="DeveloperUserIdentifierList",Dj3="DestinationUserIdentifier",Kj3="Expiration",Vj3="ErrorCode",Fj3="ExternalServiceException",Hj3="GetCredentialsForIdentity",Ej3="GetCredentialsForIdentityInput",zj3="GetCredentialsForIdentityResponse",Cj3="GetId",$j3="GetIdInput",Uj3="GetIdentityPoolRoles",qj3="GetIdentityPoolRolesInput",Nj3="GetIdentityPoolRolesResponse",wj3="GetIdResponse",Lj3="GetOpenIdToken",Oj3="GetOpenIdTokenForDeveloperIdentity",Mj3="GetOpenIdTokenForDeveloperIdentityInput",Rj3="GetOpenIdTokenForDeveloperIdentityResponse",_j3="GetOpenIdTokenInput",jj3="GetOpenIdTokenResponse",Tj3="GetPrincipalTagAttributeMap",Pj3="GetPrincipalTagAttributeMapInput",Sj3="GetPrincipalTagAttributeMapResponse",xj3="HideDisabled",yj3="Identities",vj3="IdentityDescription",kj3="InternalErrorException",G$="IdentityId",bj3="InvalidIdentityPoolConfigurationException",fj3="IdentityIdsToDelete",hj3="IdentitiesList",gj3="IdentityPool",uj3="InvalidParameterException",GF="IdentityPoolId",mj3="IdentityPoolsList",dc1="IdentityPoolName",jeA="IdentityProviderName",dj3="IdentityPoolShortDescription",pj3="IdentityProviderToken",M1B="IdentityPoolTags",cj3="IdentityPools",LJA="Logins",lj3="LookupDeveloperIdentity",ij3="LookupDeveloperIdentityInput",nj3="LookupDeveloperIdentityResponse",aj3="LimitExceededException",oj3="ListIdentities",rj3="ListIdentitiesInput",sj3="ListIdentityPools",tj3="ListIdentityPoolsInput",ej3="ListIdentityPoolsResponse",AT3="ListIdentitiesResponse",QT3="LoginsMap",BT3="LastModifiedDate",GT3="ListTagsForResource",ZT3="ListTagsForResourceInput",YT3="ListTagsForResourceResponse",JT3="LoginsToRemove",XT3="MergeDeveloperIdentities",IT3="MergeDeveloperIdentitiesInput",WT3="MergeDeveloperIdentitiesResponse",pc1="MaxResults",DT3="MappingRulesList",KT3="MappingRule",VT3="MatchType",FT3="NotAuthorizedException",OJA="NextToken",R1B="OpenIdConnectProviderARNs",HT3="OIDCToken",ET3="ProviderName",TeA="PrincipalTags",_1B="Roles",cc1="ResourceArn",zT3="RoleARN",CT3="RulesConfiguration",$T3="ResourceConflictException",UT3="RulesConfigurationType",j1B="RoleMappings",qT3="RoleMappingMap",NT3="RoleMapping",wT3="ResourceNotFoundException",LT3="Rules",OT3="SetIdentityPoolRoles",MT3="SetIdentityPoolRolesInput",RT3="SecretKey",_T3="SecretKeyString",T1B="SupportedLoginProviders",P1B="SamlProviderARNs",jT3="SetPrincipalTagAttributeMap",TT3="SetPrincipalTagAttributeMapInput",PT3="SetPrincipalTagAttributeMapResponse",ST3="ServerSideTokenCheck",xT3="SessionToken",yT3="SourceUserIdentifier",S1B="Token",vT3="TokenDuration",kT3="TagKeys",bT3="TooManyRequestsException",fT3="TagResource",hT3="TagResourceInput",gT3="TagResourceResponse",x1B="Tags",uT3="Type",lc1="UseDefaults",mT3="UnlinkDeveloperIdentity",dT3="UnlinkDeveloperIdentityInput",pT3="UnlinkIdentity",cT3="UnprocessedIdentityIds",lT3="UnprocessedIdentityIdList",iT3="UnlinkIdentityInput",nT3="UnprocessedIdentityId",aT3="UpdateIdentityPool",oT3="UntagResource",rT3="UntagResourceInput",sT3="UntagResourceResponse",tT3="Value",pv="client",fT="error",cv="httpError",hT="message",eT3="server",y1B="smithy.ts.sdk.synthetic.com.amazonaws.cognitoidentity",nQ="com.amazonaws.cognitoidentity",AP3=[0,nQ,pj3,8,0],v1B=[0,nQ,HT3,8,0],QP3=[0,nQ,_T3,8,0],BP3=[3,nQ,i_3,0,[ET3,l_3,ST3],[0,0,2]],GP3=[-3,nQ,r_3,{[fT]:pv,[cv]:400},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(GP3,U1B);var ZP3=[3,nQ,n_3,0,[dc1,N1B,q1B,T1B,_eA,R1B,L1B,P1B,M1B],[0,2,2,128,0,64,()=>b1B,64,128]],YP3=[3,nQ,w1B,0,[d_3,RT3,xT3,Kj3],[0,[()=>QP3,0],0,4]],JP3=[3,nQ,Aj3,0,[fj3],[64]],XP3=[3,nQ,Jj3,0,[cT3],[()=>XS3]],IP3=[3,nQ,Gj3,0,[GF],[0]],WP3=[3,nQ,Qj3,0,[G$],[0]],DP3=[3,nQ,Zj3,0,[GF],[0]],KP3=[-3,nQ,Ij3,{[fT]:pv,[cv]:400},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(KP3,$1B);var VP3=[-3,nQ,Fj3,{[fT]:pv,[cv]:400},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(VP3,z1B);var FP3=[3,nQ,Ej3,0,[G$,LJA,s_3],[0,[()=>nLA,0],0]],HP3=[3,nQ,zj3,0,[G$,w1B],[0,[()=>YP3,0]]],EP3=[3,nQ,qj3,0,[GF],[0]],zP3=[3,nQ,Nj3,0,[GF,_1B,j1B],[0,128,()=>f1B]],CP3=[3,nQ,$j3,0,[m_3,GF,LJA],[0,0,[()=>nLA,0]]],$P3=[3,nQ,wj3,0,[G$],[0]],UP3=[3,nQ,Mj3,0,[GF,G$,LJA,TeA,vT3],[0,0,[()=>nLA,0],128,1]],qP3=[3,nQ,Rj3,0,[G$,S1B],[0,[()=>v1B,0]]],NP3=[3,nQ,_j3,0,[G$,LJA],[0,[()=>nLA,0]]],wP3=[3,nQ,jj3,0,[G$,S1B],[0,[()=>v1B,0]]],LP3=[3,nQ,Pj3,0,[GF,jeA],[0,0]],OP3=[3,nQ,Sj3,0,[GF,jeA,lc1,TeA],[0,0,2,128]],k1B=[3,nQ,vj3,0,[G$,LJA,c_3,BT3],[0,64,4,4]],MeA=[3,nQ,gj3,0,[GF,dc1,N1B,q1B,T1B,_eA,R1B,L1B,P1B,M1B],[0,0,2,2,128,0,64,()=>b1B,64,128]],MP3=[3,nQ,dj3,0,[GF,dc1],[0,0]],RP3=[-3,nQ,kj3,{[fT]:eT3},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(RP3,W1B);var _P3=[-3,nQ,bj3,{[fT]:pv,[cv]:400},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(_P3,C1B);var jP3=[-3,nQ,uj3,{[fT]:pv,[cv]:400},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(jP3,D1B);var TP3=[-3,nQ,aj3,{[fT]:pv,[cv]:400},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(TP3,K1B);var PP3=[3,nQ,rj3,0,[GF,pc1,OJA,xj3],[0,1,0,2]],SP3=[3,nQ,AT3,0,[GF,yj3,OJA],[0,()=>ZS3,0]],xP3=[3,nQ,tj3,0,[pc1,OJA],[1,0]],yP3=[3,nQ,ej3,0,[cj3,OJA],[()=>YS3,0]],vP3=[3,nQ,ZT3,0,[cc1],[0]],kP3=[3,nQ,YT3,0,[x1B],[128]],bP3=[3,nQ,ij3,0,[GF,G$,O1B,pc1,OJA],[0,0,0,1,0]],fP3=[3,nQ,nj3,0,[G$,Wj3,OJA],[0,64,0]],hP3=[3,nQ,KT3,0,[t_3,VT3,tT3,zT3],[0,0,0,0]],gP3=[3,nQ,IT3,0,[yT3,Dj3,_eA,GF],[0,0,0,0]],uP3=[3,nQ,WT3,0,[G$],[0]],mP3=[-3,nQ,FT3,{[fT]:pv,[cv]:403},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(mP3,V1B);var dP3=[-3,nQ,$T3,{[fT]:pv,[cv]:409},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(dP3,F1B);var pP3=[-3,nQ,wT3,{[fT]:pv,[cv]:404},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(pP3,E1B);var cP3=[3,nQ,NT3,0,[uT3,p_3,CT3],[0,0,()=>lP3]],lP3=[3,nQ,UT3,0,[LT3],[()=>JS3]],iP3=[3,nQ,MT3,0,[GF,_1B,j1B],[0,128,()=>f1B]],nP3=[3,nQ,TT3,0,[GF,jeA,lc1,TeA],[0,0,2,128]],aP3=[3,nQ,PT3,0,[GF,jeA,lc1,TeA],[0,0,2,128]],oP3=[3,nQ,hT3,0,[cc1,x1B],[0,128]],rP3=[3,nQ,gT3,0,[],[]],sP3=[-3,nQ,bT3,{[fT]:pv,[cv]:429},[hT],[0]];XL.TypeRegistry.for(nQ).registerError(sP3,H1B);var tP3=[3,nQ,dT3,0,[G$,GF,_eA,O1B],[0,0,0,0]],eP3=[3,nQ,iT3,0,[G$,LJA,JT3],[0,[()=>nLA,0],64]],AS3=[3,nQ,nT3,0,[G$,Vj3],[0,0]],QS3=[3,nQ,rT3,0,[cc1,kT3],[0,64]],BS3=[3,nQ,sT3,0,[],[]],PeA="unit",GS3=[-3,y1B,"CognitoIdentityServiceException",0,[],[]];XL.TypeRegistry.for(y1B).registerError(GS3,IL);var b1B=[1,nQ,a_3,0,()=>BP3],ZS3=[1,nQ,hj3,0,()=>k1B],YS3=[1,nQ,mj3,0,()=>MP3],JS3=[1,nQ,DT3,0,()=>hP3],XS3=[1,nQ,lT3,0,()=>AS3],nLA=[2,nQ,QT3,0,[0,0],[()=>AP3,0]],f1B=[2,nQ,qT3,0,0,()=>cP3],IS3=[9,nQ,o_3,0,()=>ZP3,()=>MeA],WS3=[9,nQ,e_3,0,()=>JP3,()=>XP3],DS3=[9,nQ,Bj3,0,()=>IP3,()=>PeA],KS3=[9,nQ,Xj3,0,()=>WP3,()=>k1B],VS3=[9,nQ,Yj3,0,()=>DP3,()=>MeA],FS3=[9,nQ,Hj3,0,()=>FP3,()=>HP3],HS3=[9,nQ,Cj3,0,()=>CP3,()=>$P3],ES3=[9,nQ,Uj3,0,()=>EP3,()=>zP3],zS3=[9,nQ,Lj3,0,()=>NP3,()=>wP3],CS3=[9,nQ,Oj3,0,()=>UP3,()=>qP3],$S3=[9,nQ,Tj3,0,()=>LP3,()=>OP3],US3=[9,nQ,oj3,0,()=>PP3,()=>SP3],qS3=[9,nQ,sj3,0,()=>xP3,()=>yP3],NS3=[9,nQ,GT3,0,()=>vP3,()=>kP3],wS3=[9,nQ,lj3,0,()=>bP3,()=>fP3],LS3=[9,nQ,XT3,0,()=>gP3,()=>uP3],OS3=[9,nQ,OT3,0,()=>iP3,()=>PeA],MS3=[9,nQ,jT3,0,()=>nP3,()=>aP3],RS3=[9,nQ,fT3,0,()=>oP3,()=>rP3],_S3=[9,nQ,mT3,0,()=>tP3,()=>PeA],jS3=[9,nQ,pT3,0,()=>eP3,()=>PeA],TS3=[9,nQ,oT3,0,()=>QS3,()=>BS3],PS3=[9,nQ,aT3,0,()=>MeA,()=>MeA];class ic1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","CreateIdentityPool",{}).n("CognitoIdentityClient","CreateIdentityPoolCommand").sc(IS3).build(){}class nc1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DeleteIdentities",{}).n("CognitoIdentityClient","DeleteIdentitiesCommand").sc(WS3).build(){}class ac1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DeleteIdentityPool",{}).n("CognitoIdentityClient","DeleteIdentityPoolCommand").sc(DS3).build(){}class oc1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DescribeIdentity",{}).n("CognitoIdentityClient","DescribeIdentityCommand").sc(KS3).build(){}class rc1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DescribeIdentityPool",{}).n("CognitoIdentityClient","DescribeIdentityPoolCommand").sc(VS3).build(){}class sc1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").sc(FS3).build(){}class tc1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").sc(HS3).build(){}class ec1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetIdentityPoolRoles",{}).n("CognitoIdentityClient","GetIdentityPoolRolesCommand").sc(ES3).build(){}class Al1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetOpenIdToken",{}).n("CognitoIdentityClient","GetOpenIdTokenCommand").sc(zS3).build(){}class Ql1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetOpenIdTokenForDeveloperIdentity",{}).n("CognitoIdentityClient","GetOpenIdTokenForDeveloperIdentityCommand").sc(CS3).build(){}class Bl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetPrincipalTagAttributeMap",{}).n("CognitoIdentityClient","GetPrincipalTagAttributeMapCommand").sc($S3).build(){}class Gl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListIdentities",{}).n("CognitoIdentityClient","ListIdentitiesCommand").sc(US3).build(){}class SeA extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListIdentityPools",{}).n("CognitoIdentityClient","ListIdentityPoolsCommand").sc(qS3).build(){}class Zl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListTagsForResource",{}).n("CognitoIdentityClient","ListTagsForResourceCommand").sc(NS3).build(){}class Yl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","LookupDeveloperIdentity",{}).n("CognitoIdentityClient","LookupDeveloperIdentityCommand").sc(wS3).build(){}class Jl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","MergeDeveloperIdentities",{}).n("CognitoIdentityClient","MergeDeveloperIdentitiesCommand").sc(LS3).build(){}class Xl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","SetIdentityPoolRoles",{}).n("CognitoIdentityClient","SetIdentityPoolRolesCommand").sc(OS3).build(){}class Il1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","SetPrincipalTagAttributeMap",{}).n("CognitoIdentityClient","SetPrincipalTagAttributeMapCommand").sc(MS3).build(){}class Wl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","TagResource",{}).n("CognitoIdentityClient","TagResourceCommand").sc(RS3).build(){}class Dl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UnlinkDeveloperIdentity",{}).n("CognitoIdentityClient","UnlinkDeveloperIdentityCommand").sc(_S3).build(){}class Kl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UnlinkIdentity",{}).n("CognitoIdentityClient","UnlinkIdentityCommand").sc(jS3).build(){}class Vl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UntagResource",{}).n("CognitoIdentityClient","UntagResourceCommand").sc(TS3).build(){}class Fl1 extends jG.Command.classBuilder().ep(sX).m(function(A,Q,B,G){return[HX.getEndpointPlugin(B,A.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UpdateIdentityPool",{}).n("CognitoIdentityClient","UpdateIdentityPoolCommand").sc(PS3).build(){}var SS3={CreateIdentityPoolCommand:ic1,DeleteIdentitiesCommand:nc1,DeleteIdentityPoolCommand:ac1,DescribeIdentityCommand:oc1,DescribeIdentityPoolCommand:rc1,GetCredentialsForIdentityCommand:sc1,GetIdCommand:tc1,GetIdentityPoolRolesCommand:ec1,GetOpenIdTokenCommand:Al1,GetOpenIdTokenForDeveloperIdentityCommand:Ql1,GetPrincipalTagAttributeMapCommand:Bl1,ListIdentitiesCommand:Gl1,ListIdentityPoolsCommand:SeA,ListTagsForResourceCommand:Zl1,LookupDeveloperIdentityCommand:Yl1,MergeDeveloperIdentitiesCommand:Jl1,SetIdentityPoolRolesCommand:Xl1,SetPrincipalTagAttributeMapCommand:Il1,TagResourceCommand:Wl1,UnlinkDeveloperIdentityCommand:Dl1,UnlinkIdentityCommand:Kl1,UntagResourceCommand:Vl1,UpdateIdentityPoolCommand:Fl1};class Hl1 extends ReA{}jG.createAggregatedClient(SS3,Hl1);var xS3=OeA.createPaginator(ReA,SeA,"NextToken","NextToken","MaxResults"),yS3={AUTHENTICATED_ROLE:"AuthenticatedRole",DENY:"Deny"},vS3={ACCESS_DENIED:"AccessDenied",INTERNAL_SERVER_ERROR:"InternalServerError"},kS3={CONTAINS:"Contains",EQUALS:"Equals",NOT_EQUAL:"NotEqual",STARTS_WITH:"StartsWith"},bS3={RULES:"Rules",TOKEN:"Token"};Object.defineProperty(El1,"$Command",{enumerable:!0,get:function(){return jG.Command}});Object.defineProperty(El1,"__Client",{enumerable:!0,get:function(){return jG.Client}});El1.AmbiguousRoleResolutionType=yS3;El1.CognitoIdentity=Hl1;El1.CognitoIdentityClient=ReA;El1.CognitoIdentityServiceException=IL;El1.ConcurrentModificationException=U1B;El1.CreateIdentityPoolCommand=ic1;El1.DeleteIdentitiesCommand=nc1;El1.DeleteIdentityPoolCommand=ac1;El1.DescribeIdentityCommand=oc1;El1.DescribeIdentityPoolCommand=rc1;El1.DeveloperUserAlreadyRegisteredException=$1B;El1.ErrorCode=vS3;El1.ExternalServiceException=z1B;El1.GetCredentialsForIdentityCommand=sc1;El1.GetIdCommand=tc1;El1.GetIdentityPoolRolesCommand=ec1;El1.GetOpenIdTokenCommand=Al1;El1.GetOpenIdTokenForDeveloperIdentityCommand=Ql1;El1.GetPrincipalTagAttributeMapCommand=Bl1;El1.InternalErrorException=W1B;El1.InvalidIdentityPoolConfigurationException=C1B;El1.InvalidParameterException=D1B;El1.LimitExceededException=K1B;El1.ListIdentitiesCommand=Gl1;El1.ListIdentityPoolsCommand=SeA;El1.ListTagsForResourceCommand=Zl1;El1.LookupDeveloperIdentityCommand=Yl1;El1.MappingRuleMatchType=kS3;El1.MergeDeveloperIdentitiesCommand=Jl1;El1.NotAuthorizedException=V1B;El1.ResourceConflictException=F1B;El1.ResourceNotFoundException=E1B;El1.RoleMappingType=bS3;El1.SetIdentityPoolRolesCommand=Xl1;El1.SetPrincipalTagAttributeMapCommand=Il1;El1.TagResourceCommand=Wl1;El1.TooManyRequestsException=H1B;El1.UnlinkDeveloperIdentityCommand=Dl1;El1.UnlinkIdentityCommand=Kl1;El1.UntagResourceCommand=Vl1;El1.UpdateIdentityPoolCommand=Fl1;El1.paginateListIdentityPools=xS3});var Cl1=U((xeA)=>{var zl1=h1B();Object.defineProperty(xeA,"CognitoIdentityClient",{enumerable:!0,get:function(){return zl1.CognitoIdentityClient}});Object.defineProperty(xeA,"GetCredentialsForIdentityCommand",{enumerable:!0,get:function(){return zl1.GetCredentialsForIdentityCommand}});Object.defineProperty(xeA,"GetIdCommand",{enumerable:!0,get:function(){return zl1.GetIdCommand}})});var Ul1=U((xx3)=>{var yeA=TD();function g1B(A){return Promise.all(Object.keys(A).reduce((Q,B)=>{let G=A[B];if(typeof G==="string")Q.push([B,G]);else Q.push(G().then((Z)=>[B,Z]));return Q},[])).then((Q)=>Q.reduce((B,[G,Z])=>{return B[G]=Z,B},{}))}function u1B(A){return async(Q)=>{A.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let{GetCredentialsForIdentityCommand:B,CognitoIdentityClient:G}=await Promise.resolve().then(function(){return Cl1()}),Z=(W)=>A.clientConfig?.[W]??A.parentClientConfig?.[W]??Q?.callerClientConfig?.[W],{Credentials:{AccessKeyId:Y=Mx3(A.logger),Expiration:J,SecretKey:X=_x3(A.logger),SessionToken:I}=Rx3(A.logger)}=await(A.client??new G(Object.assign({},A.clientConfig??{},{region:Z("region"),profile:Z("profile"),userAgentAppId:Z("userAgentAppId")}))).send(new B({CustomRoleArn:A.customRoleArn,IdentityId:A.identityId,Logins:A.logins?await g1B(A.logins):void 0}));return{identityId:A.identityId,accessKeyId:Y,secretAccessKey:X,sessionToken:I,expiration:J}}}function Mx3(A){throw new yeA.CredentialsProviderError("Response from Amazon Cognito contained no access key ID",{logger:A})}function Rx3(A){throw new yeA.CredentialsProviderError("Response from Amazon Cognito contained no credentials",{logger:A})}function _x3(A){throw new yeA.CredentialsProviderError("Response from Amazon Cognito contained no secret key",{logger:A})}var $l1="IdentityIds";class m1B{dbName;constructor(A="aws:cognito-identity-ids"){this.dbName=A}getItem(A){return this.withObjectStore("readonly",(Q)=>{let B=Q.get(A);return new Promise((G)=>{B.onerror=()=>G(null),B.onsuccess=()=>G(B.result?B.result.value:null)})}).catch(()=>null)}removeItem(A){return this.withObjectStore("readwrite",(Q)=>{let B=Q.delete(A);return new Promise((G,Z)=>{B.onerror=()=>Z(B.error),B.onsuccess=()=>G()})})}setItem(A,Q){return this.withObjectStore("readwrite",(B)=>{let G=B.put({id:A,value:Q});return new Promise((Z,Y)=>{G.onerror=()=>Y(G.error),G.onsuccess=()=>Z()})})}getDb(){let A=self.indexedDB.open(this.dbName,1);return new Promise((Q,B)=>{A.onsuccess=()=>{Q(A.result)},A.onerror=()=>{B(A.error)},A.onblocked=()=>{B(Error("Unable to access DB"))},A.onupgradeneeded=()=>{let G=A.result;G.onerror=()=>{B(Error("Failed to create object store"))},G.createObjectStore($l1,{keyPath:"id"})}})}withObjectStore(A,Q){return this.getDb().then((B)=>{let G=B.transaction($l1,A);return G.oncomplete=()=>B.close(),new Promise((Z,Y)=>{G.onerror=()=>Y(G.error),Z(Q(G.objectStore($l1)))}).catch((Z)=>{throw B.close(),Z})})}}class d1B{store;constructor(A={}){this.store=A}getItem(A){if(A in this.store)return this.store[A];return null}removeItem(A){delete this.store[A]}setItem(A,Q){this.store[A]=Q}}var jx3=new d1B;function Tx3(){if(typeof self==="object"&&self.indexedDB)return new m1B;if(typeof window==="object"&&window.localStorage)return window.localStorage;return jx3}function Px3({accountId:A,cache:Q=Tx3(),client:B,clientConfig:G,customRoleArn:Z,identityPoolId:Y,logins:J,userIdentifier:X=!J||Object.keys(J).length===0?"ANONYMOUS":void 0,logger:I,parentClientConfig:W}){I?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let D=X?`aws:cognito-identity-credentials:${Y}:${X}`:void 0,K=async(V)=>{let{GetIdCommand:F,CognitoIdentityClient:H}=await Promise.resolve().then(function(){return Cl1()}),E=(O)=>G?.[O]??W?.[O]??V?.callerClientConfig?.[O],z=B??new H(Object.assign({},G??{},{region:E("region"),profile:E("profile"),userAgentAppId:E("userAgentAppId")})),C=D&&await Q.getItem(D);if(!C){let{IdentityId:O=Sx3(I)}=await z.send(new F({AccountId:A,IdentityPoolId:Y,Logins:J?await g1B(J):void 0}));if(C=O,D)Promise.resolve(Q.setItem(D,C)).catch(()=>{})}return K=u1B({client:z,customRoleArn:Z,logins:J,identityId:C}),K(V)};return(V)=>K(V).catch(async(F)=>{if(D)Promise.resolve(Q.removeItem(D)).catch(()=>{});throw F})}function Sx3(A){throw new yeA.CredentialsProviderError("Response from Amazon Cognito contained no identity ID",{logger:A})}xx3.fromCognitoIdentity=u1B;xx3.fromCognitoIdentityPool=Px3});var l1B=U((p1B)=>{Object.defineProperty(p1B,"__esModule",{value:!0});p1B.fromCognitoIdentity=void 0;var kx3=Ul1(),bx3=(A)=>(0,kx3.fromCognitoIdentity)({...A});p1B.fromCognitoIdentity=bx3});var a1B=U((i1B)=>{Object.defineProperty(i1B,"__esModule",{value:!0});i1B.fromCognitoIdentityPool=void 0;var fx3=Ul1(),hx3=(A)=>(0,fx3.fromCognitoIdentityPool)({...A});i1B.fromCognitoIdentityPool=hx3});var s1B=U((o1B)=>{Object.defineProperty(o1B,"__esModule",{value:!0});o1B.fromContainerMetadata=void 0;var gx3=c1A(),ux3=(A)=>{return A?.logger?.debug("@smithy/credential-provider-imds","fromContainerMetadata"),(0,gx3.fromContainerMetadata)(A)};o1B.fromContainerMetadata=ux3});var A0B=U((t1B)=>{Object.defineProperty(t1B,"__esModule",{value:!0});t1B.fromEnv=void 0;var mx3=vaA(),dx3=(A)=>(0,mx3.fromEnv)(A);t1B.fromEnv=dx3});var G0B=U((Q0B)=>{Object.defineProperty(Q0B,"__esModule",{value:!0});Q0B.fromIni=void 0;var px3=Xb1(),cx3=(A={})=>(0,px3.fromIni)({...A});Q0B.fromIni=cx3});var J0B=U((Z0B)=>{Object.defineProperty(Z0B,"__esModule",{value:!0});Z0B.fromInstanceMetadata=void 0;var lx3=Wq(),ix3=c1A(),nx3=(A)=>{return A?.logger?.debug("@smithy/credential-provider-imds","fromInstanceMetadata"),async()=>(0,ix3.fromInstanceMetadata)(A)().then((Q)=>(0,lx3.setCredentialFeature)(Q,"CREDENTIALS_IMDS","0"))};Z0B.fromInstanceMetadata=nx3});var W0B=U((X0B)=>{Object.defineProperty(X0B,"__esModule",{value:!0});X0B.fromLoginCredentials=void 0;var ax3=gk1(),ox3=(A)=>(0,ax3.fromLoginCredentials)({...A});X0B.fromLoginCredentials=ox3});var ql1=U((D0B)=>{Object.defineProperty(D0B,"__esModule",{value:!0});D0B.fromNodeProviderChain=void 0;var rx3=G0A(),sx3=(A={})=>(0,rx3.defaultProvider)({...A});D0B.fromNodeProviderChain=sx3});var H0B=U((V0B)=>{Object.defineProperty(V0B,"__esModule",{value:!0});V0B.fromProcess=void 0;var tx3=_oA(),ex3=(A)=>(0,tx3.fromProcess)(A);V0B.fromProcess=ex3});var C0B=U((E0B)=>{Object.defineProperty(E0B,"__esModule",{value:!0});E0B.fromSSO=void 0;var Ay3=FoA(),Qy3=(A={})=>{return(0,Ay3.fromSSO)({...A})};E0B.fromSSO=Qy3});var U0B=U((veA)=>{Object.defineProperty(veA,"__esModule",{value:!0});veA.STSClient=veA.AssumeRoleCommand=void 0;var $0B=RoA();Object.defineProperty(veA,"AssumeRoleCommand",{enumerable:!0,get:function(){return $0B.AssumeRoleCommand}});Object.defineProperty(veA,"STSClient",{enumerable:!0,get:function(){return $0B.STSClient}})});var w0B=U((lv)=>{var Gy3=lv&&lv.__createBinding||(Object.create?function(A,Q,B,G){if(G===void 0)G=B;var Z=Object.getOwnPropertyDescriptor(Q,B);if(!Z||("get"in Z?!Q.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return Q[B]}};Object.defineProperty(A,G,Z)}:function(A,Q,B,G){if(G===void 0)G=B;A[G]=Q[B]}),Zy3=lv&&lv.__setModuleDefault||(Object.create?function(A,Q){Object.defineProperty(A,"default",{enumerable:!0,value:Q})}:function(A,Q){A.default=Q}),Yy3=lv&&lv.__importStar||function(){var A=function(Q){return A=Object.getOwnPropertyNames||function(B){var G=[];for(var Z in B)if(Object.prototype.hasOwnProperty.call(B,Z))G[G.length]=Z;return G},A(Q)};return function(Q){if(Q&&Q.__esModule)return Q;var B={};if(Q!=null){for(var G=A(Q),Z=0;Z<G.length;Z++)if(G[Z]!=="default")Gy3(B,Q,G[Z])}return Zy3(B,Q),B}}();Object.defineProperty(lv,"__esModule",{value:!0});lv.fromTemporaryCredentials=void 0;var Jy3=iG(),q0B=TD(),Xy3="us-east-1",Iy3=(A,Q,B)=>{let G;return async(Z={})=>{let{callerClientConfig:Y}=Z,J=A.clientConfig?.profile??Y?.profile,X=A.logger??Y?.logger;X?.debug("@aws-sdk/credential-providers - fromTemporaryCredentials (STS)");let I={...A.params,RoleSessionName:A.params.RoleSessionName??"aws-sdk-js-"+Date.now()};if(I?.SerialNumber){if(!A.mfaCodeProvider)throw new q0B.CredentialsProviderError("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",{tryNextLink:!1,logger:X});I.TokenCode=await A.mfaCodeProvider(I?.SerialNumber)}let{AssumeRoleCommand:W,STSClient:D}=await Promise.resolve().then(()=>Yy3(U0B()));if(!G){let V=typeof Q==="function"?Q():void 0,F=[A.masterCredentials,A.clientConfig?.credentials,void Y?.credentials,Y?.credentialDefaultProvider?.(),V],H="STS client default credentials";if(F[0])H="options.masterCredentials";else if(F[1])H="options.clientConfig.credentials";else if(F[2])throw H="caller client's credentials",Error("fromTemporaryCredentials recursion in callerClientConfig.credentials");else if(F[3])H="caller client's credentialDefaultProvider";else if(F[4])H="AWS SDK default credentials";let E=[A.clientConfig?.region,Y?.region,await B?.({profile:J}),Xy3],z="default partition's default region";if(E[0])z="options.clientConfig.region";else if(E[1])z="caller client's region";else if(E[2])z="file or env region";let C=[N0B(A.clientConfig?.requestHandler),N0B(Y?.requestHandler)],O="STS default requestHandler";if(C[0])O="options.clientConfig.requestHandler";else if(C[1])O="caller client's requestHandler";X?.debug?.(`@aws-sdk/credential-providers - fromTemporaryCredentials STS client init with ${z}=${await(0,Jy3.normalizeProvider)(keA(E))()}, ${H}, ${O}.`),G=new D({userAgentAppId:Y?.userAgentAppId,...A.clientConfig,credentials:keA(F),logger:X,profile:J,region:keA(E),requestHandler:keA(C)})}if(A.clientPlugins)for(let V of A.clientPlugins)G.middlewareStack.use(V);let{Credentials:K}=await G.send(new W(I));if(!K||!K.AccessKeyId||!K.SecretAccessKey)throw new q0B.CredentialsProviderError(`Invalid response from STS.assumeRole call with role ${I.RoleArn}`,{logger:X});return{accessKeyId:K.AccessKeyId,secretAccessKey:K.SecretAccessKey,sessionToken:K.SessionToken,expiration:K.Expiration,credentialScope:K.CredentialScope}}};lv.fromTemporaryCredentials=Iy3;var N0B=(A)=>{return A?.metadata?.handlerProtocol==="h2"?void 0:A},keA=(A)=>{for(let Q of A)if(Q!==void 0)return Q}});var M0B=U((L0B)=>{Object.defineProperty(L0B,"__esModule",{value:!0});L0B.fromTemporaryCredentials=void 0;var Wy3=wW(),Dy3=Dq(),Ky3=ql1(),Vy3=w0B(),Fy3=(A)=>{return(0,Vy3.fromTemporaryCredentials)(A,Ky3.fromNodeProviderChain,async({profile:Q=process.env.AWS_PROFILE})=>(0,Dy3.loadConfig)({environmentVariableSelector:(B)=>B.AWS_REGION,configFileSelector:(B)=>{return B.region},default:()=>{return}},{...Wy3.NODE_REGION_CONFIG_FILE_OPTIONS,profile:Q})())};L0B.fromTemporaryCredentials=Fy3});var j0B=U((R0B)=>{Object.defineProperty(R0B,"__esModule",{value:!0});R0B.fromTokenFile=void 0;var Hy3=mNA(),Ey3=(A={})=>(0,Hy3.fromTokenFile)({...A});R0B.fromTokenFile=Ey3});var S0B=U((T0B)=>{Object.defineProperty(T0B,"__esModule",{value:!0});T0B.fromWebToken=void 0;var zy3=mNA(),Cy3=(A)=>(0,zy3.fromWebToken)({...A});T0B.fromWebToken=Cy3});var Nl1=U((xH)=>{Object.defineProperty(xH,"__esModule",{value:!0});xH.fromHttp=void 0;var jq=NZ();jq.__exportStar(oeQ(),xH);jq.__exportStar(l1B(),xH);jq.__exportStar(a1B(),xH);jq.__exportStar(s1B(),xH);jq.__exportStar(A0B(),xH);var $y3=haA();Object.defineProperty(xH,"fromHttp",{enumerable:!0,get:function(){return $y3.fromHttp}});jq.__exportStar(G0B(),xH);jq.__exportStar(J0B(),xH);jq.__exportStar(W0B(),xH);jq.__exportStar(ql1(),xH);jq.__exportStar(H0B(),xH);jq.__exportStar(C0B(),xH);jq.__exportStar(M0B(),xH);jq.__exportStar(j0B(),xH);jq.__exportStar(S0B(),xH)});function y0B(A){return A?.name==="CredentialsProviderError"}function v0B(A){if(!A||typeof A!=="object")return!1;let Q=A;if(!Q.Credentials||typeof Q.Credentials!=="object")return!1;let B=Q.Credentials;return typeof B.AccessKeyId==="string"&&typeof B.SecretAccessKey==="string"&&typeof B.SessionToken==="string"&&B.AccessKeyId.length>0&&B.SecretAccessKey.length>0&&B.SessionToken.length>0}async function k0B(){try{k("Clearing AWS credential provider cache"),await x0B.fromIni({ignoreCache:!0})(),k("AWS credential provider cache refreshed")}catch(A){k("Failed to clear AWS credential cache (this is expected if no credentials are configured)")}}var beA,x0B,wl1=async()=>{await new beA.STSClient().send(new beA.GetCallerIdentityCommand({}))};var Ll1=w(()=>{y1();beA=c(neQ(),1),x0B=c(Nl1(),1)});async function b0B(){if(process.platform==="darwin"){let A=Yi();if((await QG(`security delete-generic-password -a $USER -s "${A}"`,{shell:!0,reject:!1})).exitCode!==0)throw Error("Failed to delete keychain entry")}}function WL(A){return A.slice(-20)}var aLA=w(()=>{VqA();oU()});class Tq{static instance=null;status={isAuthenticating:!1,output:[]};listeners=new Set;static getInstance(){if(!Tq.instance)Tq.instance=new Tq;return Tq.instance}getStatus(){return{...this.status,output:[...this.status.output]}}startAuthentication(){this.status={isAuthenticating:!0,output:[]},this.notifyListeners()}addOutput(A){this.status.output.push(A),this.notifyListeners()}setError(A){this.status.error=A,this.notifyListeners()}endAuthentication(A){if(A)this.status={isAuthenticating:!1,output:[]};else this.status.isAuthenticating=!1;this.notifyListeners()}subscribe(A){return this.listeners.add(A),()=>{this.listeners.delete(A)}}notifyListeners(){this.listeners.forEach((A)=>A(this.getStatus()))}static reset(){if(Tq.instance)Tq.instance.listeners.clear(),Tq.instance=null}}import{exec as qy3}from"child_process";function Pq(){let A=i1(process.env.CLAUDE_CODE_USE_BEDROCK)||i1(process.env.CLAUDE_CODE_USE_VERTEX)||i1(process.env.CLAUDE_CODE_USE_FOUNDRY),B=(NQ()||{}).apiKeyHelper,G=process.env.ANTHROPIC_AUTH_TOKEN||B||process.env.CLAUDE_CODE_API_KEY_FILE_DESCRIPTOR,{source:Z}=Rz({skipRetrievingKeyFromApiKeyHelper:!0});return!(A||G||(Z==="ANTHROPIC_API_KEY"||Z==="apiKeyHelper")&&!i1(process.env.CLAUDE_CODE_REMOTE))}function Un(){if(process.env.ANTHROPIC_AUTH_TOKEN)return{source:"ANTHROPIC_AUTH_TOKEN",hasToken:!0};if(process.env.CLAUDE_CODE_OAUTH_TOKEN)return{source:"CLAUDE_CODE_OAUTH_TOKEN",hasToken:!0};if(yj1())return{source:"CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR",hasToken:!0};if(oLA())return{source:"apiKeyHelper",hasToken:!0};let B=f4();if(Vg(B?.scopes)&&B?.accessToken)return{source:"claude.ai",hasToken:!0};return{source:"none",hasToken:!1}}function uw(){let{key:A}=Rz();return A}function u0B(){let{key:A,source:Q}=Rz({skipRetrievingKeyFromApiKeyHelper:!0});return A!==null&&Q!=="none"}function Rz(A={}){if(Hk0()&&process.env.ANTHROPIC_API_KEY)return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};if(i1(!1)){let G=vj1();if(G)return{key:G,source:"ANTHROPIC_API_KEY"};if(!process.env.ANTHROPIC_API_KEY&&!process.env.CLAUDE_CODE_OAUTH_TOKEN&&!process.env.CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR)throw Error("ANTHROPIC_API_KEY or CLAUDE_CODE_OAUTH_TOKEN env var is required");if(process.env.ANTHROPIC_API_KEY)return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};return{key:null,source:"none"}}if(process.env.ANTHROPIC_API_KEY&&R1().customApiKeyResponses?.approved?.includes(WL(process.env.ANTHROPIC_API_KEY)))return{key:process.env.ANTHROPIC_API_KEY,source:"ANTHROPIC_API_KEY"};let Q=vj1();if(Q)return{key:Q,source:"ANTHROPIC_API_KEY"};if(A.skipRetrievingKeyFromApiKeyHelper){if(oLA())return{key:null,source:"apiKeyHelper"}}else{let G=rLA(n2());if(G)return{key:G,source:"apiKeyHelper"}}let B=sLA();if(B)return B;return{key:null,source:"none"}}function oLA(){return(NQ()||{}).apiKeyHelper}function m0B(){let A=oLA();if(!A)return!1;let Q=dB("projectSettings"),B=dB("localSettings");return Q?.apiKeyHelper===A||B?.apiKeyHelper===A}function Ol1(){return(NQ()||{}).awsAuthRefresh}function d0B(){let A=Ol1();if(!A)return!1;let Q=dB("projectSettings"),B=dB("localSettings");return Q?.awsAuthRefresh===A||B?.awsAuthRefresh===A}function Ml1(){return(NQ()||{}).awsCredentialExport}function p0B(){let A=Ml1();if(!A)return!1;let Q=dB("projectSettings"),B=dB("localSettings");return Q?.awsCredentialExport===A||B?.awsCredentialExport===A}function wy3(){let A=process.env.CLAUDE_CODE_API_KEY_HELPER_TTL_MS;if(A){let Q=parseInt(A,10);if(!Number.isNaN(Q)&&Q>=0)return Q;k(`Found CLAUDE_CODE_API_KEY_HELPER_TTL_MS env var, but it was not a valid number. Got ${A}`,{level:"error"})}return Ny3}function heA(){rLA.cache.clear()}function c0B(A){if(oLA()){if(m0B()){if(!QY(!0))return}}rLA(A)}async function Oy3(){let A=Ol1();if(!A)return!1;if(d0B()){if(!QY(!0)&&!n2()){let B=Error(`Security: awsAuthRefresh executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.1.5",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2026-01-11T21:29:41Z"}.FEEDBACK_CHANNEL}.`);return zM("awsAuthRefresh invoked before trust check",B),p("tengu_awsAuthRefresh_missing_trust",{}),!1}}try{return k("Fetching AWS caller identity for AWS auth refresh command"),await wl1(),k("Fetched AWS caller identity, skipping AWS auth refresh command"),!1}catch{return Rl1(A)}}function Rl1(A){k("Running AWS auth refresh command");let Q=Tq.getInstance();return Q.startAuthentication(),new Promise((B)=>{let G=qy3(A);G.stdout.on("data",(Z)=>{let Y=Z.toString().trim();if(Y)Q.addOutput(Y),k(Y,{level:"debug"})}),G.stderr.on("data",(Z)=>{let Y=Z.toString().trim();if(Y)Q.setError(Y),k(Y,{level:"error"})}),G.on("close",(Z)=>{if(Z===0)k("AWS auth refresh completed successfully"),Q.endAuthentication(!0),B(!0);else{let Y=W1.red("Error running awsAuthRefresh (in settings or ~/.claude.json):");console.error(Y),Q.endAuthentication(!1),B(!1)}})})}async function My3(){let A=Ml1();if(!A)return null;if(p0B()){if(!QY(!0)&&!n2()){let B=Error(`Security: awsCredentialExport executed before workspace trust is confirmed. If you see this message, post in ${{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.1.5",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2026-01-11T21:29:41Z"}.FEEDBACK_CHANNEL}.`);return zM("awsCredentialExport invoked before trust check",B),p("tengu_awsCredentialExport_missing_trust",{}),null}}try{return k("Fetching AWS caller identity for credential export command"),await wl1(),k("Fetched AWS caller identity, skipping AWS credential export command"),null}catch{try{k("Running AWS credential export command");let Q=await QG(A,{shell:!0,reject:!1});if(Q.exitCode!==0||!Q.stdout)throw Error("awsCredentialExport did not return a valid value");let B=QQ(Q.stdout.trim());if(!v0B(B))throw Error("awsCredentialExport did not return valid AWS STS output structure");return k("AWS credentials retrieved from awsCredentialExport"),{accessKeyId:B.Credentials.AccessKeyId,secretAccessKey:B.Credentials.SecretAccessKey,sessionToken:B.Credentials.SessionToken}}catch(Q){let B=W1.red("Error getting AWS credentials from awsCredentialExport (in settings or ~/.claude.json):");if(Q instanceof Error)console.error(B,Q.message);else console.error(B,Q);return null}}}function geA(){g0A.cache.clear()}function l0B(){let A=Ol1(),Q=Ml1();if(!A&&!Q)return;if(d0B()||p0B()){if(!QY(!0)&&!n2())return}g0A(),rX()}function Ry3(A){return/^[a-zA-Z0-9-_]+$/.test(A)}async function pFQ(A){if(!Ry3(A))throw Error("Invalid API key format. API key must contain only alphanumeric characters, dashes, and underscores.");await n0B();let Q=!1;if(process.platform==="darwin")try{let G=Yi(),Z=KqA(),Y=Buffer.from(A,"utf-8").toString("hex"),J=`add-generic-password -U -a "${Z}" -s "${G}" -X "${Y}"
2891:`).map((J)=>J.trim()).filter((J)=>/^\S+\.\w+$/.test(J));if(Y.length<5)return[];return Y}catch(A){return s(A),[]}}var Jo5=604800000,Ol2,Ml2;var uq0=w(()=>{IQ();h3();G2();WY();V6();f1();X9();O$A();hI();Ol2=W0(()=>{let A=JG(),Q=A.exampleFiles?.length?ch(A.exampleFiles):"<filepath>",B=["fix lint errors","fix typecheck errors",`how does ${Q} work?`,`refactor ${Q}`,"how do I log an error?",`edit ${Q} to...`,`write a test for ${Q}`,"create a util logging.py that..."];return`Try "${ch(B)}"`}),Ml2=W0(async()=>{let A=JG(),Q=Date.now(),B=A.exampleFilesGeneratedAt??0;if(Q-B>Jo5)A.exampleFiles=[];if(!A.exampleFiles?.length)Yo5().then((G)=>{if(G.length)tG((Z)=>({...Z,exampleFiles:G,exampleFilesGeneratedAt:Date.now()}))})})});function _l2({input:A,submitCount:Q}){let[{queuedCommands:B,promptSuggestionEnabled:G}]=e0();return Rl2.useMemo(()=>{if(A!=="")return;if(B.length>0&&(R1().queuedCommandUpHintCount||0)<Xo5)return"Press up to edit queued messages";if(Q<1&&G)return Ol2()},[A,B,Q,G])}var Rl2,Xo5=3;var jl2=w(()=>{uB();IQ();uq0();Rl2=c(JA(),1)});function Wo5(){return}function Do5({isLoading:A,agentName:Q,themeColor:B}){let G=B,Z=!1,Y=G??void 0,J=Q?`[${Q}]`:"";return Ax.createElement($,{color:Y,dimColor:A},J,tA.pointer," ")}function mq0({mode:A,isLoading:Q,hideAgentPrefix:B}){let G=Wo5(),Z=void 0;return Ax.createElement(T,{alignItems:"flex-start",alignSelf:"flex-start",flexWrap:"nowrap",justifyContent:"flex-start"},A==="bash"?Ax.createElement($,{color:"bashBorder",dimColor:Q},"! "):A==="background"?Ax.createElement($,{color:"background",dimColor:Q},"& "):Ax.createElement(Do5,{isLoading:Q,agentName:void 0,...{}}))}var Ax,Io5=null;var Tl2=w(()=>{I2();kA();YS();Ax=c(JA(),1)});function Sl2({isFirst:A,children:Q}){let B=qf.useMemo(()=>({isQueued:!0,isFirst:A,paddingWidth:Vo5}),[A]);return qf.createElement(Ko5.Provider,{value:B},qf.createElement(T,{paddingX:Pl2},Q))}var qf,Ko5,Pl2=2,Vo5;var xl2=w(()=>{kA();qf=c(JA(),1),Ko5=qf.createContext(void 0),Vo5=Pl2*2});function yl2(){let[{queuedCommands:A}]=e0();if(A.length===0)return null;let Q=a7(A.map((B)=>C0({content:B.value,imagePasteIds:B.imagePasteIds})));return a6A.createElement(T,{marginTop:1,flexDirection:"column"},Q.map((B,G)=>a6A.createElement(Sl2,{key:G,isFirst:G===0},a6A.createElement(VO,{message:B,messages:[],addMargin:!1,tools:[],commands:[],verbose:!1,erroredToolUseIDs:dq0,inProgressToolUseIDs:dq0,resolvedToolUseIDs:dq0,progressMessagesForMessage:[],shouldAnimate:!1,shouldShowDot:!1,isTranscriptMode:!1,isStatic:!0}))))}var a6A,dq0;var vl2=w(()=>{uB();kA();A6A();eQ();xl2();a6A=c(JA(),1),dq0=new Set});function kl2({hasStash:A}){if(!A)return null;return ebA.createElement(T,{paddingLeft:2},ebA.createElement($,{dimColor:!0},tA.pointerSmall," Stashed (auto-restores after submit)"))}var ebA;var bl2=w(()=>{kA();I2();ebA=c(JA(),1)});var AfA;var QfA=w(()=>{AfA={serverNamePatterns:["figma"],screenshotTool:"get_screenshot",displayName:"Figma",inputPlaceholder:"Paste Figma link with node-id",exampleFormat:"https://figma.com/design/.../...?node-id=63-367"}});import{pathToFileURL as Fo5}from"url";function fl2({imageId:A,backgroundColor:Q,isSelected:B=!1}){let G=HI1(A),Z=`[Image #${A}]`;if(G&&Fk()){let Y=Fo5(G).href;return Nf.createElement(Q9,{url:Y,fallback:Nf.createElement($,{backgroundColor:Q,inverse:B},Z)},Nf.createElement($,{backgroundColor:Q,inverse:B,bold:B},Z))}return Nf.createElement($,{backgroundColor:Q,inverse:B},Z)}var Nf;var hl2=w(()=>{kA();OIA();CFA();LIA();Nf=c(JA(),1)});function gl2({pastedContents:A,linkedAttachments:Q=[],isSelected:B=!1,selectedIndex:G=0,showTip:Z=!1,terminalWidth:Y=80}){let J=Object.values(A).filter((z)=>z.type==="image"),X=Q.filter((z)=>z.type==="ticket"),I=Q.filter((z)=>z.type==="figma-mockup"),W=J.length>0,D=X.length>0,K=I.length>0,V=J.length+X.length+I.length;if(V===0)return null;let F=B?V>1?"(←/→ select · backspace remove · ↓ cancel)":"(backspace remove · ↓ cancel)":"(↑ to select)",H=null;if(Z){if(K&&!D)H="Tip: use /ticket to link a ticket";else if(D||W)H="Tip: use /mockup to attach a Figma mockup"}if(H){let z=J.length*12,C=X.length*11,O=I.length*9,L=z+C+O,M=F.length,_=H.length,j=2,P=2;if(L+M+2+_+2>Y)H=null}let E=0;return ZU.createElement(T,{flexDirection:"row",gap:1,paddingX:1,flexWrap:"wrap"},J.map((z)=>{let C=E++;return ZU.createElement(fl2,{key:z.id,imageId:z.id,isSelected:B&&C===G})}),X.map((z)=>{let C=E++,O=B&&C===G;return ZU.createElement($,{key:z.id,inverse:O,bold:O},"[Ticket ",z.ticketData?.ticketId,"]")}),I.map((z)=>{let C=E++,O=B&&C===G;return ZU.createElement($,{key:z.id,inverse:O,bold:O},"[Mockup]")}),ZU.createElement(T,{flexGrow:1,justifyContent:"space-between",flexDirection:"row"},ZU.createElement($,{dimColor:!0},F),H&&ZU.createElement($,{dimColor:!0,italic:!0},H)))}function pq0(A,Q){return Object.values(A).filter((G)=>G.type==="image").length+Q.length}function ul2(A,Q,B){let G=Object.values(A).filter((I)=>I.type==="image"),Z=Q.filter((I)=>I.type==="ticket"),Y=Q.filter((I)=>I.type==="figma-mockup");if(B<G.length)return{type:"image",id:G[B].id};let J=B-G.length;if(J<Z.length)return{type:"ticket",id:Z[J].id};let X=J-Z.length;if(X<Y.length)return{type:"mockup",id:Y[X].id};return null}var ZU;var cq0=w(()=>{kA();hl2();ZU=c(JA(),1)});function ml2(A,Q,B,G,Z,Y,J,X,I,W,D){let[K,V]=rY.useState(""),[F,H]=rY.useState(!1),[E,z]=rY.useState(""),[C,O]=rY.useState(0),[L,M]=rY.useState("prompt"),[_,j]=rY.useState({}),[P,y]=rY.useState(void 0),v=rY.useRef(void 0),m=rY.useRef(new Set),h=rY.useRef(null),e=rY.useCallback(()=>{if(v.current)v.current.return(void 0),v.current=void 0},[]),t=rY.useCallback(()=>{I(!1),V(""),H(!1),z(""),O(0),M("prompt"),j({}),y(void 0),e(),m.current.clear()},[I,e]),b=rY.useCallback(async(yA,FA)=>{if(!X)return;if(K.length===0){e(),m.current.clear(),y(void 0),H(!1),B(E),G(C),Y(L),W(_);return}if(!yA)e(),v.current=NQ0(),m.current.clear();if(!v.current)return;while(!0){if(FA?.aborted)return;let GA=await v.current.next();if(GA.done){H(!0);return}let AA=GA.value.display,EA=AA.lastIndexOf(K);if(EA!==-1&&!m.current.has(AA)){m.current.add(AA),y(GA.value),H(!1);let $A=au(AA);Y($A),B(AA),W(GA.value.pastedContents);let r=TBA(AA).lastIndexOf(K);G(r!==-1?r:EA);return}}},[X,K,e,B,G,Y,W,E,C,L,_]),l=rY.useCallback(()=>{y9("history-search"),I(!0),z(Q),O(Z),M(J),j(D),v.current=NQ0(),m.current.clear()},[I,Q,Z,J,D]),QA=rY.useCallback(()=>{b(!0)},[b]),WA=rY.useCallback(()=>{if(P){let yA=au(P.display),FA=TBA(P.display);B(FA),Y(yA),W(P.pastedContents)}else W(_);t()},[P,B,Y,W,_,t]),wA=rY.useCallback(()=>{B(E),G(C),W(_),t()},[B,G,W,E,C,_,t]),_A=rY.useCallback(()=>{if(K.length===0)A({display:E,pastedContents:_});else if(P){let yA=au(P.display),FA=TBA(P.display);Y(yA),A({display:FA,pastedContents:P.pastedContents})}t()},[K,P,A,Y,E,_,t]);A2("history:search",l,{context:"Global",isActive:!X});let hA=rY.useMemo(()=>({"historySearch:next":QA,"historySearch:accept":WA,"historySearch:cancel":wA,"historySearch:execute":_A}),[QA,WA,wA,_A]);lD(hA,{context:"HistorySearch",isActive:X}),Y0((yA,FA)=>{if(FA.backspace&&K==="")wA()},{isActive:X});let jA=rY.useRef(b);return jA.current=b,rY.useEffect(()=>{h.current?.abort();let yA=new AbortController;return h.current=yA,jA.current(!1,yA.signal),()=>{yA.abort()}},[K]),{historyQuery:K,setHistoryQuery:V,historyMatch:P,historyFailedMatch:F}}var rY;var dl2=w(()=>{kA();nu();QZ();_6();rY=c(JA(),1)});function cl2({inputValue:A,isAssistantResponding:Q}){let[B,G]=e0(),{text:Z,promptId:Y,shownAt:J,acceptedAt:X,generationRequestId:I}=B.promptSuggestion,W=Q||A.length>0?null:Z,D=Z&&J>0,K=BfA.useCallback(()=>{G((E)=>({...E,promptSuggestion:{text:null,promptId:null,shownAt:0,acceptedAt:0,generationRequestId:null}}))},[G]),V=BfA.useCallback(()=>{if(!D)return;G((E)=>({...E,promptSuggestion:{...E.promptSuggestion,acceptedAt:Date.now()}}))},[D,G]),F=BfA.useCallback(()=>{if(W&&J===0)G((E)=>({...E,promptSuggestion:{...E.promptSuggestion,shownAt:Date.now()}}))},[W,J,G]),H=BfA.useCallback((E)=>{if(!D)return;let z=X>J,C=z||E===Z,O=C?X||Date.now():Date.now();p("tengu_prompt_suggestion",{outcome:C?"accepted":"ignored",prompt_id:Y,...I&&{generationRequestId:I},...C&&{acceptMethod:z?"tab":"enter"},...C&&{timeToAcceptMs:O-J},...!C&&{timeToIgnoreMs:O-J},similarity:Math.round(E.length/(Z?.length||1)*100)/100,...!1}),K()},[D,X,J,Z,Y,I,K]);return{suggestion:W,markAccepted:V,markShown:F,logOutcomeAtSubmission:H}}var BfA,pl2="↵ send";var ll2=w(()=>{uB();Z0();BfA=c(JA(),1)});function iq0(A){return A.toLowerCase().includes("opus-4-5")||!1}function lq0(A){return Number.isInteger(A)}function il2(A){if(typeof A==="string"&&A!=="unset")return A;if(typeof A==="number"){if(A<=30)return"low";if(A<=60)return"medium";return"high"}return"medium"}function o6A(){let A=process.env.CLAUDE_CODE_EFFORT_LEVEL;if(A){if(A==="unset")return;let G=parseInt(A,10);if(!isNaN(G)&&lq0(G))return G;if(["low","medium","high"].includes(A))return A}let B=NQ().effortLevel;if(B==="unset")return;if(B!==void 0){if(typeof B==="number"&&lq0(B))return B;if(typeof B==="string"&&["low","medium","high"].includes(B))return B}return}var rHA=w(()=>{GB()});function sHA({initial:A,sessionModel:Q,onSelect:B,onCancel:G,isStandaloneCommand:Z}){let Y=A===null?nq0:A,J=10,X=_Q(),I=!1,[W,D]=Pp.useState(()=>Ho5()),[K,V]=Pp.useState(!1),[F,H]=Pp.useState(Y),E=Pp.useMemo(()=>HJA(),[]),z=Pp.useMemo(()=>{if(A!==null&&!E.some((y)=>y.value===A))return[...E,{value:A,label:vT(A),description:"Current model"}];return E},[E,A]),C=Pp.useMemo(()=>z.map((y)=>({...y,value:y.value===null?nq0:y.value})),[z]),O=Pp.useMemo(()=>C.some((y)=>y.value===Y)?Y:C[0]?.value??void 0,[C,Y]),L=Math.min(10,C.length),M=Math.max(0,C.length-L),_=C.find((y)=>y.value===F)?.label,j=!1;Y0((y,v)=>{return});function P(y){if(y===nq0){B(null,void 0);return}B(y,void 0)}return X8.createElement(T,{flexDirection:"column",width:"100%"},Z&&X8.createElement(B8,{dividerColor:"permission",dividerDimColor:!1}),X8.createElement(T,{flexDirection:"column",paddingX:Z?1:0},X8.createElement(T,{flexDirection:"column"},X8.createElement(T,{marginBottom:1,flexDirection:"column"},X8.createElement($,{color:"remember",bold:!0},"Select model"),X8.createElement($,{dimColor:!0},"Switch between Claude models. Applies to this session and future Claude Code sessions. For other/previous model names, specify with --model."),Q&&X8.createElement($,{dimColor:!0},"Currently using ",vT(Q)," for this session (set by plan mode). Selecting a model will undo this.")),X8.createElement(T,{flexDirection:"column",marginBottom:1},X8.createElement(T,{flexDirection:"column"},X8.createElement(x0,{defaultValue:Y,defaultFocusValue:O,options:C,onChange:P,onFocus:H,onCancel:G??(()=>{}),visibleOptionCount:L})),M>0&&X8.createElement(T,{paddingLeft:3},X8.createElement($,{dimColor:!0},"and ",M," more…"))),!1),Z&&X8.createElement($,{dimColor:!0,italic:!0},X.pending?X8.createElement(X8.Fragment,null,"Press ",X.keyName," again to exit"):X8.createElement(YB,null,X8.createElement(y0,{shortcut:"Enter",action:"confirm"}),X8.createElement(DB,{action:"confirm:no",context:"Confirmation",fallback:"Esc",description:"exit"})))))}function Ho5(){let A=o6A();if(A===void 0)return"high";return il2(A)}var X8,Pp,nq0="__NO_PREFERENCE__";var CV1=w(()=>{kA();m2();rHA();GB();b8();U9();gW();e4();Z5();T3();Z0();X8=c(JA(),1),Pp=c(JA(),1)});function nl2({currentValue:A,onSelect:Q,onCancel:B,isMidConversation:G}){let Z=_Q(),Y=[{value:"true",label:"Enabled",description:"Claude will think before responding"},{value:"false",label:"Disabled",description:"Claude will respond without extended thinking"}];return A2("confirm:no",()=>{B?.()},{context:"Confirmation"}),X7.createElement(T,{flexDirection:"column",width:"100%"},X7.createElement(B8,{dividerColor:"permission",dividerDimColor:!1}),X7.createElement(T,{flexDirection:"column",paddingX:1},X7.createElement(T,{flexDirection:"column"},X7.createElement(T,{marginBottom:1,flexDirection:"column"},X7.createElement($,{color:"remember",bold:!0},"Toggle thinking mode"),X7.createElement($,{dimColor:!0},"Enable or disable thinking for this session."),G&&X7.createElement($,{color:"warning"},"Changing mid-conversation may reduce quality. For best results, set this at the start of a session.")),X7.createElement(T,{flexDirection:"column",marginBottom:1},X7.createElement(x0,{defaultValue:A?"true":"false",defaultFocusValue:A?"true":"false",options:Y,onChange:(J)=>Q(J==="true"),onCancel:B??(()=>{}),visibleOptionCount:2}))),X7.createElement($,{dimColor:!0,italic:!0},Z.pending?X7.createElement(X7.Fragment,null,"Press ",Z.keyName," again to exit"):X7.createElement(YB,null,X7.createElement(y0,{shortcut:"Enter",action:"confirm"}),X7.createElement(DB,{action:"confirm:no",context:"Confirmation",fallback:"Esc",description:"exit"})))))}var X7;var al2=w(()=>{kA();b8();U9();gW();e4();Z5();T3();_6();X7=c(JA(),1)});import*as ol2 from"path";function Uo5({debug:A,ideSelection:Q,toolPermissionContext:B,setToolPermissionContext:G,apiKeyStatus:Z,commands:Y,agents:J,isLoading:X,verbose:I,messages:W,onAutoUpdaterResult:D,autoUpdaterResult:K,input:V,onInputChange:F,mode:H,onModeChange:E,stashedPrompt:z,setStashedPrompt:C,submitCount:O,onShowMessageSelector:L,mcpClients:M,pastedContents:_,setPastedContents:j,vimMode:P,setVimMode:y,showBashesDialog:v,setShowBashesDialog:m,showDiffDialog:h,setShowDiffDialog:e,tasksSelected:t,setTasksSelected:b,diffSelected:l,setDiffSelected:QA,onForegroundTask:WA,onExit:wA,getToolUseContext:_A,onSubmit:hA,isSearchingHistory:jA,setIsSearchingHistory:yA,helpOpen:FA,setHelpOpen:GA}){let AA=Js(),[EA,$A]=N4.useState(!1),[MA,r]=N4.useState({show:!1}),[VA,XA]=N4.useState(V.length),[IA,NA]=e0(),{historyQuery:RA,setHistoryQuery:gA,historyMatch:mA,historyFailedMatch:Z1}=ml2((S0)=>{j(S0.pastedContents),HZ(S0.display)},V,F,XA,VA,E,H,jA,yA,j,_),F1=N4.useRef(qo5(W)),[PA,eA]=N4.useState(!1),[s1,v1]=N4.useState(!1),[L0,TQ]=N4.useState(!1),[ZQ,$Q]=N4.useState(!1),[S1,WQ]=N4.useState(!1),[J1,$1]=N4.useState(!1),[x1,_0]=N4.useState(!1),[p0,l0]=N4.useState(0),CA=N4.useMemo(()=>{let S0=V.indexOf(`
3352:`,"Please restart your IDE and try again.")}];if(Q.installed)if(G&&G.type==="connected")if(Q.installedVersion!==G.serverInfo?.version)return[{label:"IDE",value:`Connected to ${Z} ${Y} version ${Q.installedVersion} (server version: ${G.serverInfo?.version})`}];else return[{label:"IDE",value:`Connected to ${Z} ${Y} version ${Q.installedVersion}`}];else return[{label:"IDE",value:`Installed ${Z} ${Y}`}]}else if(G){let Z=vM0(G)??"IDE";if(G.type==="connected")return[{label:"IDE",value:`Connected to ${Z} extension`}];else return[{label:"IDE",value:`${rQ("error",B)(tA.cross)} Not connected to ${Z}`}]}return[]}function lZ9(A=[],Q){let B=A.filter((G)=>G.name!=="ide");if(!B.length)return[];return[{label:"MCP servers",value:b3A.createElement(T,{flexDirection:"row",flexWrap:"wrap",columnGap:1,flexShrink:99},B.map((G,Z)=>{let Y="";if(G.type==="connected")Y=rQ("success",Q)(tA.tick);else if(G.type==="pending")Y=rQ("inactive",Q)(tA.radioOff);else if(G.type==="needs-auth")Y=rQ("warning",Q)(tA.triangleUpOutline);else if(G.type==="failed")Y=rQ("error",Q)(tA.cross);else Y=rQ("error",Q)(tA.cross);let J=Z<B.length-1?",":"";return b3A.createElement($,{key:Z},G.name," ",Y,J)}))}]}function iZ9(){let A=Q6A(),Q=B6A(),B=[];if(A.forEach((G)=>{let Z=j6(G.path);B.push(`Large ${Z} will impact performance (${x8(G.content.length)} chars > ${x8(id)})`)}),Q&&Q.content.length>wFA)B.push(`CLAUDE.md entries marked as IMPORTANT exceed ${x8(wFA)} characters (${x8(Q.content.length)} chars)`);return B}function nZ9(){return[{label:"Setting sources",value:TQA().filter((G)=>{let Z=dB(G);return Z!==null&&Object.keys(Z).length>0}).map((G)=>{if(G==="policySettings"){let Z=AY9();if(Z===null)return null;return Z==="remote"?"Enterprise managed settings (remote)":"Enterprise managed settings (local)"}return cKB(G)}).filter((G)=>G!==null)}]}async function aZ9(){return(await Ff()).map((Q)=>Q.message)}async function oZ9(){let A=await R6A(),Q=[],{errors:B}=CP();if(B.length>0){let Z=Array.from(new Set(B.map((Y)=>Y.file))).join(", ");Q.push(`Found invalid settings files: ${Z}. They will be ignored.`)}if(A.multipleInstallations.length>1)Q.push(`Multiple installations detected (${A.multipleInstallations.length} found)`);if(A.warnings.forEach((G)=>{Q.push(G.issue)}),A.hasUpdatePermissions===!1)Q.push("No write permissions for auto-updates (requires sudo)");if(A.configInstallMethod!=="not set"){let Z={"npm-local":"local","npm-global":"global",native:"native",development:"development",unknown:"unknown"}[A.installationType];if(Z&&Z!==A.configInstallMethod)Q.push(`Installation config mismatch: running ${A.installationType} but config says ${A.configInstallMethod}`)}return Q}function rZ9(){let A=deA();if(!A)return[];let Q=[];if(A.subscription)Q.push({label:"Login method",value:`${A.subscription} Account`});if(A.tokenSource)Q.push({label:"Auth token",value:A.tokenSource});if(A.apiKeySource)Q.push({label:"API key",value:A.apiKeySource});if(A.organization&&!process.env.IS_DEMO)Q.push({label:"Organization",value:A.organization});if(A.email&&!process.env.IS_DEMO)Q.push({label:"Email",value:A.email});return Q}function sZ9(){let A=a4(),Q=[];if(A!=="firstParty"){let Z={bedrock:"AWS Bedrock",vertex:"Google Vertex AI",foundry:"Microsoft Foundry"}[A];Q.push({label:"API provider",value:Z})}if(A==="firstParty"){let Z=process.env.ANTHROPIC_BASE_URL;if(Z)Q.push({label:"Anthropic base URL",value:Z})}else if(A==="bedrock"){let Z=process.env.BEDROCK_BASE_URL;if(Z)Q.push({label:"Bedrock base URL",value:Z});if(Q.push({label:"AWS region",value:qAA()}),i1(process.env.CLAUDE_CODE_SKIP_BEDROCK_AUTH))Q.push({value:"AWS auth skipped"})}else if(A==="vertex"){let Z=process.env.VERTEX_BASE_URL;if(Z)Q.push({label:"Vertex base URL",value:Z});let Y=process.env.ANTHROPIC_VERTEX_PROJECT_ID;if(Y)Q.push({label:"GCP project",value:Y});if(Q.push({label:"Default region",value:sj()}),i1(process.env.CLAUDE_CODE_SKIP_VERTEX_AUTH))Q.push({value:"GCP auth skipped"})}else if(A==="foundry"){let Z=process.env.ANTHROPIC_FOUNDRY_BASE_URL;if(Z)Q.push({label:"Microsoft Foundry base URL",value:Z});let Y=process.env.ANTHROPIC_FOUNDRY_RESOURCE;if(Y)Q.push({label:"Microsoft Foundry resource",value:Y});if(i1(process.env.CLAUDE_CODE_SKIP_FOUNDRY_AUTH))Q.push({value:"Microsoft Foundry auth skipped"})}let B=In();if(B)Q.push({label:"Proxy",value:B});let G=yT();if(process.env.NODE_EXTRA_CA_CERTS)Q.push({label:"Additional CA cert(s)",value:process.env.NODE_EXTRA_CA_CERTS});if(G){if(G.cert&&process.env.CLAUDE_CODE_CLIENT_CERT)Q.push({label:"mTLS client cert",value:process.env.CLAUDE_CODE_CLIENT_CERT});if(G.key&&process.env.CLAUDE_CODE_CLIENT_KEY)Q.push({label:"mTLS client key",value:process.env.CLAUDE_CODE_CLIENT_KEY})}return Q}function tZ9(A){let Q=vT(A);if(A===null&&OB()){let B=xLA();if(DR())Q=`${W1.bold("Default")} ${B}`;else Q=`${W1.bold("Sonnet")} ${B}`}return Q}var b3A;var eZ9=w(()=>{kA();nS();eB();WI();tz();L9();jD();m2();t6();Kf();bQ();Wn();JJA();GB();zJ();I2();eB();tX();b3A=c(JA(),1)});function tX7(){let A=E0(),B=GY9(A)??S3.createElement($,{dimColor:!0},"/rename to add a name");return[{label:"Version",value:{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.1.5",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2026-01-11T21:29:41Z"}.VERSION},{label:"Session name",value:B},{label:"Session ID",value:A},{label:"cwd",value:c1()},...rZ9(),...sZ9()]}function eX7({appState:A,theme:Q,context:B}){return[{label:"Model",value:tZ9(A.mainLoopModel)},...cZ9(A.mcp.clients,B.options.ideInstallationStatus,Q),...lZ9(A.mcp.clients,Q),{label:"Memory",value:S3.createElement(mZ9,{context:B,flat:!0})},...pZ9(),...nZ9()]}async function AI7(){return[...await FbA()?await aZ9():[],...await oZ9(),...iZ9()]}function QI7({value:A}){if(Array.isArray(A))return S3.createElement(T,{flexWrap:"wrap",columnGap:1,flexShrink:99},A.map((Q,B)=>{return S3.createElement($,{key:B},Q,B<A.length-1?",":"")}));if(typeof A==="string")return S3.createElement($,null,A);return A}function QY9({context:A}){let[Q]=e0(),[B,G]=S3.useState([]),[Z,Y]=S3.useState([]),J=A.options.ideInstallationStatus,[X]=aB();return S3.useEffect(()=>{async function I(){let W=[tX7(),eX7({appState:Q,theme:X,context:A})],D=await AI7();G(W),Y(D)}I()},[Q,X,J,A]),S3.createElement(T,{flexDirection:"column"},S3.createElement(T,{flexDirection:"column",gap:1,marginTop:1},B.map((I,W)=>I.length>0&&S3.createElement(T,{key:W,flexDirection:"column"},I.map(({label:D,value:K},V)=>S3.createElement(T,{key:V,flexDirection:"row",gap:1,flexShrink:0},D!==void 0&&S3.createElement($,{bold:!0},D,":"),S3.createElement(QI7,{value:K}))))),Z.length>0&&S3.createElement(T,{flexDirection:"column",paddingBottom:1},S3.createElement($,{bold:!0},"System Diagnostics"),Z.map((I,W)=>S3.createElement(T,{key:W,flexDirection:"row",gap:1,paddingX:1},S3.createElement($,{color:"error"},tA.warning),typeof I==="string"?S3.createElement($,{wrap:"wrap"},I):I)))),S3.createElement($,{dimColor:!0},S3.createElement(DB,{action:"confirm:no",context:"Confirmation",fallback:"Esc",description:"cancel"})))}var S3;var BY9=w(()=>{kA();I2();uB();q0();dZ9();nS();eZ9();G2();t4();Z5();S3=c(JA(),1)});function zzA({onThemeSelect:A,showIntroText:Q=!1,helpText:B="",showHelpTextBelow:G=!1,hideEscToCancel:Z=!1,skipExitHandling:Y=!1,onCancel:J}){let[X]=aB(),{columns:I}=XB(),W=rE0(),D=W===null?SS2(X):null,{setPreviewTheme:K,savePreview:V,cancelPreview:F}=U00(),[H,E]=e0(),z=H.settings.syntaxHighlightingDisabled??!1,C=u4("theme:toggleSyntaxHighlighting","ThemePicker","ctrl+t");A2("theme:toggleSyntaxHighlighting",()=>{if(W===null){let _=!z;cB("userSettings",{syntaxHighlightingDisabled:_}),E((j)=>({...j,settings:{...j.settings,syntaxHighlightingDisabled:_}}))}},{context:"ThemePicker"});let O=_Q(Y?()=>{}:void 0),M=w4.createElement(T,{flexDirection:"column",gap:1},w4.createElement(T,{flexDirection:"column",gap:1,marginX:1},Q?w4.createElement($,null,"Let's get started."):w4.createElement($,{bold:!0,color:"permission"},"Theme"),w4.createElement(T,{flexDirection:"column"},w4.createElement($,{bold:!0},"Choose the text style that looks best with your terminal"),B&&!G&&w4.createElement($,{dimColor:!0},B)),w4.createElement(x0,{options:[{label:"Dark mode",value:"dark"},{label:"Light mode",value:"light"},{label:"Dark mode (colorblind-friendly)",value:"dark-daltonized"},{label:"Light mode (colorblind-friendly)",value:"light-daltonized"},{label:"Dark mode (ANSI colors only)",value:"dark-ansi"},{label:"Light mode (ANSI colors only)",value:"light-ansi"}],onFocus:(_)=>{K(_)},onChange:(_)=>{V(),A(_)},onCancel:Y?()=>{F(),J?.()}:async()=>{F(),await i3(0)},visibleOptionCount:6,defaultValue:X,defaultFocusValue:X})),w4.createElement(T,{flexDirection:"column",width:"100%"},w4.createElement(T,{flexDirection:"column",borderTop:!0,borderBottom:!0,borderLeft:!1,borderRight:!1,borderStyle:"dashed",borderColor:"subtle",borderDimColor:!0},w4.createElement($O,{patch:{oldStart:1,newStart:1,oldLines:3,newLines:3,lines:[" function greet() {",'-  console.log("Hello, World!");','+  console.log("Hello, Claude!");'," }"]},dim:!1,filePath:"demo.js",firstLine:null,width:I})),w4.createElement($,{dimColor:!0}," ",W==="env"?`Syntax highlighting disabled (via CLAUDE_CODE_SYNTAX_HIGHLIGHT=${process.env.CLAUDE_CODE_SYNTAX_HIGHLIGHT})`:W==="build"?"Syntax highlighting available only in native build":z?`Syntax highlighting disabled (${C} to enable)`:D?`Syntax theme: ${D.theme}${D.source?` (from ${D.source})`:""} (${C} to disable)`:`Syntax highlighting enabled (${C} to disable)`)));if(!Q)return w4.createElement(w4.Fragment,null,w4.createElement(T,{flexDirection:"column"},M),w4.createElement(T,{marginX:1,marginTop:1},G&&B&&w4.createElement(T,{marginLeft:3},w4.createElement($,{dimColor:!0},B)),!Z&&w4.createElement(T,null,w4.createElement($,{dimColor:!0,italic:!0},O.pending?w4.createElement(w4.Fragment,null,"Press ",O.keyName," again to exit"):w4.createElement(YB,null,w4.createElement(y0,{shortcut:"Enter",action:"select"}),w4.createElement(y0,{shortcut:"Esc",action:"cancel"}))))));return M}var w4;var Zz1=w(()=>{kA();b8();qs();U9();jJ();kA();j4();e4();T3();KkA();GB();uB();_6();ZY();w4=c(JA(),1)});function Yz1({onDone:A,isStandaloneDialog:Q}){yE.default.useEffect(()=>{p("tengu_claude_md_includes_dialog_shown",{})},[]);function B(Z){if(Z==="no")p("tengu_claude_md_external_includes_dialog_declined",{}),tG((Y)=>({...Y,hasClaudeMdExternalIncludesApproved:!1,hasClaudeMdExternalIncludesWarningShown:!0}));else p("tengu_claude_md_external_includes_dialog_accepted",{}),tG((Y)=>({...Y,hasClaudeMdExternalIncludesApproved:!0,hasClaudeMdExternalIncludesWarningShown:!0}));A()}let G=_Q();return Y0((Z,Y)=>{if(Y.escape){B("no");return}}),yE.default.createElement(yE.default.Fragment,null,yE.default.createElement(T,{flexDirection:"column",gap:1,paddingX:Q?1:0,marginBottom:1,borderStyle:Q?"round":void 0,borderTop:Q,borderLeft:!1,borderRight:!1,borderBottom:!1,borderColor:"warning"},yE.default.createElement($,{bold:!0,color:"warning"},"Allow external CLAUDE.md file imports?"),yE.default.createElement($,null,"This project's CLAUDE.md imports files outside the current working directory. Never allow this for third-party repositories."),yE.default.createElement($,{dimColor:!0},"Important: Only use Claude Code with files you trust. Accessing untrusted files may pose security risks"," ",yE.default.createElement(Q9,{url:"https://code.claude.com/docs/en/security"})," "),yE.default.createElement(x0,{options:[{label:"Yes, allow external imports",value:"yes"},{label:"No, disable external imports",value:"no"}],onChange:(Z)=>B(Z),onCancel:()=>B("no")})),Q&&yE.default.createElement(T,{marginLeft:1},yE.default.createElement($,{dimColor:!0},G.pending?yE.default.createElement(yE.default.Fragment,null,"Press ",G.keyName," again to exit"):yE.default.createElement(YB,null,yE.default.createElement(y0,{shortcut:"Enter",action:"confirm"}),yE.default.createElement(y0,{shortcut:"Esc",action:"disable external includes"})))))}var yE;var K_0=w(()=>{kA();b8();IQ();Z0();U9();kA();e4();T3();yE=c(JA(),1)});function ZY9({currentVersion:A,onChoice:Q}){function B(Z){Q(Z)}function G(){Q("cancel")}return KgA.default.createElement(t9,{title:"Switch to Stable Channel",onCancel:G,color:"permission",hideBorder:!0,hideInputGuide:!0},KgA.default.createElement($,null,"The stable channel may have an older version than what you're currently running (",A,")."),KgA.default.createElement($,{dimColor:!0},"How would you like to handle this?"),KgA.default.createElement(x0,{options:[{label:"Allow possible downgrade to stable version",value:"downgrade"},{label:`Stay on current version (${A}) until stable catches up`,value:"stay"}],onChange:B}))}var KgA;var YY9=w(()=>{kA();b8();kA();uB();iY();ib();xd();KgA=c(JA(),1)});function JY9(A){return Object.entries(A).map(([Q,B])=>({label:B?.name??BI7,value:Q,description:B?.description??GI7}))}function Jz1({initialStyle:A,onComplete:Q,onCancel:B,isStandaloneCommand:G}){let[Z,Y]=f3A.useState([]),[J,X]=f3A.useState(!0);f3A.useEffect(()=>{h3A(c1()).then((W)=>{let D=JY9(W);Y(D),X(!1)}).catch(()=>{let W=JY9(t6A);Y(W),X(!1)})},[]);let I=f3A.useCallback((W)=>{Q(W)},[Q]);return bO.createElement(t9,{title:"Preferred output style",onCancel:B,borderDimColor:!0,hideInputGuide:!G,hideBorder:!G},bO.createElement(T,{flexDirection:"column",gap:1},bO.createElement(T,{marginTop:1},bO.createElement($,{dimColor:!0},"This changes how Claude Code communicates with you")),J?bO.createElement($,{dimColor:!0},"Loading output styles…"):bO.createElement(x0,{options:Z,onChange:I,visibleOptionCount:10,defaultValue:A})))}var bO,f3A,BI7="Default",GI7="Claude completes coding tasks efficiently and provides concise responses";var V_0=w(()=>{kA();Q8();$f();G2();iY();bO=c(JA(),1),f3A=c(JA(),1)});function XY9({initialLanguage:A,onComplete:Q,onCancel:B}){let[G,Z]=pf.useState(A),[Y,J]=pf.useState((A??"").length);A2("confirm:no",B,{context:"Confirmation"});function X(){let I=G?.trim();Q(I||void 0)}return pf.default.createElement(T,{flexDirection:"column",gap:1},pf.default.createElement($,null,"Enter your preferred response language:"),pf.default.createElement(T,{flexDirection:"row",gap:1},pf.default.createElement($,null,tA.pointer),pf.default.createElement(d4,{value:G??"",onChange:Z,onSubmit:X,focus:!0,showCursor:!0,placeholder:`e.g., Japanese, 日本語, Español${tA.ellipsis}`,columns:60,cursorOffset:Y,onChangeCursorOffset:J})),pf.default.createElement($,{dimColor:!0},"Leave empty for default (English)"))}var pf;var IY9=w(()=>{kA();KY();I2();_6();pf=c(JA(),1)});function WY9({onClose:A,context:Q,setTabsHidden:B,setIsWarning:G,setHideMargin:Z}){let[Y,J]=aB(),[X,I]=qx.useState(R1()),[W,D]=qx.useState(Bi2()),K=v0.useRef(R1()),[V,F]=qx.useState(U8()),H=v0.useRef(U8()),[E,z]=qx.useState(V?.outputStyle||dF),C=v0.useRef(E),[O,L]=qx.useState(V?.language),M=v0.useRef(O),[_,j]=qx.useState(0),[{mainLoopModel:P,verbose:y,thinkingEnabled:v,promptSuggestionEnabled:m},h]=e0(),[e,t]=qx.useState({}),[b,l]=qx.useState(null),QA=LD1(Q.options.mcpClients),WA=!i1(process.env.CLAUDE_CODE_DISABLE_FILE_CHECKPOINTING),wA=oH0(),_A=_JA();async function hA(GA){p("tengu_config_model_changed",{from_model:P,to_model:GA}),h((EA)=>({...EA,mainLoopModel:GA})),t((EA)=>{let $A=vT(GA);if("model"in EA){let{model:MA,...r}=EA;return{...r,model:$A}}return{...EA,model:$A}})}function jA(GA){h0((AA)=>({...AA,verbose:GA})),I({...R1(),verbose:GA}),h((AA)=>({...AA,verbose:GA})),t((AA)=>{if("verbose"in AA){let{verbose:EA,...$A}=AA;return $A}return{...AA,verbose:GA}})}let yA=[{id:"autoCompactEnabled",label:"Auto-compact",value:X.autoCompactEnabled,type:"boolean",onChange(GA){h0((AA)=>({...AA,autoCompactEnabled:GA})),I({...R1(),autoCompactEnabled:GA}),p("tengu_auto_compact_setting_changed",{enabled:GA})}},{id:"spinnerTipsEnabled",label:"Show tips",value:V?.spinnerTipsEnabled??!0,type:"boolean",onChange(GA){cB("localSettings",{spinnerTipsEnabled:GA}),F((AA)=>({...AA,spinnerTipsEnabled:GA})),p("tengu_tips_setting_changed",{enabled:GA})}},{id:"thinkingEnabled",label:"Thinking mode",value:v,type:"boolean",onChange(GA){h((AA)=>({...AA,thinkingEnabled:GA})),cB("userSettings",{alwaysThinkingEnabled:GA?void 0:!1}),p("tengu_thinking_toggled",{enabled:GA})}},...y8("tengu_prompt_suggestion")?[{id:"promptSuggestionEnabled",label:"Prompt suggestions",value:m,type:"boolean",onChange(GA){h((AA)=>({...AA,promptSuggestionEnabled:GA})),cB("userSettings",{promptSuggestionEnabled:GA?void 0:!1})}}]:[],...WA?[{id:"fileCheckpointingEnabled",label:"Rewind code (checkpoints)",value:X.fileCheckpointingEnabled,type:"boolean",onChange(GA){h0((AA)=>({...AA,fileCheckpointingEnabled:GA})),I({...R1(),fileCheckpointingEnabled:GA}),p("tengu_file_history_snapshots_setting_changed",{enabled:GA})}}]:[],{id:"verbose",label:"Verbose output",value:y,type:"boolean",onChange:jA},{id:"terminalProgressBarEnabled",label:"Terminal progress bar",value:X.terminalProgressBarEnabled,type:"boolean",onChange(GA){h0((AA)=>({...AA,terminalProgressBarEnabled:GA})),I({...R1(),terminalProgressBarEnabled:GA}),p("tengu_terminal_progress_bar_setting_changed",{enabled:GA})}},{id:"defaultPermissionMode",label:"Default permission mode",value:V?.permissions?.defaultMode||"default",options:(()=>{let GA=["default","plan"],AA=["bypassPermissions","delegate"];return[...GA,...QP.filter((EA)=>!GA.includes(EA)&&!AA.includes(EA))]})(),type:"enum",onChange(GA){let AA=t01(GA),EA=cB("userSettings",{permissions:{...V?.permissions,defaultMode:AA}});if(EA.error){s(EA.error);return}F(($A)=>({...$A,permissions:{...$A?.permissions,defaultMode:AA}})),t(($A)=>({...$A,defaultPermissionMode:GA})),p("tengu_config_changed",{setting:"defaultPermissionMode",value:GA})}},{id:"respectGitignore",label:"Respect .gitignore in file picker",value:X.respectGitignore,type:"boolean",onChange(GA){h0((AA)=>({...AA,respectGitignore:GA})),I({...R1(),respectGitignore:GA}),p("tengu_respect_gitignore_setting_changed",{enabled:GA})}},_A?{id:"autoUpdatesChannel",label:"Auto-update channel",value:"disabled",type:"managedEnum",onChange(){}}:{id:"autoUpdatesChannel",label:"Auto-update channel",value:V?.autoUpdatesChannel??"latest",type:"managedEnum",onChange(){}},{id:"theme",label:"Theme",value:Y,type:"managedEnum",onChange:J},{id:"notifChannel",label:"Notifications",value:X.preferredNotifChannel,options:["auto","iterm2","terminal_bell","iterm2_with_bell","kitty","ghostty","notifications_disabled"],type:"enum",onChange(GA){h0((AA)=>({...AA,preferredNotifChannel:GA})),I({...R1(),preferredNotifChannel:GA})}},{id:"outputStyle",label:"Output style",value:E,type:"managedEnum",onChange:()=>{}},{id:"language",label:"Language",value:O??"Default (English)",type:"managedEnum",onChange:()=>{}},{id:"editorMode",label:"Editor mode",value:X.editorMode==="emacs"?"normal":X.editorMode||"normal",options:["normal","vim"],type:"enum",onChange(GA){h0((AA)=>({...AA,editorMode:GA})),I({...R1(),editorMode:GA}),p("tengu_editor_mode_changed",{mode:GA,source:"config_panel"})}},...[],{id:"model",label:"Model",value:P===null?"Default (recommended)":P,type:"managedEnum",onChange:hA},...QA?[{id:"diffTool",label:"Diff tool",value:X.diffTool??"auto",options:["terminal","auto"],type:"enum",onChange(GA){h0((AA)=>({...AA,diffTool:GA})),I({...R1(),diffTool:GA}),p("tengu_diff_tool_changed",{tool:GA,source:"config_panel"})}}]:[],...!FK()?[{id:"autoConnectIde",label:"Auto-connect to IDE (external terminal)",value:X.autoConnectIde??!1,type:"boolean",onChange(GA){h0((AA)=>({...AA,autoConnectIde:GA})),I({...R1(),autoConnectIde:GA}),p("tengu_auto_connect_ide_changed",{enabled:GA,source:"config_panel"})}}]:[],...FK()?[{id:"autoInstallIdeExtension",label:"Auto-install IDE extension",value:X.autoInstallIdeExtension??!0,type:"boolean",onChange(GA){h0((AA)=>({...AA,autoInstallIdeExtension:GA})),I({...R1(),autoInstallIdeExtension:GA}),p("tengu_auto_install_ide_extension_changed",{enabled:GA,source:"config_panel"})}}]:[],{id:"claudeInChromeDefaultEnabled",label:"Claude in Chrome enabled by default",value:X.claudeInChromeDefaultEnabled??!0,type:"boolean",onChange(GA){h0((AA)=>({...AA,claudeInChromeDefaultEnabled:GA})),I({...R1(),claudeInChromeDefaultEnabled:GA}),p("tengu_claude_in_chrome_setting_changed",{enabled:GA})}},...wA?[{id:"showExternalIncludesDialog",label:"External CLAUDE.md includes",value:(()=>{if(JG().hasClaudeMdExternalIncludesApproved)return"true";else return"false"})(),type:"managedEnum",onChange(){}}]:[],...process.env.ANTHROPIC_API_KEY?[{id:"apiKey",label:v0.createElement($,null,"Use custom API key:"," ",v0.createElement($,{bold:!0},WL(process.env.ANTHROPIC_API_KEY))),value:Boolean(process.env.ANTHROPIC_API_KEY&&X.customApiKeyResponses?.approved?.includes(WL(process.env.ANTHROPIC_API_KEY))),type:"boolean",onChange(GA){h0((AA)=>{let EA={...AA};if(!EA.customApiKeyResponses)EA.customApiKeyResponses={approved:[],rejected:[]};if(!EA.customApiKeyResponses.approved)EA.customApiKeyResponses={...EA.customApiKeyResponses,approved:[]};if(!EA.customApiKeyResponses.rejected)EA.customApiKeyResponses={...EA.customApiKeyResponses,rejected:[]};if(process.env.ANTHROPIC_API_KEY){let $A=WL(process.env.ANTHROPIC_API_KEY);if(GA)EA.customApiKeyResponses={...EA.customApiKeyResponses,approved:[...(EA.customApiKeyResponses.approved??[]).filter((MA)=>MA!==$A),$A],rejected:(EA.customApiKeyResponses.rejected??[]).filter((MA)=>MA!==$A)};else EA.customApiKeyResponses={...EA.customApiKeyResponses,approved:(EA.customApiKeyResponses.approved??[]).filter((MA)=>MA!==$A),rejected:[...(EA.customApiKeyResponses.rejected??[]).filter((MA)=>MA!==$A),$A]}}return EA}),I(R1())}}]:[]],FA=qx.useCallback(()=>{if(b!==null)return;let GA=Object.entries(e).map(([$A,MA])=>{return p("tengu_config_changed",{key:$A,value:MA}),`Set ${$A} to ${W1.bold(MA)}`}),AA=Boolean(process.env.ANTHROPIC_API_KEY&&K.current.customApiKeyResponses?.approved?.includes(WL(process.env.ANTHROPIC_API_KEY))),EA=Boolean(process.env.ANTHROPIC_API_KEY&&X.customApiKeyResponses?.approved?.includes(WL(process.env.ANTHROPIC_API_KEY)));if(AA!==EA)GA.push(`${EA?"Enabled":"Disabled"} custom API key`),p("tengu_config_changed",{key:"env.ANTHROPIC_API_KEY",value:EA});if(X.theme!==K.current.theme)GA.push(`Set theme to ${W1.bold(X.theme)}`);if(X.preferredNotifChannel!==K.current.preferredNotifChannel)GA.push(`Set notifications to ${W1.bold(X.preferredNotifChannel)}`);if(E!==C.current)GA.push(`Set output style to ${W1.bold(E)}`);if(O!==M.current)GA.push(`Set response language to ${W1.bold(O??"Default (English)")}`);if(X.editorMode!==K.current.editorMode)GA.push(`Set editor mode to ${W1.bold(X.editorMode||"emacs")}`);if(X.diffTool!==K.current.diffTool)GA.push(`Set diff tool to ${W1.bold(X.diffTool)}`);if(X.autoConnectIde!==K.current.autoConnectIde)GA.push(`${X.autoConnectIde?"Enabled":"Disabled"} auto-connect to IDE`);if(X.autoInstallIdeExtension!==K.current.autoInstallIdeExtension)GA.push(`${X.autoInstallIdeExtension?"Enabled":"Disabled"} auto-install IDE extension`);if(X.autoCompactEnabled!==K.current.autoCompactEnabled)GA.push(`${X.autoCompactEnabled?"Enabled":"Disabled"} auto-compact`);if(X.respectGitignore!==K.current.respectGitignore)GA.push(`${X.respectGitignore?"Enabled":"Disabled"} respect .gitignore in file picker`);if(X.terminalProgressBarEnabled!==K.current.terminalProgressBarEnabled)GA.push(`${X.terminalProgressBarEnabled?"Enabled":"Disabled"} terminal progress bar`);if(V?.autoUpdatesChannel!==H.current?.autoUpdatesChannel)GA.push(`Set auto-update channel to ${W1.bold(V?.autoUpdatesChannel??"latest")}`);if(GA.length>0)A(GA.join(`