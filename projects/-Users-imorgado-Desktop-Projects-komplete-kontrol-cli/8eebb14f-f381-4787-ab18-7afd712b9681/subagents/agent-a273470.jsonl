{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":"Search the @anthropic-ai/sdk repository for changes in January 2026. Look for:\n- SDK version updates around January 9, 2026\n- Changes to client initialization\n- New required parameters\n- Authentication method changes\n- Breaking changes in the CHANGELOG\n\nFind if the official SDK was updated to enforce the subscription blocking."},"uuid":"d72b0868-9fa2-4f7b-a947-fa34a62cb0f1","timestamp":"2026-01-13T19:43:32.583Z"}
{"parentUuid":"d72b0868-9fa2-4f7b-a947-fa34a62cb0f1","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01BjAqTUE8ycLNVR3NjrhkeQ","type":"message","role":"assistant","content":[{"type":"text","text":"I'll search the @anthropic-ai/sdk repository for changes around January 2026, focusing on version updates and initialization changes."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":24115,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":24115,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x1oH7AxY82Grtsxsjm","type":"assistant","uuid":"8498e9eb-a46a-4446-8248-c841f87fa307","timestamp":"2026-01-13T19:43:34.061Z"}
{"parentUuid":"8498e9eb-a46a-4446-8248-c841f87fa307","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01BjAqTUE8ycLNVR3NjrhkeQ","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013hizCzeFUaa5xzn26hUZ4L","name":"WebSearch","input":{"query":"@anthropic-ai/sdk January 2026 version changelog"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":24115,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":24115,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x1oH7AxY82Grtsxsjm","type":"assistant","uuid":"4457e78a-b3fe-4a6f-8555-e8b6686267b0","timestamp":"2026-01-13T19:43:34.285Z"}
{"parentUuid":"4457e78a-b3fe-4a6f-8555-e8b6686267b0","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01BjAqTUE8ycLNVR3NjrhkeQ","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FdvrUAPgCEKe4XxrEDjC99","name":"WebSearch","input":{"query":"anthropic SDK client initialization changes January 2026"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":24115,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":24115,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x1oH7AxY82Grtsxsjm","type":"assistant","uuid":"ef75e9d5-db6e-4a26-9e75-49575fc3d7b7","timestamp":"2026-01-13T19:43:34.497Z"}
{"parentUuid":"ef75e9d5-db6e-4a26-9e75-49575fc3d7b7","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01BjAqTUE8ycLNVR3NjrhkeQ","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Ho78WrC7aN5RT9oY4bT9qw","name":"WebSearch","input":{"query":"@anthropic-ai/sdk breaking changes subscription blocking 2026"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":24115,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":24115,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x1oH7AxY82Grtsxsjm","type":"assistant","uuid":"4759bc37-887f-4716-a84b-cfeaf82bff91","timestamp":"2026-01-13T19:43:34.674Z"}
{"parentUuid":"4457e78a-b3fe-4a6f-8555-e8b6686267b0","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013hizCzeFUaa5xzn26hUZ4L","type":"tool_result","content":"Web search results for query: \"@anthropic-ai/sdk January 2026 version changelog\"\n\nLinks: [{\"title\":\"Anthropic Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic\"},{\"title\":\"Releases · anthropics/anthropic-sdk-python\",\"url\":\"https://github.com/anthropics/anthropic-sdk-python/releases\"},{\"title\":\"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic/claude-code\"},{\"title\":\"@anthropic-ai/sdk - npm\",\"url\":\"https://www.npmjs.com/package/@anthropic-ai/sdk\"},{\"title\":\"claude-code/CHANGELOG.md at main · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md\"},{\"title\":\"Anthropic as a subprocessor for Microsoft Online Services | Microsoft Learn\",\"url\":\"https://learn.microsoft.com/en-us/copilot/microsoft-365/connect-to-ai-subprocessor\"},{\"title\":\"Anthropic's Claude Code 2.1.0 arrives with smoother workflows and smarter agents\",\"url\":\"https://venturebeat.com/orchestration/claude-code-2-1-0-arrives-with-smoother-workflows-and-smarter-agents\"},{\"title\":\"anthropic-ai/sdk\",\"url\":\"https://classic.yarnpkg.com/en/package/@anthropic-ai/sdk\"},{\"title\":\"GitHub - anthropics/anthropic-sdk-typescript: Access to Anthropic's safety-first language model APIs in TypeScript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript\"},{\"title\":\"Anthropic Releases Claude Code 2.1.1 with 109 CLI Enhancements\",\"url\":\"https://adtools.org/buyers-guide/ai-news-anthropic-claude-code-2-1-1-release\"}]\n\nLinks: [{\"title\":\"Anthropic Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic\"},{\"title\":\"Releases · anthropics/anthropic-sdk-python\",\"url\":\"https://github.com/anthropics/anthropic-sdk-python/releases\"},{\"title\":\"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic/claude-code\"},{\"title\":\"@anthropic-ai/sdk - npm\",\"url\":\"https://www.npmjs.com/package/@anthropic-ai/sdk\"},{\"title\":\"claude-code/CHANGELOG.md at main · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md\"},{\"title\":\"Anthropic as a subprocessor for Microsoft Online Services | Microsoft Learn\",\"url\":\"https://learn.microsoft.com/en-us/copilot/microsoft-365/connect-to-ai-subprocessor\"},{\"title\":\"Anthropic's Claude Code 2.1.0 arrives with smoother workflows and smarter agents\",\"url\":\"https://venturebeat.com/orchestration/claude-code-2-1-0-arrives-with-smoother-workflows-and-smarter-agents\"},{\"title\":\"anthropic-ai/sdk\",\"url\":\"https://classic.yarnpkg.com/en/package/@anthropic-ai/sdk\"},{\"title\":\"GitHub - anthropics/anthropic-sdk-typescript: Access to Anthropic's safety-first language model APIs in TypeScript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript\"},{\"title\":\"Anthropic Releases Claude Code 2.1.1 with 109 CLI Enhancements\",\"url\":\"https://adtools.org/buyers-guide/ai-news-anthropic-claude-code-2-1-1-release\"}]\n\nBased on the search results, I found information related to your query, though the results primarily focus on Claude Code rather than the @anthropic-ai/sdk npm package specifically.\n\nAccording to npm, the latest version of @anthropic-ai/sdk is 0.71.2, last published a month ago. However, the search results did not return a detailed changelog for January 2026 versions of the @anthropic-ai/sdk package itself.\n\nThe most recent detailed changelog information I found relates to Claude Code (a different product), where Anthropic launched Claude Code 2.1.1 on January 8, 2026, featuring 109 CLI changes, 11 new flags, and 10 prompt updates based on community feedback.\n\nFor the specific changelog of @anthropic-ai/sdk in January 2026, I recommend:\n1. Visiting the npm package page directly at https://www.npmjs.com/package/@anthropic-ai/sdk\n2. Checking the GitHub repository at https://github.com/anthropics/anthropic-sdk-typescript for release notes\n3. Looking at the official Anthropic documentation at https://docs.anthropic.com\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"8f42c7c7-5a6c-451e-bee1-e7147675538e","timestamp":"2026-01-13T19:43:40.972Z","toolUseResult":{"query":"@anthropic-ai/sdk January 2026 version changelog","results":[{"tool_use_id":"srvtoolu_01Lu2pBryGEiAuiic7N9ongh","content":[{"title":"Anthropic Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic"},{"title":"Releases · anthropics/anthropic-sdk-python","url":"https://github.com/anthropics/anthropic-sdk-python/releases"},{"title":"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic/claude-code"},{"title":"@anthropic-ai/sdk - npm","url":"https://www.npmjs.com/package/@anthropic-ai/sdk"},{"title":"claude-code/CHANGELOG.md at main · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md"},{"title":"Anthropic as a subprocessor for Microsoft Online Services | Microsoft Learn","url":"https://learn.microsoft.com/en-us/copilot/microsoft-365/connect-to-ai-subprocessor"},{"title":"Anthropic's Claude Code 2.1.0 arrives with smoother workflows and smarter agents","url":"https://venturebeat.com/orchestration/claude-code-2-1-0-arrives-with-smoother-workflows-and-smarter-agents"},{"title":"anthropic-ai/sdk","url":"https://classic.yarnpkg.com/en/package/@anthropic-ai/sdk"},{"title":"GitHub - anthropics/anthropic-sdk-typescript: Access to Anthropic's safety-first language model APIs in TypeScript","url":"https://github.com/anthropics/anthropic-sdk-typescript"},{"title":"Anthropic Releases Claude Code 2.1.1 with 109 CLI Enhancements","url":"https://adtools.org/buyers-guide/ai-news-anthropic-claude-code-2-1-1-release"}]},{"tool_use_id":"srvtoolu_01NX2kw5fCHJ4KCBEUByPacx","content":[{"title":"Anthropic Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic"},{"title":"Releases · anthropics/anthropic-sdk-python","url":"https://github.com/anthropics/anthropic-sdk-python/releases"},{"title":"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic/claude-code"},{"title":"@anthropic-ai/sdk - npm","url":"https://www.npmjs.com/package/@anthropic-ai/sdk"},{"title":"claude-code/CHANGELOG.md at main · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md"},{"title":"Anthropic as a subprocessor for Microsoft Online Services | Microsoft Learn","url":"https://learn.microsoft.com/en-us/copilot/microsoft-365/connect-to-ai-subprocessor"},{"title":"Anthropic's Claude Code 2.1.0 arrives with smoother workflows and smarter agents","url":"https://venturebeat.com/orchestration/claude-code-2-1-0-arrives-with-smoother-workflows-and-smarter-agents"},{"title":"anthropic-ai/sdk","url":"https://classic.yarnpkg.com/en/package/@anthropic-ai/sdk"},{"title":"GitHub - anthropics/anthropic-sdk-typescript: Access to Anthropic's safety-first language model APIs in TypeScript","url":"https://github.com/anthropics/anthropic-sdk-typescript"},{"title":"Anthropic Releases Claude Code 2.1.1 with 109 CLI Enhancements","url":"https://adtools.org/buyers-guide/ai-news-anthropic-claude-code-2-1-1-release"}]},"Based on the search results, I found information related to your query, though the results primarily focus on Claude Code rather than the @anthropic-ai/sdk npm package specifically.\n\nAccording to npm, the latest version of @anthropic-ai/sdk is 0.71.2, last published a month ago. However, the search results did not return a detailed changelog for January 2026 versions of the @anthropic-ai/sdk package itself.\n\nThe most recent detailed changelog information I found relates to Claude Code (a different product), where Anthropic launched Claude Code 2.1.1 on January 8, 2026, featuring 109 CLI changes, 11 new flags, and 10 prompt updates based on community feedback.\n\nFor the specific changelog of @anthropic-ai/sdk in January 2026, I recommend:\n1. Visiting the npm package page directly at https://www.npmjs.com/package/@anthropic-ai/sdk\n2. Checking the GitHub repository at https://github.com/anthropics/anthropic-sdk-typescript for release notes\n3. Looking at the official Anthropic documentation at https://docs.anthropic.com"],"durationSeconds":6.134887416999787},"sourceToolAssistantUUID":"4457e78a-b3fe-4a6f-8555-e8b6686267b0"}
{"parentUuid":"ef75e9d5-db6e-4a26-9e75-49575fc3d7b7","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FdvrUAPgCEKe4XxrEDjC99","type":"tool_result","content":"Web search results for query: \"anthropic SDK client initialization changes January 2026\"\n\nLinks: [{\"title\":\"Anthropic Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic\"},{\"title\":\"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic/claude-code\"},{\"title\":\"Claude Developer Platform - Claude Docs\",\"url\":\"https://docs.anthropic.com/en/release-notes/overview\"},{\"title\":\"Releases · anthropics/anthropic-sdk-python\",\"url\":\"https://github.com/anthropics/anthropic-sdk-python/releases\"},{\"title\":\"Anthropic as a subprocessor for Microsoft Online Services | Microsoft Learn\",\"url\":\"https://learn.microsoft.com/en-us/copilot/microsoft-365/connect-to-ai-subprocessor\"},{\"title\":\"Client SDKs - Claude Docs\",\"url\":\"https://platform.claude.com/docs/en/api/client-sdks\"},{\"title\":\"claude-code/CHANGELOG.md at main · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md\"},{\"title\":\"GitHub - anthropics/anthropic-sdk-csharp: Access to Anthropic's safety-first language model APIs in C#\",\"url\":\"https://github.com/anthropics/anthropic-sdk-csharp\"},{\"title\":\"anthropic-ai/sdk\",\"url\":\"https://www.npmjs.com/package/@anthropic-ai/sdk\"},{\"title\":\"Tom Arbuthnot on X: \\\"From January 7, 2026, Anthropic models will be enabled by default in Microsoft 365 Copilot for most commercial tenants under Microsoft’s Product Terms and Data Protection Addendum (DPA). Powerful features like Microsoft 365 Copilot with Agent Mode in Office apps and Office Agent https://t.co/3F5oTgfTQ3\\\" / X\",\"url\":\"https://x.com/tomarbuthnot/status/1998320907744379105\"}]\n\nLinks: [{\"title\":\"Anthropic Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic\"},{\"title\":\"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic/claude-code\"},{\"title\":\"Claude Developer Platform - Claude Docs\",\"url\":\"https://docs.anthropic.com/en/release-notes/overview\"},{\"title\":\"Releases · anthropics/anthropic-sdk-python\",\"url\":\"https://github.com/anthropics/anthropic-sdk-python/releases\"},{\"title\":\"Anthropic as a subprocessor for Microsoft Online Services | Microsoft Learn\",\"url\":\"https://learn.microsoft.com/en-us/copilot/microsoft-365/connect-to-ai-subprocessor\"},{\"title\":\"Client SDKs - Claude Docs\",\"url\":\"https://platform.claude.com/docs/en/api/client-sdks\"},{\"title\":\"claude-code/CHANGELOG.md at main · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md\"},{\"title\":\"GitHub - anthropics/anthropic-sdk-csharp: Access to Anthropic's safety-first language model APIs in C#\",\"url\":\"https://github.com/anthropics/anthropic-sdk-csharp\"},{\"title\":\"anthropic-ai/sdk\",\"url\":\"https://www.npmjs.com/package/@anthropic-ai/sdk\"},{\"title\":\"Tom Arbuthnot on X: \\\"From January 7, 2026, Anthropic models will be enabled by default in Microsoft 365 Copilot for most commercial tenants under Microsoft’s Product Terms and Data Protection Addendum (DPA). Powerful features like Microsoft 365 Copilot with Agent Mode in Office apps and Office Agent https://t.co/3F5oTgfTQ3\\\" / X\",\"url\":\"https://x.com/tomarbuthnot/status/1998320907744379105\"}]\n\nBased on the search results, here are the key Anthropic SDK-related changes in January 2026:\n\n## SDK Changes\n\nThe minimum zod peer dependency was changed to ^4.0.0 in the Anthropic SDK as of January 2026.\n\n## Browser Support\n\nSupport was added for using the SDK in browsers by returning CORS headers in API responses, with the option to set dangerouslyAllowBrowser: true in SDK instantiation to enable this feature.\n\n## Organization ID Response Header\n\nThe anthropic-organization-id response header was added to all API responses, providing the organization ID associated with the API key used in the request.\n\n## Java SDK Status\n\nThe Java SDK was moved from alpha to beta status.\n\n## Legacy SDK Entrypoint\n\nIn the Claude Code/Agent SDK specifically, the legacy SDK entrypoint was removed, with users directed to migrate to @anthropic-ai/claude-agent-sdk.\n\nThese updates reflect improvements to SDK functionality, dependency management, and platform support in January 2026.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"2d55515d-9607-4a24-98c6-985b18c3606e","timestamp":"2026-01-13T19:43:45.314Z","toolUseResult":{"query":"anthropic SDK client initialization changes January 2026","results":[{"tool_use_id":"srvtoolu_0184kv2oifgKR12gbWoqmopL","content":[{"title":"Anthropic Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic"},{"title":"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic/claude-code"},{"title":"Claude Developer Platform - Claude Docs","url":"https://docs.anthropic.com/en/release-notes/overview"},{"title":"Releases · anthropics/anthropic-sdk-python","url":"https://github.com/anthropics/anthropic-sdk-python/releases"},{"title":"Anthropic as a subprocessor for Microsoft Online Services | Microsoft Learn","url":"https://learn.microsoft.com/en-us/copilot/microsoft-365/connect-to-ai-subprocessor"},{"title":"Client SDKs - Claude Docs","url":"https://platform.claude.com/docs/en/api/client-sdks"},{"title":"claude-code/CHANGELOG.md at main · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md"},{"title":"GitHub - anthropics/anthropic-sdk-csharp: Access to Anthropic's safety-first language model APIs in C#","url":"https://github.com/anthropics/anthropic-sdk-csharp"},{"title":"anthropic-ai/sdk","url":"https://www.npmjs.com/package/@anthropic-ai/sdk"},{"title":"Tom Arbuthnot on X: \"From January 7, 2026, Anthropic models will be enabled by default in Microsoft 365 Copilot for most commercial tenants under Microsoft’s Product Terms and Data Protection Addendum (DPA). Powerful features like Microsoft 365 Copilot with Agent Mode in Office apps and Office Agent https://t.co/3F5oTgfTQ3\" / X","url":"https://x.com/tomarbuthnot/status/1998320907744379105"}]},{"tool_use_id":"srvtoolu_013LkQ1fLt9jKWcSuxaFEJaK","content":[{"title":"Anthropic Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic"},{"title":"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic/claude-code"},{"title":"Claude Developer Platform - Claude Docs","url":"https://docs.anthropic.com/en/release-notes/overview"},{"title":"Releases · anthropics/anthropic-sdk-python","url":"https://github.com/anthropics/anthropic-sdk-python/releases"},{"title":"Anthropic as a subprocessor for Microsoft Online Services | Microsoft Learn","url":"https://learn.microsoft.com/en-us/copilot/microsoft-365/connect-to-ai-subprocessor"},{"title":"Client SDKs - Claude Docs","url":"https://platform.claude.com/docs/en/api/client-sdks"},{"title":"claude-code/CHANGELOG.md at main · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md"},{"title":"GitHub - anthropics/anthropic-sdk-csharp: Access to Anthropic's safety-first language model APIs in C#","url":"https://github.com/anthropics/anthropic-sdk-csharp"},{"title":"anthropic-ai/sdk","url":"https://www.npmjs.com/package/@anthropic-ai/sdk"},{"title":"Tom Arbuthnot on X: \"From January 7, 2026, Anthropic models will be enabled by default in Microsoft 365 Copilot for most commercial tenants under Microsoft’s Product Terms and Data Protection Addendum (DPA). Powerful features like Microsoft 365 Copilot with Agent Mode in Office apps and Office Agent https://t.co/3F5oTgfTQ3\" / X","url":"https://x.com/tomarbuthnot/status/1998320907744379105"}]},"Based on the search results, here are the key Anthropic SDK-related changes in January 2026:\n\n## SDK Changes\n\nThe minimum zod peer dependency was changed to ^4.0.0 in the Anthropic SDK as of January 2026.\n\n## Browser Support\n\nSupport was added for using the SDK in browsers by returning CORS headers in API responses, with the option to set dangerouslyAllowBrowser: true in SDK instantiation to enable this feature.\n\n## Organization ID Response Header\n\nThe anthropic-organization-id response header was added to all API responses, providing the organization ID associated with the API key used in the request.\n\n## Java SDK Status\n\nThe Java SDK was moved from alpha to beta status.\n\n## Legacy SDK Entrypoint\n\nIn the Claude Code/Agent SDK specifically, the legacy SDK entrypoint was removed, with users directed to migrate to @anthropic-ai/claude-agent-sdk.\n\nThese updates reflect improvements to SDK functionality, dependency management, and platform support in January 2026."],"durationSeconds":10.474667040999979},"sourceToolAssistantUUID":"ef75e9d5-db6e-4a26-9e75-49575fc3d7b7"}
{"parentUuid":"4759bc37-887f-4716-a84b-cfeaf82bff91","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Ho78WrC7aN5RT9oY4bT9qw","type":"tool_result","content":"Web search results for query: \"@anthropic-ai/sdk breaking changes subscription blocking 2026\"\n\nLinks: [{\"title\":\"Anthropic reportedly blocking non-official Claude API connections\",\"url\":\"https://piunikaweb.com/2026/01/09/anthropic-reportedly-blocking-non-official-claude-api-connections/\"},{\"title\":\"Anthropic Blocks Claude Code in Third-Party Tools Like OpenCode | Breaking News 2026\",\"url\":\"https://www.tamiltech.in/article/anthropic-blocks-claude-code-access-third-party-tools-opencode\"},{\"title\":\"Anthropic Just Blocked Claude Code Subscriptions Outside Its Own App | Webcoda\",\"url\":\"https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026\"},{\"title\":\"Anthropic's Walled Garden: The Claude Code Crackdown\",\"url\":\"https://paddo.dev/blog/anthropic-walled-garden-crackdown/\"},{\"title\":\"Anthropic Blocks Claude Max in OpenCode: Devs Cancel $200/Month Plans | byteiota\",\"url\":\"https://byteiota.com/anthropic-blocks-claude-max-in-opencode-devs-cancel-200-month-plans/\"},{\"title\":\"@anthropic-ai/sdk - npm\",\"url\":\"https://www.npmjs.com/package/@anthropic-ai/sdk\"},{\"title\":\"Claude Code: Anthropic Blocks Unauthorized Claude 'Harnesses' and xAI Access in Major Crackdown - WinBuzzer\",\"url\":\"https://winbuzzer.com/2026/01/10/claude-code-anthropic-blocks-unauthorized-claude-harnesses-and-xai-access-in-major-crackdown-xcxwbn/\"},{\"title\":\"The Great Lock-In: Why Anthropic is Blocking OpenCode (And Why You Should Care) | by Tushar Koshti | Jan, 2026 | Medium\",\"url\":\"https://medium.com/@tusharkoshti/the-great-lock-in-why-anthropic-is-blocking-opencode-and-why-you-should-care-22ef5c2a4ecc\"},{\"title\":\"Anthropic Tightens Control Over Claude Code Access, Disrupting Third-Party Harnesses and Rival Labs - techbuddies.io\",\"url\":\"https://www.techbuddies.io/2026/01/12/anthropic-tightens-control-over-claude-code-access-disrupting-third-party-harnesses-and-rival-labs/\"},{\"title\":\"Claude devs complain about surprise usage limits • The Register\",\"url\":\"https://www.theregister.com/2026/01/05/claude_devs_usage_limits/\"}]\n\nLinks: [{\"title\":\"Anthropic reportedly blocking non-official Claude API connections\",\"url\":\"https://piunikaweb.com/2026/01/09/anthropic-reportedly-blocking-non-official-claude-api-connections/\"},{\"title\":\"Anthropic Blocks Claude Code in Third-Party Tools Like OpenCode | Breaking News 2026\",\"url\":\"https://www.tamiltech.in/article/anthropic-blocks-claude-code-access-third-party-tools-opencode\"},{\"title\":\"Anthropic Just Blocked Claude Code Subscriptions Outside Its Own App | Webcoda\",\"url\":\"https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026\"},{\"title\":\"Anthropic's Walled Garden: The Claude Code Crackdown\",\"url\":\"https://paddo.dev/blog/anthropic-walled-garden-crackdown/\"},{\"title\":\"Anthropic Blocks Claude Max in OpenCode: Devs Cancel $200/Month Plans | byteiota\",\"url\":\"https://byteiota.com/anthropic-blocks-claude-max-in-opencode-devs-cancel-200-month-plans/\"},{\"title\":\"@anthropic-ai/sdk - npm\",\"url\":\"https://www.npmjs.com/package/@anthropic-ai/sdk\"},{\"title\":\"Claude Code: Anthropic Blocks Unauthorized Claude 'Harnesses' and xAI Access in Major Crackdown - WinBuzzer\",\"url\":\"https://winbuzzer.com/2026/01/10/claude-code-anthropic-blocks-unauthorized-claude-harnesses-and-xai-access-in-major-crackdown-xcxwbn/\"},{\"title\":\"The Great Lock-In: Why Anthropic is Blocking OpenCode (And Why You Should Care) | by Tushar Koshti | Jan, 2026 | Medium\",\"url\":\"https://medium.com/@tusharkoshti/the-great-lock-in-why-anthropic-is-blocking-opencode-and-why-you-should-care-22ef5c2a4ecc\"},{\"title\":\"Anthropic Tightens Control Over Claude Code Access, Disrupting Third-Party Harnesses and Rival Labs - techbuddies.io\",\"url\":\"https://www.techbuddies.io/2026/01/12/anthropic-tightens-control-over-claude-code-access-disrupting-third-party-harnesses-and-rival-labs/\"},{\"title\":\"Claude devs complain about surprise usage limits • The Register\",\"url\":\"https://www.theregister.com/2026/01/05/claude_devs_usage_limits/\"}]\n\nBased on the search results, here's what I found regarding the query about @anthropic-ai/sdk, breaking changes, and subscription blocking in 2026:\n\n## Anthropic's Subscription Blocking Action (January 2026)\n\nAnthropic suddenly cut off Claude Max API access to third-party IDE extensions including OpenCode on January 9, 2026 at 02:20 UTC.(no content)Anthropic deployed \"strict new technical safeguards\" blocking subscription OAuth tokens from working outside their official Claude Code CLI.\n\n### What Changed\n\nThe error message developers received was: \"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"(no content)Tools like OpenCode had been spoofing the Claude Code client identity, sending headers that made Anthropic's servers think requests came from the official tool.\n\n### Developer Response\n\nWithin hours, developers paying $100-200/month flooded GitHub with complaints, generating 147+ reactions and 245 Hacker News points.(no content)Developer backlash continues, with some canceling subscriptions and migrating workflows.\n\n### Official Explanation\n\nAnthropic employee Thariq from the Claude Code team posted a detailed thread explaining that the restrictions target third-party harnesses spoofing the official client, which violate ToS by creating unusual traffic patterns without telemetry — complicating debugging, rate limits, and support. He reiterated that the API is the supported integration method and confirmed all known bans triggered by this issue have been lifted.\n\nThe @anthropic-ai/sdk package itself (npm package) wasn't directly impacted—rather, this was a platform-level restriction on credential usage outside the official Claude Code client.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"b6d13f56-ee92-45b1-8a0d-5de7b2128e9b","timestamp":"2026-01-13T19:43:46.234Z","toolUseResult":{"query":"@anthropic-ai/sdk breaking changes subscription blocking 2026","results":[{"tool_use_id":"srvtoolu_016ZH6KTDh9tUjvTDdqJKUyT","content":[{"title":"Anthropic reportedly blocking non-official Claude API connections","url":"https://piunikaweb.com/2026/01/09/anthropic-reportedly-blocking-non-official-claude-api-connections/"},{"title":"Anthropic Blocks Claude Code in Third-Party Tools Like OpenCode | Breaking News 2026","url":"https://www.tamiltech.in/article/anthropic-blocks-claude-code-access-third-party-tools-opencode"},{"title":"Anthropic Just Blocked Claude Code Subscriptions Outside Its Own App | Webcoda","url":"https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026"},{"title":"Anthropic's Walled Garden: The Claude Code Crackdown","url":"https://paddo.dev/blog/anthropic-walled-garden-crackdown/"},{"title":"Anthropic Blocks Claude Max in OpenCode: Devs Cancel $200/Month Plans | byteiota","url":"https://byteiota.com/anthropic-blocks-claude-max-in-opencode-devs-cancel-200-month-plans/"},{"title":"@anthropic-ai/sdk - npm","url":"https://www.npmjs.com/package/@anthropic-ai/sdk"},{"title":"Claude Code: Anthropic Blocks Unauthorized Claude 'Harnesses' and xAI Access in Major Crackdown - WinBuzzer","url":"https://winbuzzer.com/2026/01/10/claude-code-anthropic-blocks-unauthorized-claude-harnesses-and-xai-access-in-major-crackdown-xcxwbn/"},{"title":"The Great Lock-In: Why Anthropic is Blocking OpenCode (And Why You Should Care) | by Tushar Koshti | Jan, 2026 | Medium","url":"https://medium.com/@tusharkoshti/the-great-lock-in-why-anthropic-is-blocking-opencode-and-why-you-should-care-22ef5c2a4ecc"},{"title":"Anthropic Tightens Control Over Claude Code Access, Disrupting Third-Party Harnesses and Rival Labs - techbuddies.io","url":"https://www.techbuddies.io/2026/01/12/anthropic-tightens-control-over-claude-code-access-disrupting-third-party-harnesses-and-rival-labs/"},{"title":"Claude devs complain about surprise usage limits • The Register","url":"https://www.theregister.com/2026/01/05/claude_devs_usage_limits/"}]},{"tool_use_id":"srvtoolu_01FcxLDo8hbexPH5ZUXvM6W9","content":[{"title":"Anthropic reportedly blocking non-official Claude API connections","url":"https://piunikaweb.com/2026/01/09/anthropic-reportedly-blocking-non-official-claude-api-connections/"},{"title":"Anthropic Blocks Claude Code in Third-Party Tools Like OpenCode | Breaking News 2026","url":"https://www.tamiltech.in/article/anthropic-blocks-claude-code-access-third-party-tools-opencode"},{"title":"Anthropic Just Blocked Claude Code Subscriptions Outside Its Own App | Webcoda","url":"https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026"},{"title":"Anthropic's Walled Garden: The Claude Code Crackdown","url":"https://paddo.dev/blog/anthropic-walled-garden-crackdown/"},{"title":"Anthropic Blocks Claude Max in OpenCode: Devs Cancel $200/Month Plans | byteiota","url":"https://byteiota.com/anthropic-blocks-claude-max-in-opencode-devs-cancel-200-month-plans/"},{"title":"@anthropic-ai/sdk - npm","url":"https://www.npmjs.com/package/@anthropic-ai/sdk"},{"title":"Claude Code: Anthropic Blocks Unauthorized Claude 'Harnesses' and xAI Access in Major Crackdown - WinBuzzer","url":"https://winbuzzer.com/2026/01/10/claude-code-anthropic-blocks-unauthorized-claude-harnesses-and-xai-access-in-major-crackdown-xcxwbn/"},{"title":"The Great Lock-In: Why Anthropic is Blocking OpenCode (And Why You Should Care) | by Tushar Koshti | Jan, 2026 | Medium","url":"https://medium.com/@tusharkoshti/the-great-lock-in-why-anthropic-is-blocking-opencode-and-why-you-should-care-22ef5c2a4ecc"},{"title":"Anthropic Tightens Control Over Claude Code Access, Disrupting Third-Party Harnesses and Rival Labs - techbuddies.io","url":"https://www.techbuddies.io/2026/01/12/anthropic-tightens-control-over-claude-code-access-disrupting-third-party-harnesses-and-rival-labs/"},{"title":"Claude devs complain about surprise usage limits • The Register","url":"https://www.theregister.com/2026/01/05/claude_devs_usage_limits/"}]},"Based on the search results, here's what I found regarding the query about @anthropic-ai/sdk, breaking changes, and subscription blocking in 2026:\n\n## Anthropic's Subscription Blocking Action (January 2026)\n\nAnthropic suddenly cut off Claude Max API access to third-party IDE extensions including OpenCode on January 9, 2026 at 02:20 UTC.(no content)Anthropic deployed \"strict new technical safeguards\" blocking subscription OAuth tokens from working outside their official Claude Code CLI.\n\n### What Changed\n\nThe error message developers received was: \"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"(no content)Tools like OpenCode had been spoofing the Claude Code client identity, sending headers that made Anthropic's servers think requests came from the official tool.\n\n### Developer Response\n\nWithin hours, developers paying $100-200/month flooded GitHub with complaints, generating 147+ reactions and 245 Hacker News points.(no content)Developer backlash continues, with some canceling subscriptions and migrating workflows.\n\n### Official Explanation\n\nAnthropic employee Thariq from the Claude Code team posted a detailed thread explaining that the restrictions target third-party harnesses spoofing the official client, which violate ToS by creating unusual traffic patterns without telemetry — complicating debugging, rate limits, and support. He reiterated that the API is the supported integration method and confirmed all known bans triggered by this issue have been lifted.\n\nThe @anthropic-ai/sdk package itself (npm package) wasn't directly impacted—rather, this was a platform-level restriction on credential usage outside the official Claude Code client."],"durationSeconds":11.395094957999886},"sourceToolAssistantUUID":"4759bc37-887f-4716-a84b-cfeaf82bff91"}
{"parentUuid":"b6d13f56-ee92-45b1-8a0d-5de7b2128e9b","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01AD7BtGaAK6CMkopYvAdhHa","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me fetch more details from the GitHub repository for the TypeScript SDK specifically:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":4468,"cache_read_input_tokens":24115,"cache_creation":{"ephemeral_5m_input_tokens":4468,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x2o2ksSeGV2d4pB2Ep","type":"assistant","uuid":"f1be2af6-55c5-437c-bc97-cd565770ba5e","timestamp":"2026-01-13T19:43:47.523Z"}
{"parentUuid":"f1be2af6-55c5-437c-bc97-cd565770ba5e","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01AD7BtGaAK6CMkopYvAdhHa","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_018KQQ899B2GQJyrMoNcKmG7","name":"WebFetch","input":{"url":"https://github.com/anthropics/anthropic-sdk-typescript","prompt":"Find changelog, releases, or breaking changes from January 2026"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":4468,"cache_read_input_tokens":24115,"cache_creation":{"ephemeral_5m_input_tokens":4468,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x2o2ksSeGV2d4pB2Ep","type":"assistant","uuid":"3b0e38aa-19ec-440a-966b-e73e2a722e96","timestamp":"2026-01-13T19:43:48.040Z"}
{"parentUuid":"3b0e38aa-19ec-440a-966b-e73e2a722e96","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01AD7BtGaAK6CMkopYvAdhHa","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0154giYKCvnsTX2HMEuvwWPV","name":"WebFetch","input":{"url":"https://www.npmjs.com/package/@anthropic-ai/sdk","prompt":"Find version history and changelog for January 2026"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":4468,"cache_read_input_tokens":24115,"cache_creation":{"ephemeral_5m_input_tokens":4468,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x2o2ksSeGV2d4pB2Ep","type":"assistant","uuid":"bcdd973d-12b6-4e43-a174-5eb7cd927895","timestamp":"2026-01-13T19:43:48.336Z"}
{"parentUuid":"bcdd973d-12b6-4e43-a174-5eb7cd927895","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"Request failed with status code 403","is_error":true,"tool_use_id":"toolu_0154giYKCvnsTX2HMEuvwWPV"}]},"uuid":"2a156924-81b4-43fc-823a-7da9e020c6d7","timestamp":"2026-01-13T19:43:48.773Z","toolUseResult":"Error: Request failed with status code 403","sourceToolAssistantUUID":"bcdd973d-12b6-4e43-a174-5eb7cd927895"}
{"parentUuid":"3b0e38aa-19ec-440a-966b-e73e2a722e96","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_018KQQ899B2GQJyrMoNcKmG7","type":"tool_result","content":"# Anthropic TypeScript SDK - Overview\n\nThe **Anthropic TypeScript SDK** (`@anthropic-ai/sdk`) provides convenient access to Anthropic's Claude API from TypeScript/JavaScript applications.\n\n## Quick Start\n\n### Installation\n```bash\nnpm install @anthropic-ai/sdk\n```\n\n### Basic Usage\n```typescript\nimport Anthropic from '@anthropic-ai/sdk';\n\nconst client = new Anthropic({\n  apiKey: process.env['ANTHROPIC_API_KEY'],\n});\n\nconst message = await client.messages.create({\n  max_tokens: 1024,\n  messages: [{ role: 'user', content: 'Hello, Claude' }],\n  model: 'claude-sonnet-4-5-20250929',\n});\n\nconsole.log(message.content);\n```\n\n## Key Features\n\n### 1. **Streaming Responses**\n```typescript\nconst stream = await client.messages.create({\n  max_tokens: 1024,\n  messages: [{ role: 'user', content: 'Hello, Claude' }],\n  model: 'claude-sonnet-4-5-20250929',\n  stream: true,\n});\n\nfor await (const event of stream) {\n  console.log(event.type);\n}\n```\n\n### 2. **Streaming with Helpers**\n```typescript\nconst stream = anthropic.messages\n  .stream({\n    model: 'claude-sonnet-4-5-20250929',\n    max_tokens: 1024,\n    messages: [{ role: 'user', content: 'Say hello!' }],\n  })\n  .on('text', (text) => console.log(text));\n\nconst message = await stream.finalMessage();\n```\n\n### 3. **Token Counting**\n```typescript\nconst message = await client.messages.create(...);\nconsole.log(message.usage);\n// { input_tokens: 25, output_tokens: 13 }\n```\n\n### 4. **Tool Use (Function Calling)**\n```typescript\nconst weatherTool = betaZodTool({\n  name: 'get_weather',\n  inputSchema: z.object({ location: z.string() }),\n  description: 'Get weather for a location',\n  run: (input) => `Weather in ${input.location}: 60°F`,\n});\n\nconst finalMessage = await anthropic.beta.messages.toolRunner({\n  model: 'claude-3-5-sonnet-20241022',\n  max_tokens: 1000,\n  messages: [{ role: 'user', content: 'What is the weather in San Francisco?' }],\n  tools: [weatherTool],\n});\n```\n\n### 5. **Message Batches**\n```typescript\n// Create batch\nawait anthropic.messages.batches.create({\n  requests: [\n    {\n      custom_id: 'req-1',\n      params: {\n        model: 'claude-sonnet-4-5-20250929',\n        max_tokens: 1024,\n        messages: [{ role: 'user', content: 'Hello' }],\n      },\n    },\n  ],\n});\n\n// Get results\nconst results = await anthropic.messages.batches.results(batch_id);\nfor await (const entry of results) {\n  if (entry.result.type === 'succeeded') {\n    console.log(entry.result.message.content);\n  }\n}\n```\n\n### 6. **File Uploads**\n```typescript\nimport { toFile } from '@anthropic-ai/sdk';\n\nawait client.beta.files.upload({\n  file: await toFile(fs.createReadStream('/path/to/file'), undefined, { \n    type: 'application/json' \n  }),\n  betas: ['files-api-2025-04-14'],\n});\n```\n\n## Error Handling\n\n```typescript\ntry {\n  await client.messages.create({...});\n} catch (err) {\n  if (err instanceof Anthropic.APIError) {\n    console.log(err.status);      // 400\n    console.log(err.name);        // BadRequestError\n    console.log(err.headers);     // response headers\n  }\n}\n```\n\n## Configuration\n\n### Retries (default: 2)\n```typescript\nconst client = new Anthropic({ maxRetries: 0 });\n```\n\n### Timeouts (default: 10 minutes)\n```typescript\nconst client = new Anthropic({ timeout: 20 * 1000 }); // 20 seconds\n```\n\n### Logging\n```typescript\nconst client = new Anthropic({ \n  logLevel: 'debug' // 'debug' | 'info' | 'warn' | 'error' | 'off'\n});\n```\n\n### Proxies\n```typescript\n// Node.js\nimport * as undici from 'undici';\nconst client = new Anthropic({\n  fetchOptions: {\n    dispatcher: new undici.ProxyAgent('http://localhost:8888'),\n  },\n});\n```\n\n## Type Safety\n\n```typescript\nconst params: Anthropic.MessageCreateParams = {\n  max_tokens: 1024,\n  messages: [{ role: 'user', content: 'Hello, Claude' }],\n  model: 'claude-sonnet-4-5-20250929',\n};\nconst message: Anthropic.Message = await client.messages.create(params);\n```\n\n## Requirements\n\n- **TypeScript**: >= 4.9\n- **Node.js**: 20 LTS or later\n- **Runtimes**: Deno, Bun, Cloudflare Workers, Vercel Edge, Jest, Nitro\n- **Browsers**: Disabled by default (set `dangerouslyAllowBrowser: true` to enable)\n\n## Current Release\n\n**Latest**: v0.71.2 (December 6, 2025)  \n**Stars**: 1.5k  \n**Used by**: 520+ projects\n\nFor complete API documentation, see [api.md](https://github.com/anthropics/anthropic-sdk-typescript/blob/main/api.md)."}]},"uuid":"89fcf7b8-a185-41f9-8644-163f99453fa9","timestamp":"2026-01-13T19:44:02.503Z","toolUseResult":{"bytes":621595,"code":200,"codeText":"OK","result":"# Anthropic TypeScript SDK - Overview\n\nThe **Anthropic TypeScript SDK** (`@anthropic-ai/sdk`) provides convenient access to Anthropic's Claude API from TypeScript/JavaScript applications.\n\n## Quick Start\n\n### Installation\n```bash\nnpm install @anthropic-ai/sdk\n```\n\n### Basic Usage\n```typescript\nimport Anthropic from '@anthropic-ai/sdk';\n\nconst client = new Anthropic({\n  apiKey: process.env['ANTHROPIC_API_KEY'],\n});\n\nconst message = await client.messages.create({\n  max_tokens: 1024,\n  messages: [{ role: 'user', content: 'Hello, Claude' }],\n  model: 'claude-sonnet-4-5-20250929',\n});\n\nconsole.log(message.content);\n```\n\n## Key Features\n\n### 1. **Streaming Responses**\n```typescript\nconst stream = await client.messages.create({\n  max_tokens: 1024,\n  messages: [{ role: 'user', content: 'Hello, Claude' }],\n  model: 'claude-sonnet-4-5-20250929',\n  stream: true,\n});\n\nfor await (const event of stream) {\n  console.log(event.type);\n}\n```\n\n### 2. **Streaming with Helpers**\n```typescript\nconst stream = anthropic.messages\n  .stream({\n    model: 'claude-sonnet-4-5-20250929',\n    max_tokens: 1024,\n    messages: [{ role: 'user', content: 'Say hello!' }],\n  })\n  .on('text', (text) => console.log(text));\n\nconst message = await stream.finalMessage();\n```\n\n### 3. **Token Counting**\n```typescript\nconst message = await client.messages.create(...);\nconsole.log(message.usage);\n// { input_tokens: 25, output_tokens: 13 }\n```\n\n### 4. **Tool Use (Function Calling)**\n```typescript\nconst weatherTool = betaZodTool({\n  name: 'get_weather',\n  inputSchema: z.object({ location: z.string() }),\n  description: 'Get weather for a location',\n  run: (input) => `Weather in ${input.location}: 60°F`,\n});\n\nconst finalMessage = await anthropic.beta.messages.toolRunner({\n  model: 'claude-3-5-sonnet-20241022',\n  max_tokens: 1000,\n  messages: [{ role: 'user', content: 'What is the weather in San Francisco?' }],\n  tools: [weatherTool],\n});\n```\n\n### 5. **Message Batches**\n```typescript\n// Create batch\nawait anthropic.messages.batches.create({\n  requests: [\n    {\n      custom_id: 'req-1',\n      params: {\n        model: 'claude-sonnet-4-5-20250929',\n        max_tokens: 1024,\n        messages: [{ role: 'user', content: 'Hello' }],\n      },\n    },\n  ],\n});\n\n// Get results\nconst results = await anthropic.messages.batches.results(batch_id);\nfor await (const entry of results) {\n  if (entry.result.type === 'succeeded') {\n    console.log(entry.result.message.content);\n  }\n}\n```\n\n### 6. **File Uploads**\n```typescript\nimport { toFile } from '@anthropic-ai/sdk';\n\nawait client.beta.files.upload({\n  file: await toFile(fs.createReadStream('/path/to/file'), undefined, { \n    type: 'application/json' \n  }),\n  betas: ['files-api-2025-04-14'],\n});\n```\n\n## Error Handling\n\n```typescript\ntry {\n  await client.messages.create({...});\n} catch (err) {\n  if (err instanceof Anthropic.APIError) {\n    console.log(err.status);      // 400\n    console.log(err.name);        // BadRequestError\n    console.log(err.headers);     // response headers\n  }\n}\n```\n\n## Configuration\n\n### Retries (default: 2)\n```typescript\nconst client = new Anthropic({ maxRetries: 0 });\n```\n\n### Timeouts (default: 10 minutes)\n```typescript\nconst client = new Anthropic({ timeout: 20 * 1000 }); // 20 seconds\n```\n\n### Logging\n```typescript\nconst client = new Anthropic({ \n  logLevel: 'debug' // 'debug' | 'info' | 'warn' | 'error' | 'off'\n});\n```\n\n### Proxies\n```typescript\n// Node.js\nimport * as undici from 'undici';\nconst client = new Anthropic({\n  fetchOptions: {\n    dispatcher: new undici.ProxyAgent('http://localhost:8888'),\n  },\n});\n```\n\n## Type Safety\n\n```typescript\nconst params: Anthropic.MessageCreateParams = {\n  max_tokens: 1024,\n  messages: [{ role: 'user', content: 'Hello, Claude' }],\n  model: 'claude-sonnet-4-5-20250929',\n};\nconst message: Anthropic.Message = await client.messages.create(params);\n```\n\n## Requirements\n\n- **TypeScript**: >= 4.9\n- **Node.js**: 20 LTS or later\n- **Runtimes**: Deno, Bun, Cloudflare Workers, Vercel Edge, Jest, Nitro\n- **Browsers**: Disabled by default (set `dangerouslyAllowBrowser: true` to enable)\n\n## Current Release\n\n**Latest**: v0.71.2 (December 6, 2025)  \n**Stars**: 1.5k  \n**Used by**: 520+ projects\n\nFor complete API documentation, see [api.md](https://github.com/anthropics/anthropic-sdk-typescript/blob/main/api.md).","durationMs":14065,"url":"https://github.com/anthropics/anthropic-sdk-typescript"},"sourceToolAssistantUUID":"3b0e38aa-19ec-440a-966b-e73e2a722e96"}
{"parentUuid":"89fcf7b8-a185-41f9-8644-163f99453fa9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01T29dnSkbnfz5BCgnqrq8Nz","type":"message","role":"assistant","content":[{"type":"text","text":"Let me search for more specific information about the SDK release notes and GitHub releases:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":39,"cache_creation_input_tokens":1741,"cache_read_input_tokens":28583,"cache_creation":{"ephemeral_5m_input_tokens":1741,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x3zpCt2n6mnJ3224Gu","type":"assistant","uuid":"6cd3f7f9-4303-4d1a-8c40-7443ef7fe338","timestamp":"2026-01-13T19:44:03.755Z"}
{"parentUuid":"6cd3f7f9-4303-4d1a-8c40-7443ef7fe338","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01T29dnSkbnfz5BCgnqrq8Nz","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01XRRjNka48nMMpDQ7oSWiwV","name":"WebSearch","input":{"query":"site:github.com anthropic-sdk-typescript releases January 2026"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":39,"cache_creation_input_tokens":1741,"cache_read_input_tokens":28583,"cache_creation":{"ephemeral_5m_input_tokens":1741,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x3zpCt2n6mnJ3224Gu","type":"assistant","uuid":"fc4f292e-4457-43f0-b523-def91c597e10","timestamp":"2026-01-13T19:44:03.965Z"}
{"parentUuid":"fc4f292e-4457-43f0-b523-def91c597e10","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01T29dnSkbnfz5BCgnqrq8Nz","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01RGJ1EZ3H156J99KZogUX14","name":"WebSearch","input":{"query":"\"anthropic-sdk\" \"January 9\" OR \"January 8\" 2026 breaking changes"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":39,"cache_creation_input_tokens":1741,"cache_read_input_tokens":28583,"cache_creation":{"ephemeral_5m_input_tokens":1741,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x3zpCt2n6mnJ3224Gu","type":"assistant","uuid":"04bc3716-f45e-4f4c-a678-bdba712b9345","timestamp":"2026-01-13T19:44:04.325Z"}
{"parentUuid":"fc4f292e-4457-43f0-b523-def91c597e10","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XRRjNka48nMMpDQ7oSWiwV","type":"tool_result","content":"Web search results for query: \"site:github.com anthropic-sdk-typescript releases January 2026\"\n\nI'll search for that information for you.\n\nLinks: [{\"title\":\"GitHub - anthropics/anthropic-sdk-typescript: Access to Anthropic's safety-first language model APIs in TypeScript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript\"},{\"title\":\"Releases · anthropics/anthropic-sdk-typescript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript/releases\"},{\"title\":\"Anthropic · GitHub\",\"url\":\"https://github.com/anthropics\"},{\"title\":\"claude-agent-sdk-typescript/CHANGELOG.md at main · anthropics/claude-agent-sdk-typescript\",\"url\":\"https://github.com/anthropics/claude-agent-sdk-typescript/blob/main/CHANGELOG.md\"},{\"title\":\"anthropic-sdk-typescript/api.md at main · anthropics/anthropic-sdk-typescript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/api.md\"},{\"title\":\"anthropic-sdk-typescript/helpers.md at main · anthropics/anthropic-sdk-typescript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/helpers.md\"},{\"title\":\"anthropics/anthropic-sdk-typescript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript/issues\"},{\"title\":\"anthropic-sdk-typescript/package.json at main · anthropics/anthropic-sdk-typescript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/package.json\"},{\"title\":\"anthropic-sdk-typescript/CONTRIBUTING.md at main · anthropics/anthropic-sdk-typescript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/CONTRIBUTING.md\"},{\"title\":\"claude-code/CHANGELOG.md at main · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md\"}]\n\nI appreciate your interest, but I should clarify that the search query you've provided uses a special search operator (`site:`), which is designed for use with search engines directly.\n\nWhen using the web search tool I have available, I can search for information about the Anthropic TypeScript SDK releases from January 2026, but I'll need to phrase it as a regular search query without special operators.\n\nLet me search for that information:\n\nLinks: [{\"title\":\"GitHub - anthropics/anthropic-sdk-typescript: Access to Anthropic's safety-first language model APIs in TypeScript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript\"},{\"title\":\"Releases · anthropics/anthropic-sdk-typescript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript/releases\"},{\"title\":\"Anthropic SDK TypeScript download | SourceForge.net\",\"url\":\"https://sourceforge.net/projects/anthropic-sdk-types.mirror/\"},{\"title\":\"Anthropic · GitHub\",\"url\":\"https://github.com/anthropics\"},{\"title\":\"Anthropic Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic\"},{\"title\":\"claude-agent-sdk-typescript/CHANGELOG.md at main · anthropics/claude-agent-sdk-typescript\",\"url\":\"https://github.com/anthropics/claude-agent-sdk-typescript/blob/main/CHANGELOG.md\"},{\"title\":\"anthropic-ai/sdk\",\"url\":\"https://classic.yarnpkg.com/en/package/@anthropic-ai/sdk\"},{\"title\":\"anthropic-sdk-typescript/helpers.md at main · anthropics/anthropic-sdk-typescript\",\"url\":\"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/helpers.md\"},{\"title\":\"anthropic-ai/sdk\",\"url\":\"https://www.npmjs.com/package/@anthropic-ai/sdk\"},{\"title\":\"Client SDKs - Claude Docs\",\"url\":\"https://platform.claude.com/docs/en/api/client-sdks\"}]\n\nBased on the search results, I found information about the anthropic-sdk-typescript repository. The most recent releases shown in the search results are from October 2025:\n\nThe latest release is sdk-v0.67.0 (October 16, 2025), which added support for agent skills, and sdk-v0.66.0 (October 15, 2025) included manual updates to the API and fixes for tool-runner streaming.\n\nHowever, the search results don't show specific releases from January 2026 for the anthropic-sdk-typescript library. The repository does show recent activity in January 2026, as the anthropic-sdk-typescript repository was updated on January 12, 2026, but the specific release notes or version details from January 2026 are not visible in these search results.\n\nTo see the complete list of January 2026 releases, you can directly visit the GitHub releases page at https://github.com/anthropics/anthropic-sdk-typescript/releases.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"68637bfd-4169-493f-9262-532664e0f2a3","timestamp":"2026-01-13T19:44:14.284Z","toolUseResult":{"query":"site:github.com anthropic-sdk-typescript releases January 2026","results":["I'll search for that information for you.",{"tool_use_id":"srvtoolu_01CdcxUxxydCNYwYZ7e12PFy","content":[{"title":"GitHub - anthropics/anthropic-sdk-typescript: Access to Anthropic's safety-first language model APIs in TypeScript","url":"https://github.com/anthropics/anthropic-sdk-typescript"},{"title":"Releases · anthropics/anthropic-sdk-typescript","url":"https://github.com/anthropics/anthropic-sdk-typescript/releases"},{"title":"Anthropic · GitHub","url":"https://github.com/anthropics"},{"title":"claude-agent-sdk-typescript/CHANGELOG.md at main · anthropics/claude-agent-sdk-typescript","url":"https://github.com/anthropics/claude-agent-sdk-typescript/blob/main/CHANGELOG.md"},{"title":"anthropic-sdk-typescript/api.md at main · anthropics/anthropic-sdk-typescript","url":"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/api.md"},{"title":"anthropic-sdk-typescript/helpers.md at main · anthropics/anthropic-sdk-typescript","url":"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/helpers.md"},{"title":"anthropics/anthropic-sdk-typescript","url":"https://github.com/anthropics/anthropic-sdk-typescript/issues"},{"title":"anthropic-sdk-typescript/package.json at main · anthropics/anthropic-sdk-typescript","url":"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/package.json"},{"title":"anthropic-sdk-typescript/CONTRIBUTING.md at main · anthropics/anthropic-sdk-typescript","url":"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/CONTRIBUTING.md"},{"title":"claude-code/CHANGELOG.md at main · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md"}]},"I appreciate your interest, but I should clarify that the search query you've provided uses a special search operator (`site:`), which is designed for use with search engines directly.\n\nWhen using the web search tool I have available, I can search for information about the Anthropic TypeScript SDK releases from January 2026, but I'll need to phrase it as a regular search query without special operators.\n\nLet me search for that information:",{"tool_use_id":"srvtoolu_012RnF2AzRdmXzqqSJtNJyQ7","content":[{"title":"GitHub - anthropics/anthropic-sdk-typescript: Access to Anthropic's safety-first language model APIs in TypeScript","url":"https://github.com/anthropics/anthropic-sdk-typescript"},{"title":"Releases · anthropics/anthropic-sdk-typescript","url":"https://github.com/anthropics/anthropic-sdk-typescript/releases"},{"title":"Anthropic SDK TypeScript download | SourceForge.net","url":"https://sourceforge.net/projects/anthropic-sdk-types.mirror/"},{"title":"Anthropic · GitHub","url":"https://github.com/anthropics"},{"title":"Anthropic Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic"},{"title":"claude-agent-sdk-typescript/CHANGELOG.md at main · anthropics/claude-agent-sdk-typescript","url":"https://github.com/anthropics/claude-agent-sdk-typescript/blob/main/CHANGELOG.md"},{"title":"anthropic-ai/sdk","url":"https://classic.yarnpkg.com/en/package/@anthropic-ai/sdk"},{"title":"anthropic-sdk-typescript/helpers.md at main · anthropics/anthropic-sdk-typescript","url":"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/helpers.md"},{"title":"anthropic-ai/sdk","url":"https://www.npmjs.com/package/@anthropic-ai/sdk"},{"title":"Client SDKs - Claude Docs","url":"https://platform.claude.com/docs/en/api/client-sdks"}]},"Based on the search results, I found information about the anthropic-sdk-typescript repository. The most recent releases shown in the search results are from October 2025:\n\nThe latest release is sdk-v0.67.0 (October 16, 2025), which added support for agent skills, and sdk-v0.66.0 (October 15, 2025) included manual updates to the API and fixes for tool-runner streaming.\n\nHowever, the search results don't show specific releases from January 2026 for the anthropic-sdk-typescript library. The repository does show recent activity in January 2026, as the anthropic-sdk-typescript repository was updated on January 12, 2026, but the specific release notes or version details from January 2026 are not visible in these search results.\n\nTo see the complete list of January 2026 releases, you can directly visit the GitHub releases page at https://github.com/anthropics/anthropic-sdk-typescript/releases."],"durationSeconds":9.873206290999892},"sourceToolAssistantUUID":"fc4f292e-4457-43f0-b523-def91c597e10"}
{"parentUuid":"04bc3716-f45e-4f4c-a678-bdba712b9345","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01RGJ1EZ3H156J99KZogUX14","type":"tool_result","content":"Web search results for query: \"\"anthropic-sdk\" \"January 9\" OR \"January 8\" 2026 breaking changes\"\n\nLinks: [{\"title\":\"Anthropic Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic\"},{\"title\":\"Anthropic reportedly blocking non-official Claude API connections\",\"url\":\"https://piunikaweb.com/2026/01/09/anthropic-reportedly-blocking-non-official-claude-api-connections/\"},{\"title\":\"Anthropic Blocks Claude Max in OpenCode: Devs Cancel $200/Month Plans | byteiota\",\"url\":\"https://byteiota.com/anthropic-blocks-claude-max-in-opencode-devs-cancel-200-month-plans/\"},{\"title\":\"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic/claude-code\"},{\"title\":\"Anthropic cracks down on unauthorized Claude usage by third-party harnesses and rivals | VentureBeat\",\"url\":\"https://venturebeat.com/technology/anthropic-cracks-down-on-unauthorized-claude-usage-by-third-party-harnesses\"},{\"title\":\"Anthropic made a big mistake\",\"url\":\"https://archaeologist.dev/artifacts/anthropic\"},{\"title\":\"Anthropic Releases Claude Code 2.1.1 with 109 CLI Enhancements\",\"url\":\"https://adtools.org/buyers-guide/ai-news-anthropic-claude-code-2-1-1-release\"},{\"title\":\"Claude devs complain about surprise usage limits • The Register\",\"url\":\"https://www.theregister.com/2026/01/05/claude_devs_usage_limits/\"},{\"title\":\"Tom Arbuthnot on X: \\\"From January 7, 2026, Anthropic models will be enabled by default in Microsoft 365 Copilot for most commercial tenants under Microsoft’s Product Terms and Data Protection Addendum (DPA). Powerful features like Microsoft 365 Copilot with Agent Mode in Office apps and Office Agent https://t.co/3F5oTgfTQ3\\\" / X\",\"url\":\"https://x.com/tomarbuthnot/status/1998320907744379105\"},{\"title\":\"This week in OpenAI and Anthropic news (Week 1, 2026) | by Tibor Blaho | Jan, 2026 | Medium\",\"url\":\"https://medium.com/@btibor91/this-week-in-openai-and-anthropic-news-week-1-2026-33b0132793e5\"}]\n\nLinks: [{\"title\":\"Anthropic Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic\"},{\"title\":\"Anthropic reportedly blocking non-official Claude API connections\",\"url\":\"https://piunikaweb.com/2026/01/09/anthropic-reportedly-blocking-non-official-claude-api-connections/\"},{\"title\":\"Anthropic Blocks Claude Max in OpenCode: Devs Cancel $200/Month Plans | byteiota\",\"url\":\"https://byteiota.com/anthropic-blocks-claude-max-in-opencode-devs-cancel-200-month-plans/\"},{\"title\":\"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot\",\"url\":\"https://releasebot.io/updates/anthropic/claude-code\"},{\"title\":\"Anthropic cracks down on unauthorized Claude usage by third-party harnesses and rivals | VentureBeat\",\"url\":\"https://venturebeat.com/technology/anthropic-cracks-down-on-unauthorized-claude-usage-by-third-party-harnesses\"},{\"title\":\"Anthropic Blocks Claude Code in Third-Party Tools Like OpenCode | Breaking News 2026\",\"url\":\"https://www.tamiltech.in/article/anthropic-blocks-claude-code-access-third-party-tools-opencode\"},{\"title\":\"Anthropic made a big mistake\",\"url\":\"https://archaeologist.dev/artifacts/anthropic\"},{\"title\":\"Anthropic Releases Claude Code 2.1.1 with 109 CLI Enhancements\",\"url\":\"https://adtools.org/buyers-guide/ai-news-anthropic-claude-code-2-1-1-release\"},{\"title\":\"GitHub - anthropics/anthropic-sdk-csharp: Access to Anthropic's safety-first language model APIs in C#\",\"url\":\"https://github.com/anthropics/anthropic-sdk-csharp\"},{\"title\":\"claude-code/CHANGELOG.md at main · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md\"}]\n\nBased on the search results, here's what was found regarding \"anthropic-sdk\" and breaking changes around January 8-9, 2026:\n\n## SDK Breaking Changes\n\n[SDK] Changed minimum zod peer dependency to ^4.0.0 - This was a breaking change that affected the Anthropic SDK during this time period.\n\n## Related Events (January 8-9, 2026)\n\nWhile not strictly \"SDK breaking changes,\" there were significant breaking changes to Anthropic's service during these dates:\n\n1. **Claude Code Release**: On January 8, 2026, Anthropic launched Claude Code 2.1.1, a rapid stability patch to the freshly released 2.1.0 version. This update incorporates 109 refinements to the command-line interface (CLI), introduces 11 new flags for finer control over agent behaviors, and includes 10 updated prompts optimized based on community feedback from the initial rollout.\n\n2. **Third-Party Access Restrictions**: Anthropic suddenly cut off Claude Max API access to third-party IDE extensions including OpenCode on January 9, 2026 at 02:20 UTC.(no content)Anthropic has confirmed the implementation of strict new technical safeguards preventing third-party applications from spoofing its official coding client, Claude Code, in order to access the underlying Claude AI models for more favorably pricing and limits.\n\nThe zod peer dependency change appears to be the primary SDK breaking change during this period.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"97614a08-fad5-478f-9b64-d13816f7d5b8","timestamp":"2026-01-13T19:44:14.768Z","toolUseResult":{"query":"\"anthropic-sdk\" \"January 9\" OR \"January 8\" 2026 breaking changes","results":[{"tool_use_id":"srvtoolu_01Rgwwpop2hbhnHxzC6gaziF","content":[{"title":"Anthropic Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic"},{"title":"Anthropic reportedly blocking non-official Claude API connections","url":"https://piunikaweb.com/2026/01/09/anthropic-reportedly-blocking-non-official-claude-api-connections/"},{"title":"Anthropic Blocks Claude Max in OpenCode: Devs Cancel $200/Month Plans | byteiota","url":"https://byteiota.com/anthropic-blocks-claude-max-in-opencode-devs-cancel-200-month-plans/"},{"title":"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic/claude-code"},{"title":"Anthropic cracks down on unauthorized Claude usage by third-party harnesses and rivals | VentureBeat","url":"https://venturebeat.com/technology/anthropic-cracks-down-on-unauthorized-claude-usage-by-third-party-harnesses"},{"title":"Anthropic made a big mistake","url":"https://archaeologist.dev/artifacts/anthropic"},{"title":"Anthropic Releases Claude Code 2.1.1 with 109 CLI Enhancements","url":"https://adtools.org/buyers-guide/ai-news-anthropic-claude-code-2-1-1-release"},{"title":"Claude devs complain about surprise usage limits • The Register","url":"https://www.theregister.com/2026/01/05/claude_devs_usage_limits/"},{"title":"Tom Arbuthnot on X: \"From January 7, 2026, Anthropic models will be enabled by default in Microsoft 365 Copilot for most commercial tenants under Microsoft’s Product Terms and Data Protection Addendum (DPA). Powerful features like Microsoft 365 Copilot with Agent Mode in Office apps and Office Agent https://t.co/3F5oTgfTQ3\" / X","url":"https://x.com/tomarbuthnot/status/1998320907744379105"},{"title":"This week in OpenAI and Anthropic news (Week 1, 2026) | by Tibor Blaho | Jan, 2026 | Medium","url":"https://medium.com/@btibor91/this-week-in-openai-and-anthropic-news-week-1-2026-33b0132793e5"}]},{"tool_use_id":"srvtoolu_012FbADDThAgvfFLShULEDGc","content":[{"title":"Anthropic Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic"},{"title":"Anthropic reportedly blocking non-official Claude API connections","url":"https://piunikaweb.com/2026/01/09/anthropic-reportedly-blocking-non-official-claude-api-connections/"},{"title":"Anthropic Blocks Claude Max in OpenCode: Devs Cancel $200/Month Plans | byteiota","url":"https://byteiota.com/anthropic-blocks-claude-max-in-opencode-devs-cancel-200-month-plans/"},{"title":"Anthropic - Claude Code Release Notes - January 2026 Latest Updates - Releasebot","url":"https://releasebot.io/updates/anthropic/claude-code"},{"title":"Anthropic cracks down on unauthorized Claude usage by third-party harnesses and rivals | VentureBeat","url":"https://venturebeat.com/technology/anthropic-cracks-down-on-unauthorized-claude-usage-by-third-party-harnesses"},{"title":"Anthropic Blocks Claude Code in Third-Party Tools Like OpenCode | Breaking News 2026","url":"https://www.tamiltech.in/article/anthropic-blocks-claude-code-access-third-party-tools-opencode"},{"title":"Anthropic made a big mistake","url":"https://archaeologist.dev/artifacts/anthropic"},{"title":"Anthropic Releases Claude Code 2.1.1 with 109 CLI Enhancements","url":"https://adtools.org/buyers-guide/ai-news-anthropic-claude-code-2-1-1-release"},{"title":"GitHub - anthropics/anthropic-sdk-csharp: Access to Anthropic's safety-first language model APIs in C#","url":"https://github.com/anthropics/anthropic-sdk-csharp"},{"title":"claude-code/CHANGELOG.md at main · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md"}]},"Based on the search results, here's what was found regarding \"anthropic-sdk\" and breaking changes around January 8-9, 2026:\n\n## SDK Breaking Changes\n\n[SDK] Changed minimum zod peer dependency to ^4.0.0 - This was a breaking change that affected the Anthropic SDK during this time period.\n\n## Related Events (January 8-9, 2026)\n\nWhile not strictly \"SDK breaking changes,\" there were significant breaking changes to Anthropic's service during these dates:\n\n1. **Claude Code Release**: On January 8, 2026, Anthropic launched Claude Code 2.1.1, a rapid stability patch to the freshly released 2.1.0 version. This update incorporates 109 refinements to the command-line interface (CLI), introduces 11 new flags for finer control over agent behaviors, and includes 10 updated prompts optimized based on community feedback from the initial rollout.\n\n2. **Third-Party Access Restrictions**: Anthropic suddenly cut off Claude Max API access to third-party IDE extensions including OpenCode on January 9, 2026 at 02:20 UTC.(no content)Anthropic has confirmed the implementation of strict new technical safeguards preventing third-party applications from spoofing its official coding client, Claude Code, in order to access the underlying Claude AI models for more favorably pricing and limits.\n\nThe zod peer dependency change appears to be the primary SDK breaking change during this period."],"durationSeconds":10.35747941600019},"sourceToolAssistantUUID":"04bc3716-f45e-4f4c-a678-bdba712b9345"}
{"parentUuid":"97614a08-fad5-478f-9b64-d13816f7d5b8","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_012ZJ7HomRaySXSjBadnw9v4","type":"message","role":"assistant","content":[{"type":"text","text":"Let me fetch more detailed information from one of the articles about the actual breaking changes:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":3084,"cache_read_input_tokens":30324,"cache_creation":{"ephemeral_5m_input_tokens":3084,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x4u2U5VYsFGbbhs7Yi","type":"assistant","uuid":"9da831aa-0b3d-452d-85ef-77a159e0891d","timestamp":"2026-01-13T19:44:16.093Z"}
{"parentUuid":"9da831aa-0b3d-452d-85ef-77a159e0891d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_012ZJ7HomRaySXSjBadnw9v4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_016fvtkjauvjJVGE33Upkwdn","name":"WebFetch","input":{"url":"https://venturebeat.com/technology/anthropic-cracks-down-on-unauthorized-claude-usage-by-third-party-harnesses","prompt":"What were the specific technical changes Anthropic made to block third-party tools? What API or SDK changes were implemented?"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":3084,"cache_read_input_tokens":30324,"cache_creation":{"ephemeral_5m_input_tokens":3084,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x4u2U5VYsFGbbhs7Yi","type":"assistant","uuid":"c1db6b5d-2137-4870-b636-e62a196f21be","timestamp":"2026-01-13T19:44:16.765Z"}
{"parentUuid":"c1db6b5d-2137-4870-b636-e62a196f21be","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_012ZJ7HomRaySXSjBadnw9v4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Cuo8rr6DRQKXKdbneVa3ym","name":"WebFetch","input":{"url":"https://piunikaweb.com/2026/01/09/anthropic-reportedly-blocking-non-official-claude-api-connections/","prompt":"What specific error messages or API changes did developers encounter? What header validation was added?"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":3084,"cache_read_input_tokens":30324,"cache_creation":{"ephemeral_5m_input_tokens":3084,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x4u2U5VYsFGbbhs7Yi","type":"assistant","uuid":"6995573f-3c2c-4dc6-bf1b-b9521ebe44ff","timestamp":"2026-01-13T19:44:17.215Z"}
{"parentUuid":"c1db6b5d-2137-4870-b636-e62a196f21be","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"Request failed with status code 429","is_error":true,"tool_use_id":"toolu_016fvtkjauvjJVGE33Upkwdn"}]},"uuid":"50479775-44ff-4de1-a70c-cd95859980ee","timestamp":"2026-01-13T19:44:17.579Z","toolUseResult":"Error: Request failed with status code 429","sourceToolAssistantUUID":"c1db6b5d-2137-4870-b636-e62a196f21be"}
{"parentUuid":"6995573f-3c2c-4dc6-bf1b-b9521ebe44ff","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"Request failed with status code 403","is_error":true,"tool_use_id":"toolu_01Cuo8rr6DRQKXKdbneVa3ym"}]},"uuid":"77436816-2743-4b48-9d28-ff7a4625650e","timestamp":"2026-01-13T19:44:17.683Z","toolUseResult":"Error: Request failed with status code 403","sourceToolAssistantUUID":"6995573f-3c2c-4dc6-bf1b-b9521ebe44ff"}
{"parentUuid":"77436816-2743-4b48-9d28-ff7a4625650e","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01TBFqYF4ic5ErXnJ4Uygwgb","type":"message","role":"assistant","content":[{"type":"text","text":"Let me try the Releasebot link which was listed multiple times:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":359,"cache_read_input_tokens":33408,"cache_creation":{"ephemeral_5m_input_tokens":359,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x57Qc1NLDfvuW7f8Ps","type":"assistant","uuid":"56d91298-4b9f-4cd5-9c0b-9e46e65121dc","timestamp":"2026-01-13T19:44:19.021Z"}
{"parentUuid":"56d91298-4b9f-4cd5-9c0b-9e46e65121dc","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01TBFqYF4ic5ErXnJ4Uygwgb","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01CxAqpzLrfeXUf66JrbJUxs","name":"WebFetch","input":{"url":"https://releasebot.io/updates/anthropic","prompt":"Find January 2026 releases and breaking changes"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":359,"cache_read_input_tokens":33408,"cache_creation":{"ephemeral_5m_input_tokens":359,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x57Qc1NLDfvuW7f8Ps","type":"assistant","uuid":"fe3c405b-d52a-40ce-9105-3e9145fffcef","timestamp":"2026-01-13T19:44:19.434Z"}
{"parentUuid":"fe3c405b-d52a-40ce-9105-3e9145fffcef","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01TBFqYF4ic5ErXnJ4Uygwgb","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_018RuiSqq29obTgd1gAWaR3Z","name":"WebSearch","input":{"query":"anthropic SDK \"credential is only authorized\" header validation January 2026"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":359,"cache_read_input_tokens":33408,"cache_creation":{"ephemeral_5m_input_tokens":359,"ephemeral_1h_input_tokens":0},"output_tokens":155,"service_tier":"standard"}},"requestId":"req_011CX5x57Qc1NLDfvuW7f8Ps","type":"assistant","uuid":"44c4987a-a9e7-45e0-8bcc-831ddbc25735","timestamp":"2026-01-13T19:44:19.758Z"}
{"parentUuid":"fe3c405b-d52a-40ce-9105-3e9145fffcef","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CxAqpzLrfeXUf66JrbJUxs","type":"tool_result","content":"# Anthropic January 2026 Release Updates\n\n## Key Highlights\n\n**Claude Developer Platform** (Jan 12): The Claude Console has relocated. \"console.anthropic.com now redirects to platform.claude.com\" as part of brand consolidation efforts.\n\n**Health & Fitness Integration** (Jan 12): Claude can now analyze health data on iOS and Android devices. The feature supports activity tracking, workout analysis, and sleep monitoring for Pro and Max subscribers in the US. Android requires Health Connect and version 14+.\n\n**Healthcare Expansion**: Anthropic introduced Claude for Healthcare with HIPAA-ready capabilities, including new connectors to CMS coverage databases, ICD-10 coding systems, and provider registries to streamline prior authorization and claims processing.\n\n**Life Sciences Tools**: New integrations added for Medidata clinical trials, ClinicalTrials.gov, bioRxiv/medRxiv preprints, and multiple research platforms to accelerate drug development workflows.\n\n**Model Retirement** (Jan 5): Claude Opus 3 has been retired. Users should migrate to \"Claude Opus 4.5, which offers significantly improved intelligence at a third of the cost.\"\n\n**Claude Code Updates**: Recent versions (2.1.2-2.1.5) introduced security patches, terminal enhancements, permission controls, and new environment variables for customization."}]},"uuid":"d6848de2-3933-4825-b6cb-20735c27df7a","timestamp":"2026-01-13T19:44:27.995Z","toolUseResult":{"bytes":110655,"code":200,"codeText":"OK","result":"# Anthropic January 2026 Release Updates\n\n## Key Highlights\n\n**Claude Developer Platform** (Jan 12): The Claude Console has relocated. \"console.anthropic.com now redirects to platform.claude.com\" as part of brand consolidation efforts.\n\n**Health & Fitness Integration** (Jan 12): Claude can now analyze health data on iOS and Android devices. The feature supports activity tracking, workout analysis, and sleep monitoring for Pro and Max subscribers in the US. Android requires Health Connect and version 14+.\n\n**Healthcare Expansion**: Anthropic introduced Claude for Healthcare with HIPAA-ready capabilities, including new connectors to CMS coverage databases, ICD-10 coding systems, and provider registries to streamline prior authorization and claims processing.\n\n**Life Sciences Tools**: New integrations added for Medidata clinical trials, ClinicalTrials.gov, bioRxiv/medRxiv preprints, and multiple research platforms to accelerate drug development workflows.\n\n**Model Retirement** (Jan 5): Claude Opus 3 has been retired. Users should migrate to \"Claude Opus 4.5, which offers significantly improved intelligence at a third of the cost.\"\n\n**Claude Code Updates**: Recent versions (2.1.2-2.1.5) introduced security patches, terminal enhancements, permission controls, and new environment variables for customization.","durationMs":8138,"url":"https://releasebot.io/updates/anthropic"},"sourceToolAssistantUUID":"fe3c405b-d52a-40ce-9105-3e9145fffcef"}
{"parentUuid":"44c4987a-a9e7-45e0-8bcc-831ddbc25735","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_018RuiSqq29obTgd1gAWaR3Z","type":"tool_result","content":"Web search results for query: \"anthropic SDK \"credential is only authorized\" header validation January 2026\"\n\nLinks: [{\"title\":\"[Bug] Anthropic API Credential Restriction Preventing API Requests · Issue #8046 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8046\"},{\"title\":\"Anthropic's Walled Garden: The Claude Code Crackdown\",\"url\":\"https://paddo.dev/blog/anthropic-walled-garden-crackdown/\"},{\"title\":\"[Bug] Anthropic API Error: Credential Restricted to Claude Code · Issue #8052 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8052\"},{\"title\":\"Anthropic Just Blocked Claude Code Subscriptions Outside Its Own App | Webcoda\",\"url\":\"https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026\"},{\"title\":\"[Bug] Anthropic API Error: Credential Authorization Restriction · Issue #8060 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8060\"},{\"title\":\"Claude Code OAuth tokens now blocked for external API use · Issue #559 · clawdbot/clawdbot\",\"url\":\"https://github.com/clawdbot/clawdbot/issues/559\"},{\"title\":\"fix: Claude Code API credentials · Issue #7456 · anomalyco/opencode\",\"url\":\"https://github.com/anomalyco/opencode/issues/7456\"},{\"title\":\"The auth no longer works · Issue #12 · anomalyco/opencode-anthropic-auth\",\"url\":\"https://github.com/anomalyco/opencode-anthropic-auth/issues/12\"},{\"title\":\"Question: How does opencode work with Claude Code OAuth tokens when AI SDK fails? · Issue #417 · anomalyco/opencode\",\"url\":\"https://github.com/sst/opencode/issues/417\"},{\"title\":\"Theo - t3.gg on X: \\\"Anthropic is now cracking down on utilizing Claude subs in 3rd party apps like OpenCode and Clawdbot. Oh boy.\\\" / X\",\"url\":\"https://x.com/theo/status/2009464346846621700\"}]\n\nLinks: [{\"title\":\"[Bug] Anthropic API Credential Restriction Preventing API Requests · Issue #8046 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8046\"},{\"title\":\"[Bug] Anthropic API Error: Credential Restricted to Claude Code · Issue #8052 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8052\"},{\"title\":\"[Bug] Anthropic API Error: Credential Authorization Restriction · Issue #8060 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8060\"},{\"title\":\"Question: How does opencode work with Claude Code OAuth tokens when AI SDK fails? · Issue #417 · anomalyco/opencode\",\"url\":\"https://github.com/sst/opencode/issues/417\"},{\"title\":\"[Bug] Anthropic API Credential Restriction After Subscription · Issue #9251 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/9251\"},{\"title\":\"[Bug] Anthropic API Error: Authentication incompatible with long context beta header · Issue #9649 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/9649\"},{\"title\":\"[FEATURE]: Header-Based Credential Injection · Issue #6088 · anomalyco/opencode\",\"url\":\"https://github.com/anomalyco/opencode/issues/6088\"},{\"title\":\"[Bug] Anthropic API Error: Invalid Credentials for Opus Model from Claude Code · Issue #8070 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8070\"},{\"title\":\"[Bug] Anthropic API Error 400: Claude Code credential used with unauthorized model · Issue #11242 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/11242\"},{\"title\":\"[BUG] VS Code extension (official) not recognizing pro plan credentials on login - 400 error · Issue #11755 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/11755\"}]\n\nBased on the search results, I found multiple issues related to the Anthropic SDK credential authorization error you're asking about. Here's what I found:\n\n## The \"Credential is Only Authorized\" Error\n\nUsers are encountering an error message: \"This credential is only authorized for use with Claude Code and cannot be used for other API requests\" when attempting to use Claude Code with the Anthropic API.\n\n## Scope of the Issue\n\nThis is a widespread problem affecting multiple users. The error manifests as an API Error 400 with an invalid_request_error type, and the issue has been reported even among users who've subscribed and added money to their API billing.\n\n## Related Authentication Issues\n\nThe error appears to be related to header validation problems. There are reports of errors indicating that \"this authentication style is incompatible with the long context beta header\", and some users receive messages about expected either apiKey or authToken to be set, or for one of the \"X-Api-Key\" or \"Authorization\" headers to be explicitly omitted.\n\n## Usage Restrictions\n\nUsers attempting to use Claude Code OAuth tokens outside of Claude Code itself receive this error, suggesting the tokens are restricted to \"Claude Code\" only.\n\nThese issues have been documented in GitHub issues spanning from September 2025 through November 2025, indicating this is an ongoing problem with the Claude Code credential validation system.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"b29c088a-f6de-4fca-96d8-21815874a125","timestamp":"2026-01-13T19:44:28.894Z","toolUseResult":{"query":"anthropic SDK \"credential is only authorized\" header validation January 2026","results":[{"tool_use_id":"srvtoolu_01ApagiNPfoM9t8dAbiSeZ1i","content":[{"title":"[Bug] Anthropic API Credential Restriction Preventing API Requests · Issue #8046 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8046"},{"title":"Anthropic's Walled Garden: The Claude Code Crackdown","url":"https://paddo.dev/blog/anthropic-walled-garden-crackdown/"},{"title":"[Bug] Anthropic API Error: Credential Restricted to Claude Code · Issue #8052 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8052"},{"title":"Anthropic Just Blocked Claude Code Subscriptions Outside Its Own App | Webcoda","url":"https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026"},{"title":"[Bug] Anthropic API Error: Credential Authorization Restriction · Issue #8060 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8060"},{"title":"Claude Code OAuth tokens now blocked for external API use · Issue #559 · clawdbot/clawdbot","url":"https://github.com/clawdbot/clawdbot/issues/559"},{"title":"fix: Claude Code API credentials · Issue #7456 · anomalyco/opencode","url":"https://github.com/anomalyco/opencode/issues/7456"},{"title":"The auth no longer works · Issue #12 · anomalyco/opencode-anthropic-auth","url":"https://github.com/anomalyco/opencode-anthropic-auth/issues/12"},{"title":"Question: How does opencode work with Claude Code OAuth tokens when AI SDK fails? · Issue #417 · anomalyco/opencode","url":"https://github.com/sst/opencode/issues/417"},{"title":"Theo - t3.gg on X: \"Anthropic is now cracking down on utilizing Claude subs in 3rd party apps like OpenCode and Clawdbot. Oh boy.\" / X","url":"https://x.com/theo/status/2009464346846621700"}]},{"tool_use_id":"srvtoolu_01MRQi1VmbwQhzBYi8Fub2hS","content":[{"title":"[Bug] Anthropic API Credential Restriction Preventing API Requests · Issue #8046 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8046"},{"title":"[Bug] Anthropic API Error: Credential Restricted to Claude Code · Issue #8052 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8052"},{"title":"[Bug] Anthropic API Error: Credential Authorization Restriction · Issue #8060 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8060"},{"title":"Question: How does opencode work with Claude Code OAuth tokens when AI SDK fails? · Issue #417 · anomalyco/opencode","url":"https://github.com/sst/opencode/issues/417"},{"title":"[Bug] Anthropic API Credential Restriction After Subscription · Issue #9251 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/9251"},{"title":"[Bug] Anthropic API Error: Authentication incompatible with long context beta header · Issue #9649 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/9649"},{"title":"[FEATURE]: Header-Based Credential Injection · Issue #6088 · anomalyco/opencode","url":"https://github.com/anomalyco/opencode/issues/6088"},{"title":"[Bug] Anthropic API Error: Invalid Credentials for Opus Model from Claude Code · Issue #8070 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8070"},{"title":"[Bug] Anthropic API Error 400: Claude Code credential used with unauthorized model · Issue #11242 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/11242"},{"title":"[BUG] VS Code extension (official) not recognizing pro plan credentials on login - 400 error · Issue #11755 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/11755"}]},"Based on the search results, I found multiple issues related to the Anthropic SDK credential authorization error you're asking about. Here's what I found:\n\n## The \"Credential is Only Authorized\" Error\n\nUsers are encountering an error message: \"This credential is only authorized for use with Claude Code and cannot be used for other API requests\" when attempting to use Claude Code with the Anthropic API.\n\n## Scope of the Issue\n\nThis is a widespread problem affecting multiple users. The error manifests as an API Error 400 with an invalid_request_error type, and the issue has been reported even among users who've subscribed and added money to their API billing.\n\n## Related Authentication Issues\n\nThe error appears to be related to header validation problems. There are reports of errors indicating that \"this authentication style is incompatible with the long context beta header\", and some users receive messages about expected either apiKey or authToken to be set, or for one of the \"X-Api-Key\" or \"Authorization\" headers to be explicitly omitted.\n\n## Usage Restrictions\n\nUsers attempting to use Claude Code OAuth tokens outside of Claude Code itself receive this error, suggesting the tokens are restricted to \"Claude Code\" only.\n\nThese issues have been documented in GitHub issues spanning from September 2025 through November 2025, indicating this is an ongoing problem with the Claude Code credential validation system."],"durationSeconds":9.051688833999913},"sourceToolAssistantUUID":"44c4987a-a9e7-45e0-8bcc-831ddbc25735"}
{"parentUuid":"b29c088a-f6de-4fca-96d8-21815874a125","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01DuNxGm5v9CARm5Ff4dVBHA","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me fetch the actual GitHub issues to get technical details:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":1971,"cache_read_input_tokens":33767,"cache_creation":{"ephemeral_5m_input_tokens":1971,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x5wdWqhMxqPLw3CkMu","type":"assistant","uuid":"904d5e52-af1f-4f39-93a4-4545ada69e1a","timestamp":"2026-01-13T19:44:30.265Z"}
{"parentUuid":"904d5e52-af1f-4f39-93a4-4545ada69e1a","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01DuNxGm5v9CARm5Ff4dVBHA","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01MKZtemNcYPb4vcPEB5ZHAU","name":"WebFetch","input":{"url":"https://github.com/anthropics/claude-code/issues/8046","prompt":"What are the exact error messages and technical details about the credential restriction?"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":1971,"cache_read_input_tokens":33767,"cache_creation":{"ephemeral_5m_input_tokens":1971,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x5wdWqhMxqPLw3CkMu","type":"assistant","uuid":"822370bf-f65e-47a3-8c16-e065b57be4f8","timestamp":"2026-01-13T19:44:30.728Z"}
{"parentUuid":"822370bf-f65e-47a3-8c16-e065b57be4f8","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01DuNxGm5v9CARm5Ff4dVBHA","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Ki9jH3mviQHCH2ddwY29d2","name":"WebFetch","input":{"url":"https://paddo.dev/blog/anthropic-walled-garden-crackdown/","prompt":"What specific SDK changes or API modifications did Anthropic make to enforce the restrictions?"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":1971,"cache_read_input_tokens":33767,"cache_creation":{"ephemeral_5m_input_tokens":1971,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x5wdWqhMxqPLw3CkMu","type":"assistant","uuid":"7847884c-e8e2-4f45-bf0f-23ac505ddddb","timestamp":"2026-01-13T19:44:31.340Z"}
{"parentUuid":"7847884c-e8e2-4f45-bf0f-23ac505ddddb","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Ki9jH3mviQHCH2ddwY29d2","type":"tool_result","content":"# Anthropic's Technical Restrictions\n\nBased on the article, the specific technical changes Anthropic implemented include:\n\n**OAuth Token Blocking**\nAnthropic deployed \"strict new technical safeguards\" that prevent subscription OAuth tokens from functioning outside their official Claude Code CLI. The article notes that third-party tools had been \"spoofing the Claude Code client identity, sending headers that made Anthropic's servers think requests came from the official tool.\"\n\n**Detection Method**\nThe restriction specifically targets the client identifier prefix. OpenCode initially worked around this by changing their tool prefix from `oc_` to `mcp_` in their immediate response, suggesting Anthropic's detection system keys on these identifiers.\n\n**What Still Works**\nThe article clarifies that \"standard API keys still function\" and \"OpenRouter integration still works.\" The block specifically targets subscription OAuth tokens in third-party applications, leaving metered API access unaffected.\n\nThe article doesn't provide deeper technical documentation about SDK modifications or specific API endpoint changes—it focuses on the business impact and user-facing consequences rather than the underlying implementation details."}]},"uuid":"5ead7894-38eb-4fa6-ac83-6f238d577eaf","timestamp":"2026-01-13T19:44:36.061Z","toolUseResult":{"bytes":88371,"code":200,"codeText":"OK","result":"# Anthropic's Technical Restrictions\n\nBased on the article, the specific technical changes Anthropic implemented include:\n\n**OAuth Token Blocking**\nAnthropic deployed \"strict new technical safeguards\" that prevent subscription OAuth tokens from functioning outside their official Claude Code CLI. The article notes that third-party tools had been \"spoofing the Claude Code client identity, sending headers that made Anthropic's servers think requests came from the official tool.\"\n\n**Detection Method**\nThe restriction specifically targets the client identifier prefix. OpenCode initially worked around this by changing their tool prefix from `oc_` to `mcp_` in their immediate response, suggesting Anthropic's detection system keys on these identifiers.\n\n**What Still Works**\nThe article clarifies that \"standard API keys still function\" and \"OpenRouter integration still works.\" The block specifically targets subscription OAuth tokens in third-party applications, leaving metered API access unaffected.\n\nThe article doesn't provide deeper technical documentation about SDK modifications or specific API endpoint changes—it focuses on the business impact and user-facing consequences rather than the underlying implementation details.","durationMs":4620,"url":"https://paddo.dev/blog/anthropic-walled-garden-crackdown/"},"sourceToolAssistantUUID":"7847884c-e8e2-4f45-bf0f-23ac505ddddb"}
{"parentUuid":"822370bf-f65e-47a3-8c16-e065b57be4f8","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01MKZtemNcYPb4vcPEB5ZHAU","type":"tool_result","content":"# Anthropic API Credential Restriction Error Details\n\n## Error Message\n```\nError: 400 {\n  \"type\": \"error\",\n  \"error\": {\n    \"type\": \"invalid_request_error\",\n    \"message\": \"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"\n  },\n  \"request_id\": \"req_011CTQmv1MVzrMnxDP9yRrLF\"\n}\n```\n\n## Technical Details\n\n**Affected Versions:**\n- Claude Code CLI v1.0.120\n- Affects Windows (VSCode), macOS (VSCode, Warp Terminal), and Zed editor\n\n**Issue Timeline:**\n- Started: September 23, 2025 (morning)\n- Linked to broader \"Claude App and API connectivity errors\" incident\n- Issue marked as **duplicate of #17118**\n\n## Root Cause\nThe credential restriction occurs because Claude Code uses **restricted API credentials** that are specifically scoped to work only with the Claude Code tool, not general Anthropic API requests. When the Anthropic API backend updated credentials after fixing connectivity issues, certain users' tokens became invalidated.\n\n## Workarounds\n\n1. **Re-authenticate:**\n   ```bash\n   claude /login\n   # or\n   claude setup-token\n   ```\n   *Note: This worked for some users but not all*\n\n2. **Complete Re-login:**\n   Some users reported needing to completely re-authenticate their account rather than just setting up a new token\n\n## Key Points\n\n- The error is intentional API security—Claude Code credentials are restricted by design\n- The error doesn't properly prompt users to re-authenticate\n- This affects multiple IDE integrations using the Anthropic Credentials Provider (ACP)\n- 40+ users reported the issue, indicating it was a widespread incident rather than individual account problems"}]},"uuid":"41cc97f8-01c1-43b8-a9e0-0512a06908ec","timestamp":"2026-01-13T19:44:38.686Z","toolUseResult":{"bytes":331144,"code":200,"codeText":"OK","result":"# Anthropic API Credential Restriction Error Details\n\n## Error Message\n```\nError: 400 {\n  \"type\": \"error\",\n  \"error\": {\n    \"type\": \"invalid_request_error\",\n    \"message\": \"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"\n  },\n  \"request_id\": \"req_011CTQmv1MVzrMnxDP9yRrLF\"\n}\n```\n\n## Technical Details\n\n**Affected Versions:**\n- Claude Code CLI v1.0.120\n- Affects Windows (VSCode), macOS (VSCode, Warp Terminal), and Zed editor\n\n**Issue Timeline:**\n- Started: September 23, 2025 (morning)\n- Linked to broader \"Claude App and API connectivity errors\" incident\n- Issue marked as **duplicate of #17118**\n\n## Root Cause\nThe credential restriction occurs because Claude Code uses **restricted API credentials** that are specifically scoped to work only with the Claude Code tool, not general Anthropic API requests. When the Anthropic API backend updated credentials after fixing connectivity issues, certain users' tokens became invalidated.\n\n## Workarounds\n\n1. **Re-authenticate:**\n   ```bash\n   claude /login\n   # or\n   claude setup-token\n   ```\n   *Note: This worked for some users but not all*\n\n2. **Complete Re-login:**\n   Some users reported needing to completely re-authenticate their account rather than just setting up a new token\n\n## Key Points\n\n- The error is intentional API security—Claude Code credentials are restricted by design\n- The error doesn't properly prompt users to re-authenticate\n- This affects multiple IDE integrations using the Anthropic Credentials Provider (ACP)\n- 40+ users reported the issue, indicating it was a widespread incident rather than individual account problems","durationMs":7246,"url":"https://github.com/anthropics/claude-code/issues/8046"},"sourceToolAssistantUUID":"822370bf-f65e-47a3-8c16-e065b57be4f8"}
{"parentUuid":"41cc97f8-01c1-43b8-a9e0-0512a06908ec","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01EcbJpu6i1yFapTFh2EwK9M","type":"message","role":"assistant","content":[{"type":"text","text":"Let me search for more technical details about what specific header or request validation was added:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":266,"cache_creation_input_tokens":699,"cache_read_input_tokens":35738,"cache_creation":{"ephemeral_5m_input_tokens":699,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CX5x6fEKB5r4XGwYJH5sv","type":"assistant","uuid":"4f173b93-f25e-420c-935c-fe2d04212bb3","timestamp":"2026-01-13T19:44:40.070Z"}
{"parentUuid":"4f173b93-f25e-420c-935c-fe2d04212bb3","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01EcbJpu6i1yFapTFh2EwK9M","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01SrKBSRLYg45PBfMB6jXnpJ","name":"WebSearch","input":{"query":"\"anthropic-client-id\" OR \"claude-code\" header validation SDK authentication 2026"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":266,"cache_creation_input_tokens":699,"cache_read_input_tokens":35738,"cache_creation":{"ephemeral_5m_input_tokens":699,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CX5x6fEKB5r4XGwYJH5sv","type":"assistant","uuid":"adc2f680-1b21-46e0-a428-22c5640f91d9","timestamp":"2026-01-13T19:44:40.441Z"}
{"parentUuid":"adc2f680-1b21-46e0-a428-22c5640f91d9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01EcbJpu6i1yFapTFh2EwK9M","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01HUaNUGoRX3NYzbQRr4gBT4","name":"WebSearch","input":{"query":"anthropic API request header validation credential type January 9 2026"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":266,"cache_creation_input_tokens":699,"cache_read_input_tokens":35738,"cache_creation":{"ephemeral_5m_input_tokens":699,"ephemeral_1h_input_tokens":0},"output_tokens":138,"service_tier":"standard"}},"requestId":"req_011CX5x6fEKB5r4XGwYJH5sv","type":"assistant","uuid":"7cce27c1-8284-48be-ac98-a7a8cfe9202d","timestamp":"2026-01-13T19:44:40.767Z"}
{"parentUuid":"7cce27c1-8284-48be-ac98-a7a8cfe9202d","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HUaNUGoRX3NYzbQRr4gBT4","type":"tool_result","content":"Web search results for query: \"anthropic API request header validation credential type January 9 2026\"\n\nLinks: [{\"title\":\"Anthropic Just Blocked Claude Code Subscriptions Outside Its Own App | Webcoda\",\"url\":\"https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026\"},{\"title\":\"[Bug] Anthropic API Credential Restriction Preventing API Requests · Issue #8046 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8046\"},{\"title\":\"Anthropic credentials | n8n Docs\",\"url\":\"https://docs.n8n.io/integrations/builtin/credentials/anthropic/\"},{\"title\":\"Anthropic Claude API Key: The Essential Guide | Nightfall AI Security 101\",\"url\":\"https://www.nightfall.ai/ai-security-101/anthropic-claude-api-key\"},{\"title\":\"sst/opencode-anthropic-auth | DeepWiki\",\"url\":\"https://deepwiki.com/sst/opencode-anthropic-auth\"},{\"title\":\"\\\"anthropic-version header is required\\\" · Issue #323\",\"url\":\"https://github.com/explosion/spacy-llm/issues/323\"},{\"title\":\"Anthropic.HttpClient.Utils — anthropic_community v0.4.3\",\"url\":\"https://hexdocs.pm/anthropic_community/Anthropic.HttpClient.Utils.html\"},{\"title\":\"How to Get Your Claude API Key in 5 Minutes (The Official 2026 Guide) - Gloobia\",\"url\":\"https://gloobia.com/claude-api-key-guide-2026/\"},{\"title\":\"Anthropic API | Documentation\",\"url\":\"https://www.postman.com/ai-engineer/generative-ai-apis/documentation/lqv1fm6/anthropic-api\"},{\"title\":\"[Bug] Anthropic API Error: Credential Restricted to Claude Code · Issue #8052 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8052\"}]\n\nLinks: [{\"title\":\"Anthropic Just Blocked Claude Code Subscriptions Outside Its Own App | Webcoda\",\"url\":\"https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026\"},{\"title\":\"[Bug] Anthropic API Credential Restriction Preventing API Requests · Issue #8046 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8046\"},{\"title\":\"Anthropic credentials | n8n Docs\",\"url\":\"https://docs.n8n.io/integrations/builtin/credentials/anthropic/\"},{\"title\":\"Anthropic Claude API Key: The Essential Guide | Nightfall AI Security 101\",\"url\":\"https://www.nightfall.ai/ai-security-101/anthropic-claude-api-key\"},{\"title\":\"sst/opencode-anthropic-auth | DeepWiki\",\"url\":\"https://deepwiki.com/sst/opencode-anthropic-auth\"},{\"title\":\"\\\"anthropic-version header is required\\\" · Issue #323\",\"url\":\"https://github.com/explosion/spacy-llm/issues/323\"},{\"title\":\"Anthropic.HttpClient.Utils — anthropic_community v0.4.3\",\"url\":\"https://hexdocs.pm/anthropic_community/Anthropic.HttpClient.Utils.html\"},{\"title\":\"How to Get Your Claude API Key in 5 Minutes (The Official 2026 Guide) - Gloobia\",\"url\":\"https://gloobia.com/claude-api-key-guide-2026/\"},{\"title\":\"Anthropic API | Documentation\",\"url\":\"https://www.postman.com/ai-engineer/generative-ai-apis/documentation/lqv1fm6/anthropic-api\"},{\"title\":\"[Bug] Anthropic API Error: Credential Restricted to Claude Code · Issue #8052 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/8052\"}]\n\nI found search results related to your query. Based on the search results, on January 9, 2026, something broke that affected developers worldwide, and a new validation error message appeared: \"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"(no content)Developers across the world were hitting the same wall, getting the same error, which appeared to be related to API request header validation for a specific credential type. This was not a bug but policy, implementing a restriction on how Claude Code credentials could be used with the Anthropic API.\n\nThe key technical details from the error responses show this was an `invalid_request_error` returned in API responses when credentials designated for Claude Code were used to make other API requests.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"2bb944c8-93b1-434f-8334-61ade99caa83","timestamp":"2026-01-13T19:44:48.447Z","toolUseResult":{"query":"anthropic API request header validation credential type January 9 2026","results":[{"tool_use_id":"srvtoolu_01AFsqHZY7w9R3tpe7Rjg8R3","content":[{"title":"Anthropic Just Blocked Claude Code Subscriptions Outside Its Own App | Webcoda","url":"https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026"},{"title":"[Bug] Anthropic API Credential Restriction Preventing API Requests · Issue #8046 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8046"},{"title":"Anthropic credentials | n8n Docs","url":"https://docs.n8n.io/integrations/builtin/credentials/anthropic/"},{"title":"Anthropic Claude API Key: The Essential Guide | Nightfall AI Security 101","url":"https://www.nightfall.ai/ai-security-101/anthropic-claude-api-key"},{"title":"sst/opencode-anthropic-auth | DeepWiki","url":"https://deepwiki.com/sst/opencode-anthropic-auth"},{"title":"\"anthropic-version header is required\" · Issue #323","url":"https://github.com/explosion/spacy-llm/issues/323"},{"title":"Anthropic.HttpClient.Utils — anthropic_community v0.4.3","url":"https://hexdocs.pm/anthropic_community/Anthropic.HttpClient.Utils.html"},{"title":"How to Get Your Claude API Key in 5 Minutes (The Official 2026 Guide) - Gloobia","url":"https://gloobia.com/claude-api-key-guide-2026/"},{"title":"Anthropic API | Documentation","url":"https://www.postman.com/ai-engineer/generative-ai-apis/documentation/lqv1fm6/anthropic-api"},{"title":"[Bug] Anthropic API Error: Credential Restricted to Claude Code · Issue #8052 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8052"}]},{"tool_use_id":"srvtoolu_015NVMy52iNSDkpWpDaMoKiR","content":[{"title":"Anthropic Just Blocked Claude Code Subscriptions Outside Its Own App | Webcoda","url":"https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026"},{"title":"[Bug] Anthropic API Credential Restriction Preventing API Requests · Issue #8046 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8046"},{"title":"Anthropic credentials | n8n Docs","url":"https://docs.n8n.io/integrations/builtin/credentials/anthropic/"},{"title":"Anthropic Claude API Key: The Essential Guide | Nightfall AI Security 101","url":"https://www.nightfall.ai/ai-security-101/anthropic-claude-api-key"},{"title":"sst/opencode-anthropic-auth | DeepWiki","url":"https://deepwiki.com/sst/opencode-anthropic-auth"},{"title":"\"anthropic-version header is required\" · Issue #323","url":"https://github.com/explosion/spacy-llm/issues/323"},{"title":"Anthropic.HttpClient.Utils — anthropic_community v0.4.3","url":"https://hexdocs.pm/anthropic_community/Anthropic.HttpClient.Utils.html"},{"title":"How to Get Your Claude API Key in 5 Minutes (The Official 2026 Guide) - Gloobia","url":"https://gloobia.com/claude-api-key-guide-2026/"},{"title":"Anthropic API | Documentation","url":"https://www.postman.com/ai-engineer/generative-ai-apis/documentation/lqv1fm6/anthropic-api"},{"title":"[Bug] Anthropic API Error: Credential Restricted to Claude Code · Issue #8052 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/8052"}]},"I found search results related to your query. Based on the search results, on January 9, 2026, something broke that affected developers worldwide, and a new validation error message appeared: \"This credential is only authorized for use with Claude Code and cannot be used for other API requests.\"(no content)Developers across the world were hitting the same wall, getting the same error, which appeared to be related to API request header validation for a specific credential type. This was not a bug but policy, implementing a restriction on how Claude Code credentials could be used with the Anthropic API.\n\nThe key technical details from the error responses show this was an `invalid_request_error` returned in API responses when credentials designated for Claude Code were used to make other API requests."],"durationSeconds":7.595785249999724},"sourceToolAssistantUUID":"7cce27c1-8284-48be-ac98-a7a8cfe9202d"}
{"parentUuid":"adc2f680-1b21-46e0-a428-22c5640f91d9","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01SrKBSRLYg45PBfMB6jXnpJ","type":"tool_result","content":"Web search results for query: \"\"anthropic-client-id\" OR \"claude-code\" header validation SDK authentication 2026\"\n\nLinks: [{\"title\":\"Claude Code | liteLLM\",\"url\":\"https://docs.litellm.ai/docs/tutorials/claude_responses_api\"},{\"title\":\"Agent SDK overview - Claude Docs\",\"url\":\"https://docs.anthropic.com/en/docs/claude-code/sdk\"},{\"title\":\"Overview - Claude Docs - Claude API - Anthropic\",\"url\":\"https://docs.anthropic.com/en/api/overview\"},{\"title\":\"Claude\",\"url\":\"https://docs.anthropic.com/claude/reference/getting-started-with-the-api\"},{\"title\":\"Is it possible for the SDK to use CLAUDE_CODE_OAUTH_TOKEN · Issue #6536 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/6536\"},{\"title\":\"Claude Developer Platform - Claude Docs\",\"url\":\"https://platform.claude.com/docs/en/release-notes/overview\"},{\"title\":\"How to Get Your Claude (Anthropic) API Key\",\"url\":\"https://www.apideck.com/blog/how-to-get-your-claude-anthropic-api-key\"},{\"title\":\"anthropic · PyPI\",\"url\":\"https://pypi.org/project/anthropic/\"},{\"title\":\"LLM gateway configuration - Claude Code Docs\",\"url\":\"https://code.claude.com/docs/en/llm-gateway\"},{\"title\":\"Anthropic API | anthropics/claude-agent-sdk-typescript | DeepWiki\",\"url\":\"https://deepwiki.com/anthropics/claude-agent-sdk-typescript/5.1-anthropic-api\"}]\n\nLinks: [{\"title\":\"Claude Code | liteLLM\",\"url\":\"https://docs.litellm.ai/docs/tutorials/claude_responses_api\"},{\"title\":\"Claude\",\"url\":\"https://docs.anthropic.com/claude/reference/getting-started-with-the-api\"},{\"title\":\"Agent SDK overview - Claude Docs\",\"url\":\"https://docs.anthropic.com/en/docs/claude-code/sdk\"},{\"title\":\"Client SDKs - Claude Docs\",\"url\":\"https://platform.claude.com/docs/en/api/client-sdks\"},{\"title\":\"Anthropic API | anthropics/claude-agent-sdk-typescript | DeepWiki\",\"url\":\"https://deepwiki.com/anthropics/claude-agent-sdk-typescript/5.1-anthropic-api\"},{\"title\":\"Is it possible for the SDK to use CLAUDE_CODE_OAUTH_TOKEN · Issue #6536 · anthropics/claude-code\",\"url\":\"https://github.com/anthropics/claude-code/issues/6536\"},{\"title\":\"LLM gateway configuration - Claude Code Docs\",\"url\":\"https://code.claude.com/docs/en/llm-gateway\"},{\"title\":\"Claude Agent SDK | Promptfoo\",\"url\":\"https://www.promptfoo.dev/docs/providers/claude-agent-sdk/\"},{\"title\":\"Claude Code Provider | Roo Code Documentation\",\"url\":\"https://docs.roocode.com/providers/claude-code\"},{\"title\":\"How to Get Your Claude (Anthropic) API Key\",\"url\":\"https://www.apideck.com/blog/how-to-get-your-claude-anthropic-api-key\"}]\n\nI found relevant information about Anthropic's SDK authentication and Claude Code. Here's what the search results reveal:\n\n## Authentication Methods\n\nFor basic authentication, retrieve a Claude API key from the Claude Console and set the ANTHROPIC_API_KEY environment variable.(no content)The SDK also supports authentication via third-party API providers including Amazon Bedrock and Google Vertex AI through environment variables.\n\n## Header Validation\n\nThe API supports an anthropic-organization-id header to indicate the organization ID associated with the API key used in the request. Additionally, standard authentication uses the x-api-key header for API requests.\n\n## Claude Code SDK Features\n\nThe SDK requires valid Anthropic API credentials to communicate with Claude models, with authentication handled through environment variables or direct configuration.\n\n## LLM Gateway Configuration\n\nFor advanced scenarios, the ANTHROPIC_AUTH_TOKEN value can be set in the environment or Claude Code settings and will be sent as the Authorization header.(no content)When forwarding requests through gateways, certain request headers like anthropic-beta and anthropic-version must be forwarded to maintain functionality.\n\nThe search results don't contain specific information about an \"anthropic-client-id\" header or 2026-specific header validation updates. If you're looking for information about a newer or specific header validation mechanism, you may want to check the official Anthropic documentation directly or the Claude Code GitHub repository.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"f91942ec-c44d-443f-9519-ddbfea974fc7","timestamp":"2026-01-13T19:44:49.635Z","toolUseResult":{"query":"\"anthropic-client-id\" OR \"claude-code\" header validation SDK authentication 2026","results":[{"tool_use_id":"srvtoolu_019TtCqP12x98ZwucyvwTAVG","content":[{"title":"Claude Code | liteLLM","url":"https://docs.litellm.ai/docs/tutorials/claude_responses_api"},{"title":"Agent SDK overview - Claude Docs","url":"https://docs.anthropic.com/en/docs/claude-code/sdk"},{"title":"Overview - Claude Docs - Claude API - Anthropic","url":"https://docs.anthropic.com/en/api/overview"},{"title":"Claude","url":"https://docs.anthropic.com/claude/reference/getting-started-with-the-api"},{"title":"Is it possible for the SDK to use CLAUDE_CODE_OAUTH_TOKEN · Issue #6536 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/6536"},{"title":"Claude Developer Platform - Claude Docs","url":"https://platform.claude.com/docs/en/release-notes/overview"},{"title":"How to Get Your Claude (Anthropic) API Key","url":"https://www.apideck.com/blog/how-to-get-your-claude-anthropic-api-key"},{"title":"anthropic · PyPI","url":"https://pypi.org/project/anthropic/"},{"title":"LLM gateway configuration - Claude Code Docs","url":"https://code.claude.com/docs/en/llm-gateway"},{"title":"Anthropic API | anthropics/claude-agent-sdk-typescript | DeepWiki","url":"https://deepwiki.com/anthropics/claude-agent-sdk-typescript/5.1-anthropic-api"}]},{"tool_use_id":"srvtoolu_016PF5GQbxjpVopHRKXJ6u6k","content":[{"title":"Claude Code | liteLLM","url":"https://docs.litellm.ai/docs/tutorials/claude_responses_api"},{"title":"Claude","url":"https://docs.anthropic.com/claude/reference/getting-started-with-the-api"},{"title":"Agent SDK overview - Claude Docs","url":"https://docs.anthropic.com/en/docs/claude-code/sdk"},{"title":"Client SDKs - Claude Docs","url":"https://platform.claude.com/docs/en/api/client-sdks"},{"title":"Anthropic API | anthropics/claude-agent-sdk-typescript | DeepWiki","url":"https://deepwiki.com/anthropics/claude-agent-sdk-typescript/5.1-anthropic-api"},{"title":"Is it possible for the SDK to use CLAUDE_CODE_OAUTH_TOKEN · Issue #6536 · anthropics/claude-code","url":"https://github.com/anthropics/claude-code/issues/6536"},{"title":"LLM gateway configuration - Claude Code Docs","url":"https://code.claude.com/docs/en/llm-gateway"},{"title":"Claude Agent SDK | Promptfoo","url":"https://www.promptfoo.dev/docs/providers/claude-agent-sdk/"},{"title":"Claude Code Provider | Roo Code Documentation","url":"https://docs.roocode.com/providers/claude-code"},{"title":"How to Get Your Claude (Anthropic) API Key","url":"https://www.apideck.com/blog/how-to-get-your-claude-anthropic-api-key"}]},"I found relevant information about Anthropic's SDK authentication and Claude Code. Here's what the search results reveal:\n\n## Authentication Methods\n\nFor basic authentication, retrieve a Claude API key from the Claude Console and set the ANTHROPIC_API_KEY environment variable.(no content)The SDK also supports authentication via third-party API providers including Amazon Bedrock and Google Vertex AI through environment variables.\n\n## Header Validation\n\nThe API supports an anthropic-organization-id header to indicate the organization ID associated with the API key used in the request. Additionally, standard authentication uses the x-api-key header for API requests.\n\n## Claude Code SDK Features\n\nThe SDK requires valid Anthropic API credentials to communicate with Claude models, with authentication handled through environment variables or direct configuration.\n\n## LLM Gateway Configuration\n\nFor advanced scenarios, the ANTHROPIC_AUTH_TOKEN value can be set in the environment or Claude Code settings and will be sent as the Authorization header.(no content)When forwarding requests through gateways, certain request headers like anthropic-beta and anthropic-version must be forwarded to maintain functionality.\n\nThe search results don't contain specific information about an \"anthropic-client-id\" header or 2026-specific header validation updates. If you're looking for information about a newer or specific header validation mechanism, you may want to check the official Anthropic documentation directly or the Claude Code GitHub repository."],"durationSeconds":8.78362437500013},"sourceToolAssistantUUID":"adc2f680-1b21-46e0-a428-22c5640f91d9"}
{"parentUuid":"f91942ec-c44d-443f-9519-ddbfea974fc7","isSidechain":true,"userType":"external","cwd":"/Users/imorgado/Desktop/Projects/komplete-kontrol-cli","sessionId":"8eebb14f-f381-4787-ab18-7afd712b9681","version":"2.1.6","gitBranch":"typescript-integration","agentId":"a273470","slug":"glittery-pondering-orbit","message":{"model":"claude-haiku-4-5-20251001","id":"msg_019wBDLH6rCqvAVHtpqfyT3t","type":"message","role":"assistant","content":[{"type":"text","text":"Perfect! Now I have enough information to provide a comprehensive response. Let me compile the findings:\n\n## Summary: @anthropic-ai/sdk January 2026 Changes\n\nBased on my research of the Anthropic SDK repository and official sources, here are the key findings about changes around January 2026:\n\n### SDK Version Changes\n- **Latest stable version**: v0.71.2 (December 6, 2025)\n- **Breaking change identified**: Minimum zod peer dependency was changed to `^4.0.0`\n- The actual January 2026 releases are not extensively documented in public changelogs yet\n\n### Credential Restriction Implementation (January 9, 2026)\n\nOn **January 9, 2026 at 02:20 UTC**, Anthropic deployed \"strict new technical safeguards\" that enforced subscription blocking in the @anthropic-ai/sdk:\n\n**Error Message Returned:**\n```\nError: 400 {\n  \"type\": \"error\",\n  \"error\": {\n    \"type\": \"invalid_request_error\",\n    \"message\": \"This credential is only authorized for use with Claude Code and \n               cannot be used for other API requests.\"\n  }\n}\n```\n\n### Technical Implementation Details\n\n1. **Credential Validation**: Anthropic added server-side validation that checks the credential type and restricts Claude Code OAuth tokens to use exclusively with the official Claude Code client\n\n2. **Header-Based Detection**: Third-party tools had been working around restrictions by spoofing the Claude Code client identity through headers. Anthropic's detection system validates:\n   - Request origin/client identifiers\n   - OAuth token scope restrictions\n   - Client identification prefixes\n\n3. **What Still Works**:\n   - Standard API keys (ANTHROPIC_API_KEY) continue to function normally\n   - The official @anthropic-ai/sdk continues to work with proper API keys\n   - OpenRouter integration unaffected\n\n4. **What's Blocked**:\n   - Claude Code OAuth tokens used outside the official Claude Code client\n   - Third-party IDE extensions spoofing client identity (like OpenCode)\n   - Any attempt to use subscription credentials with unauthorized client identifiers\n\n### SDK Requirements\n\nThe official SDK documentation shows these requirements persist:\n- **TypeScript**: >= 4.9\n- **Node.js**: 20 LTS or later\n- **Authentication**: Must use either `ANTHROPIC_API_KEY` (standard) or official Claude Code credentials\n- **Browser usage**: Requires explicit `dangerouslyAllowBrowser: true` configuration\n\n### Developer Impact\n\nDevelopers trying to use Claude Code subscriptions in third-party tools (OpenCode, Clawdbot, etc.) immediately encountered the 400 error. This was intentional enforcement, not a bug—the credential restriction was added by design to prevent unauthorized access method.\n\nSources:\n- [GitHub - anthropics/anthropic-sdk-typescript](https://github.com/anthropics/anthropic-sdk-typescript)\n- [GitHub Issue #8046 - Credential Restriction Error Details](https://github.com/anthropics/claude-code/issues/8046)\n- [Anthropic Reportedly Blocking Non-Official Claude API Connections](https://piunikaweb.com/2026/01/09/anthropic-reportedly-blocking-non-official-claude-api-connections/)\n- [Anthropic Blocks Claude Code Subscriptions Outside Its Own App](https://ai-checker.webcoda.com.au/articles/anthropic-blocks-claude-code-subscriptions-third-party-tools-2026)\n- [Anthropic's Walled Garden: The Claude Code Crackdown](https://paddo.dev/blog/anthropic-walled-garden-crackdown/)\n- [Anthropic Tightens Control Over Claude Code Access](https://www.techbuddies.io/2026/01/12/anthropic-tightens-control-over-claude-code-access-disrupting-third-party-harnesses-and-rival-labs/)\n- [The Great Lock-In: Why Anthropic is Blocking OpenCode](https://medium.com/@tusharkoshti/the-great-lock-in-why-anthropic-is-blocking-opencode-and-why-you-should-care-22ef5c2a4ecc)"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1198,"cache_creation_input_tokens":1686,"cache_read_input_tokens":36437,"cache_creation":{"ephemeral_5m_input_tokens":1686,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CX5x7UDogsDpKrRhJTnqK","type":"assistant","uuid":"f0c8a13c-1d4c-42be-b9e7-1db93a090fac","timestamp":"2026-01-13T19:45:00.505Z"}
