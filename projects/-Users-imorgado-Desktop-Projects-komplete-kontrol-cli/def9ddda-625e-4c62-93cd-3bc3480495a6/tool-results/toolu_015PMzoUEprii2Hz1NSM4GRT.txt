 Best for everyday tasks"}function qU3(A){if(A==="opusplan")return"Opus 4.5 in plan mode, else Sonnet 4.5";return B$(KX(A))}function $sQ(A){if(A==="opusplan")return"Opus Plan";if(Rp1(A))return A.charAt(0).toUpperCase()+A.slice(1);return B$(A)}function UsQ(A){switch(A){case rX().opus45:return"Opus 4.5";case rX().opus41:return"Opus 4.1";case rX().opus40:return"Opus 4";case rX().sonnet45+"[1m]":return"Sonnet 4.5 (1M context)";case rX().sonnet45:return"Sonnet 4.5";case rX().sonnet40:return"Sonnet 4";case rX().sonnet40+"[1m]":return"Sonnet 4 (1M context)";case rX().sonnet37:return"Sonnet 3.7";case rX().sonnet35:return"Sonnet 3.5";case rX().haiku45:return"Haiku 4.5";case rX().haiku35:return"Haiku 3.5";default:return null}}function B$(A){let Q=UsQ(A);if(Q)return Q;return A}function qsQ(A){let Q=UsQ(A);if(Q)return`Claude ${Q}`;return"Claude"}function Fn(){if(OB()){if(!DR())return{value:null,label:"Sonnet",description:Mp1.description};if(ZeA()&&FJA())return{value:null,label:"Opus",description:xLA()};return{value:null,label:"Default (recommended)",description:xLA()}}return{value:null,label:"Default (recommended)",description:`Use the default model (currently ${qU3(i0A({forDisplay:!0}))}) 
  let A=LsQ;if(OB()){if(!DR())return[Fn(),QeA];if(yLA()||vLA()){let G=[Fn(),EsQ];if(Vn().hasAccess)G.push(HsQ);return G.push(QeA),G}if(ZeA()&&FJA())return[Fn(),EsQ,QeA];let B=[Fn(),OU3];if(Op1())B.push({value:"sonnet",label:"Sonnet",description:"Sonnet 4.5 with 200K context"});else if(Vn().hasAccess)B.push(HsQ);return B.push(QeA),B}let Q=[Fn(),wsQ()];if(a4()!=="firstParty")Q.push(NU3());if(Vn().hasAccess)Q.push(NsQ);if(A)Q.push(A);return Q}function HJA(){let A=RU3(),Q=null,B=GeA(),G=OmA();if(B!==void 0&&B!==null)Q=B;else if(G!==null)Q=G;if(Q===null||A.some((Z)=>Z.value===Q))return A;if(Q==="opusplan")return[...A,MU3()];if(!OB()&&Rp1(Q))if(Q==="sonnet")A.push(Mp1);else if(Q==="sonnet[1m]")A.push(NsQ);else if(Q==="opus")A.push(wsQ());else if(Q==="haiku")A.push(LU3());else A.push({value:Q,label:Q,description:"Custom model"});else A.push({value:Q,label:Q,description:"Custom model"});return A}function Rp1(A){return DJA.includes(A)}function KX(A){let Q=A.trim(),B=Q.toLowerCase(),G=B.endsWith("[1m]"),Z=G?B.replace(/\[1m]$/i,"").trim():B;if(Rp1(Z))switch(Z){case"opusplan":return WR()+(G?"[1m]":"");case"sonnet":return WR()+(G?"[1m]":"");case"haiku":return Lp1()+(G?"[1m]":"");case"opus":return c0A();default:}if(G)return Q.replace(/\[1m\]$/i,"").trim()+"[1m]";return Q}function vT(A){if(A===null){if(OB()&&!DR())return`Sonnet (${Mp1.description})`;else if(OB())return`Default (${xLA()})`;return`Default (${Bu({forDisplay:!0})})`}let Q=KX(A);return A===Q?Q:`${A} (${Q})`}function EJA(A,Q,B,G){if(process.env.CLAUDE_CODE_SUBAGENT_MODEL)return process.env.CLAUDE_CODE_SUBAGENT_MODEL;let Z=Hp1(Q),Y=(X)=>{if(Z&&a4()==="bedrock")return JsQ(X,Z);return X};if(B)return Y(KX(B));let J=A??$U3();if(!J)return Y(KX(wp1));if(J==="inherit")return l0A({permissionMode:G??"default",mainLoopModel:Q,exceeds200kTokens:!1});return Y(KX(J))}function YeA(A){if(!A)return"Sonnet (default)";if(A==="inherit")return"Inherit from parent";return A.charAt(0).toUpperCase()+A.slice(1)}function OsQ(){let A=[{value:"sonnet",label:"Sonnet",description:"Balanced performance - best for most agents"}];if(DR())A.push({value:"opus",label:"Opus",description:"Most capable for complex reasoning tasks"});return A.push({value:"haiku",label:"Haiku",description:"Fast and efficient for simple tasks"},{value:"inherit",label:"Inherit from parent",description:"Use the same model as the main conversation"}),A}function Gu(A){return A.replace(/\[(1|2)m\]/gi,"")}var DJA,CU3,VsQ,KJA,wp1="sonnet",UU3,Mp1,NsQ,wsQ=()=>{let A=a4()!=="firstParty";return{value:"opus",label:A?"Opus 4.1":"Opus",description:`Opus ${A?"4.1":"4.5"} 
 ${Dn(A?rtA:stA)}`,descriptionForModel:A?"Opus 4.1 - legacy version":"Opus 4.5 - most capable for complex work"}},NU3=()=>{return{value:rX().opus45,label:"Opus 4.5",description:`Opus 4.5 
 ${Dn(stA)}`,descriptionForModel:"Opus 4.5 - most capable for complex work"}},LsQ,wU3,OU3,HsQ,EsQ,QeA,MU3=()=>{return{value:"opusplan",label:"Opus Plan Mode",description:"Use Opus 4.5 in plan mode, Sonnet 4.5 otherwise"}};var m2=w(()=>{X9();IQ();q0();eB();SqA();Ep1();etA();GB();VX();Zu();f5();ZX();f1();wz();AeA();jD();jLA();M3();DJA=["sonnet","opus","haiku","sonnet[1m]","opusplan"],CU3=v1A,VsQ=CU3.firstParty,KJA=[...DJA,"inherit"];UU3=W0(()=>{return null});Mp1={value:"sonnet",label:"Sonnet",description:`Sonnet 4.5 
 ${Dn(m0A)}`,descriptionForModel:"Sonnet 4.5 - best for everyday tasks. Generally recommended for most coding tasks"},NsQ={value:"sonnet[1m]",label:"Sonnet (1M context)",description:`Sonnet 4.5 for long sessions 
${G}`;throw new vy(Z)}var IA7,WA7;var BEA=w(()=>{ZK();YX();y1();AZ();eQ();so();IA7=/```!\s*\n?([\s\S]*?)\n?```/g,WA7=/(?<!\w|\$)!`([^`]+)`/g});var v09,KA7,VA7,FA7,HA7,EA7,zA7,CA7,$A7,UA7,IaY,tF1,WaY;var rfA=w(()=>{f11();v09=CL({command:aQ(),args:gI(aQ()).optional(),env:sT(aQ(),aQ()).optional()}),KA7=CL({name:aQ(),email:aQ().email().optional(),url:aQ().url().optional()}),VA7=CL({type:aQ(),url:aQ().url()}),FA7=v09.partial(),HA7=v09.extend({platform_overrides:sT(aQ(),FA7).optional()}),EA7=CL({type:tT(["python","node","binary"]),entry_point:aQ(),mcp_config:HA7}),zA7=CL({claude_desktop:aQ().optional(),platforms:gI(tT(["darwin","win32","linux"])).optional(),runtimes:CL({python:aQ().optional(),node:aQ().optional()}).optional()}).passthrough(),CA7=CL({name:aQ(),description:aQ().optional()}),$A7=CL({name:aQ(),description:aQ().optional(),arguments:gI(aQ()).optional(),text:aQ()}),UA7=CL({type:tT(["string","number","boolean","directory","file"]),title:aQ(),description:aQ(),required:ZF().optional(),default:gQA([aQ(),jR(),ZF(),gI(aQ())]).optional(),multiple:ZF().optional(),sensitive:ZF().optional(),min:jR().optional(),max:jR().optional()}),IaY=sT(aQ(),gQA([aQ(),jR(),ZF(),gI(aQ())])),tF1=CL({$schema:aQ().optional(),dxt_version:aQ().optional().describe("@deprecated Use manifest_version instead"),manifest_version:aQ().optional(),name:aQ(),display_name:aQ().optional(),version:aQ(),description:aQ(),long_description:aQ().optional(),author:KA7,repository:VA7.optional(),homepage:aQ().url().optional(),documentation:aQ().url().optional(),support:aQ().url().optional(),icon:aQ().optional(),screenshots:gI(aQ()).optional(),server:EA7,tools:gI(CA7).optional(),tools_generated:ZF().optional(),prompts:gI($A7).optional(),prompts_generated:ZF().optional(),keywords:gI(aQ()).optional(),license:aQ().optional(),privacy_policies:gI(aQ()).optional(),compatibility:zA7.optional(),user_config:sT(aQ(),UA7).optional()}).refine((A)=>!!(A.dxt_version||A.manifest_version),{message:"Either 'dxt_version' (deprecated) or 'manifest_version' must be provided"}),WaY=CL({status:tT(["signed","unsigned","self-signed"]),publisher:aQ().optional(),issuer:aQ().optional(),valid_from:aQ().optional(),valid_to:aQ().optional(),fingerprint:aQ().optional()})});var HL0=w(()=>{rfA()});import{createRequire as NA7}from"module";function xA7(A,Q,B){if(!B)B=Q,Q={};if(typeof B!="function")WU(7);return SA7(A,Q,[PA7],function(G){return o09(qL0(G.data[0],r09(G.data[1])))},1,B)}function qL0(A,Q){return a09(A,{i:2},Q&&Q.out,Q&&Q.dictionary)}function kA7(A,Q){if(Q){var B="";for(var G=0;G<A.length;G+=16384)B+=String.fromCharCode.apply(null,A.subarray(G,G+16384));return B}else if(zL0)return zL0.decode(A);else{var Z=vA7(A),Y=Z.s,B=Z.r;if(B.length)WU(8);return Y}}function s09(A,Q,B){if(!B)B=Q,Q={};if(typeof B!="function")WU(7);var G=[],Z=function(){for(var z=0;z<G.length;++z)G[z]()},Y={},J=function(z,C){b09(function(){B(z,C)})};b09(function(){J=B});var X=A.length-22;for(;Xx(A,X)!=101010256;--X)if(!X||A.length-X>65558)return J(WU(13,0,1),null),Z;var I=Rf(A,X+8);if(I){var W=I,D=Xx(A,X+16),K=D==4294967295||W==65535;if(K){var V=Xx(A,X-12);if(K=Xx(A,V)==101075792,K)W=I=Xx(A,V+32),D=Xx(A,V+48)}var F=Q&&Q.filter,H=function(z){var C=fA7(A,D,K),O=C[0],L=C[1],M=C[2],_=C[3],j=C[4],P=C[5],y=bA7(A,P);D=j;var v=function(h,e){if(h)Z(),J(h,null);else{if(e)Y[_]=e;if(!--I)J(null,Y)}};if(!F||F({name:_,size:L,originalSize:M,compression:O}))if(!O)v(null,ZH1(A,y,y+L));else if(O==8){var m=A.subarray(y,y+L);if(M<524288||L>0.8*M)try{v(null,qL0(m,{out:new DU(M)}))}catch(h){v(h,null)}else G.push(xA7(m,{size:M},v))}else v(WU(14,"unknown compression type "+O,1),null);else v(null,null)};for(var E=0;E<W;++E)H(E)}else J(null,{});return Z}var wA7,AH1,LA7=";var __w=require('worker_threads');__w.parentPort.on('message',function(m){onmessage({data:m})}),postMessage=function(m,t){__w.parentPort.postMessage(m,t)},close=process.exit;self=global",OA7,DU,D3A,f09,CL0,$L0,h09,g09=function(A,Q){var B=new D3A(31);for(var G=0;G<31;++G)B[G]=Q+=1<<A[G-1];var Z=new f09(B[30]);for(var G=1;G<30;++G)for(var Y=B[G];Y<B[G+1];++Y)Z[Y]=Y-B[G]<<5|G;return{b:B,r:Z}},u09,UL0,MA7,m09,d09,HaY,GH1,Mf,W5,_EA=function(A,Q,B){var G=A.length,Z=0,Y=new D3A(Q);for(;Z<G;++Z)if(A[Z])++Y[A[Z]-1];var J=new D3A(Q);for(Z=1;Z<Q;++Z)J[Z]=J[Z-1]+Y[Z-1]<<1;var X;if(B){X=new D3A(1<<Q);var I=15-Q;for(Z=0;Z<G;++Z)if(A[Z]){var W=Z<<4|A[Z],D=Q-A[Z],K=J[A[Z]-1]++<<D;for(var V=K|(1<<D)-1;K<=V;++K)X[GH1[K]>>I]=W}}else{X=new D3A(G);for(Z=0;Z<G;++Z)if(A[Z])X[Z]=GH1[J[A[Z]-1]++]>>15-A[Z]}return X},sfA,W5,W5,W5,W5,p09,W5,c09,l09,QH1=function(A){var Q=A[0];for(var B=1;B<A.length;++B)if(A[B]>Q)Q=A[B];return Q},Qj=function(A,Q,B){var G=Q/8|0;return(A[G]|A[G+1]<<8)>>(Q&7)&B},BH1=function(A,Q){var B=Q/8|0;return(A[B]|A[B+1]<<8|A[B+2]<<16)>>(Q&7)},i09=function(A){return(A+7)/8|0},ZH1=function(A,Q,B){if(Q==null||Q<0)Q=0;if(B==null||B>A.length)B=A.length;return new DU(A.subarray(Q,B))},n09,WU=function(A,Q,B){var G=Error(Q||n09[A]);if(G.code=A,Error.captureStackTrace)Error.captureStackTrace(G,WU);if(!B)throw G;return G},a09=function(A,Q,B,G){var Z=A.length,Y=G?G.length:0;if(!Z||Q.f&&!Q.l)return B||new DU(0);var J=!B,X=J||Q.i!=2,I=Q.i;if(J)B=new DU(Z*3);var W=function(XA){var IA=B.length;if(XA>IA){var NA=new DU(Math.max(IA*2,XA));NA.set(B),B=NA}},D=Q.f||0,K=Q.p||0,V=Q.b||0,F=Q.l,H=Q.d,E=Q.m,z=Q.n,C=Z*8;do{if(!F){D=Qj(A,K,1);var O=Qj(A,K+1,3);if(K+=3,!O){var L=i09(K)+4,M=A[L-4]|A[L-3]<<8,_=L+M;if(_>Z){if(I)WU(0);break}if(X)W(V+M);B.set(A.subarray(L,_),V),Q.b=V+=M,Q.p=K=_*8,Q.f=D;continue}else if(O==1)F=c09,H=l09,E=9,z=5;else if(O==2){var j=Qj(A,K,31)+257,P=Qj(A,K+10,15)+4,y=j+Qj(A,K+5,31)+1;K+=14;var v=new DU(y),m=new DU(19);for(var h=0;h<P;++h)m[h09[h]]=Qj(A,K+h*3,7);K+=P*3;var e=QH1(m),t=(1<<e)-1,b=_EA(m,e,1);for(var h=0;h<y;){var l=b[Qj(A,K,t)];K+=l&15;var L=l>>4;if(L<16)v[h++]=L;else{var QA=0,WA=0;if(L==16)WA=3+Qj(A,K,3),K+=2,QA=v[h-1];else if(L==17)WA=3+Qj(A,K,7),K+=3;else if(L==18)WA=11+Qj(A,K,127),K+=7;while(WA--)v[h++]=QA}}var wA=v.subarray(0,j),_A=v.subarray(j);E=QH1(wA),z=QH1(_A),F=_EA(wA,E,1),H=_EA(_A,z,1)}else WU(1);if(K>C){if(I)WU(0);break}}if(X)W(V+131072);var hA=(1<<E)-1,jA=(1<<z)-1,yA=K;for(;;yA=K){var QA=F[BH1(A,K)&hA],FA=QA>>4;if(K+=QA&15,K>C){if(I)WU(0);break}if(!QA)WU(2);if(FA<256)B[V++]=FA;else if(FA==256){yA=K,F=null;break}else{var GA=FA-254;if(FA>264){var h=FA-257,AA=CL0[h];GA=Qj(A,K,(1<<AA)-1)+UL0[h],K+=AA}var EA=H[BH1(A,K)&jA],$A=EA>>4;if(!EA)WU(3);K+=EA&15;var _A=d09[$A];if($A>3){var AA=$L0[$A];_A+=BH1(A,K)&(1<<AA)-1,K+=AA}if(K>C){if(I)WU(0);break}if(X)W(V+131072);var MA=V+GA;if(V<_A){var r=Y-_A,VA=Math.min(_A,MA);if(r+V<0)WU(3);for(;V<VA;++V)B[V]=G[r+V]}for(;V<MA;++V)B[V]=B[V-_A]}}if(Q.l=F,Q.p=yA,Q.b=V,Q.f=D,F)D=1,Q.m=E,Q.d=H,Q.n=z}while(!D);return V!=B.length&&J?ZH1(B,0,V):B.subarray(0,V)},RA7,_A7=function(A,Q){var B={};for(var G in A)B[G]=A[G];for(var G in Q)B[G]=Q[G];return B},k09=function(A,Q,B){var G=A(),Z=A.toString(),Y=Z.slice(Z.indexOf("[")+1,Z.lastIndexOf("]")).replace(/\s+/g,"").split(",");for(var J=0;J<G.length;++J){var X=G[J],I=Y[J];if(typeof X=="function"){Q+=";"+I+"=";var W=X.toString();if(X.prototype)if(W.indexOf("[native code]")!=-1){var D=W.indexOf(" ",8)+1;Q+=W.slice(D,W.indexOf("(",D))}else{Q+=W;for(var K in X.prototype)Q+=";"+I+".prototype."+K+"="+X.prototype[K].toString()}else Q+=W}else B[I]=X}return Q},eF1,jA7=function(A){var Q=[];for(var B in A)if(A[B].buffer)Q.push((A[B]=new A[B].constructor(A[B])).buffer);return Q},TA7=function(A,Q,B,G){if(!eF1[B]){var Z="",Y={},J=A.length-1;for(var X=0;X<J;++X)Z=k09(A[X],Z,Y);eF1[B]={c:k09(A[J],Z,Y),e:Y}}var I=_A7({},eF1[B].e);return OA7(eF1[B].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+Q.toString()+"}",B,I,jA7(I),G)},PA7=function(){return[DU,D3A,f09,CL0,$L0,h09,UL0,d09,c09,l09,GH1,n09,_EA,QH1,Qj,BH1,i09,ZH1,WU,a09,qL0,o09,r09]},o09=function(A){return postMessage(A,[A.buffer])},r09=function(A){return A&&{out:A.size&&new DU(A.size),dictionary:A.dictionary}},SA7=function(A,Q,B,G,Z,Y){var J=TA7(B,G,Z,function(X,I){J.terminate(),Y(X,I)});return J.postMessage([A,Q],Q.consume?[A.buffer]:[]),function(){J.terminate()}},Rf=function(A,Q){return A[Q]|A[Q+1]<<8},Xx=function(A,Q){return(A[Q]|A[Q+1]<<8|A[Q+2]<<16|A[Q+3]<<24)>>>0},EL0=function(A,Q){return Xx(A,Q)+Xx(A,Q+4)*4294967296},zL0,yA7=0,vA7=function(A){for(var Q="",B=0;;){var G=A[B++],Z=(G>127)+(G>223)+(G>239);if(B+Z>A.length)return{s:Q,r:ZH1(A,B-1)};if(!Z)Q+=String.fromCharCode(G);else if(Z==3)G=((G&15)<<18|(A[B++]&63)<<12|(A[B++]&63)<<6|A[B++]&63)-65536,Q+=String.fromCharCode(55296|G>>10,56320|G&1023);else if(Z&1)Q+=String.fromCharCode((G&31)<<6|A[B++]&63);else Q+=String.fromCharCode((G&15)<<12|(A[B++]&63)<<6|A[B++]&63)}},bA7=function(A,Q){return Q+30+Rf(A,Q+26)+Rf(A,Q+28)},fA7=function(A,Q,B){var G=Rf(A,Q+28),Z=kA7(A.subarray(Q+46,Q+46+G),!(Rf(A,Q+8)&2048)),Y=Q+46+G,J=Xx(A,Q+20),X=B&&J==4294967295?hA7(A,Y):[J,Xx(A,Q+24),Xx(A,Q+42)],I=X[0],W=X[1],D=X[2];return[Rf(A,Q+10),I,W,Z,Y+Rf(A,Q+30)+Rf(A,Q+32),D]},hA7=function(A,Q){for(;Rf(A,Q)!=1;Q+=4+Rf(A,Q+2));return[EL0(A,Q+12),EL0(A,Q+4),EL0(A,Q+20)]},b09;var t09=w(()=>{wA7=NA7("/");try{AH1=wA7("worker_threads").Worker}catch(A){}OA7=AH1?function(A,Q,B,G,Z){var Y=!1,J=new AH1(A+LA7,{eval:!0}).on("error",function(X){return Z(X,null)}).on("message",function(X){return Z(null,X)}).on("exit",function(X){if(X&&!Y)Z(Error("exited with code "+X),null)});return J.postMessage(B,G),J.terminate=function(){return Y=!0,AH1.prototype.terminate.call(J)},J}:function(A,Q,B,G,Z){setImmediate(function(){return Z(Error("async operations unsupported - update to Node 12+ (or Node 10-11 with the --experimental-worker CLI flag)"),null)});var Y=function(){};return{terminate:Y,postMessage:Y}},DU=Uint8Array,D3A=Uint16Array,f09=Int32Array,CL0=new DU([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$L0=new DU([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),h09=new DU([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u09=g09(CL0,2),UL0=u09.b,MA7=u09.r;UL0[28]=258,MA7[258]=28;m09=g09($L0,0),d09=m09.b,HaY=m09.r,GH1=new D3A(32768);for(W5=0;W5<32768;++W5)Mf=(W5&43690)>>1|(W5&21845)<<1,Mf=(Mf&52428)>>2|(Mf&13107)<<2,Mf=(Mf&61680)>>4|(Mf&3855)<<4,GH1[W5]=((Mf&65280)>>8|(Mf&255)<<8)>>1;sfA=new DU(288);for(W5=0;W5<144;++W5)sfA[W5]=8;for(W5=144;W5<256;++W5)sfA[W5]=9;for(W5=256;W5<280;++W5)sfA[W5]=7;for(W5=280;W5<288;++W5)sfA[W5]=8;p09=new DU(32);for(W5=0;W5<32;++W5)p09[W5]=5;c09=_EA(sfA,9,1),l09=_EA(p09,5,1),n09=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],RA7=new DU(0),eF1=[];zL0=typeof TextDecoder<"u"&&new TextDecoder;try{zL0.decode(RA7,{stream:!0}),yA7=1}catch(A){}b09=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(A){A()}});var gA7;var NL0=w(()=>{gA7=c(ivA(),1)});var sY=U((uA7)=>{uA7.fromCallback=function(A){return Object.defineProperty(function(...Q){if(typeof Q[Q.length-1]==="function")A.apply(this,Q);else return new Promise((B,G)=>{Q.push((Z,Y)=>Z!=null?G(Z):B(Y)),A.apply(this,Q)})},"name",{value:A.name})};uA7.fromPromise=function(A){return Object.defineProperty(function(...Q){let B=Q[Q.length-1];if(typeof B!=="function")return A.apply(this,Q);else Q.pop(),A.apply(this,Q).then((G)=>B(null,G),B)},"name",{value:A.name})}});var K3A=U((wL0)=>{var e09=sY().fromCallback,nN=LG(),pA7=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((A)=>{return typeof nN[A]==="function"});Object.assign(wL0,nN);pA7.forEach((A)=>{wL0[A]=e09(nN[A])});wL0.exists=function(A,Q){if(typeof Q==="function")return nN.exists(A,Q);return new Promise((B)=>{return nN.exists(A,B)})};wL0.read=function(A,Q,B,G,Z,Y){if(typeof Y==="function")return nN.read(A,Q,B,G,Z,Y);return new Promise((J,X)=>{nN.read(A,Q,B,G,Z,(I,W,D)=>{if(I)return X(I);J({bytesRead:W,buffer:D})})})};wL0.write=function(A,Q,...B){if(typeof B[B.length-1]==="function")return nN.write(A,Q,...B);return new Promise((G,Z)=>{nN.write(A,Q,...B,(Y,J,X)=>{if(Y)return Z(Y);G({bytesWritten:J,buffer:X})})})};if(typeof nN.writev==="function")wL0.writev=function(A,Q,...B){if(typeof B[B.length-1]==="function")return nN.writev(A,Q,...B);return new Promise((G,Z)=>{nN.writev(A,Q,...B,(Y,J,X)=>{if(Y)return Z(Y);G({bytesWritten:J,buffers:X})})})};if(typeof nN.realpath.native==="function")wL0.realpath.native=e09(nN.realpath.native);else process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var QQ9=U((aA7,AQ9)=>{var nA7=qA("path");aA7.checkPath=function(Q){if(process.platform==="win32"){if(/[<>:"|?*]/.test(Q.replace(nA7.parse(Q).root,""))){let G=Error(`Path contains invalid characters: ${Q}`);throw G.code="EINVAL",G}}}});var YQ9=U((rA7,LL0)=>{var BQ9=K3A(),{checkPath:GQ9}=QQ9(),ZQ9=(A)=>{let Q={mode:511};if(typeof A==="number")return A;return{...Q,...A}.mode};rA7.makeDir=async(A,Q)=>{return GQ9(A),BQ9.mkdir(A,{mode:ZQ9(Q),recursive:!0})};rA7.makeDirSync=(A,Q)=>{return GQ9(A),BQ9.mkdirSync(A,{mode:ZQ9(Q),recursive:!0})}});var Ix=U((NaY,JQ9)=>{var eA7=sY().fromPromise,{makeDir:A17,makeDirSync:OL0}=YQ9(),ML0=eA7(A17);JQ9.exports={mkdirs:ML0,mkdirsSync:OL0,mkdirp:ML0,mkdirpSync:OL0,ensureDir:ML0,ensureDirSync:OL0}});var Lt=U((waY,IQ9)=>{var Q17=sY().fromPromise,XQ9=K3A();function B17(A){return XQ9.access(A).then(()=>!0).catch(()=>!1)}IQ9.exports={pathExists:Q17(B17),pathExistsSync:XQ9.existsSync}});var RL0=U((LaY,WQ9)=>{var jEA=LG();function G17(A,Q,B,G){jEA.open(A,"r+",(Z,Y)=>{if(Z)return G(Z);jEA.futimes(Y,Q,B,(J)=>{jEA.close(Y,(X)=>{if(G)G(J||X)})})})}function Z17(A,Q,B){let G=jEA.openSync(A,"r+");return jEA.futimesSync(G,Q,B),jEA.closeSync(G)}WQ9.exports={utimesMillis:G17,utimesMillisSync:Z17}});var V3A=U((OaY,VQ9)=>{var TEA=K3A(),lF=qA("path"),Y17=qA("util");function J17(A,Q,B){let G=B.dereference?(Z)=>TEA.stat(Z,{bigint:!0}):(Z)=>TEA.lstat(Z,{bigint:!0});return Promise.all([G(A),G(Q).catch((Z)=>{if(Z.code==="ENOENT")return null;throw Z})]).then(([Z,Y])=>({srcStat:Z,destStat:Y}))}function X17(A,Q,B){let G,Z=B.dereference?(J)=>TEA.statSync(J,{bigint:!0}):(J)=>TEA.lstatSync(J,{bigint:!0}),Y=Z(A);try{G=Z(Q)}catch(J){if(J.code==="ENOENT")return{srcStat:Y,destStat:null};throw J}return{srcStat:Y,destStat:G}}function I17(A,Q,B,G,Z){Y17.callbackify(J17)(A,Q,G,(Y,J)=>{if(Y)return Z(Y);let{srcStat:X,destStat:I}=J;if(I){if(tfA(X,I)){let W=lF.basename(A),D=lF.basename(Q);if(B==="move"&&W!==D&&W.toLowerCase()===D.toLowerCase())return Z(null,{srcStat:X,destStat:I,isChangingCase:!0});return Z(Error("Source and destination must not be the same."))}if(X.isDirectory()&&!I.isDirectory())return Z(Error(`Cannot overwrite non-directory '${Q}' with directory '${A}'.`));if(!X.isDirectory()&&I.isDirectory())return Z(Error(`Cannot overwrite directory '${Q}' with non-directory '${A}'.`))}if(X.isDirectory()&&_L0(A,Q))return Z(Error(YH1(A,Q,B)));return Z(null,{srcStat:X,destStat:I})})}function W17(A,Q,B,G){let{srcStat:Z,destStat:Y}=X17(A,Q,G);if(Y){if(tfA(Z,Y)){let J=lF.basename(A),X=lF.basename(Q);if(B==="move"&&J!==X&&J.toLowerCase()===X.toLowerCase())return{srcStat:Z,destStat:Y,isChangingCase:!0};throw Error("Source and destination must not be the same.")}if(Z.isDirectory()&&!Y.isDirectory())throw Error(`Cannot overwrite non-directory '${Q}' with directory '${A}'.`);if(!Z.isDirectory()&&Y.isDirectory())throw Error(`Cannot overwrite directory '${Q}' with non-directory '${A}'.`)}if(Z.isDirectory()&&_L0(A,Q))throw Error(YH1(A,Q,B));return{srcStat:Z,destStat:Y}}function DQ9(A,Q,B,G,Z){let Y=lF.resolve(lF.dirname(A)),J=lF.resolve(lF.dirname(B));if(J===Y||J===lF.parse(J).root)return Z();TEA.stat(J,{bigint:!0},(X,I)=>{if(X){if(X.code==="ENOENT")return Z();return Z(X)}if(tfA(Q,I))return Z(Error(YH1(A,B,G)));return DQ9(A,Q,J,G,Z)})}function KQ9(A,Q,B,G){let Z=lF.resolve(lF.dirname(A)),Y=lF.resolve(lF.dirname(B));if(Y===Z||Y===lF.parse(Y).root)return;let J;try{J=TEA.statSync(Y,{bigint:!0})}catch(X){if(X.code==="ENOENT")return;throw X}if(tfA(Q,J))throw Error(YH1(A,B,G));return KQ9(A,Q,Y,G)}function tfA(A,Q){return Q.ino&&Q.dev&&Q.ino===A.ino&&Q.dev===A.dev}function _L0(A,Q){let B=lF.resolve(A).split(lF.sep).filter((Z)=>Z),G=lF.resolve(Q).split(lF.sep).filter((Z)=>Z);return B.reduce((Z,Y,J)=>Z&&G[J]===Y,!0)}function YH1(A,Q,B){return`Cannot ${B} '${A}' to a subdirectory of itself, '${Q}'.`}VQ9.exports={checkPaths:I17,checkPathsSync:W17,checkParentPaths:DQ9,checkParentPathsSync:KQ9,isSrcSubdir:_L0,areIdentical:tfA}});var qQ9=U((MaY,UQ9)=>{var aN=LG(),efA=qA("path"),D17=Ix().mkdirs,K17=Lt().pathExists,V17=RL0().utimesMillis,AhA=V3A();function F17(A,Q,B,G){if(typeof B==="function"&&!G)G=B,B={};else if(typeof B==="function")B={filter:B};if(G=G||function(){},B=B||{},B.clobber="clobber"in B?!!B.clobber:!0,B.overwrite="overwrite"in B?!!B.overwrite:B.clobber,B.preserveTimestamps&&process.arch==="ia32")process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;
ol${tA.ellipsis}`,columns:60,cursorOffset:Y,onChangeCursorOffset:J})),pf.default.createElement($,{dimColor:!0},"Leave empty for default (English)"))}var pf;var IY9=w(()=>{kA();KY();I2();_6();pf=c(JA(),1)});function WY9({onClose:A,context:Q,setTabsHidden:B,setIsWarning:G,setHideMargin:Z}){let[Y,J]=aB(),[X,I]=qx.useState(R1()),[W,D]=qx.useState(Bi2()),K=v0.useRef(R1()),[V,F]=qx.useState(U8()),H=v0.useRef(U8()),[E,z]=qx.useState(V?.outputStyle||dF),C=v0.useRef(E),[O,L]=qx.useState(V?.language),M=v0.useRef(O),[_,j]=qx.useState(0),[{mainLoopModel:P,verbose:y,thinkingEnabled:v,promptSuggestionEnabled:m},h]=e0(),[e,t]=qx.useState({}),[b,l]=qx.useState(null),QA=LD1(Q.options.mcpClients),WA=!i1(process.env.CLAUDE_CODE_DISABLE_FILE_CHECKPOINTING),wA=oH0(),_A=_JA();async function hA(GA){p("tengu_config_model_changed",{from_model:P,to_model:GA}),h((EA)=>({...EA,mainLoopModel:GA})),t((EA)=>{let $A=vT(GA);if("model"in EA){let{model:MA,...r}=EA;return{...r,model:$A}}return{...EA,model:$A}})}function jA(GA){h0((AA)=>({...AA,verbose:GA})),I({...R1(),verbose:GA}),h((AA)=>({...AA,verbose:GA})),t((AA)=>{if("verbose"in AA){let{verbose:EA,...$A}=AA;return $A}return{...AA,verbose:GA}})}let yA=[{id:"autoCompactEnabled",label:"Auto-compact",value:X.autoCompactEnabled,type:"boolean",onChange(GA){h0((AA)=>({...AA,autoCompactEnabled:GA})),I({...R1(),autoCompactEnabled:GA}),p("tengu_auto_compact_setting_changed",{enabled:GA})}},{id:"spinnerTipsEnabled",label:"Show tips",value:V?.spinnerTipsEnabled??!0,type:"boolean",onChange(GA){cB("localSettings",{spinnerTipsEnabled:GA}),F((AA)=>({...AA,spinnerTipsEnabled:GA})),p("tengu_tips_setting_changed",{enabled:GA})}},{id:"thinkingEnabled",label:"Thinking mode",value:v,type:"boolean",onChange(GA){h((AA)=>({...AA,thinkingEnabled:GA})),cB("userSettings",{alwaysThinkingEnabled:GA?void 0:!1}),p("tengu_thinking_toggled",{enabled:GA})}},...y8("tengu_prompt_suggestion")?[{id:"promptSuggestionEnabled",label:"Prompt suggestions",value:m,type:"boolean",onChange(GA){h((AA)=>({...AA,promptSuggestionEnabled:GA})),cB("userSettings",{promptSuggestionEnabled:GA?void 0:!1})}}]:[],...WA?[{id:"fileCheckpointingEnabled",label:"Rewind code (checkpoints)",value:X.fileCheckpointingEnabled,type:"boolean",onChange(GA){h0((AA)=>({...AA,fileCheckpointingEnabled:GA})),I({...R1(),fileCheckpointingEnabled:GA}),p("tengu_file_history_snapshots_setting_changed",{enabled:GA})}}]:[],{id:"verbose",label:"Verbose output",value:y,type:"boolean",onChange:jA},{id:"terminalProgressBarEnabled",label:"Terminal progress bar",value:X.terminalProgressBarEnabled,type:"boolean",onChange(GA){h0((AA)=>({...AA,terminalProgressBarEnabled:GA})),I({...R1(),terminalProgressBarEnabled:GA}),p("tengu_terminal_progress_bar_setting_changed",{enabled:GA})}},{id:"defaultPermissionMode",label:"Default permission mode",value:V?.permissions?.defaultMode||"default",options:(()=>{let GA=["default","plan"],AA=["bypassPermissions","delegate"];return[...GA,...QP.filter((EA)=>!GA.includes(EA)&&!AA.includes(EA))]})(),type:"enum",onChange(GA){let AA=t01(GA),EA=cB("userSettings",{permissions:{...V?.permissions,defaultMode:AA}});if(EA.error){s(EA.error);return}F(($A)=>({...$A,permissions:{...$A?.permissions,defaultMode:AA}})),t(($A)=>({...$A,defaultPermissionMode:GA})),p("tengu_config_changed",{setting:"defaultPermissionMode",value:GA})}},{id:"respectGitignore",label:"Respect .gitignore in file picker",value:X.respectGitignore,type:"boolean",onChange(GA){h0((AA)=>({...AA,respectGitignore:GA})),I({...R1(),respectGitignore:GA}),p("tengu_respect_gitignore_setting_changed",{enabled:GA})}},_A?{id:"autoUpdatesChannel",label:"Auto-update channel",value:"disabled",type:"managedEnum",onChange(){}}:{id:"autoUpdatesChannel",label:"Auto-update channel",value:V?.autoUpdatesChannel??"latest",type:"managedEnum",onChange(){}},{id:"theme",label:"Theme",value:Y,type:"managedEnum",onChange:J},{id:"notifChannel",label:"Notifications",value:X.preferredNotifChannel,options:["auto","iterm2","terminal_bell","iterm2_with_bell","kitty","ghostty","notifications_disabled"],type:"enum",onChange(GA){h0((AA)=>({...AA,preferredNotifChannel:GA})),I({...R1(),preferredNotifChannel:GA})}},{id:"outputStyle",label:"Output style",value:E,type:"managedEnum",onChange:()=>{}},{id:"language",label:"Language",value:O??"Default (English)",type:"managedEnum",onChange:()=>{}},{id:"editorMode",label:"Editor mode",value:X.editorMode==="emacs"?"normal":X.editorMode||"normal",options:["normal","vim"],type:"enum",onChange(GA){h0((AA)=>({...AA,editorMode:GA})),I({...R1(),editorMode:GA}),p("tengu_editor_mode_changed",{mode:GA,source:"config_panel"})}},...[],{id:"model",label:"Model",value:P===null?"Default (recommended)":P,type:"managedEnum",onChange:hA},...QA?[{id:"diffTool",label:"Diff tool",value:X.diffTool??"auto",options:["terminal","auto"],type:"enum",onChange(GA){h0((AA)=>({...AA,diffTool:GA})),I({...R1(),diffTool:GA}),p("tengu_diff_tool_changed",{tool:GA,source:"config_panel"})}}]:[],...!FK()?[{id:"autoConnectIde",label:"Auto-connect to IDE (external terminal)",value:X.autoConnectIde??!1,type:"boolean",onChange(GA){h0((AA)=>({...AA,autoConnectIde:GA})),I({...R1(),autoConnectIde:GA}),p("tengu_auto_connect_ide_changed",{enabled:GA,source:"config_panel"})}}]:[],...FK()?[{id:"autoInstallIdeExtension",label:"Auto-install IDE extension",value:X.autoInstallIdeExtension??!0,type:"boolean",onChange(GA){h0((AA)=>({...AA,autoInstallIdeExtension:GA})),I({...R1(),autoInstallIdeExtension:GA}),p("tengu_auto_install_ide_extension_changed",{enabled:GA,source:"config_panel"})}}]:[],{id:"claudeInChromeDefaultEnabled",label:"Claude in Chrome enabled by default",value:X.claudeInChromeDefaultEnabled??!0,type:"boolean",onChange(GA){h0((AA)=>({...AA,claudeInChromeDefaultEnabled:GA})),I({...R1(),claudeInChromeDefaultEnabled:GA}),p("tengu_claude_in_chrome_setting_changed",{enabled:GA})}},...wA?[{id:"showExternalIncludesDialog",label:"External CLAUDE.md includes",value:(()=>{if(JG().hasClaudeMdExternalIncludesApproved)return"true";else return"false"})(),type:"managedEnum",onChange(){}}]:[],...process.env.ANTHROPIC_API_KEY?[{id:"apiKey",label:v0.createElement($,null,"Use custom API key:"," ",v0.createElement($,{bold:!0},WL(process.env.ANTHROPIC_API_KEY))),value:Boolean(process.env.ANTHROPIC_API_KEY&&X.customApiKeyResponses?.approved?.includes(WL(process.env.ANTHROPIC_API_KEY))),type:"boolean",onChange(GA){h0((AA)=>{let EA={...AA};if(!EA.customApiKeyResponses)EA.customApiKeyResponses={approved:[],rejected:[]};if(!EA.customApiKeyResponses.approved)EA.customApiKeyResponses={...EA.customApiKeyResponses,approved:[]};if(!EA.customApiKeyResponses.rejected)EA.customApiKeyResponses={...EA.customApiKeyResponses,rejected:[]};if(process.env.ANTHROPIC_API_KEY){let $A=WL(process.env.ANTHROPIC_API_KEY);if(GA)EA.customApiKeyResponses={...EA.customApiKeyResponses,approved:[...(EA.customApiKeyResponses.approved??[]).filter((MA)=>MA!==$A),$A],rejected:(EA.customApiKeyResponses.rejected??[]).filter((MA)=>MA!==$A)};else EA.customApiKeyResponses={...EA.customApiKeyResponses,approved:(EA.customApiKeyResponses.approved??[]).filter((MA)=>MA!==$A),rejected:[...(EA.customApiKeyResponses.rejected??[]).filter((MA)=>MA!==$A),$A]}}return EA}),I(R1())}}]:[]],FA=qx.useCallback(()=>{if(b!==null)return;let GA=Object.entries(e).map(([$A,MA])=>{return p("tengu_config_changed",{key:$A,value:MA}),`Set ${$A} to ${W1.bold(MA)}`}),AA=Boolean(process.env.ANTHROPIC_API_KEY&&K.current.customApiKeyResponses?.approved?.includes(WL(process.env.ANTHROPIC_API_KEY))),EA=Boolean(process.env.ANTHROPIC_API_KEY&&X.customApiKeyResponses?.approved?.includes(WL(process.env.ANTHROPIC_API_KEY)));if(AA!==EA)GA.push(`${EA?"Enabled":"Disabled"} custom API key`),p("tengu_config_changed",{key:"env.ANTHROPIC_API_KEY",value:EA});if(X.theme!==K.current.theme)GA.push(`Set theme to ${W1.bold(X.theme)}`);if(X.preferredNotifChannel!==K.current.preferredNotifChannel)GA.push(`Set notifications to ${W1.bold(X.preferredNotifChannel)}`);if(E!==C.current)GA.push(`Set output style to ${W1.bold(E)}`);if(O!==M.current)GA.push(`Set response language to ${W1.bold(O??"Default (English)")}`);if(X.editorMode!==K.current.editorMode)GA.push(`Set editor mode to ${W1.bold(X.editorMode||"emacs")}`);if(X.diffTool!==K.current.diffTool)GA.push(`Set diff tool to ${W1.bold(X.diffTool)}`);if(X.autoConnectIde!==K.current.autoConnectIde)GA.push(`${X.autoConnectIde?"Enabled":"Disabled"} auto-connect to IDE`);if(X.autoInstallIdeExtension!==K.current.autoInstallIdeExtension)GA.push(`${X.autoInstallIdeExtension?"Enabled":"Disabled"} auto-install IDE extension`);if(X.autoCompactEnabled!==K.current.autoCompactEnabled)GA.push(`${X.autoCompactEnabled?"Enabled":"Disabled"} auto-compact`);if(X.respectGitignore!==K.current.respectGitignore)GA.push(`${X.respectGitignore?"Enabled":"Disabled"} respect .gitignore in file picker`);if(X.terminalProgressBarEnabled!==K.current.terminalProgressBarEnabled)GA.push(`${X.terminalProgressBarEnabled?"Enabled":"Disabled"} terminal progress bar`);if(V?.autoUpdatesChannel!==H.current?.autoUpdatesChannel)GA.push(`Set auto-update channel to ${W1.bold(V?.autoUpdatesChannel??"latest")}`);if(GA.length>0)A(GA.join(`
",action:"navigate"}),ze.default.createElement(y0,{shortcut:"Enter",action:"select"}),ze.default.createElement(DB,{action:"confirm:no",context:"Confirmation",fallback:"Esc",description:"go back"}))},ze.default.createElement(T,{marginTop:1},ze.default.createElement(x0,{key:"method-select",options:[{label:"Generate with Claude (recommended)",value:"generate"},{label:"Manual configuration",value:"manual"}],onChange:(Y)=>{let J=Y;if(B({method:J,wasGenerated:J==="generate"}),J==="generate")A();else G(3)},onCancel:()=>Q()})))}var ze;var IV9=w(()=>{kA();Q8();Cj();mO();e4();Z5();T3();ze=c(JA(),1)});async function WV9(A,Q,B,G){let Z=B.length>0?`
 Esc to cancel"))))}var VW;var UC9=w(()=>{kA();ZS0();_6();U9();VC();jJ();VW=c(JA(),1)});import*as YS0 from"path";import*as qC9 from"os";function $q7(){let A=LQ();if(!hw1.includes(A))throw Error(`Unsupported platform: ${A} - Claude Desktop integration only works on macOS and WSL.`);if(A==="macos")return YS0.join(qC9.homedir(),"Library","Application Support","Claude","claude_desktop_config.json");let Q=process.env.USERPROFILE?process.env.USERPROFILE.replace(/\\/g,"/"):null;if(Q){let G=`/mnt/c${Q.replace(/^[A-Z]:/,"")}/AppData/Roaming/Claude/claude_desktop_config.json`;if(xA().existsSync(G))return G}try{if(xA().existsSync("/mnt/c/Users")){let G=xA().readdirSync("/mnt/c/Users");for(let Z of G){if(Z.name==="Public"||Z.name==="Default"||Z.name==="Default User"||Z.name==="All Users")continue;let Y=YS0.join("/mnt/c/Users",Z.name,"AppData","Roaming","Claude","claude_desktop_config.json");if(xA().existsSync(Y))return Y}}}catch(B){s(B instanceof Error?B:Error(String(B)))}throw Error("Could not find Claude Desktop config file in Windows. Make sure Claude Desktop is installed on Windows.")}function NC9(){if(!hw1.includes(LQ()))throw Error("Unsupported platform - Claude Desktop integration only works on macOS and WSL.");try{let A=$q7();if(!xA().existsSync(A))return{};let Q=xA().readFileSync(A,{encoding:"utf8"}),B=h5(Q);if(!B||typeof B!=="object")return{};let G=B.mcpServers;if(!G||typeof G!=="object")return{};let Z={};for(let[Y,J]of Object.entries(G)){if(!J||typeof J!=="object")continue;let X=vJ0.safeParse(J);if(X.success)Z[Y]=X.data}return Z}catch(A){return s(A instanceof Error?A:Error(String(A))),{}}}var wC9=w(()=>{PI();f1();k9A();f3();EQ()});function kC1({customApiKeyTruncated:A,onDone:Q}){function B(Z){switch(Z){case"yes":{h0((Y)=>({...Y,customApiKeyResponses:{...Y.customApiKeyResponses,approved:[...Y.customApiKeyResponses?.approved??[],A]}})),Q();break}case"no":{h0((Y)=>({...Y,customApiKeyResponses:{...Y.customApiKeyResponses,rejected:[...Y.customApiKeyResponses?.rejected??[],A]}})),Q();break}}}let G=_Q();return BH.default.createElement(BH.default.Fragment,null,BH.default.createElement(T,{flexDirection:"column",gap:1,padding:1,borderStyle:"round",borderColor:"warning"},BH.default.createElement($,{bold:!0,color:"warning"},"Detected a custom API key in your environment"),BH.default.createElement($,null,BH.default.createElement($,{bold:!0},"ANTHROPIC_API_KEY"),BH.default.createElement($,null,": sk-ant-...",A)),BH.default.createElement($,null,"Do you want to use this API key?"),BH.default.createElement(x0,{defaultValue:"no",defaultFocusValue:"no",options:[{label:"Yes",value:"yes"},{label:BH.default.createElement($,null,"No (",BH.default.createElement($,{bold:!0},"recommended"),")"),value:"no"}],onChange:(Z)=>B(Z),onCancel:()=>B("no")})),BH.default.createElement(T,{marginLeft:3},BH.default.createElement($,{dimColor:!0},G.pending?BH.default.createElement(BH.default.Fragment,null,"Press ",G.keyName," again to exit"):BH.default.createElement(BH.default.Fragment,null,"Enter to confirm ",tA.dot," Esc to cancel"))))}var BH;var JS0=w(()=>{kA();IQ();b8();U9();I2();BH=c(JA(),1)});function LC9(A,Q){let[B,G]=bC1.useState(!1);return bC1.useEffect(()=>{G(!1);let Z=setTimeout(()=>{G(!0)},A);return()=>clearTimeout(Z)},[A,Q]),B}var bC1;var OC9=w(()=>{bC1=c(JA(),1)});async function Uq7(){try{let A=["https://api.anthropic.com/api/hello","https://console.anthropic.com/v1/oauth/hello"],Q=async(Z)=>{try{let Y=await fQ.get(Z,{headers:{"User-Agent":Kn()}});if(Y.status!==200)return{success:!1,error:`Failed to connect to ${new URL(Z).hostname}: Status ${Y.status}`};return{success:!0}}catch(Y){return{success:!1,error:`Failed to connect to ${new URL(Z).hostname}: ${Y instanceof Error?Y.code||Y.message:String(Y)}`}}},G=(await Promise.all(A.map(Q))).find((Z)=>!Z.success);if(G)p("tengu_preflight_check_failed",{isConnectivityError:!1,hasErrorMessage:!!G.error});return G||{success:!0}}catch(A){return s(A),p("tengu_preflight_check_failed",{isConnectivityError:!0}),{success:!1,error:`Connectivity check error: ${A instanceof Error?A.code||A.message:String(A)}`}}}function MC9({onSuccess:A}){let[Q,B]=GH.useState(null),[G,Z]=GH.useState(!0),Y=LC9(1000)&&G;return GH.useEffect(()=>{async function J(){let X=await Uq7();B(X),Z(!1)}J()},[]),GH.useEffect(()=>{if(Q?.success)A();else if(Q&&!Q.success){let J=setTimeout(()=>process.exit(1),100);return()=>clearTimeout(J)}},[Q,A]),GH.default.createElement(T,{flexDirection:"column",gap:1,paddingLeft:1},G&&Y?GH.default.createElement(T,{paddingLeft:1},GH.default.createElement(_9,null),GH.default.createElement($,null,"Checking connectivity...")):!Q?.success&&!G&&GH.default.createElement(T,{flexDirection:"column",gap:1},GH.default.createElement($,{color:"error"},"Unable to connect to Anthropic services"),GH.default.createElement($,{color:"error"},Q?.error),GH.default.createElement(T,{flexDirection:"column",gap:1},GH.default.createElement($,null,"Please check your internet connection and network settings."),GH.default.createElement($,null,"Note: Claude Code might not be available in your country. Check supported countries at"," ",GH.default.createElement($,{color:"suggestion"},"https://anthropic.com/supported-countries")))))}var GH;var RC9=w(()=>{kA();wz();f1();xG();OC9();Z0();f5();GH=c(JA(),1)});function hC1(){let[A]=aB(),Q="Welcome to Claude Code";if(n0.terminal==="Apple_Terminal")return s0.default.createElement(qq7,{theme:A,welcomeMessage:"Welcome to Claude Code"});if(["light","light-daltonized","light-ansi"].includes(A))return s0.default.createElement(T,{width:fC1},s0.default.createElement($,null,s0.default.createElement($,null,s0.default.createElement($,{color:"claude"},"Welcome to Claude Code"," "),s0.default.createElement($,{dimColor:!0},"v",{ISSUES_EXPLAINER:"report the issue at https://github.com/anthropics/claude-code/issues",PACKAGE_URL:"@anthropic-ai/claude-code",README_URL:"https://code.claude.com/docs/en/overview",VERSION:"2.1.5",FEEDBACK_CHANNEL:"https://github.com/anthropics/claude-code/issues",BUILD_TIME:"2026-01-11T21:29:41Z"}.VERSION," ")),s0.default.createElement($,null,"
")))}var s0,fC1=58;var XS0=w(()=>{kA();h3();s0=c(JA(),1)});function _C9({onDone:A}){let[Q,B]=U3.useState(0),G=Pq(),[Z,Y]=aB();U3.useEffect(()=>{p("tengu_began_setup",{oauthEnabled:G})},[G]);function J(){if(Q<F.length-1){let H=Q+1;B(H),p("tengu_onboarding_step",{oauthEnabled:G,stepId:F[H]?.id})}else A()}function X(H){Y(H),J()}let I=_Q();Y0(async(H,E)=>{let z=F[Q];if(E.return&&z&&z.id==="security")if(Q===F.length-1){A();return}else J();else if(E.escape&&z?.id==="terminal-setup")J()});let W=U3.default.createElement(zzA,{initialTheme:Z,onThemeSelect:X,showIntroText:!0,helpText:"To change this later, run /theme",hideEscToCancel:!0,skipExitHandling:!0}),D=U3.default.createElement(T,{flexDirection:"column",gap:1,paddingLeft:1},U3.default.createElement($,{bold:!0},"Security notes:"),U3.default.createElement(T,{flexDirection:"column",width:70},U3.default.createElement(O_A,null,U3.default.createElement(O_A.Item,null,U3.default.createElement($,null,"Claude can make mistakes"),U3.default.createElement($,{dimColor:!0,wrap:"wrap"},"You should always review Claude's responses, especially when",U3.default.createElement(xW,null),"running code.",U3.default.createElement(xW,null))),U3.default.createElement(O_A.Item,null,U3.default.createElement($,null,"Due to prompt injection risks, only use it with code you trust"),U3.default.createElement($,{dimColor:!0,wrap:"wrap"},"For more details see:",U3.default.createElement(xW,null),U3.default.createElement(Q9,{url:"https://code.claude.com/docs/en/security"}))))),U3.default.createElement(wzA,null)),K=U3.default.createElement(MC9,{onSuccess:J}),V=U3.useMemo(()=>{if(!process.env.ANTHROPIC_API_KEY)return"";let H=WL(process.env.ANTHROPIC_API_KEY);if(ieA(H)==="new")return H},[]),F=[];if(G)F.push({id:"preflight",component:K});if(F.push({id:"theme",component:W}),G)F.push({id:"oauth",component:U3.default.createElement(Ys,{onDone:J})});if(V)F.push({id:"api-key",component:U3.default.createElement(kC1,{customApiKeyTruncated:V,onDone:J})});if(F.push({id:"security",component:D}),T_A())F.push({id:"terminal-setup",component:U3.default.createElement(T,{flexDirection:"column",gap:1,paddingLeft:1},U3.default.createElement($,{bold:!0},"Use Claude Code's terminal setup?"),U3.default.createElement(T,{flexDirection:"column",width:70,gap:1},U3.default.createElement($,null,"For the optimal coding experience, enable the recommended settings",U3.default.createElement(xW,null),"for your terminal:"," ",n0.terminal==="Apple_Terminal"?"Option+Enter for newlines and visual bell":"Shift+Enter for newlines"),U3.default.createElement(x0,{options:[{label:"Yes, use recommended settings",value:"install"},{label:"No, maybe later with /terminal-setup",value:"no"}],onChange:(H)=>{if(H==="install")zQ0(Z).catch(()=>{}).finally(J);else J()},onCancel:()=>J()}),U3.default.createElement($,{dimColor:!0},I.pending?U3.default.createElement(U3.default.Fragment,null,"Press ",I.keyName," again to exit"):U3.default.createElement(U3.default.Fragment,null,"Enter to confirm