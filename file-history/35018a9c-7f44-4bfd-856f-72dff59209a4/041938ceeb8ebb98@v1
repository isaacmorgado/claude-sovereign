export type AudioJobType = 'transcription' | 'vocal_isolation'

export type AudioJobStatus = 'pending' | 'processing' | 'completed' | 'failed'

export interface AudioJob {
  id: string
  user_id: string
  job_type: AudioJobType
  status: AudioJobStatus
  audio_url: string
  audio_duration_minutes: number
  progress: number
  result_url: string | null
  result_data: Record<string, unknown> | null
  error_message: string | null
  created_at: Date
  updated_at: Date
  completed_at: Date | null
}

export interface AudioJobPublic {
  id: string
  jobType: AudioJobType
  status: AudioJobStatus
  audioDurationMinutes: number
  resultUrl: string | null
  resultData: Record<string, unknown> | null
  errorMessage: string | null
  createdAt: Date
  completedAt: Date | null
}

export interface CreateAudioJobInput {
  userId: string
  jobType: AudioJobType
  audioUrl: string
  audioDurationMinutes: number
}

export interface TranscriptionResult {
  text: string
  segments: TranscriptionSegment[]
  language: string
  confidence: number
}

export interface TranscriptionSegment {
  start: number
  end: number
  text: string
  confidence: number
}

export interface VocalIsolationResult {
  vocalsUrl: string
  instrumentalUrl: string
}

export interface AudioJobQueueData {
  jobId: string
  userId: string
  audioUrl: string
  audioDurationMinutes: number
}
