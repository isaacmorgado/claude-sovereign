<?xml version="1.0" encoding="UTF-8"?>
<ExtensionManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   ExtensionBundleId="com.splice.panel"
                   ExtensionBundleVersion="6.0.8"
                   Version="12.0">

    <ExtensionList>
        <Extension Id="com.splice.panel.main" Version="6.0.8"/>
    </ExtensionList>

    <ExecutionEnvironment>
        <HostList>
            <!-- Support Premiere Pro 2023 (v23) through 2026+ -->
            <Host Name="PPRO" Version="[23.0,99.9]"/>
        </HostList>
        <LocaleList>
            <Locale Code="All"/>
        </LocaleList>
        <RequiredRuntimeList>
            <!-- Support multiple CEP versions for broader compatibility -->
            <RequiredRuntime Name="CSXS" Version="10.0"/>
            <RequiredRuntime Name="CSXS" Version="11.0"/>
            <RequiredRuntime Name="CSXS" Version="12.0"/>
        </RequiredRuntimeList>
    </ExecutionEnvironment>

    <DispatchInfoList>
        <Extension Id="com.splice.panel.main">
            <DispatchInfo>
                <Resources>
                    <MainPath>./panel/index.html</MainPath>
                    <ScriptPath>./jsx/hostScript.jsx</ScriptPath>
                    <CEFCommandLine>
                        <!-- FireCut-style CEF flags for maximum compatibility -->
                        <Parameter>--allow-file-access</Parameter>
                        <Parameter>--allow-file-access-from-files</Parameter>
                        <Parameter>--enable-nodejs</Parameter>
                        <Parameter>--mixed-context</Parameter>
                        <Parameter>--disable-web-security</Parameter>
                        <Parameter>--allow-running-insecure-content</Parameter>
                        <Parameter>--allow-insecure-localhost</Parameter>
                        <Parameter>--enable-local-file-accesses</Parameter>
                    </CEFCommandLine>
                </Resources>
                <AccessList>
                    <URLAccess>
                        <!-- Production API -->
                        <URL>https://splice-api-production.up.railway.app</URL>
                        <!-- Web domains -->
                        <URL>https://spliceclips.com</URL>
                        <URL>https://splice.video</URL>
                        <URL>https://www.spliceclips.com</URL>
                        <URL>https://www.splice.video</URL>
                        <!-- Local development -->
                        <URL>http://localhost</URL>
                        <URL>https://localhost</URL>
                        <!-- CDN and assets -->
                        <URL>https://fonts.googleapis.com</URL>
                        <URL>https://fonts.gstatic.com</URL>
                        <!-- Allow all for broader compatibility -->
                        <URL>*</URL>
                    </URLAccess>
                </AccessList>
                <Lifecycle>
                    <AutoVisible>true</AutoVisible>
                </Lifecycle>
                <UI>
                    <Type>Panel</Type>
                    <Menu>SPLICE - AI Video Editor</Menu>
                    <Geometry>
                        <Size>
                            <Height>800</Height>
                            <Width>400</Width>
                        </Size>
                        <MinSize>
                            <Height>400</Height>
                            <Width>300</Width>
                        </MinSize>
                        <MaxSize>
                            <Height>2000</Height>
                            <Width>800</Width>
                        </MaxSize>
                    </Geometry>
                    <Icons>
                        <Icon Type="Normal">./panel/icons/icon-light.png</Icon>
                        <Icon Type="DarkNormal">./panel/icons/icon-dark.png</Icon>
                    </Icons>
                </UI>
            </DispatchInfo>
        </Extension>
    </DispatchInfoList>
</ExtensionManifest>
