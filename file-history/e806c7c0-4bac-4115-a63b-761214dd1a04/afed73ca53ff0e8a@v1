# LOOKSMAXX API - Railway Deployment Notes

## Quick Deploy Steps

Run these commands in your terminal:

```bash
cd /Users/imorgado/LOOKSMAXX/looksmaxx-api

# 1. Login to Railway (opens browser)
railway login

# 2. Create new project
railway init --name looksmaxx-api

# 3. Add PostgreSQL database
railway add --database postgres

# 4. Deploy
railway up
```

## Environment Variables to Configure Later

After deployment, go to Railway dashboard and add these variables:

### Required
- `JWT_SECRET` - Generate with: `openssl rand -hex 32`
- `FRONTEND_URL` - Your Vercel URL (e.g., https://looksmaxx.vercel.app)

### Stripe (when ready for payments)
- `STRIPE_SECRET_KEY` - From Stripe dashboard (sk_live_... or sk_test_...)
- `STRIPE_WEBHOOK_SECRET` - Create webhook in Stripe pointing to https://your-railway-url/payments/webhook

### Optional (S3 for image storage)
- `AWS_ACCESS_KEY_ID`
- `AWS_SECRET_ACCESS_KEY`
- `S3_BUCKET`
- `S3_REGION`

## Frontend Configuration

After Railway deployment, update frontend `.env.local`:

```env
DETECTION_API_URL=https://your-app.railway.app
NEXT_PUBLIC_API_URL=https://your-app.railway.app
```

## API Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/health` | GET | Health check |
| `/auth/register` | POST | Create account |
| `/auth/login` | POST | Get JWT token |
| `/auth/me` | GET | Get current user |
| `/detection/side` | POST | Side profile landmarks |
| `/analyses` | GET/POST | List/create analyses |
| `/payments/checkout` | POST | Stripe checkout |
