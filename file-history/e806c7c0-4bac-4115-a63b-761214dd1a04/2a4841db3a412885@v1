# Plan: Complete Human.js Revert + Side Profile Detection Alternatives

## Current State Analysis

The Human.js integration was partially reverted but LandmarkAnalysisTool.tsx still has Frankfort Plane code referencing `result.frankfortPlane` which no longer exists in the DetectedLandmarks interface.

**Already completed:**
- ✅ Uninstalled @vladmandic/human package
- ✅ Deleted humanDetection.ts
- ✅ Reverted next.config.mjs
- ✅ Reverted mediapipeDetection.ts (no Human.js imports)

**Still needs fixing:**
- ❌ LandmarkAnalysisTool.tsx has orphaned Frankfort Plane code

## Part 1: Complete the Revert

### Files to modify:

**src/components/LandmarkAnalysisTool.tsx**
- Remove `frankfortPlane` state (lines 87-91)
- Remove `setFrankfortPlane(null)` reset (line 319)
- Remove Frankfort Plane capture logic (lines 338-341)
- Remove Frankfort Plane SVG visualization (lines 755-812)

## Part 2: Side Profile Detection Alternatives

After revert, the current detection hierarchy is:
1. MediaPipe Face Mesh → works for frontal only
2. Edge-based detection (sideProfileDetection.ts) → fallback for side profiles

### Potential improvements for side profile (no new dependencies):

1. **Improve edge detection tuning**
   - Adjust Sobel thresholds for better contour detection
   - Add background contrast detection
   - Fine-tune anchor point heuristics

2. **Accept manual placement for side profiles**
   - Show clearer guidance that side profiles need manual adjustment
   - Pre-populate with reasonable defaults based on face box

3. **Use face-api.js** (smaller/simpler than Human.js)
   - MIT licensed, browser-compatible
   - BUT: Also has 68 landmarks only, may have same issue with side profiles

### Recommended approach:
Accept that client-side side profile detection is limited. Focus on excellent manual placement UX with good reference images (already implemented).
