# SPLICE Continuation Prompt

## Context
SPLICE pricing update complete. Live on Stripe with new tier structure and influencer commission tracking.

## New Pricing (Live)
| Tier | Monthly | Annual | Hours | Music |
|------|---------|--------|-------|-------|
| Starter | $15 | $144 | 4 hrs | 2 songs |
| Pro | $39 | $374 | 15 hrs | 10 songs |
| Team | $129 | $1,238 | 50 hrs | 50 songs |

Overages: $2/hr, $1/song (metered billing via Stripe)

## JIMMYN Affiliate
- Code: `JIMMYN`
- Discount: 30% off first month only
- Commission: 20% of first payment
- Payout email: `jimmyn@example.com` (update with real email)
- Commission auto-recorded on invoice.payment_succeeded webhook

## Commission Tracking Functions
```javascript
// Record commission when payment made
await referralService.recordAffiliateCommission('JIMMYN', customerId, amountPaid, tier);

// Get affiliate earnings
const earnings = await referralService.getAffiliateEarnings('JIMMYN');
// { totalReferrals, totalEarned, pendingPayout, paidOut, recentCommissions }

// Mark commissions as paid
await referralService.markCommissionsPaid('JIMMYN');
```

## What's Done
- All Stripe products/prices created (live mode)
- Usage meters configured for overage billing
- JIMMYN coupon: 30% off first month only
- Webhook endpoint: `splice-api-production.up.railway.app/webhooks/stripe`
- Affiliate commission tracking in PostgreSQL
- Auto-commission recording on payments with affiliate coupons

## To Deploy
1. Push backend to Railway
2. Push website to Vercel
3. Test checkout flow with real card
4. Update JIMMYN payout email in `referralService.js`
