# LOOKSMAXX Continuation Prompt

## Context
Major refactoring completed (2025-12-25). Monolithic files split into modular structure. FaceIQ branding removed. Need E2E verification.

## Tasks

### 1. Run E2E Tests
```bash
cd looksmaxx-app
npx ts-node test-full-simulation.ts
npx ts-node test-demographic-scoring.ts
npx ts-node scripts/test-male-analysis.ts
npx ts-node scripts/test-female-analysis.ts
```

### 2. Verify Scoring Parity
- **Bezier curves**: 66 curves in `src/lib/bezier-curves.ts`
- **Decay rates**: 0.08-0.30 range in `src/lib/data/metric-configs.ts`
- **Demographics**: 16 overrides in `src/lib/data/demographic-overrides.ts`
- **PSL mapping**: `src/lib/recommendations/severity.ts:577-630`

### 3. Check Bottlenecks
- `/results` page: 380 kB bundle - check for tree-shaking opportunities
- `ResultsContext.tsx`: 2034 LOC, 13 useMemo hooks - consider splitting Data/UI contexts
- `src/lib/results/analysis.ts`: PROCEDURE_DATABASE (~600 LOC) - lazy load?

### 4. Verify Live Site
Test at https://looksmaxx-app.vercel.app:
- Upload front + side photos
- Check harmony score, PSL rating, percentile
- Verify strengths/flaws classification
- Check recommendations accuracy

## Key Files
```
src/lib/harmony-scoring.ts           # Barrel export
src/lib/scoring/calculator.ts        # calculateMetricScore, Bezier interpolation
src/lib/scoring/analyzer.ts          # analyzeFrontProfile, analyzeSideProfile
src/lib/data/metric-configs.ts       # METRIC_CONFIGS (70+ metrics)
src/lib/data/demographic-overrides.ts # DEMOGRAPHIC_OVERRIDES
src/contexts/ResultsContext.tsx      # Results state (needs Data/UI split)
```

## Verify
```bash
npm run lint && npx tsc --noEmit && npm run build
```

## URLs
- Frontend: https://looksmaxx-app.vercel.app
- API: https://api-production-6148.up.railway.app
