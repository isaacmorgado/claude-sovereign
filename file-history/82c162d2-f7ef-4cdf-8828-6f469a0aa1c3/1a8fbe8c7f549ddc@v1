#!/bin/bash
# Apply the FIXED tweakcc customizations (Unicode issue resolved!)

echo ""
echo "🎨 ═══════════════════════════════════════════════════════════"
echo "   Applying FIXED tweakcc customizations"
echo "   ✓ Custom CLAUDE ASCII art with horns (Unicode fixed!)"
echo "   ✓ Matrix green color theme"
echo "═══════════════════════════════════════════════════════════"
echo ""
echo "⚠️  This will stop any running Claude Code processes"
echo "⚠️  Requires sudo password"
echo ""

# Kill Claude processes
echo "Stopping Claude Code..."
pkill -f "claude" 2>/dev/null || true
sleep 2

# Apply patch
echo ""
echo "Applying patch..."
cd /tmp/tweakcc && sudo bun run dist/index.mjs --apply

echo ""
echo "✅ Patch applied successfully!"
echo ""
echo "🚀 Testing Claude Code..."
clauded --version 2>&1 | head -3

echo ""
echo "══════════════════════════════════════════════════════════"
echo "🎉 All done! Start Claude Code with: clauded"
echo "══════════════════════════════════════════════════════════"
echo ""
