import { extractClaudeJsFromNativeInstallation } from '/tmp/tweakcc/dist/nativeInstallation-DBmBL-fs.mjs';
import { writeFileSync } from 'fs';

const claudePath = '/opt/homebrew/bin/claude';
const outputPath = '/tmp/claude-cli.js';

try {
  console.log('Extracting cli.js from Claude Code binary...');
  const cliJs = extractClaudeJsFromNativeInstallation(claudePath);
  writeFileSync(outputPath, cliJs);
  console.log(`âœ“ Extracted cli.js to ${outputPath}`);
  console.log(`  Size: ${(cliJs.length / 1024 / 1024).toFixed(2)} MB`);
} catch (error) {
  console.error('Error extracting cli.js:', error);
  process.exit(1);
}
