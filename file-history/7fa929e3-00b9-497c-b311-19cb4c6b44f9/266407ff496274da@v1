# SPLICE CEP Extension - Complete Test Guide for Danny

**Version:** 6.0.8
**Test Date:** January 12, 2026
**Backend:** https://splice-api-production.up.railway.app (‚úÖ Healthy)

---

## Quick Status Check

Before starting any tests, verify these basics:

### 1. Panel Loads Successfully

**Expected:**
- Panel appears in Window > Extensions > SPLICE
- Loading animation shows briefly (antigravity loader)
- Status bar shows "Ready" or "Initializing..."
- GO button is visible and clickable
- Credit badge shows "Login" (if not logged in)

**If panel doesn't appear:**
1. Check if Premiere Pro is version 23.0 or later
2. Restart Premiere Pro
3. Enable CEP debug mode (run `/Library/Application Support/Adobe/CEP/extensions/com.splice.panel/enable-debug.sh`)
4. Check Chrome Remote Debugger: http://localhost:8092/

### 2. Debug Button Test

1. Click the **üîç Debug** button (top right)
2. Click "Run Diagnostics"
3. Wait for all tests to complete

**Expected Results:**
- ‚úì CSInterface available
- ‚úì JSX connection OK
- ‚úì ExtendScript JSX loaded (getVersion exists)
- ‚úì Backend reachable
- ‚úì QE DOM available (if in Premiere 2024+)

**If diagnostics fail:**
- Copy diagnostic logs and send to support
- Check that backend URL is correct (should be production Railway URL)

---

## Feature Testing Checklist

### Test Sequence Setup

Create a test sequence first:
1. Create new sequence in Premiere (File > New > Sequence)
2. Import a video clip with audio (1-5 minutes recommended)
3. Drag clip to timeline
4. Make sequence active (click on sequence tab)

---

## Test 1: AI Silence Detection ‚ö°

**What it does:** Detects speech vs silence, marks clips, optionally removes silences

**Steps:**
1. Open SPLICE panel
2. Click **Options** to expand settings
3. Verify settings:
   - Preset: Podcast
   - Sensitivity: 50 (default)
   - Audio Source: Original Audio (checked)
   - Detect Takes: checked
4. Click **GO** button

**Expected Behavior:**
1. Status changes to "Analyzing audio..."
2. Progress bar appears
3. Backend processes audio (30-120 seconds for 5min video)
4. Preview appears showing:
   - Green bars = Speech segments
   - Red bars = Silence segments
   - Numbers showing silence/take counts
5. "Apply Changes" button becomes available

**Success Criteria:**
- ‚úÖ Audio successfully uploads to backend
- ‚úÖ AI detection completes without errors
- ‚úÖ Silences are detected and marked
- ‚úÖ Timeline clips are colored (optional, if applied)

**If it fails:**
- Check backend connectivity (Debug > Run Diagnostics)
- Verify license key is valid and has credits
- Check browser console for errors (http://localhost:8092/)

---

## Test 2: Authentication & Credits üîê

**What it does:** Validates license keys, tracks usage, shows credit balance

**Steps:**
1. Click **Credit Badge** (top right, shows "Login")
2. Login modal appears
3. Enter test license key: `SPLICE-82CF-4ZAQ-66F6` (Starter tier)
4. Click Login

**Expected Behavior:**
1. "Authenticating..." message shows
2. Success message: "Login successful"
3. Credit badge updates to show credit balance (e.g., "25 credits")
4. Panel remembers login across sessions

**Test License Keys:**
- **Starter:** `SPLICE-82CF-4ZAQ-66F6` (4h processing, 5 music credits)
- **Pro:** `SPLICE-7XWQ-VE7Y-MDJN` (15h + 45min isolation, 20 music credits)
- **Team:** `SPLICE-7DVR-4AEU-W8BU` (50h + 3h isolation, 100 music credits)

**Success Criteria:**
- ‚úÖ License key validates successfully
- ‚úÖ Credit balance displays correctly
- ‚úÖ Auth token persists in localStorage
- ‚úÖ Logged-in state persists after panel reload

**If authentication fails:**
- Check backend /auth/login endpoint (use Debug > API Test)
- Verify CSRF token is being sent
- Check network tab in Chrome debugger for 401/403 errors

---

## Test 3: AI Music Generation üéµ

**What it does:** Generates AI music tracks from text prompts using Replicate

**Steps:**
1. Scroll to **Music** section
2. Click to expand music panel
3. Enter a prompt: "upbeat electronic background music"
4. Select duration: 30 seconds
5. Click "Generate Music"

**Expected Behavior:**
1. Status: "Generating music... (this may take 2-3 minutes)"
2. Progress updates show generation status
3. Music file generates on backend
4. Audio file downloads automatically
5. Audio appears in Project panel as "AI Music - [prompt].mp3"
6. Credits deduct by 1

**Success Criteria:**
- ‚úÖ Music generation starts without error
- ‚úÖ Progress updates in real-time
- ‚úÖ Audio file downloads successfully
- ‚úÖ File imports to Premiere project
- ‚úÖ Credit balance decrements

**If it fails:**
- Check if credits > 0 (music requires 1 credit per generation)
- Verify Replicate API is working (backend logs)
- Check if R2 storage is accessible (backend health check)

---

## Test 4: Animated Captions üìù

**What it does:** Auto-transcribes speech and creates animated captions

**Steps:**
1. Scroll to **Animated Captions** section
2. Click to expand
3. Select style: "Fade In"
4. Font: Arial
5. Click "Generate Captions"

**Expected Behavior:**
1. Audio extracts from sequence
2. Uploads to backend for transcription (OpenAI Whisper)
3. Transcription completes (30-60 seconds per minute of audio)
4. Caption graphics created in Premiere
5. Graphics track added to sequence with timed captions

**Success Criteria:**
- ‚úÖ Audio transcription accurate (>90% word accuracy)
- ‚úÖ Captions sync perfectly with audio timing
- ‚úÖ Animation style applies correctly
- ‚úÖ Font and color match settings

**If it fails:**
- Check OpenAI API key is configured (backend)
- Verify sequence has audio
- Check that Graphics track can be created (QE DOM available)

---

## Test 5: Text-Based Editing ‚úÇÔ∏è

**What it does:** Edit video by editing transcript text (like Descript)

**Steps:**
1. Scroll to **Text Editor** section
2. Click to expand
3. Click "Transcribe Sequence"
4. Wait for transcript to load
5. Edit text: delete a word or sentence
6. Click "Apply Edits to Timeline"

**Expected Behavior:**
1. Sequence transcribes using OpenAI Whisper
2. Transcript loads with word-level timestamps
3. Text becomes editable
4. Deletions in text remove corresponding clips from timeline
5. Remaining clips shift to close gaps

**Success Criteria:**
- ‚úÖ Transcript loads with accurate text
- ‚úÖ Word-level timestamps are precise (<100ms error)
- ‚úÖ Edits apply correctly to timeline
- ‚úÖ No audio/video desync after edits

**If it fails:**
- Check backend transcription endpoint
- Verify sequence has audio with speech
- Check JSX functions for clip manipulation

---

## Test 6: Social Reframe üì±

**What it does:** Auto-reframes 16:9 video to 9:16 portrait for social media

**Steps:**
1. Scroll to **Social Reframe** section
2. Click to expand
3. Select aspect ratio: 9:16 (Portrait)
4. Position: Center
5. Click "Create Reframe Sequence"

**Expected Behavior:**
1. New sequence creates with 9:16 dimensions (1080x1920)
2. Original clips copy to new sequence
3. Position/Scale effects apply to center subject
4. Motion tracking keeps subject framed (if enabled)

**Success Criteria:**
- ‚úÖ New sequence creates successfully
- ‚úÖ Aspect ratio matches selection
- ‚úÖ Clips reposition correctly
- ‚úÖ No quality loss or artifacts

---

## Backend API Test

You can test backend connectivity directly from the panel:

### Manual API Test

1. Open Debug Modal (üîç button)
2. Click "API Test" tab
3. Test endpoints:
   - `GET /health` (should return 200)
   - `POST /auth/login` (with test license key)
   - `GET /billing/credits` (with auth token)

### Chrome Remote Debugger

Access full console logs:
1. Open Chrome browser
2. Navigate to: http://localhost:8092/
3. Click on "SPLICE" panel link
4. Open Console tab
5. Look for `[SPLICE]` log entries

**What to look for:**
- ‚úÖ No red errors in console
- ‚úÖ API requests return 200 OK
- ‚úÖ Authentication tokens present in localStorage
- ‚úÖ JSX calls complete without "undefined" errors

---

## Common Issues & Solutions

### Issue 1: Panel Not Loading

**Symptoms:**
- Panel doesn't appear in Extensions menu
- Blank white screen
- "Extension not found" error

**Solutions:**
1. Verify installation:
   ```bash
   ls -la "/Library/Application Support/Adobe/CEP/extensions/com.splice.panel/"
   ```
   Should show: CSXS/, panel/, jsx/, .debug file

2. Enable CEP debug mode:
   ```bash
   defaults write com.adobe.CSXS.12 PlayerDebugMode 1
   ```

3. Check manifest.xml version matches Premiere version
4. Restart Premiere Pro

### Issue 2: GO Button Does Nothing

**Symptoms:**
- Click GO, nothing happens
- No status change
- No errors visible

**Solutions:**
1. Check sequence is active (not just open)
2. Run diagnostics (Debug button)
3. Check browser console for JavaScript errors
4. Verify backend is reachable (try CURL test below)

**CURL Test:**
```bash
curl -I https://splice-api-production.up.railway.app/health
# Should return: HTTP/2 200
```

### Issue 3: Authentication Fails

**Symptoms:**
- "Invalid license key" error
- "Authentication failed" error
- Credits don't show after login

**Solutions:**
1. Verify license key format (SPLICE-XXXX-XXXX-XXXX)
2. Check backend auth endpoint:
   ```bash
   curl -X POST https://splice-api-production.up.railway.app/auth/csrf-token
   # Should return CSRF token
   ```
3. Clear localStorage and try again:
   - Open Chrome debugger (localhost:8092)
   - Application > Local Storage
   - Delete "spliceAuthToken"
4. Check backend logs for auth errors

### Issue 4: AI Features Timeout

**Symptoms:**
- "Request timeout" errors
- Spinner never stops
- No results after 5+ minutes

**Solutions:**
1. Check backend health:
   ```bash
   curl https://splice-api-production.up.railway.app/health
   ```
2. Verify credits available (some features require credits)
3. Check sequence isn't too long (>30min may timeout)
4. Try shorter clip first (1-2 minutes)
5. Check backend workers are running (Redis + BullMQ)

### Issue 5: JSX Communication Fails

**Symptoms:**
- "JSX connection failed" in diagnostics
- "getVersion is not a function" errors
- ExtendScript errors in Premiere

**Solutions:**
1. Verify hostScript.jsx is loaded:
   ```bash
   ls "/Library/Application Support/Adobe/CEP/extensions/com.splice.panel/jsx/hostScript.jsx"
   ```
2. Check manifest.xml has correct ScriptPath
3. Look for JSX errors in ExtendScript Toolkit console
4. Restart Premiere Pro

---

## Performance Benchmarks

**Expected processing times:**

| Feature | 1-min Video | 5-min Video | 30-min Video |
|---------|-------------|-------------|--------------|
| **Silence Detection** | 15-30s | 60-90s | 5-8min |
| **Music Generation** | 60-120s | N/A | N/A |
| **Transcription** | 10-20s | 40-60s | 3-5min |
| **Animated Captions** | 30-45s | 2-3min | 10-15min |
| **Social Reframe** | 5-10s | 15-30s | 1-2min |

*Times may vary based on network speed and backend load*

---

## What To Report If Something Fails

If you encounter issues, collect this information:

### 1. System Info
- Premiere Pro version: (e.g., 25.1.0)
- macOS version: (e.g., Sonoma 14.2)
- Panel version: 6.0.8 (shown in Settings)

### 2. Diagnostic Logs
- Click Debug button (üîç)
- Run "Run Diagnostics"
- Copy all diagnostic output
- Save to file

### 3. Browser Console Logs
- Open http://localhost:8092/
- Click SPLICE panel
- Open Console tab
- Copy all `[SPLICE]` log entries
- Include any red errors

### 4. Backend Test
```bash
# Test backend connectivity
curl -I https://splice-api-production.up.railway.app/health

# Test auth endpoint
curl -X POST https://splice-api-production.up.railway.app/auth/csrf-token
```

### 5. Screenshot
- Take screenshot of the panel showing the issue
- Include any error messages visible

---

## Expected Behavior Summary

‚úÖ **Panel loads within 2 seconds**
‚úÖ **GO button triggers silence detection successfully**
‚úÖ **Authentication works with test license keys**
‚úÖ **Credits display correctly after login**
‚úÖ **AI features complete without timeout**
‚úÖ **Music generates and imports to project**
‚úÖ **Transcription accuracy >90%**
‚úÖ **No JavaScript errors in console**
‚úÖ **Backend returns 200 OK for all requests**
‚úÖ **JSX communication works reliably**

---

## Contact for Issues

If tests fail:
1. Save diagnostic logs
2. Copy browser console output
3. Take screenshots of errors
4. Note which test failed
5. Send all info to: support@splice.video

Include:
- Test number that failed (e.g., "Test 3: Music Generation")
- Exact error message
- Diagnostic logs from Debug button
- System info (Premiere version, macOS version)

---

**Testing completed by:** _________________
**Date:** _________________
**Result:** ‚òê All Pass  ‚òê Some Failures (specify): _________________

