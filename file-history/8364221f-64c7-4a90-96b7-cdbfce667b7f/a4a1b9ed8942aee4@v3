# ğŸ¤ Automated Vocal Separation Tool

Automatically separate vocals from music using AI with smart naming and organization in MediaVault_v2.

**Two quality options available:**
- **Standard Quality** (`separate.sh`) - Fast processing (~2 min) using Demucs
- **High Quality** (`separate_hq.sh`) - Best quality (~6 min) using BS-Roformer + MelBand Roformer

## ğŸ¯ Quick Start

### Option 1: Standard Quality (Fast - Recommended for Quick Results)

```bash
cd ~/Desktop/tools

# Basic usage (auto-detects song name from filename)
./separate.sh song.mp3

# With custom song name
./separate.sh song.mp3 "Artist - Song Title"

# Directly from YouTube (auto-fetches title)
./separate.sh https://youtu.be/VIDEO_ID

# YouTube with custom name
./separate.sh https://youtu.be/VIDEO_ID "Artist - Song Title"
```

### Option 2: High Quality (Best Quality - Studio Grade)

```bash
cd ~/Desktop/tools

# Basic usage - highest quality separation
./separate_hq.sh song.mp3

# With custom song name
./separate_hq.sh song.mp3 "Artist - Song Title"

# Directly from YouTube
./separate_hq.sh https://youtu.be/VIDEO_ID

# YouTube with custom name
./separate_hq.sh https://youtu.be/VIDEO_ID "Artist - Song Title"
```

**Quality Comparison:**
| Feature | Standard (`separate.sh`) | High Quality (`separate_hq.sh`) |
|---------|-------------------------|--------------------------------|
| Processing Time | ~2 minutes | ~6 minutes |
| AI Model | Demucs htdemucs | BS-Roformer + MelBand Roformer |
| Vocal Quality (SDR) | ~8.0 | 12.1 - 12.6 |
| Instrumental Quality (SDR) | ~11.0 | 16.3 |
| Output Folder | `separated_vocals` | `separated_vocals_HQ` |
| Number of Tracks | 2 (vocals, instrumental) | 3 (vocals BS, vocals MB, instrumental) |

### Method 2: Python Script

```bash
cd ~/Desktop/tools

# Basic usage
python3 auto_separate.py song.mp3

# With custom name
python3 auto_separate.py song.mp3 "Artist - Song Title"
```

## ğŸ“ Smart File Organization

All separated vocals are automatically organized in **MediaVault_v2**:

### Standard Quality Output (`separate.sh`)

```
~/Desktop/MediaVault_v2/separated_vocals/
â”œâ”€â”€ 2026-01-14/
â”‚   â”œâ”€â”€ Artist - Song Title/
â”‚   â”‚   â”œâ”€â”€ Artist - Song Title - Vocals.wav
â”‚   â”‚   â”œâ”€â”€ Artist - Song Title - Instrumental.wav
â”‚   â”‚   â”œâ”€â”€ Artist - Song Title - Original.wav
â”‚   â”‚   â””â”€â”€ info.txt
â”‚   â””â”€â”€ Another Song/
â”‚       â”œâ”€â”€ Another Song - Vocals.wav
â”‚       â”œâ”€â”€ Another Song - Instrumental.wav
â”‚       â”œâ”€â”€ Another Song - Original.wav
â”‚       â””â”€â”€ info.txt
â””â”€â”€ 2026-01-15/
    â””â”€â”€ ...
```

### High Quality Output (`separate_hq.sh`)

```
~/Desktop/MediaVault_v2/separated_vocals_HQ/
â”œâ”€â”€ 2026-01-14/
â”‚   â””â”€â”€ Artist - Song Title/
â”‚       â”œâ”€â”€ Artist - Song Title - Vocals (BS-Roformer).wav
â”‚       â”œâ”€â”€ Artist - Song Title - Vocals (MelBand).wav
â”‚       â”œâ”€â”€ Artist - Song Title - Instrumental (BS-Roformer).wav
â”‚       â”œâ”€â”€ Artist - Song Title - Original.wav
â”‚       â””â”€â”€ info.txt
â””â”€â”€ 2026-01-15/
    â””â”€â”€ ...
```

### File Naming Convention

**Standard Quality:**
- **Vocals**: `[Song Name] - Vocals.wav`
- **Instrumental**: `[Song Name] - Instrumental.wav`
- **Original**: `[Song Name] - Original.wav` (backup copy)
- **Metadata**: `info.txt` (processing details)

**High Quality:**
- **Vocals (BS-Roformer)**: `[Song Name] - Vocals (BS-Roformer).wav` - Best balanced quality
- **Vocals (MelBand)**: `[Song Name] - Vocals (MelBand).wav` - Maximum vocal clarity
- **Instrumental**: `[Song Name] - Instrumental (BS-Roformer).wav` - Ultra-clean instrumental
- **Original**: `[Song Name] - Original.wav` (backup copy)
- **Metadata**: `info.txt` (AI models used, quality specs)

## ğŸµ Output Details

Each separated song includes:

1. **Vocals Track** - Isolated singing/voice
2. **Instrumental Track** - Music without vocals
3. **Original Track** - Backup of source file
4. **Info File** - Processing metadata:
   - Song name
   - Processing timestamp
   - Original filename
   - AI model used
   - Audio quality specs

## ğŸ’¡ Usage Examples

### Example 1: YouTube to Karaoke

```bash
# Download and separate (auto-fetches title)
./separate.sh https://youtu.be/_OisNi4FUnk

# Output location:
# ~/Desktop/MediaVault_v2/separated_vocals/2026-01-14/[Video Title]/
#   â”œâ”€â”€ [Video Title] - Instrumental.wav  â† Use this for karaoke!
#   â””â”€â”€ ...
```

### Example 2: Local File with Custom Name

```bash
# Separate with better naming
./separate.sh ~/Music/track.mp3 "The Beatles - Hey Jude"

# Creates:
# ~/Desktop/MediaVault_v2/separated_vocals/2026-01-14/The Beatles - Hey Jude/
#   â”œâ”€â”€ The Beatles - Hey Jude - Vocals.wav
#   â”œâ”€â”€ The Beatles - Hey Jude - Instrumental.wav
#   â””â”€â”€ ...
```

### Example 3: Batch Processing

```bash
# Process multiple files
for file in ~/Music/*.mp3; do
    ./separate.sh "$file"
done

# All organized by date in MediaVault_v2/separated_vocals/
```

## â±ï¸ Processing Time

### Standard Quality (`separate.sh`)
- **3-4 minute songs**: ~2 minutes
- **5+ minute songs**: ~3-5 minutes
- First run downloads Demucs model (~80MB, one-time)
- Mac M1/M2/M3 acceleration enabled

### High Quality (`separate_hq.sh`)
- **3-4 minute songs**: ~6 minutes
- **5+ minute songs**: ~8-12 minutes
- First run downloads BS-Roformer (~350MB) and MelBand (~913MB, one-time)
- Mac M1/M2/M3 acceleration enabled
- Worth the wait for professional-grade quality!

## ğŸ“Š Output Quality

### Standard Quality (`separate.sh`)
- **Format**: WAV (uncompressed, high quality)
- **Sample Rate**: 44.1kHz (CD quality)
- **Bit Depth**: 16-bit stereo
- **File Size**: ~50MB per separated file
- **SDR (Signal-to-Distortion Ratio)**:
  - Vocals: ~8.0 dB
  - Instrumental: ~11.0 dB

### High Quality (`separate_hq.sh`)
- **Format**: WAV (uncompressed, studio quality)
- **Sample Rate**: 44.1kHz (CD quality)
- **Bit Depth**: 16-bit stereo
- **File Size**: ~53-57MB per separated file
- **SDR (Signal-to-Distortion Ratio)**:
  - Vocals (BS-Roformer): 12.1 dB - Best balanced quality
  - Vocals (MelBand): 12.6 dB - Maximum vocal clarity
  - Instrumental: 16.3 dB - Ultra-clean instrumental

**Higher SDR = Better Quality** (Less artifacts, cleaner separation)

## ğŸ¯ Which Script Should I Use?

### Use Standard Quality (`separate.sh`) When:
- You need quick results (2x faster)
- Quality is good enough for casual use
- Testing/experimenting with songs
- Processing many files in batch
- File size matters

### Use High Quality (`separate_hq.sh`) When:
- You need the cleanest possible separation
- Working on professional/commercial projects
- Creating karaoke tracks for performances
- Remixing or sampling for music production
- Vocal analysis or training
- You want to compare two different vocal extractions (BS-Roformer vs MelBand)

## ğŸ”§ Advanced Features

### Use Different AI Models

```bash
# MDX model (alternative quality)
~/Desktop/tools/ultimatevocalremovergui/venv/bin/python -m demucs \
  -n mdx_extra_q \
  --two-stems=vocals \
  -o ~/Desktop/MediaVault_v2/separated_vocals/$(date +%Y-%m-%d)/test \
  song.mp3

# 4-stem separation (vocals, drums, bass, other)
~/Desktop/tools/ultimatevocalremovergui/venv/bin/python -m demucs \
  -o ~/Desktop/MediaVault_v2/separated_vocals/$(date +%Y-%m-%d)/test \
  song.mp3
```

Available models:
- `htdemucs` (default) - Best overall quality
- `htdemucs_ft` - Fine-tuned version
- `mdx_extra_q` - Alternative high quality
- `mdx_extra` - Faster processing

### Convert to MP3 (Smaller Files)

```bash
# Install ffmpeg (one time)
brew install ffmpeg

# Convert WAV to MP3
cd ~/Desktop/MediaVault_v2/separated_vocals/2026-01-14/Song\ Name/
ffmpeg -i "Song Name - Vocals.wav" -b:a 320k "Song Name - Vocals.mp3"
```

### Custom Output Location

```bash
# Edit separate.sh line 18-19:
# Change: MEDIAVAULT="$HOME/Desktop/MediaVault_v2"
# To your preferred location
```

## ğŸ“‚ What's in the Tools Folder

```
~/Desktop/tools/
â”œâ”€â”€ separate.sh                      # â­ Main automation script
â”œâ”€â”€ auto_separate.py                 # Python version
â”œâ”€â”€ youtube_song.wav                 # Downloaded test song
â”œâ”€â”€ ultimatevocalremovergui/         # UVR source code & dependencies
â”‚   â””â”€â”€ venv/                        # Python environment
â””â”€â”€ VOCAL_SEPARATION_README.md       # This file
```

## ğŸ“ Quick Reference

### Command Syntax

```bash
# Bash script
./separate.sh <input_file> [song_name]

# Python script
python3 auto_separate.py <input_file> [song_name]
```

### Supported Input Formats

- **Local files**: .mp3, .wav, .flac, .m4a, .ogg, etc.
- **YouTube URLs**: https://youtu.be/... or https://youtube.com/watch?v=...

### Output Location

All files saved to:
```
~/Desktop/MediaVault_v2/separated_vocals/[DATE]/[SONG_NAME]/
```

## ğŸ› Troubleshooting

### Script Won't Run

```bash
# Fix permissions
chmod +x ~/Desktop/tools/separate.sh

# Fix line endings (if needed)
sed -i '' 's/\r$//' ~/Desktop/tools/separate.sh
```

### GUI App Won't Open

```bash
sudo xattr -rd com.apple.quarantine "/Applications/Ultimate Vocal Remover.app"
```

### Missing Dependencies

```bash
cd ~/Desktop/tools/ultimatevocalremovergui
./venv/bin/pip install demucs torchcodec
```

### Out of Memory

```bash
# Use smaller chunks
~/Desktop/tools/ultimatevocalremovergui/venv/bin/python -m demucs \
  --segment 10 \
  --two-stems=vocals \
  song.mp3
```

## ğŸ¯ Pro Tips

1. **Always provide custom names** for better organization:
   ```bash
   ./separate.sh song.mp3 "Artist - Title"
   ```

2. **YouTube downloads auto-fetch titles**, but you can override:
   ```bash
   ./separate.sh https://youtu.be/ID "Better Name"
   ```

3. **Check info.txt** in each folder for processing details

4. **Original files are preserved** - safe to experiment!

5. **Files organized by date** - easy to find recent work

## ğŸš€ What Makes This Better

âœ… **Two quality tiers** - Fast processing OR best-in-class quality
âœ… **State-of-the-art AI models** - BS-Roformer + MelBand Roformer (2026 leaders)
âœ… **Smart naming** - Clear, descriptive filenames
âœ… **Date organization** - Easy to find by when processed
âœ… **Original backup** - Never lose source files
âœ… **Metadata tracking** - Know when/how files were created with AI model info
âœ… **MediaVault integration** - Centralized media storage
âœ… **YouTube title auto-fetch** - Less manual typing
âœ… **Clean file structure** - Professional organization
âœ… **Multiple vocal tracks** - Compare BS-Roformer vs MelBand quality
âœ… **Studio-grade separation** - Professional SDR scores (12.1-16.3 dB)

## ğŸ“„ License & Credits

- **UVR**: MIT License
- **Demucs**: MIT License by Facebook Research
- **Automation**: Free to use

Credits:
- Demucs by Facebook Research
- Ultimate Vocal Remover by Anjok07 and aufr33
- Automation scripts created by Claude

## ğŸ”— Useful Links

- [Demucs GitHub](https://github.com/facebookresearch/demucs)
- [UVR GitHub](https://github.com/Anjok07/ultimatevocalremovergui)

---

**Enjoy your professionally organized vocal separation! ğŸµ**
