# ğŸ¤ Automated Vocal Separation Tool

Automatically separate vocals from music using AI (Demucs).

## ğŸ“ What's in This Folder

```
tools/
â”œâ”€â”€ separate.sh                      # â­ Main automation script (use this!)
â”œâ”€â”€ auto_separate.py                 # Python automation script
â”œâ”€â”€ youtube_song.wav                 # Downloaded song
â”œâ”€â”€ separated_output/                # Output directory with separated files
â”‚   â””â”€â”€ htdemucs/youtube_song/
â”‚       â”œâ”€â”€ vocals.wav              # ğŸ¤ Isolated vocals
â”‚       â””â”€â”€ no_vocals.wav           # ğŸ¹ Instrumental only
â”œâ”€â”€ ultimatevocalremovergui/         # UVR source code & dependencies
â””â”€â”€ UVR_MacOS_arm64.dmg             # GUI app installer (already installed)
```

## ğŸš€ Quick Start

### Method 1: Easy Script (Recommended)

```bash
# Separate vocals from any audio file
./separate.sh song.mp3

# Or directly from YouTube
./separate.sh https://youtu.be/VIDEO_ID

# Custom output directory
./separate.sh song.mp3 my_output_folder
```

### Method 2: Python Script

```bash
# Use default settings (processes youtube_song.wav)
python3 auto_separate.py

# Process a specific file
python3 auto_separate.py path/to/song.mp3

# Custom output directory
python3 auto_separate.py song.mp3 output_dir
```

### Method 3: GUI Application

```bash
# Launch the graphical interface
open "/Applications/Ultimate Vocal Remover.app"

# If it doesn't open, run this first:
sudo xattr -rd com.apple.quarantine "/Applications/Ultimate Vocal Remover.app"
```

## ğŸ“ How It Works

The automation script uses **Demucs**, a state-of-the-art AI model for audio source separation:

1. Downloads the AI model (first run only, ~80MB)
2. Analyzes the audio file
3. Separates vocals from instrumentals
4. Saves two files:
   - `vocals.wav` - Just the singing/voice
   - `no_vocals.wav` - Just the music/instrumental

## â±ï¸ Processing Time

- **Short songs** (3-4 min): ~2 minutes
- **Long songs** (5+ min): ~5 minutes
- First run is slower (downloads AI model)
- Uses your Mac's M1/M2 chip for acceleration

## ğŸ¯ Output Quality

- **Format**: WAV (uncompressed, high quality)
- **Sample Rate**: 44.1kHz (CD quality)
- **Bit Depth**: 16-bit stereo
- **File Size**: ~50MB per file

## ğŸ’¡ Tips & Tricks

### Convert to MP3 (Smaller Files)

```bash
# Install ffmpeg (one time)
brew install ffmpeg

# Convert WAV to MP3
ffmpeg -i vocals.wav -b:a 320k vocals.mp3
```

### Batch Processing Multiple Files

```bash
# Process all MP3 files in a folder
for file in *.mp3; do
    ./separate.sh "$file"
done
```

### Use Better AI Models

The default model is `htdemucs`. You can try others:

```bash
# Use MDX model (better for some songs)
~/Desktop/tools/ultimatevocalremovergui/venv/bin/python -m demucs \
  -n mdx_extra_q \
  --two-stems=vocals \
  -o output_dir \
  song.mp3

# Use 4-stem separation (vocals, drums, bass, other)
~/Desktop/tools/ultimatevocalremovergui/venv/bin/python -m demucs \
  -o output_dir \
  song.mp3
```

Available models:
- `htdemucs` (default) - Best overall
- `htdemucs_ft` - Fine-tuned version
- `mdx_extra_q` - Alternative high quality
- `mdx_extra` - Faster, good quality

## ğŸ”§ Advanced Usage

### Process from Python

```python
#!/usr/bin/env python3
import subprocess
from pathlib import Path

def separate_audio(input_file, output_dir="separated"):
    venv_python = Path("~/Desktop/tools/ultimatevocalremovergui/venv/bin/python").expanduser()

    subprocess.run([
        str(venv_python),
        "-m", "demucs",
        "--two-stems=vocals",
        "-o", output_dir,
        input_file
    ], check=True)

    print(f"âœ“ Separated files saved to: {output_dir}")

# Use it
separate_audio("song.mp3")
```

### Command Line Options

```bash
# Show all options
~/Desktop/tools/ultimatevocalremovergui/venv/bin/python -m demucs --help

# Useful options:
#   -n MODEL          Choose AI model
#   --two-stems=TYPE  Separate into 2 stems (vocals, drums, bass)
#   -o DIR            Output directory
#   --mp3             Save as MP3 instead of WAV
#   --mp3-bitrate BR  MP3 bitrate (default: 320)
#   -j JOBS           Number of parallel jobs
```

## ğŸ› Troubleshooting

### "Permission Denied" Error

```bash
chmod +x ~/Desktop/tools/separate.sh
```

### GUI App Won't Open

```bash
sudo xattr -rd com.apple.quarantine "/Applications/Ultimate Vocal Remover.app"
```

### "No module named 'demucs'" Error

```bash
~/Desktop/tools/ultimatevocalremovergui/venv/bin/pip install demucs torchcodec
```

### Out of Memory Errors

The AI model uses a lot of RAM. If you get errors:

```bash
# Use smaller chunks (slower but less memory)
~/Desktop/tools/ultimatevocalremovergui/venv/bin/python -m demucs \
  --segment 10 \
  --two-stems=vocals \
  song.mp3
```

## ğŸ“š Examples

### Example 1: YouTube to Karaoke

```bash
# Download and separate
./separate.sh https://youtu.be/VIDEO_ID

# The instrumental is ready for karaoke!
# File: separated_output/htdemucs/temp_download/no_vocals.wav
```

### Example 2: Extract Vocals for Remix

```bash
# Separate vocals
./separate.sh original_song.mp3

# Now use vocals.wav in your DAW (Logic, Ableton, etc.)
```

### Example 3: Create Acapella

```bash
# Separate vocals
./separate.sh song.mp3

# The vocals.wav file is your acapella!
```

## ğŸ“ Technical Details

### What's Installed

- **Python 3.11** via Homebrew
- **Demucs 4.0.1** - AI separation model
- **PyTorch 2.9** - Deep learning framework
- **TorchAudio** - Audio processing
- **Ultimate Vocal Remover GUI** - Source code

### File Locations

- Scripts: `~/Desktop/tools/`
- Python environment: `~/Desktop/tools/ultimatevocalremovergui/venv/`
- AI models cache: `~/.cache/torch/hub/checkpoints/`
- GUI app: `/Applications/Ultimate Vocal Remover.app`

### System Requirements

- macOS 11.0 or later
- Apple Silicon (M1/M2/M3) or Intel Mac
- 8GB RAM minimum (16GB recommended)
- 2GB free disk space

## ğŸ“„ License

- UVR: MIT License
- Demucs: MIT License
- This automation: Free to use

## ğŸ™ Credits

- **Demucs** by Facebook Research
- **Ultimate Vocal Remover** by Anjok07 and aufr33
- Automation scripts created by Claude

## ğŸ”— Links

- [Demucs GitHub](https://github.com/facebookresearch/demucs)
- [UVR GitHub](https://github.com/Anjok07/ultimatevocalremovergui)
- [Report Issues](https://github.com/Anjok07/ultimatevocalremovergui/issues)

---

**Enjoy separating vocals! ğŸµ**
