# SPLICE
AI-powered Premiere Pro UXP plugin for detecting takes, removing silences, and accelerating video editing workflows.

## Current Focus
Section: Slice 7+ - Next features (silence removal, timeline editing)
Files: splice-plugin/index.html, splice-backend/server.js

## Last Session (2025-12-18)
- Slice 0-2: Plugin loads, reads timeline, exports audio ✓
- Slice 3: Backend scaffold (Express on port 3847) ✓
- Slice 4: Groq Whisper transcription (`whisper-large-v3`, verbose_json) ✓
- Slice 5: GPT-4o-mini take detection ✓
- Slice 6: End-to-end integration complete ✓
  - Added "Analyze Audio" button to plugin UI
  - Plugin calls POST /analyze with wavPath
  - Displays transcript and detected takes with timestamps
  - Best take highlighted with green border

## API Endpoint
- `POST http://localhost:3847/analyze` with `{ "wavPath": "/tmp/splice_audio_export.wav" }`
- Returns: `{ success, wavPath, transcript: { text, segments[], duration }, takes: { takes[], analysis } }`

## Architecture Decisions
- **No Demucs** by default (60-120s processing time, adds webhook complexity)
- **Synchronous pipeline**: Export → Upload → Groq Whisper → GPT-4o-mini → Return
- **Local-first development**: No Railway/R2 until local flow works
- **UXP only**: No CEP fallback (users need 25.6+)

## Key Constraints
- UXP requires Premiere Pro 25.6+ or Beta
- Host in manifest must be `"premierepro"` (lowercase)
- `"entrypoints"` not `"entryPoints"` (lowercase p)
- manifestVersion: 5

## Next Steps
1. ~~Slice 0: Plugin loads in Premiere Pro Beta~~ ✓
2. ~~Slice 1: Plugin reads clips from timeline~~ ✓
3. ~~Slice 2: Plugin exports audio~~ ✓
4. ~~Slice 3: Backend scaffold~~ ✓
5. ~~Slice 4: Whisper transcription via Groq API~~ ✓
6. ~~Slice 5: GPT-4o-mini take detection~~ ✓
7. Slice 6: End-to-end integration (plugin calls backend)

## Project Structure
```
/Users/imorgado/SPLICE/
├── splice-plugin/          # UXP plugin
│   ├── manifest.json
│   └── index.html
├── splice-backend/         # Express backend (current focus)
│   ├── package.json
│   ├── server.js           # POST /analyze endpoint
│   ├── .env                # GROQ_API_KEY, OPENAI_API_KEY (gitignored)
│   └── .gitignore
├── .claude/
│   ├── commands/update-app.md
│   └── plans/sharded-nibbling-dongarra.md  # Full spec document
└── CLAUDE.md
```
