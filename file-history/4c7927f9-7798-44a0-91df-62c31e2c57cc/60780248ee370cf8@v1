# =============================================================================
# SPLICE Backend Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to git

# -----------------------------------------------------------------------------
# AI Services
# -----------------------------------------------------------------------------
GROQ_API_KEY=your_groq_api_key_here
OPENAI_API_KEY=your_openai_api_key_here
REPLICATE_API_TOKEN=your_replicate_token_here

# -----------------------------------------------------------------------------
# Stripe (for billing/subscriptions)
# Get these from https://dashboard.stripe.com/apikeys
# -----------------------------------------------------------------------------
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs (create products in Stripe Dashboard first)
# Monthly prices: Starter $15, Pro $39, Team $129
STRIPE_PRICE_STARTER=price_your_starter_monthly_id
STRIPE_PRICE_PRO=price_your_pro_monthly_id
STRIPE_PRICE_TEAM=price_your_team_monthly_id

# Annual prices (20% discount): Starter $144, Pro $374, Team $1238
STRIPE_PRICE_STARTER_ANNUAL=price_your_starter_annual_id
STRIPE_PRICE_PRO_ANNUAL=price_your_pro_annual_id
STRIPE_PRICE_TEAM_ANNUAL=price_your_team_annual_id

# Overage metered billing: $2/hour, $1/song
STRIPE_PRICE_OVERAGE_HOURS=price_your_hours_overage_id
STRIPE_PRICE_OVERAGE_MUSIC=price_your_music_overage_id

# Stripe Meters (for usage-based billing)
STRIPE_METER_HOURS=mtr_your_hours_meter_id
STRIPE_METER_MUSIC=mtr_your_music_meter_id

# -----------------------------------------------------------------------------
# Database (Railway PostgreSQL)
# Railway will auto-inject this when you add PostgreSQL
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://user:password@host:port/database

# -----------------------------------------------------------------------------
# Upstash Redis (for token blacklist, job queues, caching)
# Get these from https://console.upstash.com/redis
# -----------------------------------------------------------------------------
# BullMQ uses the standard Redis URL (for job queues)
UPSTASH_REDIS_URL=rediss://default:your_password@your_endpoint.upstash.io:6379

# REST API credentials (for token blacklist - recommended for serverless)
UPSTASH_REDIS_REST_URL=https://your_endpoint.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_rest_token_here

# -----------------------------------------------------------------------------
# Music Generation (Mureka API)
# -----------------------------------------------------------------------------
MUREKA_API_KEY=your_mureka_api_key_here

# -----------------------------------------------------------------------------
# Cloudflare R2 Storage (for music files)
# -----------------------------------------------------------------------------
R2_ACCOUNT_ID=your_r2_account_id_here
R2_ACCESS_KEY_ID=your_r2_access_key_id_here
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key_here
R2_BUCKET_NAME=splice-music

# -----------------------------------------------------------------------------
# Song Identification (ACRCloud) - Optional
# -----------------------------------------------------------------------------
ACRCLOUD_HOST=identify-us-west-2.acrcloud.com
ACRCLOUD_ACCESS_KEY=your_acrcloud_access_key_here
ACRCLOUD_ACCESS_SECRET=your_acrcloud_access_secret_here

# -----------------------------------------------------------------------------
# Server Config
# -----------------------------------------------------------------------------
PORT=3847
NODE_ENV=production

# -----------------------------------------------------------------------------
# JWT Authentication
# CRITICAL: Must be set to a secure random value in production!
# Generate with: openssl rand -hex 32
# -----------------------------------------------------------------------------
JWT_SECRET=your_secure_jwt_secret_here_CHANGE_IN_PRODUCTION
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# Email Service (SendGrid or AWS SES)
# -----------------------------------------------------------------------------
# Provider: 'sendgrid' | 'ses' | 'console' (console = log only, for dev)
EMAIL_PROVIDER=console

# SendGrid Configuration (if EMAIL_PROVIDER=sendgrid)
SENDGRID_API_KEY=SG_your_sendgrid_api_key_here

# AWS SES Configuration (if EMAIL_PROVIDER=ses)
# AWS_SES_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# Email addresses
EMAIL_FROM=SPLICE <noreply@splice.video>
EMAIL_REPLY_TO=support@splice.video
