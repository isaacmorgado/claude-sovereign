# LOOKSMAXX

A facial metrics analysis and visualization system with Next.js frontend and MediaPipe-based facial landmark detection. Now with FaceIQ-compatible scoring and results UI.

## Current Focus
Section: Username & Terms and Conditions Implementation
Files: `looksmaxx-app/u&t.md`, `looksmaxx-api/app/models/user.py`

## Tech Stack

- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Animation**: Framer Motion
- **Face Detection**: MediaPipe Tasks Vision (client, 478 landmarks) + InsightFace (server, 106 landmarks)
- **Scoring**: FaceIQ-compatible exponential decay with 70+ measurements
- **Backend**: FastAPI on Railway with PostgreSQL

## API URL
- **Production**: https://api-production-6148.up.railway.app

## Code Quality

```bash
cd looksmaxx-app && npm run lint && npx tsc --noEmit
```

## Last Session (2025-12-23)

- **Leaderboard frontend 100% complete** (Steps 4-9) - 6 files modified, uncommitted
- **Started Username & T&C implementation** from `u&t.md`
- **Created migration script**: `looksmaxx-api/migrations/001_add_username_and_terms.sql`
- **Updated User model**: Added `username` (VARCHAR 30) and `terms_accepted_at` columns

Stopped at: Priority 1 complete (DB migration + model update), awaiting Priority 2-9

## Username & T&C Implementation Status

| Priority | Task | Status |
|----------|------|--------|
| 1 | DB migration + User model | âœ… Done |
| 2 | Update auth schemas with validators | ðŸ”² Pending |
| 3 | Update register endpoint + check-username | ðŸ”² Pending |
| 4 | Update leaderboard to use username | ðŸ”² Pending |
| 5 | Frontend API client updates | ðŸ”² Pending |
| 6 | Create Terms page | ðŸ”² Pending |
| 7 | Update signup page | ðŸ”² Pending |
| 8 | Test end-to-end | ðŸ”² Pending |

## Next Steps

1. Run migration on Railway: `railway run psql $DATABASE_URL -f migrations/001_add_username_and_terms.sql`
2. Update auth schemas (`app/schemas/auth.py`) with username/terms validators
3. Update auth router (`app/routers/auth.py`) with register + check-username endpoints
4. Update leaderboard router to use username instead of anonymous_name
