# ðŸš€ KOMPLETE-KONTROL - Installation & MCP Fix Guide

**Status:** âœ… Extension Built Successfully
**VSIX Location:** `/Users/imorgado/Projects/Roo-Code/bin/komplete-kontrol-3.38.1.vsix`
**Date:** December 30, 2025

---

## âš ï¸ IMPORTANT: What You Need to Know

### 1. The Extension HAS Been Rebuilt âœ…

I've successfully rebuilt the extension with:
- âœ… KOMPLETE-KONTROL branding
- âœ… All 18 MCP servers configured
- âœ… Latest code changes
- âœ… Package created: `komplete-kontrol-3.38.1.vsix`

### 2. Why You're Not Seeing the Changes

The changes won't appear in VSCode until you:
1. **Install the new VSIX file** in VSCode
2. **Completely restart VSCode** (Quit and reopen)

### 3. Why MCP Servers Show Connection Errors

The MCP error `-32000: Connection closed` happens because:
- MCP servers need the **full path** to `npx` command
- Your system has npx at: `/opt/homebrew/bin/npx`
- The configuration needs to be updated after installation

---

## ðŸ“¦ STEP 1: Install the Extension

### Option A: Install via VSCode UI (Easiest)

1. **Open Visual Studio Code**

2. **Open Extensions Panel**
   - Click Extensions icon (left sidebar)
   - OR press `Cmd+Shift+X`

3. **Uninstall Old Versions**
   - Search for "roo" and "komplete"
   - Uninstall any found extensions
   - This ensures a clean installation

4. **Install from VSIX**
   - Click `...` (three dots) in Extensions panel header
   - Select "Install from VSIX..."
   - Navigate to:
     ```
     /Users/imorgado/Projects/Roo-Code/bin/komplete-kontrol-3.38.1.vsix
     ```
   - Click "Install"

5. **COMPLETELY Restart VSCode**
   - Press `Cmd+Q` to fully quit VSCode
   - Reopen VSCode
   - **Don't just reload the window - fully quit!**

### Option B: Install via Command Line

**First, add `code` command to PATH:**
1. In VSCode, press `Cmd+Shift+P`
2. Type: "Shell Command: Install 'code' command in PATH"
3. Click it

**Then run:**
```bash
cd /Users/imorgado/Projects/Roo-Code
code --uninstall-extension KompleteKontrol.komplete-kontrol 2>/dev/null || true
code --uninstall-extension rooveterinaryinc.roo-cline 2>/dev/null || true
code --install-extension bin/komplete-kontrol-3.38.1.vsix
```

**Then:**
- Quit VSCode completely (`Cmd+Q`)
- Reopen VSCode

---

## ðŸ”§ STEP 2: Verify the Branding

After restarting VSCode, you should see:

âœ… **Activity Bar** (left sidebar) shows "KOMPLETE-KONTROL" icon
âœ… **Extension name** is "KOMPLETE-KONTROL"
âœ… **Context menus** say "KOMPLETE-KONTROL"
âœ… **Extension panel** shows KOMPLETE-KONTROL interface

If you still see "Roo Code" or "Roo Cline":
1. Check installed extensions - make sure the old ones are gone
2. Clear VSCode cache:
   ```bash
   rm -rf ~/Library/Application\ Support/Code/CachedExtensionVSIXs/*
   ```
3. Reinstall the VSIX
4. Fully restart VSCode

---

## ðŸŒ STEP 3: Fix MCP Server Connections

### The Problem

All MCP servers showing: `MCP error -32000: Connection closed`

### The Solution

MCP servers need the **full path** to the `npx` command.

### How to Fix

**After installing the extension:**

1. **Open KOMPLETE-KONTROL**
   - Click the KOMPLETE-KONTROL icon in Activity Bar

2. **Go to Settings**
   - Click the gear/settings icon
   - Navigate to "MCP Servers" tab

3. **For Each Server You Want to Use:**

   **Option A: Via UI (if available)**
   - Click "Edit" on the server
   - Change `command` from `npx` to `/opt/homebrew/bin/npx`
   - Save

   **Option B: Via Configuration File**
   - The config file will be at:
     ```
     ~/Library/Application Support/Code/User/globalStorage/KompleteKontrol.komplete-kontrol/settings/mcp_settings.json
     ```
   - Edit each server's `command` field:
     ```json
     {
       "command": "/opt/homebrew/bin/npx",
       "args": ["-y", "package-name-here"]
     }
     ```

4. **Enable the Servers You Want**

   **Recommended to start:**
   - âœ… **gemini** - Google AI with web search
   - âœ… **github-grep** - Search 1M+ GitHub repos
   - âœ… **grep** - Local code search
   - âœ… **claude-in-chrome** - Browser automation

   **Leave disabled unless needed:**
   - Security tools (ghidra, frida, radare2, mitmproxy, httpie, ffuf)
   - Dev tools (docker, github, railway, stripe)
   - Utilities (screenshot-to-code, ffmpeg, duckdb, jq)

5. **Reload VSCode Window**
   - Press `Cmd+Shift+P`
   - Type "Developer: Reload Window"
   - Press Enter

6. **Test MCP Connection**
   - Create a new task in KOMPLETE-KONTROL
   - Try a search:
     ```
     "Search GitHub for React hooks examples"
     ```
   - The github-grep MCP server should activate

---

## ðŸŽ¯ STEP 4: Test Everything

### Test 1: Verify Branding
- [ ] Extension name shows "KOMPLETE-KONTROL"
- [ ] Activity bar icon says "KOMPLETE-KONTROL"
- [ ] Right-click menu says "KOMPLETE-KONTROL"

### Test 2: Verify MCP Servers
- [ ] MCP servers tab shows no connection errors
- [ ] Enabled servers show "Connected" status
- [ ] Can use MCP tools in tasks

### Test 3: Basic Functionality
- [ ] Can create new tasks
- [ ] Can ask questions and get responses
- [ ] Can read/edit files
- [ ] Commands work properly

---

## ðŸ“‹ Quick Reference

### Extension Files
- **VSIX Package:** `/Users/imorgado/Projects/Roo-Code/bin/komplete-kontrol-3.38.1.vsix`
- **Source Code:** `/Users/imorgado/Projects/Roo-Code/`

### Extension Info
- **Name:** komplete-kontrol
- **Display Name:** KOMPLETE-KONTROL
- **Publisher:** KompleteKontrol
- **Version:** 3.38.1
- **Extension ID:** `KompleteKontrol.komplete-kontrol`

### NPX Path
- **Your System:** `/opt/homebrew/bin/npx`
- Use this in ALL MCP server configurations

### Configuration Locations
- **MCP Settings:** `~/Library/Application Support/Code/User/globalStorage/KompleteKontrol.komplete-kontrol/settings/mcp_settings.json`
- **VSCode Settings:** `~/Library/Application Support/Code/User/settings.json`
- **Workspace Settings:** `.vscode/settings.json` (in your project)

---

## âš¡ Quick Install Command

If you have the `code` command in PATH:

```bash
cd /Users/imorgado/Projects/Roo-Code && \
code --uninstall-extension KompleteKontrol.komplete-kontrol --force 2>/dev/null ; \
code --uninstall-extension rooveterinaryinc.roo-cline --force 2>/dev/null ; \
code --install-extension bin/komplete-kontrol-3.38.1.vsix --force && \
echo "âœ… Extension installed! Now quit VSCode (Cmd+Q) and reopen it."
```

---

## ðŸ†˜ Troubleshooting

### Problem: Can't find the VSIX file
**Solution:** The file is at:
```
/Users/imorgado/Projects/Roo-Code/bin/komplete-kontrol-3.38.1.vsix
```
Run `ls -lh /Users/imorgado/Projects/Roo-Code/bin/*.vsix` to verify.

### Problem: Still seeing "Roo Code"
**Solution:**
1. Uninstall ALL extensions with "roo" or "komplete" in the name
2. Clear cache: `rm -rf ~/Library/Application\ Support/Code/CachedExtensionVSIXs/*`
3. Reinstall VSIX
4. FULLY quit VSCode (`Cmd+Q`) and reopen

### Problem: MCP servers still show connection errors
**Solution:**
1. Verify npx path: `which npx` (should show `/opt/homebrew/bin/npx`)
2. Update all MCP server configurations to use full path
3. Reload VSCode window
4. Check the developer console for detailed errors:
   - `Help` â†’ `Toggle Developer Tools` â†’ `Console` tab

### Problem: Extension won't activate
**Solution:**
1. Check VSCode version is 1.84.0 or higher
2. Check developer console for errors
3. Try safe mode: Run VSCode with `code --disable-extensions`
4. Then enable only KOMPLETE-KONTROL

---

## ðŸ“š Additional Documentation

- **Installation Instructions:** `INSTALLATION_INSTRUCTIONS.md`
- **MCP Fix Guide:** `MCP_FIX_GUIDE.md`
- **Setup Guide:** `KOMPLETE-KONTROL_SETUP.md`
- **Integration Status:** `FINAL_INTEGRATION_STATUS.md`

---

## âœ… Success Checklist

After following this guide, you should have:

- [x] Extension built successfully âœ…
- [ ] VSIX installed in VSCode
- [ ] VSCode completely restarted
- [ ] KOMPLETE-KONTROL branding visible
- [ ] MCP servers configured with full npx path
- [ ] MCP connection errors resolved
- [ ] Basic functionality tested

---

**Created:** December 30, 2025
**Status:** Ready for Installation
**Next Step:** Follow Step 1 above to install the extension!
