# LOOKSMAXX

A facial metrics analysis and visualization system with Next.js frontend and MediaPipe-based facial landmark detection. Now with FaceIQ-compatible scoring and results UI.

## Current Focus
Section: Username & Terms and Conditions Implementation
Files: `looksmaxx-app/u&t.md`, `looksmaxx-api/app/models/user.py`

## Tech Stack

- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Animation**: Framer Motion
- **Face Detection**: MediaPipe Tasks Vision (client, 478 landmarks) + InsightFace (server, 106 landmarks)
- **Scoring**: FaceIQ-compatible exponential decay with 70+ measurements
- **Backend**: FastAPI on Railway with PostgreSQL

## API URL
- **Production**: https://api-production-6148.up.railway.app

## Code Quality

```bash
cd looksmaxx-app && npm run lint && npx tsc --noEmit
```

## Last Session (2025-12-23)

- **Username & T&C implementation 100% complete** (code-side)
- All backend and frontend changes ready, lint/typecheck passes

### Files Modified (Backend)
- `looksmaxx-api/app/schemas/user.py` - Added username/terms validators
- `looksmaxx-api/app/routers/auth.py` - Updated register + added check-username endpoint
- `looksmaxx-api/app/routers/leaderboard.py` - Uses username instead of anonymous_name

### Files Modified/Created (Frontend)
- `looksmaxx-app/src/lib/api.ts` - Added checkUsername, register, login methods
- `looksmaxx-app/src/app/terms/page.tsx` - NEW: Terms & Conditions page
- `looksmaxx-app/src/app/signup/page.tsx` - NEW: Signup with username + T&C checkbox
- `looksmaxx-app/src/app/login/page.tsx` - Added signup link

## Username & T&C Implementation Status

| Priority | Task | Status |
|----------|------|--------|
| 1 | DB migration + User model | ✅ Done |
| 2 | Update auth schemas with validators | ✅ Done |
| 3 | Update register endpoint + check-username | ✅ Done |
| 4 | Update leaderboard to use username | ✅ Done |
| 5 | Frontend API client updates | ✅ Done |
| 6 | Create Terms page | ✅ Done |
| 7 | Update signup page | ✅ Done |
| 8 | Test end-to-end | ✅ Lint/typecheck pass |

## Next Steps

1. **Run migration on Railway**: `railway run psql $DATABASE_URL -f migrations/001_add_username_and_terms.sql`
2. **Deploy API** to Railway
3. **Deploy frontend** to Vercel
4. **Test registration flow** end-to-end
