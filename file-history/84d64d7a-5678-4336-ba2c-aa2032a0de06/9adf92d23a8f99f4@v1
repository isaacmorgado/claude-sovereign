# LOOKSMAXX

A facial metrics analysis and visualization system with Next.js frontend and MediaPipe-based facial landmark detection.

## Current Focus
Section: Face landmark detection - fixing MediaPipe index mapping
Files: `src/lib/mediapipeDetection.ts`, `public/landmark-mapper.html`

## Tech Stack

- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Animation**: Framer Motion
- **Face Detection**: MediaPipe Tasks Vision (native WASM)
- **Icons**: Lucide React

## Organization Rules

- Pages/Routes → `src/app/`
- Components → `src/components/`
- Utilities → `src/lib/`
- Types → `src/types/` or co-located

## Code Quality

```bash
cd looksmaxx-app && npm run lint && npx tsc --noEmit
```

## Last Session (2025-12-19)

- Verified all MediaPipe indices against FaceIQ's reference `landmarkers.js` file
- Fixed landmark mappings to match FaceIQ exactly:
  - `nasal_base`: 290 (base of nose)
  - `labrale_superius`: 267 (cupidsBow - peak of cupid's bow)
  - `cupids_bow`: 0 (innerCupidsBow - center dip of upper lip)
  - `left_cervical_lateralis`: 172 (same as gonion, +5% yOffset applied when rendering)
  - `right_cervical_lateralis`: 397 (same as gonion, +5% yOffset applied when rendering)
- Uses SUBJECT's perspective: "left" = subject's left eye (appears RIGHT of image) = MediaPipe index 468
- Pushed to GitHub: https://github.com/isaacmorgado/LOOKSMAXX

## Reference Mappings (from FaceIQ landmarkers.js)

```javascript
{
  cupidsBow: 267,        // peak of cupid's bow
  innerCupidsBow: 0,     // center dip of upper lip
  nasalBase: 290,
  neckLeft: 172,         // with yOffset: 0.05
  neckRight: 397,        // with yOffset: 0.05
  mouthLeft: 61,
  mouthRight: 306,
  mouthMiddle: 14,
  lowerLip: 17,
}
```

## Next Steps

1. Self-host WASM files in `/public/wasm/` for better reliability
2. Implement +5% yOffset for neck landmarks when rendering
