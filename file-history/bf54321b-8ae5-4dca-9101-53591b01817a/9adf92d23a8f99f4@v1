# LOOKSMAXX

A facial metrics analysis and visualization system with Next.js frontend and MediaPipe-based facial landmark detection.

## Current Focus
Section: Railway API deployment
Files: `looksmaxx-api/requirements.txt`, `looksmaxx-api/app/routers/auth.py`

## Tech Stack

- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Animation**: Framer Motion
- **Face Detection**: MediaPipe Tasks Vision (native WASM)
- **Icons**: Lucide React
- **Backend**: FastAPI on Railway with PostgreSQL

## Organization Rules

- Pages/Routes → `src/app/`
- Components → `src/components/`
- Utilities → `src/lib/`
- Types → `src/types/` or co-located

## Code Quality

```bash
cd looksmaxx-app && npm run lint && npx tsc --noEmit
```

## Last Session (2025-12-19)

### Fixed Railway "Service Unavailable" Error
- **Root causes found**: Missing `email-validator` package + Token schema mismatch
- Added `email-validator==2.1.0` to requirements.txt (required by Pydantic EmailStr)
- Fixed `app/routers/auth.py` - auth endpoints now include `user` in Token response
- Deployed via `railway up --service api`
- **Health check now working**: `{"status":"healthy","detection_ready":false}`
- `detection_ready: false` is expected - InsightFace intentionally commented out

### Architecture
- **Front profile**: MediaPipe (client-side, 478 landmarks)
- **Side profile**: InsightFace on Railway (server-side, 106 → 28 landmarks)
- **Scoring**: ALL calculations client-side in `src/lib/scoring.ts`

## Next Steps

1. Configure Railway env vars: JWT_SECRET, STRIPE keys, FRONTEND_URL
2. Update frontend `.env.local` with Railway URL
3. Test end-to-end side profile detection flow
4. Enable InsightFace in requirements.txt when ready for full detection
