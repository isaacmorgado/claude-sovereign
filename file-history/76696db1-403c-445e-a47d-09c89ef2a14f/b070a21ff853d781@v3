# LibreChat Configuration with MCP Servers
# Documentation: https://www.librechat.ai/docs/configuration/librechat_yaml

version: 1.2.0

# MCP (Model Context Protocol) Servers Configuration
mcpServers:
  # GitHub MCP Server - Repository management and code search
  # Note: Using deprecated package but it's the only one compatible with Node 20
  github:
    type: stdio
    command: npx
    args:
      - -y
      - "@modelcontextprotocol/server-github"
    timeout: 60000
    env:
      GITHUB_PERSONAL_ACCESS_TOKEN: ""
    serverInstructions: |
      Use this server to interact with GitHub API:
      - Create and update issues and pull requests
      - Search repositories and code
      - Get repository and file information
      - Fork and star repositories
      Note: Requires GITHUB_PERSONAL_ACCESS_TOKEN for full access.

  # Grep MCP Server - Text search in files
  grep:
    type: stdio
    command: npx
    args:
      - -y
      - "@247arjun/mcp-grep"
    timeout: 30000
    serverInstructions: |
      Use this server for powerful text search capabilities:
      - Search for patterns in files and directories
      - Support for regex patterns
      - Recursive directory searching
      - File extension filtering

  # Grep.app MCP Server - GitHub code search across public repositories
  grepapp:
    type: stdio
    command: npx
    args:
      - -y
      - "grep-mcp"
    timeout: 60000
    serverInstructions: |
      Use this server to search code across GitHub repositories:
      - Search millions of public GitHub repositories
      - Find code examples and implementations
      - Discover how libraries are used in real projects
      - No API key required

  # DuckDuckGo Web Search MCP Server - Real-time internet search
  websearch:
    type: stdio
    command: npx
    args:
      - -y
      - "duckduckgo-mcp-server"
    timeout: 60000
    serverInstructions: |
      Use this server for real-time web searches:
      - Search the internet for current information
      - Get web page content and summaries
      - No API key required
      - Respects user privacy (DuckDuckGo)

  # Reddit MCP Server - Reddit content scraping
  reddit:
    type: stdio
    command: npx
    args:
      - -y
      - "mcp-reddit"
    timeout: 60000
    serverInstructions: |
      Use this server to fetch Reddit content:
      - Get frontpage posts
      - Access subreddit information
      - Retrieve post details and comments
      - Search Reddit discussions
      Note: Uses Reddit's public API, no authentication required for public content.

# Interface Configuration
interface:
  # Privacy & Data Controls
  privacyPolicy:
    externalUrl: "https://www.librechat.ai/privacy-policy"
    openNewTab: true
  termsOfService:
    externalUrl: "https://www.librechat.ai/terms-of-service"
    openNewTab: true

  # Enable MCP server management in UI
  endpointsMenu: true
  modelSelect: true
  parameters: true

# Registration and Authentication
registration:
  socialLogins: []
  allowedDomains: []
