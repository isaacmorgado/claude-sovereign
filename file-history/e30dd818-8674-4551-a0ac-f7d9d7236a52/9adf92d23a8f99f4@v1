# LOOKSMAXX

A facial metrics analysis and visualization system with Next.js frontend and MediaPipe-based facial landmark detection.

## Current Focus
Section: Face landmark detection - fixing MediaPipe WASM loading and coordinate mapping
Files: `src/components/LandmarkAnalysisTool.tsx`, `src/lib/mediapipeDetection.ts`, `src/lib/faceDetectionService.ts`

## Tech Stack

- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Animation**: Framer Motion
- **Face Detection**: MediaPipe Tasks Vision (native WASM)
- **Icons**: Lucide React

## Organization Rules

- Pages/Routes → `src/app/`
- Components → `src/components/`
- Utilities → `src/lib/`
- Types → `src/types/` or co-located

## Code Quality

```bash
cd looksmaxx-app && npm run lint && npx tsc --noEmit
```

## Last Session (2025-12-19)

- Fixed left/right perspective mismatch in `MEDIAPIPE_FRONT_MAPPING` and `MEDIAPIPE_SIDE_MAPPING` (viewer vs subject perspective)
- Switched from CSS positioning to canvas-based landmark rendering (standard MediaPipe approach)
- Added debug rectangle (red dashed) and crosshairs (green) to verify image bounds calculation
- **Root cause found**: MediaPipe WASM was failing to load (404 error) due to RC version `0.10.22-rc`
- Fixed by downgrading `@mediapipe/tasks-vision` to stable `0.10.14` and matching WASM URL
- Stopped at: Testing if MediaPipe now loads and detects faces correctly

## Next Steps

1. Verify MediaPipe detection works (console should show actual landmarks, not null)
2. Remove debug rectangle/crosshairs once landmarks align correctly
3. Re-add zoom/pan support to canvas rendering
4. Self-host WASM files in `/public/wasm/` for better reliability
