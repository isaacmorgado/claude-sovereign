"use client";

import { motion } from "framer-motion";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import {
  ArrowLeft,
  ArrowRight,
  Play,
  Clock,
  BookOpen,
  VolumeX,
  Scissors,
  Music,
  Captions,
  Users,
  Smartphone,
  Zap,
  Youtube,
  CheckCircle,
  Sparkles,
} from "lucide-react";
import Link from "next/link";
import { Header } from "@/components/landing/Header";
import { Footer } from "@/components/landing/Footer";

interface Tutorial {
  id: string;
  title: string;
  description: string;
  icon: React.ComponentType<{ className?: string }>;
  duration: string;
  difficulty: "Beginner" | "Intermediate" | "Advanced";
  steps: {
    title: string;
    description: string;
  }[];
  tips?: string[];
}

const tutorials: Tutorial[] = [
  {
    id: "silence-removal",
    title: "Remove Silences from Your Video",
    description: "Learn how to automatically detect and remove silent segments to create tighter, more engaging content.",
    icon: VolumeX,
    duration: "5 min",
    difficulty: "Beginner",
    steps: [
      {
        title: "Open your project in Premiere Pro",
        description: "Make sure you have a sequence with at least one audio track containing speech.",
      },
      {
        title: "Launch SPLICE panel",
        description: "Go to Window > Extensions > SPLICE to open the panel.",
      },
      {
        title: "Select a preset",
        description: "Choose Podcast (natural pauses), Interview (balanced), or Vlog (punchy cuts) based on your content type.",
      },
      {
        title: "Adjust sensitivity if needed",
        description: "Lower sensitivity (30-40) keeps more pauses. Higher (60-70) removes more aggressively.",
      },
      {
        title: "Click GO to analyze",
        description: "SPLICE will analyze your audio and detect all silent segments.",
      },
      {
        title: "Review the preview",
        description: "Check the detected silences in the preview panel. Green = speech, Red = silence.",
      },
      {
        title: "Build your sequence",
        description: "Click 'Build Sequence' to create a new edited timeline with silences removed.",
      },
    ],
    tips: [
      "Start with a preset that matches your content type, then fine-tune",
      "Use the waveform visualization to verify silence detection accuracy",
      "Enable J-Cut for smoother transitions between cuts",
    ],
  },
  {
    id: "take-detection",
    title: "Find Your Best Takes Automatically",
    description: "Let AI identify and label your takes so you can quickly select the best performances.",
    icon: Scissors,
    duration: "4 min",
    difficulty: "Beginner",
    steps: [
      {
        title: "Record multiple takes",
        description: "Ensure your recording has clear pauses between takes for best detection.",
      },
      {
        title: "Open SPLICE and analyze",
        description: "Click GO to run the analysis. Takes are detected automatically from the transcript.",
      },
      {
        title: "Review detected takes",
        description: "Each take is labeled (Take 1, Take 2, etc.) with a short preview of what was said.",
      },
      {
        title: "Color-coded organization",
        description: "Takes are color-coded in the timeline for easy visual identification.",
      },
      {
        title: "Select best takes",
        description: "SPLICE recommends the best take based on delivery and completeness.",
      },
      {
        title: "Build takes-only sequence",
        description: "Create a new sequence containing only your selected best takes.",
      },
    ],
    tips: [
      "Say 'Take 1, Take 2' before each take for even better detection",
      "Longer pauses between takes (2+ seconds) improve accuracy",
      "Review AI recommendations but trust your creative judgment",
    ],
  },
  {
    id: "ai-music",
    title: "Generate Custom Background Music",
    description: "Create royalty-free background music that perfectly matches your video's mood and energy.",
    icon: Music,
    duration: "8 min",
    difficulty: "Intermediate",
    steps: [
      {
        title: "Open the Music panel",
        description: "Click the Music tab in SPLICE to access AI music generation.",
      },
      {
        title: "Choose a mood preset",
        description: "Select from upbeat, dramatic, chill, energetic, mysterious, romantic, epic, playful, melancholic, or peaceful.",
      },
      {
        title: "Select instruments",
        description: "Choose full-band, acoustic, electronic, orchestral, piano-only, guitar-only, ambient, or minimal.",
      },
      {
        title: "Set duration",
        description: "Enter the desired length (30-180 seconds) or click 'Match Sequence' to match your video.",
      },
      {
        title: "Add custom prompt (optional)",
        description: "Describe specific elements like 'tech startup vibe' or 'cinematic tension'.",
      },
      {
        title: "Generate variations",
        description: "Click 'Generate Variations' to create 3 different options to choose from.",
      },
      {
        title: "Preview and select",
        description: "Listen to each variation and select your favorite.",
      },
      {
        title: "Import to timeline",
        description: "Click 'Import' to add the music directly to your Premiere Pro project.",
      },
    ],
    tips: [
      "Use 'Scene-Aware' mode to analyze your transcript for mood-matched music",
      "Generate 3 variations to have options - they're all royalty-free",
      "Use beat-aligned trimming to cut music at natural beat boundaries",
    ],
  },
  {
    id: "animated-captions",
    title: "Create Viral-Style Animated Captions",
    description: "Add eye-catching word-by-word captions like MrBeast, Alex Hormozi, and other top creators.",
    icon: Captions,
    duration: "6 min",
    difficulty: "Intermediate",
    steps: [
      {
        title: "Analyze your video",
        description: "Run SPLICE analysis to generate a transcript with word-level timing.",
      },
      {
        title: "Open Captions panel",
        description: "Navigate to the Animated Captions section in SPLICE.",
      },
      {
        title: "Choose a template",
        description: "Select MrBeast (bold shake), Hormozi (yellow bar), Gaming (neon glitch), Corporate (subtle), or Karaoke (fill).",
      },
      {
        title: "Customize colors",
        description: "Adjust primary text color, highlight color, and background opacity.",
      },
      {
        title: "Enable keyword detection",
        description: "Let AI detect impactful words to highlight automatically.",
      },
      {
        title: "Add emojis (optional)",
        description: "Enable context-aware emoji insertion with low, medium, or high frequency.",
      },
      {
        title: "Preview animation",
        description: "Watch the caption animation in the preview panel.",
      },
      {
        title: "Export to timeline",
        description: "Apply captions to your sequence or export as MOGRT/ASS/SRT.",
      },
    ],
    tips: [
      "MrBeast style works great for high-energy content",
      "Hormozi style is perfect for educational/business content",
      "Use 'low' emoji frequency for professional content",
    ],
  },
  {
    id: "multitrack",
    title: "Edit Multi-Speaker Podcasts",
    description: "Automatically switch between speakers and balance screen time in multicam recordings.",
    icon: Users,
    duration: "7 min",
    difficulty: "Intermediate",
    steps: [
      {
        title: "Set up your project",
        description: "Import all camera angles as separate clips. Each speaker should have their own video track.",
      },
      {
        title: "Open Multitrack panel",
        description: "Navigate to the Multitrack section in SPLICE.",
      },
      {
        title: "Configure speakers",
        description: "Add 2-4 speakers, name them, and assign video tracks to each speaker.",
      },
      {
        title: "Run analysis",
        description: "SPLICE will analyze audio to detect who is speaking when.",
      },
      {
        title: "Review distribution",
        description: "Check the speaker time distribution chart to see screen time percentages.",
      },
      {
        title: "Enable auto-balance (optional)",
        description: "Click Auto-Balance to even out screen time between speakers.",
      },
      {
        title: "Set wide shot percentage",
        description: "Configure how often to cut to a wide shot (0-30% recommended).",
      },
      {
        title: "Build multicam sequence",
        description: "Generate the edited sequence with automatic speaker switching.",
      },
    ],
    tips: [
      "Use clear audio separation between speakers for best results",
      "Review the decision list to fine-tune specific cuts",
      "Wide shots work great for laugh reactions or group discussions",
    ],
  },
  {
    id: "social-reframe",
    title: "Reframe for TikTok, Reels, and Shorts",
    description: "Convert horizontal video to vertical with AI face tracking and smart cropping.",
    icon: Smartphone,
    duration: "5 min",
    difficulty: "Beginner",
    steps: [
      {
        title: "Open Social Reframe panel",
        description: "Navigate to the Reframe section in SPLICE.",
      },
      {
        title: "Select aspect ratio",
        description: "Choose 9:16 (TikTok/Reels/Shorts), 1:1 (Instagram), 4:5 (Portrait), or 16:9 (YouTube).",
      },
      {
        title: "Choose platform preset",
        description: "Select TikTok, Instagram Reels, YouTube Shorts, or Instagram Feed for optimized safe zones.",
      },
      {
        title: "Analyze video",
        description: "SPLICE will detect and track faces throughout the video.",
      },
      {
        title: "Review face tracking",
        description: "Preview the crop positioning and adjust if needed.",
      },
      {
        title: "Enable smooth motion (optional)",
        description: "Add easing to camera movements for cinematic panning.",
      },
      {
        title: "Export all formats",
        description: "Click 'Batch Export' to generate all aspect ratios at once.",
      },
    ],
    tips: [
      "Keep subjects centered for best face tracking results",
      "Preview safe zones to ensure text/graphics won't be covered by platform UI",
      "Use slower motion smoothing for talking head content",
    ],
  },
  {
    id: "text-editing",
    title: "Edit Video by Editing Text",
    description: "Delete words from the transcript to remove them from your video. It's that simple.",
    icon: BookOpen,
    duration: "6 min",
    difficulty: "Intermediate",
    steps: [
      {
        title: "Generate transcript",
        description: "Run SPLICE analysis to create a word-level transcript.",
      },
      {
        title: "Open Text Editor",
        description: "Navigate to the Text-Based Editing panel.",
      },
      {
        title: "Review the transcript",
        description: "Each word is linked to its video timecode.",
      },
      {
        title: "Select and delete",
        description: "Highlight unwanted words or sentences and press Delete. The video will be cut accordingly.",
      },
      {
        title: "Use Search & Replace",
        description: "Find specific phrases and bulk-delete all occurrences.",
      },
      {
        title: "Preview changes",
        description: "Click Preview to see the edit impact before applying.",
      },
      {
        title: "Undo if needed",
        description: "Use Ctrl/Cmd+Z to undo. SPLICE maintains 50 levels of history.",
      },
      {
        title: "Apply to timeline",
        description: "Click Apply to create the edited sequence.",
      },
    ],
    tips: [
      "Use Search to find filler words like 'um', 'uh', 'you know'",
      "Delete entire sentences by selecting from period to period",
      "Preview before applying to catch unintended cuts",
    ],
  },
  {
    id: "youtube-optimization",
    title: "Optimize for YouTube SEO",
    description: "Generate SEO-optimized titles, descriptions, and chapter timestamps for maximum discoverability.",
    icon: Youtube,
    duration: "4 min",
    difficulty: "Beginner",
    steps: [
      {
        title: "Analyze your video",
        description: "Run SPLICE analysis to generate transcript and detect chapters.",
      },
      {
        title: "Open YouTube Generator",
        description: "Navigate to the YouTube section in SPLICE.",
      },
      {
        title: "Generate description",
        description: "Click 'Generate Description' for an SEO-optimized description with timestamps.",
      },
      {
        title: "Generate titles",
        description: "Get multiple title options: engaging, SEO-focused, and professional.",
      },
      {
        title: "Copy chapter timestamps",
        description: "One-click copy timestamps in YouTube's required format.",
      },
      {
        title: "Generate Shorts metadata",
        description: "Create metadata for TikTok, Reels, and YouTube Shorts versions.",
      },
    ],
    tips: [
      "Include main keywords in the first 60 characters of your title",
      "Timestamps in descriptions improve watch time and SEO",
      "Generate multiple title options and A/B test",
    ],
  },
];

export default function TutorialsPage() {
  return (
    <div className="min-h-screen bg-[#060b14] dark">
      <Header />
      <main className="pt-24 pb-16">
        <div className="container mx-auto px-4">
          {/* Back link */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.3 }}
          >
            <Link href="/docs" className="inline-flex items-center text-gray-400 hover:text-[#00D4FF] mb-8">
              <ArrowLeft className="w-4 h-4 mr-2" />
              Back to Documentation
            </Link>
          </motion.div>

          {/* Hero */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5 }}
            className="mb-12"
          >
            <Badge className="mb-4 bg-[#00D4FF]/10 text-[#00D4FF] border-[#00D4FF]/30">
              <BookOpen className="w-3 h-3 mr-1" />
              Step-by-Step Guides
            </Badge>
            <h1 className="text-4xl md:text-5xl font-bold mb-4 text-white">
              Tutorials
            </h1>
            <p className="text-lg text-gray-400 max-w-2xl">
              Learn how to use every SPLICE feature with detailed step-by-step guides.
              From basic silence removal to advanced multitrack editing.
            </p>
          </motion.div>

          {/* Tutorial Grid */}
          <div className="grid md:grid-cols-2 gap-6 mb-12">
            {tutorials.map((tutorial, index) => (
              <motion.div
                key={tutorial.id}
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.5, delay: index * 0.05 }}
              >
                <Card className="h-full bg-[#0d1420] border-gray-800 hover:border-[#00D4FF]/30 transition-all">
                  <CardHeader>
                    <div className="flex items-start justify-between mb-3">
                      <div className="w-10 h-10 rounded-lg bg-[#00D4FF]/10 flex items-center justify-center">
                        <tutorial.icon className="w-5 h-5 text-[#00D4FF]" />
                      </div>
                      <div className="flex items-center gap-2">
                        <Badge variant="outline" className="text-xs border-gray-700 text-gray-400">
                          <Clock className="w-3 h-3 mr-1" />
                          {tutorial.duration}
                        </Badge>
                        <Badge
                          className={`text-xs ${
                            tutorial.difficulty === "Beginner"
                              ? "bg-green-500/20 text-green-400"
                              : tutorial.difficulty === "Intermediate"
                              ? "bg-yellow-500/20 text-yellow-400"
                              : "bg-red-500/20 text-red-400"
                          }`}
                        >
                          {tutorial.difficulty}
                        </Badge>
                      </div>
                    </div>
                    <CardTitle className="text-white text-lg">{tutorial.title}</CardTitle>
                    <p className="text-sm text-gray-400">{tutorial.description}</p>
                  </CardHeader>
                  <CardContent>
                    <div className="space-y-3 mb-4">
                      {tutorial.steps.slice(0, 4).map((step, stepIndex) => (
                        <div key={stepIndex} className="flex items-start gap-3">
                          <div className="w-6 h-6 rounded-full bg-[#00D4FF]/10 flex items-center justify-center text-[#00D4FF] text-xs font-bold shrink-0">
                            {stepIndex + 1}
                          </div>
                          <span className="text-sm text-gray-300">{step.title}</span>
                        </div>
                      ))}
                      {tutorial.steps.length > 4 && (
                        <div className="flex items-center gap-3 text-gray-500 text-sm">
                          <div className="w-6 h-6 rounded-full bg-gray-800 flex items-center justify-center">
                            <Sparkles className="w-3 h-3" />
                          </div>
                          + {tutorial.steps.length - 4} more steps
                        </div>
                      )}
                    </div>

                    {tutorial.tips && (
                      <div className="border-t border-gray-800 pt-4 mt-4">
                        <h4 className="text-xs font-semibold text-gray-400 uppercase mb-2">Pro Tips</h4>
                        <ul className="space-y-1">
                          {tutorial.tips.slice(0, 2).map((tip, tipIndex) => (
                            <li key={tipIndex} className="flex items-start gap-2 text-xs text-gray-500">
                              <CheckCircle className="w-3 h-3 text-[#00D4FF] mt-0.5 shrink-0" />
                              {tip}
                            </li>
                          ))}
                        </ul>
                      </div>
                    )}
                  </CardContent>
                </Card>
              </motion.div>
            ))}
          </div>

          {/* Video Tutorial CTA */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.4 }}
            className="mb-12"
          >
            <Card className="bg-gradient-to-r from-[#00D4FF]/10 to-purple-500/10 border-[#00D4FF]/20">
              <CardContent className="p-8">
                <div className="flex flex-col md:flex-row items-center gap-6">
                  <div className="w-20 h-20 rounded-full bg-[#00D4FF]/20 flex items-center justify-center shrink-0">
                    <Play className="w-8 h-8 text-[#00D4FF] ml-1" />
                  </div>
                  <div className="flex-1 text-center md:text-left">
                    <h3 className="text-xl font-bold text-white mb-2">
                      Video Tutorials Coming Soon
                    </h3>
                    <p className="text-gray-400">
                      Subscribe to our YouTube channel to get notified when we release
                      video versions of all these tutorials.
                    </p>
                  </div>
                  <Button
                    variant="outline"
                    className="border-[#00D4FF]/30 text-[#00D4FF] hover:bg-[#00D4FF]/10"
                  >
                    <Youtube className="w-4 h-4 mr-2" />
                    Subscribe
                  </Button>
                </div>
              </CardContent>
            </Card>
          </motion.div>

          {/* Quick Reference */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.5 }}
            className="mb-12"
          >
            <h2 className="text-xl font-bold text-white mb-4">Quick Workflow Reference</h2>
            <Card className="bg-[#0d1420] border-gray-800">
              <CardContent className="p-6">
                <div className="grid md:grid-cols-3 gap-6">
                  <div>
                    <h3 className="font-semibold text-[#00D4FF] mb-3">Basic Edit</h3>
                    <ol className="space-y-2 text-sm text-gray-400">
                      <li>1. Open sequence in Premiere Pro</li>
                      <li>2. Launch SPLICE panel</li>
                      <li>3. Select preset (e.g., Podcast)</li>
                      <li>4. Click GO to analyze</li>
                      <li>5. Click Build Sequence</li>
                    </ol>
                  </div>
                  <div>
                    <h3 className="font-semibold text-[#00D4FF] mb-3">YouTube Workflow</h3>
                    <ol className="space-y-2 text-sm text-gray-400">
                      <li>1. Analyze video with SPLICE</li>
                      <li>2. Remove silences + takes</li>
                      <li>3. Add animated captions</li>
                      <li>4. Generate AI music</li>
                      <li>5. Generate YouTube metadata</li>
                    </ol>
                  </div>
                  <div>
                    <h3 className="font-semibold text-[#00D4FF] mb-3">Social Repurpose</h3>
                    <ol className="space-y-2 text-sm text-gray-400">
                      <li>1. Complete main edit</li>
                      <li>2. Open Social Reframe</li>
                      <li>3. Select 9:16 aspect ratio</li>
                      <li>4. Enable face tracking</li>
                      <li>5. Batch export all formats</li>
                    </ol>
                  </div>
                </div>
              </CardContent>
            </Card>
          </motion.div>

          {/* Navigation */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.6 }}
            className="flex justify-between items-center"
          >
            <Link href="/docs/api" className="text-gray-400 hover:text-[#00D4FF]">
              <ArrowLeft className="w-4 h-4 inline mr-2" />
              API Reference
            </Link>
            <Link href="/docs/faq" className="text-[#00D4FF] hover:underline">
              FAQ & Troubleshooting
              <ArrowRight className="w-4 h-4 inline ml-2" />
            </Link>
          </motion.div>
        </div>
      </main>
      <Footer />
    </div>
  );
}
