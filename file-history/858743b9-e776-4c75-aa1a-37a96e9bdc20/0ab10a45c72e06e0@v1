<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>MultiAgent Bridge</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				width: 320px;
				min-height: 200px;
				font-family:
					-apple-system,
					BlinkMacSystemFont,
					"Segoe UI",
					Roboto,
					Oxygen,
					Ubuntu,
					sans-serif;
				background: #1e1e1e;
				color: #cccccc;
				padding: 16px;
			}

			.header {
				display: flex;
				align-items: center;
				gap: 10px;
				margin-bottom: 16px;
				padding-bottom: 12px;
				border-bottom: 1px solid #3c3c3c;
			}

			.header img {
				width: 32px;
				height: 32px;
			}

			.header h1 {
				font-size: 16px;
				font-weight: 600;
				color: #ffffff;
			}

			.status-badge {
				display: inline-flex;
				align-items: center;
				gap: 6px;
				padding: 6px 12px;
				border-radius: 4px;
				font-size: 12px;
				font-weight: 500;
				margin-bottom: 16px;
			}

			.status-badge .dot {
				width: 8px;
				height: 8px;
				border-radius: 50%;
			}

			.status-disconnected {
				background: rgba(220, 38, 38, 0.1);
				color: #fca5a5;
			}
			.status-disconnected .dot {
				background: #ef4444;
			}

			.status-connecting {
				background: rgba(234, 179, 8, 0.1);
				color: #fde047;
			}
			.status-connecting .dot {
				background: #eab308;
				animation: pulse 1s infinite;
			}

			.status-connected {
				background: rgba(34, 197, 94, 0.1);
				color: #86efac;
			}
			.status-connected .dot {
				background: #22c55e;
			}

			.status-error {
				background: rgba(239, 68, 68, 0.1);
				color: #fca5a5;
			}
			.status-error .dot {
				background: #ef4444;
			}

			@keyframes pulse {
				0%,
				100% {
					opacity: 1;
				}
				50% {
					opacity: 0.5;
				}
			}

			.form-group {
				margin-bottom: 12px;
			}

			label {
				display: block;
				font-size: 12px;
				color: #9ca3af;
				margin-bottom: 4px;
			}

			input[type="text"] {
				width: 100%;
				padding: 8px 10px;
				border: 1px solid #3c3c3c;
				border-radius: 4px;
				background: #2d2d2d;
				color: #cccccc;
				font-size: 13px;
			}

			input[type="text"]:focus {
				outline: none;
				border-color: #4285f4;
			}

			.button-group {
				display: flex;
				gap: 8px;
				margin-top: 16px;
			}

			button {
				flex: 1;
				padding: 8px 12px;
				border: none;
				border-radius: 4px;
				font-size: 13px;
				font-weight: 500;
				cursor: pointer;
				transition: background 0.2s;
			}

			button:disabled {
				opacity: 0.5;
				cursor: not-allowed;
			}

			.btn-primary {
				background: #4285f4;
				color: white;
			}
			.btn-primary:hover:not(:disabled) {
				background: #3b78e7;
			}

			.btn-secondary {
				background: #3c3c3c;
				color: #cccccc;
			}
			.btn-secondary:hover:not(:disabled) {
				background: #4a4a4a;
			}

			.btn-danger {
				background: #dc2626;
				color: white;
			}
			.btn-danger:hover:not(:disabled) {
				background: #b91c1c;
			}

			.info-section {
				margin-top: 16px;
				padding-top: 12px;
				border-top: 1px solid #3c3c3c;
			}

			.info-row {
				display: flex;
				justify-content: space-between;
				font-size: 12px;
				margin-bottom: 6px;
			}

			.info-row .label {
				color: #9ca3af;
			}

			.info-row .value {
				color: #cccccc;
			}

			.monitoring-toggle {
				display: flex;
				align-items: center;
				justify-content: space-between;
				padding: 8px 0;
			}

			.toggle-switch {
				position: relative;
				width: 36px;
				height: 20px;
			}

			.toggle-switch input {
				opacity: 0;
				width: 0;
				height: 0;
			}

			.toggle-slider {
				position: absolute;
				cursor: pointer;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background-color: #3c3c3c;
				transition: 0.3s;
				border-radius: 20px;
			}

			.toggle-slider:before {
				position: absolute;
				content: "";
				height: 14px;
				width: 14px;
				left: 3px;
				bottom: 3px;
				background-color: #cccccc;
				transition: 0.3s;
				border-radius: 50%;
			}

			input:checked + .toggle-slider {
				background-color: #4285f4;
			}

			input:checked + .toggle-slider:before {
				transform: translateX(16px);
			}

			.footer {
				margin-top: 16px;
				padding-top: 12px;
				border-top: 1px solid #3c3c3c;
				text-align: center;
			}

			.footer a {
				color: #4285f4;
				text-decoration: none;
				font-size: 12px;
			}

			.footer a:hover {
				text-decoration: underline;
			}
		</style>
	</head>
	<body>
		<div class="header">
			<img src="../icons/icon48.png" alt="MultiAgent" />
			<h1>MultiAgent Bridge</h1>
		</div>

		<div id="status-badge" class="status-badge status-disconnected">
			<span class="dot"></span>
			<span id="status-text">Disconnected</span>
		</div>

		<div class="form-group">
			<label for="server-url">VS Code Server URL</label>
			<input type="text" id="server-url" value="ws://127.0.0.1:9876" placeholder="ws://127.0.0.1:9876" />
		</div>

		<div class="button-group">
			<button id="connect-btn" class="btn-primary">Connect</button>
			<button id="disconnect-btn" class="btn-danger" disabled>Disconnect</button>
		</div>

		<div id="connected-info" class="info-section" style="display: none">
			<h3 style="font-size: 12px; color: #9ca3af; margin-bottom: 8px">MONITORING</h3>

			<div class="monitoring-toggle">
				<span style="font-size: 13px">Network Requests</span>
				<label class="toggle-switch">
					<input type="checkbox" id="network-toggle" checked />
					<span class="toggle-slider"></span>
				</label>
			</div>

			<div class="monitoring-toggle">
				<span style="font-size: 13px">Console Messages</span>
				<label class="toggle-switch">
					<input type="checkbox" id="console-toggle" checked />
					<span class="toggle-slider"></span>
				</label>
			</div>
		</div>

		<div class="footer">
			<a href="https://github.com/imorgado/multi-agent" target="_blank">MultiAgent Documentation</a>
		</div>

		<script src="popup.js"></script>
	</body>
</html>
