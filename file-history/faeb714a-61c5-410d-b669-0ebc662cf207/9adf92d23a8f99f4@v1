# LOOKSMAXX

A facial metrics analysis and visualization system with Next.js frontend and MediaPipe-based facial landmark detection.

## Current Focus
Section: Face landmark detection and analysis tool
Files: `src/lib/faceDetectionService.ts`, `src/lib/mediapipeDetection.ts`, `src/components/LandmarkAnalysisTool.tsx`

## Tech Stack

- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Animation**: Framer Motion
- **Face Detection**: MediaPipe Tasks Vision (native WASM)
- **Icons**: Lucide React

## Organization Rules

- Pages/Routes → `src/app/`
- Components → `src/components/`
- Utilities → `src/lib/`
- Types → `src/types/` or co-located

## Code Quality

```bash
cd looksmaxx-app && npm run lint && npx tsc --noEmit
```

## Last Session (2025-12-19)

- Fixed landmark Y-offset: Added `object-contain` offset calculation so landmarks position correctly with letterboxing
- Major performance optimization: Replaced TensorFlow.js (272MB) with native MediaPipe Tasks Vision (49MB) - 7x smaller bundle
- Created `faceDetectionService.ts` singleton with preloading and warmup
- Added model preloading on upload page (loads while user uploads photos)
- Removed 47 TensorFlow.js packages
- Stopped at: Performance optimizations complete, ready for testing

## Next Steps

1. Test landmark detection accuracy and positioning with real photos
2. Verify preloading works (model should be ready when reaching analysis page)
3. Fine-tune landmark index mappings if detection is off for specific features
4. Consider self-hosting WASM files in `/public/wasm/` for better caching
