{
  "enabledPlugins": {
    "minimal-claude@minimal-claude-marketplace": true
  },
  "mcpServers": {},
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/graceful-shutdown.sh cleanup",
            "timeout": 10
          },
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/auto-continue.sh",
            "timeout": 30
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/post-edit-quality.sh",
            "timeout": 30
          },
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/auto-checkpoint-trigger.sh record \"$TOOL_INPUT_file_path\"",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/auto-checkpoint-trigger.sh recommend",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/auto-checkpoint-trigger.sh recommend",
            "timeout": 5
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Context is being auto-compacted. Before compaction:\n\n1. **Create Reflection**: Record what was learned this session:\n   ```bash\n   memory-manager.sh reflect session \"<what was accomplished>\" \"<key insights>\"\n   ```\n\n2. **Record Patterns**: If you learned how to fix something:\n   ```bash\n   memory-manager.sh add-pattern error_fix \"<trigger>\" \"<solution>\"\n   ```\n\n3. **Update CLAUDE.md**:\n   - Brief summary of session progress\n   - Current state (which feature, which step)\n   - Next steps to continue\n\n4. Keep CLAUDE.md under 100 lines\n\nThe auto-continue hook will generate a continuation prompt."
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/self-healing.sh health",
            "timeout": 10
          },
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/autonomous-orchestrator.sh prompt",
            "timeout": 5
          },
          {
            "type": "prompt",
            "prompt": "## FULLY AUTONOMOUS MODE\n\nYou are running in fully autonomous mode. Execute immediately without asking for user input.\n\n### Startup Sequence (Execute All):\n\n1. **Health Check**: Run `~/.claude/hooks/self-healing.sh status`\n   - If unhealthy: Run `self-healing.sh recover` then continue\n\n2. **Load Memory**:\n   ```bash\n   ~/.claude/hooks/memory-manager.sh get-working\n   ~/.claude/hooks/memory-manager.sh recent-episodes 3\n   ```\n\n3. **Check Orchestrator Output**: The autonomous-orchestrator.sh output above tells you what to do. Execute its instructions.\n\n4. **Priority Order**:\n   - RESUME_CONTINUATION → Read and execute continuation prompt\n   - RESUME_BUILD → Continue from current-build.local.md\n   - START_BUILD → Execute /build skill to start building from buildguide.md\n   - CONTINUE_TASK → Resume the task from working memory\n\n5. **If No Automatic Task**: Check if user provided a task in their message and execute it.\n\n### Autonomous Behaviors:\n- Auto-checkpoint after completing features\n- Auto-document after quality gates pass\n- Auto-fix errors (retry up to 3 times)\n- Record all patterns and reflections\n- Never ask for confirmation - just execute\n- Never stop to explain - just do\n\n### CRITICAL: Start working IMMEDIATELY after reading this prompt."
          }
        ]
      }
    ]
  }
}
