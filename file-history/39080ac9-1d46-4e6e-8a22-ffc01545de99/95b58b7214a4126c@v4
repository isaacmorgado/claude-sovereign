{
  "enabledPlugins": {
    "minimal-claude@minimal-claude-marketplace": true
  },
  "mcpServers": {
    "authorizer": {
      "command": "/bin/bash",
      "args": [
        "/Users/imorgado/SPLICE/dev-tools/workspace-config/launcher.sh"
      ]
    }
  },
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/auto-continue.sh",
            "timeout": 30
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/post-edit-quality.sh",
            "timeout": 30
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Context is being auto-compacted. Before compaction:\n\n1. If build in progress (.claude/current-build.local.md exists):\n   - Note current step in the build\n   - Save progress to the state file\n\n2. Update CLAUDE.md:\n   - Brief summary of session progress\n   - Current state (which feature, which step)\n   - Next steps\n\n3. Keep CLAUDE.md under 100 lines\n\nThe auto-continue hook will handle the continuation prompt."
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${HOME}/.claude/hooks/self-healing.sh health",
            "timeout": 10
          },
          {
            "type": "prompt",
            "prompt": "Session startup checklist:\n\n1. **Health Check**: Run `~/.claude/hooks/self-healing.sh status` to check system health\n   - If degraded/unhealthy: Run recovery before proceeding\n\n2. **Resume Build**: If .claude/current-build.local.md exists with phase != complete:\n   - Resume the build from where it stopped\n   - Read the Implementation Steps checklist\n   - Continue from first unchecked item\n\n3. **Build Guide**: If buildguide.md exists with unchecked sections:\n   - Mention: 'Build guide found. Run /build to start autonomous building.'\n\n4. **Session Context**: If CLAUDE.md exists:\n   - Read and acknowledge the session context\n\nDo not start building automatically - wait for user command or /build."
          }
        ]
      }
    ]
  }
}
