# SPLICE Missing Logs - Critical Issue Fix

**Problem:** Chrome DevTools shows NO SPLICE panel logs
**What this means:** The panel HTML loaded, but JavaScript files aren't executing

---

## What Danny Should See vs. What He's Seeing

### ❌ What Danny Sees (BAD):
```
inspector.html?ws=localhost:8088/... Unchecked runtime.lastError...
Main._createAppUI: 9.883056640625 ms
Main._showAppUI: 75.972900390625 ms
```
*These are Chrome DevTools messages, not SPLICE*

### ✅ What Danny SHOULD See (GOOD):
```
[SPLICE] Initializing CEP panel...
[SPLICE] Element caching complete
[JSX] CSInterface initialized
[JSX] hostScript.jsx loaded and ready
[SPLICE] Event listeners initialized
[SPLICE] CEP panel initialized
```

---

## Step 1: Check Console Tab Properly

Danny, in the DevTools window:

1. Click the **"Console" tab** (top of DevTools)
2. Look for a **filter dropdown** (might say "All levels")
3. Make sure **nothing is filtered out**
4. **Scroll up** to the very top of the console
5. Look for **any red error messages**

### Take Screenshot:
- Full Console tab showing ALL messages (scroll to top first)

---

## Step 2: Check if Scripts Loaded

1. Click the **"Sources" tab** (in DevTools)
2. Look in the left sidebar for a file tree
3. Expand the folders to find:
   - `panel/js/main.js`
   - `panel/js/config.js`
   - `panel/js/credits.js`
   - `panel/index.html`

### Questions:
- Do you see these files in the Sources tab?
- If you click `main.js`, does it show code?
- Are there any red error icons?

### Take Screenshot:
- Sources tab showing the file tree

---

## Step 3: Check Network Tab

1. Click the **"Network" tab** (in DevTools)
2. **Reload the panel** (in Premiere Pro: close and reopen SPLICE panel)
3. Watch the Network tab - it will show all file requests

### Look for:
- ❌ **Red entries** = files failed to load
- ✅ **200 OK** = files loaded successfully

### Common Issues:
- `main.js` → **(failed)** = JavaScript file not loading
- `config.js` → **(failed)** = Config file missing
- `index.html` → **304** or **200** = HTML loaded (good)

### Take Screenshot:
- Network tab showing all requests (after reloading panel)

---

## Step 4: Check Panel HTML

In Premiere Pro, look at the SPLICE panel:

### Questions:
1. **Do you see ANYTHING in the panel?**
   - Blank white screen?
   - Loading spinner?
   - Gray background with logo?
   - Complete UI with buttons?

2. **Can you see these elements:**
   - "SPLICE" logo at top?
   - "Login" badge (top right)?
   - "GO" button?
   - Options toggle?
   - Settings button (gear icon)?

3. **What color is the panel background?**
   - Pure white = CSS not loaded
   - Dark gray/blue = CSS loaded

### Take Screenshot:
- SPLICE panel in Premiere Pro (full view)

---

## Step 5: Try Manual Script Loading Test

In the DevTools **Console tab**, paste this command:

```javascript
// Test 1: Check if CSInterface is available
typeof CSInterface
```

**Expected:** Should return `"function"` or `"object"`
**If you get:** `"undefined"` = CEP environment broken

```javascript
// Test 2: Check if jsx object exists
typeof jsx
```

**Expected:** Should return `"object"`
**If you get:** `"undefined"` = main.js didn't load

```javascript
// Test 3: Check if main elements exist
{
  goBtn: document.getElementById('goBtn'),
  creditBadge: document.getElementById('creditBadge'),
  status: document.getElementById('status'),
  optionsToggle: document.getElementById('optionsToggle')
}
```

**Expected:** Should show objects (not null)
**If you get:** `null` values = HTML not rendering or IDs wrong

```javascript
// Test 4: Check if DOMContentLoaded fired
document.readyState
```

**Expected:** Should return `"complete"` or `"interactive"`

### Copy & Paste Results:
Send me the exact output of these 4 commands

---

## Step 6: Check HTML File Directly

In Terminal, run:

```bash
# Check if index.html exists and has content
cat "$HOME/Library/Application Support/Adobe/CEP/extensions/com.splice.cep/panel/index.html" | head -50
```

**Expected:** Should show HTML with `<script>` tags

### Look for these script tags:
```html
<script src="js/config.js"></script>
<script src="js/main.js"></script>
```

### Send me:
- Output of this command (first 50 lines)

---

## Step 7: Check JavaScript Files Exist

```bash
# Check if JS files exist
ls -lh "$HOME/Library/Application Support/Adobe/CEP/extensions/com.splice.cep/panel/js/"
```

**Expected files:**
- `main.js` (should be ~50KB)
- `config.js` (should be ~10KB)
- `credits.js` (should be ~20KB)
- `multitrack.js`
- `music.js`
- `textEditor.js`
- `socialReframe.js`
- `animatedCaptions.js`

### If any are missing or 0 bytes:
The installation is corrupted - need to reinstall

### Send me:
- Output of `ls -lh` command

---

## Most Likely Issues & Fixes

### Issue 1: Panel HTML Loaded But Scripts Not Executing

**Symptoms:**
- DevTools connects successfully
- No SPLICE logs in console
- Panel might show blank screen

**Cause:** JavaScript files not loading or syntax error preventing execution

**Fix:**
```bash
# Step 1: Check for syntax errors in main.js
cat "$HOME/Library/Application Support/Adobe/CEP/extensions/com.splice.cep/panel/js/main.js" | grep -i "error\|undefined" | head -10

# Step 2: Verify file permissions
chmod 644 "$HOME/Library/Application Support/Adobe/CEP/extensions/com.splice.cep/panel/js/"*.js

# Step 3: Reinstall
cd /Users/imorgado/SPLICE
./verify-installation.sh
```

---

### Issue 2: CSInterface Not Available

**Symptoms:**
- `typeof CSInterface` returns `undefined`
- Panel completely broken

**Cause:** CEP environment not initialized or debug mode not enabled

**Fix:**
```bash
# Enable debug mode for Premiere Pro 2025
defaults write com.adobe.CSXS.13 PlayerDebugMode 1

# Also try CSXS.12 for compatibility
defaults write com.adobe.CSXS.12 PlayerDebugMode 1

# Restart Premiere Pro completely (Cmd+Q)
```

---

### Issue 3: DOMContentLoaded Never Fires

**Symptoms:**
- HTML visible but interactive elements don't exist
- Console shows no initialization logs

**Cause:** JavaScript execution blocked or infinite loop

**Fix:**

In DevTools Console:
```javascript
// Manually trigger initialization
if (typeof jsx !== 'undefined') {
    console.log('jsx object exists - checking initialization...');
    console.log('jsx.cs:', jsx.cs);
    console.log('jsx._initialized:', jsx._initialized);
} else {
    console.log('jsx object does NOT exist - main.js did not load!');
}
```

---

### Issue 4: Loading Overlay Never Hides

**Symptoms:**
- Panel shows loading spinner forever
- Can't click anything

**Cause:** Loading overlay timeout didn't fire

**Fix:**

In DevTools Console:
```javascript
// Force hide loading overlay
const loader = document.getElementById('loading-overlay');
if (loader) {
    loader.classList.add('hidden');
    loader.style.display = 'none';
    console.log('Loading overlay hidden');
} else {
    console.log('Loading overlay element not found');
}
```

---

## Quick Diagnostic Script

Danny, run this in DevTools Console:

```javascript
// SPLICE Panel Diagnostic
console.log('=== SPLICE DIAGNOSTIC ===');
console.log('1. Document ready:', document.readyState);
console.log('2. CSInterface available:', typeof CSInterface);
console.log('3. jsx object:', typeof jsx);
console.log('4. Main elements:', {
    goBtn: !!document.getElementById('goBtn'),
    creditBadge: !!document.getElementById('creditBadge'),
    status: !!document.getElementById('status'),
    optionsToggle: !!document.getElementById('optionsToggle')
});
console.log('5. Loading overlay:', {
    exists: !!document.getElementById('loading-overlay'),
    hidden: document.getElementById('loading-overlay')?.classList.contains('hidden'),
    display: document.getElementById('loading-overlay')?.style.display
});
console.log('6. Script tags found:', document.querySelectorAll('script').length);
console.log('7. Scripts loaded:', Array.from(document.querySelectorAll('script')).map(s => s.src || '(inline)'));
console.log('========================');
```

**Copy the entire output and send it to me**

---

## What to Send Back

1. **Screenshot of Console tab** (showing all messages from top)
2. **Screenshot of Sources tab** (showing file tree)
3. **Screenshot of Network tab** (after reload)
4. **Screenshot of SPLICE panel** (in Premiere Pro)
5. **Output of diagnostic script** (copy/paste from console)
6. **Output of these terminal commands:**
   ```bash
   ls -lh "$HOME/Library/Application Support/Adobe/CEP/extensions/com.splice.cep/panel/js/"
   cat "$HOME/Library/Application Support/Adobe/CEP/extensions/com.splice.cep/panel/index.html" | head -50
   ```

---

## Emergency Reinstall

If nothing above works, do a clean reinstall:

```bash
# 1. Close Premiere Pro completely
# 2. Remove old installation
rm -rf "$HOME/Library/Application Support/Adobe/CEP/extensions/com.splice.cep"

# 3. Reinstall
cd /Users/imorgado/SPLICE
open dist/SPLICE-Installer-6.0.8.pkg

# 4. Wait for installation to complete
# 5. Verify installation
./verify-installation.sh

# 6. Restart Premiere Pro
# 7. Open SPLICE panel
# 8. Reconnect DevTools to http://localhost:8088/
```

---

**This guide will help us identify exactly why the JavaScript isn't running!**
