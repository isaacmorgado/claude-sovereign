# SPLICE

AI-powered Premiere Pro UXP plugin for detecting takes, removing silences, and accelerating video editing workflows.

## Current Focus
**1-Click Workflow v2.0** - Complete UX redesign for minimal friction

## Quick Reference

### UI Layout (v2.0)
```
+----------------------------------------------------------+
|  SPLICE                                      [?] [GEAR]   |
+----------------------------------------------------------+
|  [ Status: Ready ]                                        |
+----------------------------------------------------------+
|  +------------------------+  +------------------------+  |
|  |    REMOVE SILENCES     |  |    DETECT TAKES        |  |
|  |        [ GO ]          |  |        [ GO ]          |  |
|  |    + More options      |  |    + More options      |  |
|  +------------------------+  +------------------------+  |
+----------------------------------------------------------+
|  RESULTS (progress / stats / UNDO button)                |
+----------------------------------------------------------+
```

### Key Constraints
- UXP requires Premiere Pro 25.6+
- Use `127.0.0.1` not `localhost` in fetch URLs
- FFprobe required: `brew install ffmpeg`
- Backend runs at https://127.0.0.1:3847

## Key Files

### Plugin (v2.0)
| File | Purpose |
|------|---------|
| `splice-plugin/index.html` | Two-column action cards + results area |
| `splice-plugin/js/main.js` | Unified workflow handlers, internal export |
| `splice-plugin/js/settings.js` | Preferences persistence (localStorage) |
| `splice-plugin/js/slice8-silence.js` | mapSensitivity(), removeSilencesFromTimeline() |
| `splice-plugin/js/slice7-apply.js` | applyBestTakes(), labelTakesOnTimeline() |
| `splice-plugin/js/slice9-razor.js` | Advanced XML razor workflow |

### Backend
- `splice-backend/server.js` - Express HTTPS server on port 3847
- `splice-backend/services/` - transcription, takeDetection, ffprobeSilence, vocalIsolation

## Sensitivity Slider Mapping
| Position | dB Threshold | Min Duration | Padding |
|----------|--------------|--------------|---------|
| 0% (Less) | -50dB | 2.0s | 0.2s |
| 50% (Default) | -35dB | 1.15s | 0.125s |
| 100% (More) | -20dB | 0.3s | 0.05s |

## Last Session (2025-12-19)

**UX Redesign Complete (v2.0):**
- Restructured `index.html` with two-column action cards
- Created `js/settings.js` for localStorage preferences
- Rewrote `js/main.js` with 1-click workflows (GO buttons)
- Audio export now invisible (automatic)
- Added progressive disclosure ("More options" accordion)
- Added UNDO button in results area

**Stopped at:** Ready to test in Premiere Pro

## Next Steps

1. Test 1-click workflow in Premiere Pro
2. Add Replicate billing credit for vocal isolation
3. Implement rate limiting
4. Implement user authentication

---
*Last updated: 2025-12-19*
