# SPLICE Plugin UX Redesign Plan

## Goal
Redesign the SPLICE plugin UI to achieve **1-click silence removal** (down from 4+ clicks) while maintaining power user access to advanced options.

## Design Principles
1. **Progressive Disclosure** - Simple first, power options on demand
2. **Smart Defaults** - First click does something useful (50% sensitivity, original audio)
3. **Auto-Detection** - Detect selected clips vs full sequence automatically
4. **Equal Prominence** - Both Silence Removal and Take Detection are first-class features

---

## New UI Layout

```
+----------------------------------------------------------+
|  SPLICE                                      [?] [GEAR]   |
+----------------------------------------------------------+
|  [ Status: Ready - 3 clips selected ]                    |
+----------------------------------------------------------+
|  +------------------------+  +------------------------+  |
|  |    REMOVE SILENCES     |  |    DETECT TAKES        |  |
|  |    [>>>>>> GO >>>>>>]  |  |    [>>>>>> GO >>>>>>]  |  |
|  |    v More options      |  |    v More options      |  |
|  +------------------------+  +------------------------+  |
+----------------------------------------------------------+
|  RESULTS                                                  |
|  (Progress bar / Results / Undo button)                  |
+----------------------------------------------------------+
```

**Expanded "More options" reveals:** sensitivity slider, audio source selection

---

## Interaction Flow (Common Case)

| Step | User Action | What Happens |
|------|-------------|--------------|
| 1 | Opens plugin | Auto-detects: "Ready - 3 clips selected" or "Full sequence (24 clips)" |
| 2 | Clicks **GO** on Remove Silences | Audio exports (invisible) → Detects silences → Applies → Shows results |
| 3 | (Optional) Clicks **UNDO** | Reverts changes via Premiere's undo system |

**Total: 1 click for the common case**

---

## Files to Modify

### 1. `splice-plugin/index.html`
- Remove: "Read Clips" button (replaced by auto-detect)
- Remove: "Export Audio" button (now invisible/automatic)
- Add: Two-column action card layout
- Add: Collapsible "More options" accordions
- Add: Settings gear icon (top right)
- Add: Unified Results area with progress bar + UNDO

### 2. `splice-plugin/js/main.js`
- Add: `initScopeDetection()` - auto-detect on load
- Add: `initSilenceWorkflow()` - one-click handler
- Add: `initTakesWorkflow()` - one-click handler
- Add: `initOptionsToggles()` - accordion behavior
- Remove: Old button initialization calls

### 3. `splice-plugin/js/slice3-export.js`
- Make `exportAudio` internal (no UI binding)
- Add scope-aware export (selection vs full sequence)
- Remove button click handler

### 4. `splice-plugin/js/slice8-silence.js`
- Refactor for one-click workflow
- Integrate invisible export step
- Add results rendering to unified area
- Keep `mapSensitivity()` function (working well)

### 5. `splice-plugin/js/slice6-analyze.js`
- Refactor for one-click workflow
- Integrate invisible export step
- Add results rendering to unified area

### 6. `splice-plugin/js/slice1-timeline.js`
- Remove "Read Clips" button handler
- Add `getSelectedClips()` function
- Keep utility functions for clip reading

### 7. NEW: `splice-plugin/js/scope-detection.js`
```javascript
async function detectScope() {
  // Returns { type: 'selection'|'sequence', clips: [], description: string }
}
```

### 8. NEW: `splice-plugin/js/settings.js`
```javascript
// Persist user preferences to localStorage
const DEFAULT_SETTINGS = { sensitivity: 50, audioSource: 'original' };
```

---

## Implementation Steps

### Phase 1: Core UI Restructure
1. Backup current index.html
2. Create new HTML structure with action cards
3. Add CSS for two-column layout, accordions, results area
4. Wire up basic button handlers (no logic yet)

### Phase 2: Auto-Detection
1. Create `scope-detection.js` with `detectScope()` function
2. Add selection detection using Premiere Pro API
3. Update status bar on load/focus
4. Test with selected vs unselected clips

### Phase 3: One-Click Silence Workflow
1. Modify `slice8-silence.js` to call export internally
2. Chain: export → detect → apply in single function
3. Render progress in results area
4. Add UNDO button that calls Premiere's undo

### Phase 4: One-Click Takes Workflow
1. Modify `slice6-analyze.js` to call export internally
2. Chain: export → transcribe → analyze in single function
3. Render takes in results area
4. Add "Keep Best" and "Label All" actions

### Phase 5: Progressive Disclosure
1. Add "More options" toggle to each card
2. Move sensitivity slider into collapsible section
3. Move audio source selection into collapsible section
4. Persist collapsed/expanded state to localStorage

### Phase 6: Settings & Polish
1. Add gear icon with settings modal
2. Add default sensitivity preference
3. Add help icon with quick guide
4. Test full workflow end-to-end

---

## Comparison

| Metric | Before | After |
|--------|--------|-------|
| Clicks for silence removal | 4+ | 1 |
| Export Audio | Visible button | Invisible |
| Settings | Always shown | On demand |
| Selection awareness | Manual | Auto-detect |
| Workflow prominence | Sequential | Equal |

---

## Risk Mitigation

1. **Selection API availability** - UXP's `sequence.getSelection()` may not exist in Premiere 25.6. **Fallback**: Start with full sequence only (simpler, still 1-click), add selection support later if API is available.
2. **Export timing** - If export takes >2s, show "Preparing..." status to avoid confusion.
3. **Backward compatibility** - Keep old functions available internally for Razor workflow.

---

## MVP Scope (Recommended)

For the first iteration, implement **without** selection detection:
- Always process full sequence (simpler, still achieves 1-click goal)
- Add selection support as a future enhancement once core UX is validated

This keeps the implementation focused and testable.
