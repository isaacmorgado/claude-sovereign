# Claude Code Autonomous System

## Mode Control

By default, Claude runs in **normal interactive mode**. Use `/auto` to activate autonomous mode.

### Commands
| Command | Description |
|---------|-------------|
| `/auto` | Start fully autonomous mode |
| `/auto stop` | Stop autonomous mode |
| `/auto status` | Check current mode |

### Autonomous Mode (when active)
When `/auto` is running:
- Executes without asking for confirmation
- **Auto-checkpoints at 40% context** (via auto-continue hook → runs /checkpoint → compacts)
- Auto-checkpoints after 10 file changes (via file-change-tracker)
- Auto-fixes errors (retries up to 3 times)
- Auto-documents completed features
- Uses **mcp__grep__searchGitHub** for code examples and solutions
- Uses **GitHub MCP** tools when needed
- Continues until complete or blocked
- Follows Ken's Prompting Guide (short prompts, reference docs)

### Normal Mode (default)
- Works interactively with user
- Asks for confirmation on major actions
- Waits for user instructions

---

## Available Capabilities

### Memory System (`~/.claude/hooks/memory-manager.sh`)
Persistent memory across sessions with 3-factor retrieval scoring.

```bash
# Working memory (current session)
memory-manager.sh set-task "task" "context"
memory-manager.sh add-context "note" 8
memory-manager.sh get-working

# Episodic memory (past experiences)
memory-manager.sh record task_complete "description" success "details"
memory-manager.sh search-episodes "query"

# Semantic memory (facts & patterns)
memory-manager.sh add-fact category key "value" 0.9
memory-manager.sh add-pattern error_fix "trigger" "solution"
memory-manager.sh remember-scored "query"  # 3-factor scoring

# Project-scoped memory (auto-detected)
memory-manager.sh scope  # Shows current memory location
```

### Skill Commands
- `/re [type] [target]` - Reverse engineering (Chrome extensions, Electron apps, APIs)
- `/research-api [target]` - API reverse engineering
- `/build [feature]` - Autonomous feature builder
- `/chrome` - Browser automation
- `/checkpoint` - Save session state
- `/collect` - Research collection
- `/validate` - Validation checks
- `/rootcause` - Root cause analysis

### Automation Hooks
- `agent-loop.sh` - Autonomous execution loop
- `plan-execute.sh` - Task decomposition
- `validation-gate.sh` - Safety checks (blocks dangerous commands)
- `self-healing.sh` - Health checks and recovery
- `task-queue.sh` - Task queue management
- `error-handler.sh` - Error classification and retry
- `thinking-framework.sh` - Chain-of-thought reasoning

### RE Toolkit
- `~/.claude/docs/re-prompts.md` - Copy-paste prompts for RE tasks
- `~/.claude/docs/reverse-engineering-toolkit.md` - Professional toolkit
- `~/.claude/docs/frida-scripts.md` - Mobile RE scripts

## Usage Patterns

### Starting a Task
```bash
# Set working context
memory-manager.sh set-task "Implement feature X" "Context about the task"

# Start agent loop (if needed)
agent-loop.sh start "goal" "context"
```

### Recording Progress
```bash
# After completing something
memory-manager.sh record task_complete "What was done" success "Details"

# After fixing an error
memory-manager.sh record error_fixed "Error description" success "How it was fixed"

# Learning a pattern
memory-manager.sh add-pattern error_fix "When you see X" "Do Y"
```

### Retrieving Context
```bash
# Search all memory with scoring
memory-manager.sh remember-scored "relevant query"

# Get current working context
memory-manager.sh get-working
```

## Session Notes
<!-- Auto-updated by pre-compact hook -->
