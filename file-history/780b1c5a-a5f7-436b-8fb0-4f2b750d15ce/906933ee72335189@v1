/**
 * Example: Quick analysis with minimal code
 *
 * This example shows the simplest way to analyze facial landmarks
 * and get a harmony score.
 */

import { FacialAnalyzer } from '../src/index.js';
import { readFileSync } from 'fs';
import { fileURLToPath } from 'url';
import { dirname, join } from 'path';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

// Load landmarks
const sampleData = JSON.parse(
  readFileSync(join(__dirname, '../tests/testData/sampleLandmarks.json'), 'utf-8')
);

// Quick analysis in a few lines
const analyzer = new FacialAnalyzer({ gender: 'male' });
analyzer.setSideLandmarks(sampleData.sideLandmarks);

const report = analyzer.analyze();

console.log('Quick Facial Analysis Results:');
console.log('==============================');
console.log(`Harmony Score: ${report.harmonyScore.toFixed(1)}/100`);
console.log(`Percentile: ${report.percentiles.overall.toFixed(1)}%`);
console.log(`Profile Type: ${report.measurements.side?.profileType}`);

if (report.recommendations.length > 0) {
  console.log('\nTop Recommendation:');
  console.log(`  ${report.recommendations[0].description}`);
}
