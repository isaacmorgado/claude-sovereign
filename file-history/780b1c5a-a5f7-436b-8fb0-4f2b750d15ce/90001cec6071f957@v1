import type { PopulationStats } from '../types/scoring.js';

/**
 * Population statistics for percentile calculations
 * Based on published anthropometric studies and facial analysis research
 */
export const POPULATION_STATS: Record<string, PopulationStats> = {
  // Overall harmony score
  harmonyScore: {
    mean: 65,
    standardDeviation: 12,
    sampleSize: 10000,
  },

  // FWHR
  fwhr: {
    mean: 1.85,
    standardDeviation: 0.2,
    sampleSize: 10000,
  },

  // Canthal Tilt (degrees)
  canthalTilt: {
    mean: 4,
    standardDeviation: 4,
    sampleSize: 10000,
  },

  // Overall Symmetry (percentage)
  symmetry: {
    mean: 85,
    standardDeviation: 8,
    sampleSize: 10000,
  },

  // Golden Ratio Match (percentage)
  goldenRatioMatch: {
    mean: 70,
    standardDeviation: 15,
    sampleSize: 10000,
  },

  // Nasolabial Angle (degrees)
  nasolabialAngle: {
    mean: 100,
    standardDeviation: 10,
    sampleSize: 5000,
  },

  // Gonial Angle (degrees)
  gonialAngle: {
    mean: 125,
    standardDeviation: 8,
    sampleSize: 5000,
  },

  // Facial Convexity (degrees)
  facialConvexity: {
    mean: 170,
    standardDeviation: 5,
    sampleSize: 5000,
  },

  // Nasal Index
  nasalIndex: {
    mean: 0.68,
    standardDeviation: 0.08,
    sampleSize: 5000,
  },

  // Lip Ratio
  lipRatio: {
    mean: 0.5,
    standardDeviation: 0.12,
    sampleSize: 5000,
  },

  // Chin Projection (mm)
  chinProjection: {
    mean: 0,
    standardDeviation: 4,
    sampleSize: 5000,
  },

  // Nose Projection (Goode ratio)
  noseProjection: {
    mean: 0.6,
    standardDeviation: 0.1,
    sampleSize: 5000,
  },

  // Facial Thirds - Upper
  upperThird: {
    mean: 32,
    standardDeviation: 4,
    sampleSize: 5000,
  },

  // Facial Thirds - Middle
  middleThird: {
    mean: 33,
    standardDeviation: 3,
    sampleSize: 5000,
  },

  // Facial Thirds - Lower
  lowerThird: {
    mean: 35,
    standardDeviation: 4,
    sampleSize: 5000,
  },

  // Interpupillary Distance (normalized)
  interpupillaryDistance: {
    mean: 0.35,  // As ratio of face width
    standardDeviation: 0.03,
    sampleSize: 5000,
  },

  // Nasofrontal Angle (degrees)
  nasofrontalAngle: {
    mean: 130,
    standardDeviation: 8,
    sampleSize: 3000,
  },

  // Nasofacial Angle (degrees)
  nasofacialAngle: {
    mean: 35,
    standardDeviation: 5,
    sampleSize: 3000,
  },

  // Nasomental Angle (degrees)
  nasomentaAngle: {
    mean: 126,
    standardDeviation: 6,
    sampleSize: 3000,
  },

  // Mentocervical Angle (degrees)
  mentocervicalAngle: {
    mean: 95,
    standardDeviation: 10,
    sampleSize: 3000,
  },

  // Mandibular Plane Angle (degrees)
  mandibularPlaneAngle: {
    mean: 26,
    standardDeviation: 5,
    sampleSize: 3000,
  },
};

/**
 * Get population stats for a measurement
 */
export function getPopulationStats(measurement: string): PopulationStats | null {
  return POPULATION_STATS[measurement] || null;
}

/**
 * Default population stats for unknown measurements
 */
export const DEFAULT_POPULATION_STATS: PopulationStats = {
  mean: 50,
  standardDeviation: 15,
  sampleSize: 1000,
};
