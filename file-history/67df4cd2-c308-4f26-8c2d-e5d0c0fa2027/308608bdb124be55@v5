# SPLICE
AI-powered Premiere Pro UXP plugin for detecting takes, removing silences, and accelerating video editing workflows.

## Current Focus
Section: Slice 7 - Apply takes to timeline (ready for testing)
Files: splice-plugin/js/slice7-apply.js

## Last Session (2025-12-19)
- Fixed `sequence.getTicksPerSecond()` error - used constant `254016000000` instead
- Refactored entire codebase into modular slice structure:
  - Backend: `services/transcription.js` (Slice 4), `services/takeDetection.js` (Slice 5)
  - Plugin: `js/` folder with separate files per slice (config, utils, slice1, slice3, slice6, slice7, main)
- Set up ESLint code quality tooling with `/fix` command
- All lint checks pass

## API Endpoint
- `POST https://127.0.0.1:3847/analyze` with `{ "wavPath": "/tmp/splice_audio_export.wav" }`
- Returns: `{ success, wavPath, transcript: { text, segments[], duration }, takes: { takes[], analysis } }`

## Architecture Decisions
- **HTTPS required**: Premiere Pro 25.6.x UXP bug blocks HTTP requests
- **Modular slices**: Each slice in separate file for maintainability
- **Timebase constant**: 254016000000 ticks/second (UXP API lacks getter)

## Key Constraints
- UXP requires Premiere Pro 25.6+ or Beta
- Manifest v5: host must be array `[{ "app": "premierepro" }]`
- Use `127.0.0.1` not `localhost` in fetch URLs

## Next Steps
1. Test Slice 7 in Premiere Pro (label clips, keep best takes)
2. Slice 8: Silence detection and removal

## Project Structure
```
splice-plugin/
├── index.html, manifest.json
└── js/ (config, utils, slice1-timeline, slice3-export, slice6-analyze, slice7-apply, main)

splice-backend/
├── server.js
├── services/ (transcription.js, takeDetection.js)
└── eslint.config.cjs, .env, SSL certs
```
