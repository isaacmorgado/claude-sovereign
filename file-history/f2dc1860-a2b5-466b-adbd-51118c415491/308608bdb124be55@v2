# SPLICE
AI-powered Premiere Pro UXP plugin for detecting takes, removing silences, and accelerating video editing workflows.

## Current Focus
Section: Slice 3 - Backend scaffold
Files: TBD (local Express/Next.js)

## Last Session (2025-12-18)
- Slice 0: Plugin loads in Premiere Pro Beta ✓
- Slice 1: Plugin reads clips from timeline ✓
  - `ppro.Project.getActiveProject()` → `project.getActiveSequence()`
  - `sequence.getVideoTrackCount()` / `getVideoTrack(i)`
  - `track.getTrackItems(ppro.Constants.TrackItemType.CLIP, false)`
  - `await clip.getName()` for clip names
- Slice 2: Audio export ✓
  - `ppro.EncoderManager.getManager()` → `exportSequence(sequence, EXPORT_IMMEDIATELY, outputPath, presetPath, true)`
  - Preset: `/Applications/Adobe Premiere Pro (Beta)/...EncoderPresets/Wave48mono16.epr`
  - Output: 16-bit mono 48kHz WAV
  - **Note**: UXP file picker needs manifest `localFileSystem: fullAccess` + app restart; using `/tmp/` path for now

## Architecture Decisions
- **No Demucs** by default (60-120s processing time, adds webhook complexity)
- **Synchronous pipeline**: Export → Upload → Groq Whisper → GPT-4o-mini → Return
- **Local-first development**: No Railway/R2 until local flow works
- **UXP only**: No CEP fallback (users need 25.6+)

## Key Constraints
- UXP requires Premiere Pro 25.6+ or Beta
- Host in manifest must be `"premierepro"` (lowercase)
- `"entrypoints"` not `"entryPoints"` (lowercase p)
- manifestVersion: 5

## Next Steps
1. ~~Slice 0: Plugin loads in Premiere Pro Beta~~ ✓
2. ~~Slice 1: Plugin reads clips from timeline~~ ✓
3. ~~Slice 2: Plugin exports audio~~ ✓
4. Slice 3: Backend scaffold (local Express/Next.js)
5. Slice 4: Whisper transcription via Groq API
6. Slice 5: GPT-4o-mini take detection

## Project Structure
```
/Users/imorgado/SPLICE/
├── splice-plugin/          # UXP plugin (current focus)
│   ├── manifest.json
│   └── index.html
├── .claude/
│   ├── commands/update-app.md
│   └── plans/sharded-nibbling-dongarra.md  # Full spec document
└── CLAUDE.md
```
