# SPLICE
AI-powered Premiere Pro UXP plugin for detecting takes, removing silences, and accelerating video editing workflows.

## Current Focus
Section: Slice 2 - Audio export (HIGH RISK)
Files: `splice-plugin/index.html`

## Last Session (2025-12-18)
- Slice 0: Plugin loads in Premiere Pro Beta ✓
- Slice 1: Plugin reads clips from timeline ✓
  - `ppro.Project.getActiveProject()` → `project.getActiveSequence()`
  - `sequence.getVideoTrackCount()` / `getVideoTrack(i)`
  - `track.getTrackItems(ppro.Constants.TrackItemType.CLIP, false)`
  - `await clip.getName()` for clip names
- Slice 2: Audio export (IN PROGRESS - needs testing)
  - Added "Export Audio (Test)" button
  - Uses `ppro.EncoderManager.getManager()` → `exportSequence()`
  - UXP file picker: `require('uxp').storage.localFileSystem.getFileForSaving()`
  - Export types: `EXPORT_IMMEDIATELY`, `EXPORT_QUEUE_TO_APP`, `EXPORT_QUEUE_TO_AME`
  - **NEEDS VALIDATION**: Does export work without preset? What preset path for audio-only WAV?

## Architecture Decisions
- **No Demucs** by default (60-120s processing time, adds webhook complexity)
- **Synchronous pipeline**: Export → Upload → Groq Whisper → GPT-4o-mini → Return
- **Local-first development**: No Railway/R2 until local flow works
- **UXP only**: No CEP fallback (users need 25.6+)

## Key Constraints
- UXP requires Premiere Pro 25.6+ or Beta
- Host in manifest must be `"premierepro"` (lowercase)
- `"entrypoints"` not `"entryPoints"` (lowercase p)
- manifestVersion: 5

## Next Steps
1. ~~Slice 0: Plugin loads in Premiere Pro Beta~~ ✓
2. ~~Slice 1: Plugin reads clips from timeline~~ ✓
3. Slice 2: Plugin exports audio (HIGH RISK - validate early)
4. Slice 3: Backend scaffold (local Express/Next.js)

## Project Structure
```
/Users/imorgado/SPLICE/
├── splice-plugin/          # UXP plugin (current focus)
│   ├── manifest.json
│   └── index.html
├── .claude/
│   ├── commands/update-app.md
│   └── plans/sharded-nibbling-dongarra.md  # Full spec document
└── CLAUDE.md
```
