# RunPod + Roo Code Abliterated Models System

Complete system for running uncensored AI models on RunPod GPUs with full integration into VS Code, Roo Code, and Claude Code.

## Quick Start

```bash
# Run full setup
./setup-runpod-system.sh

# Or step by step:
export RUNPOD_API_KEY='your_key_here'
source ~/.zshrc
```

## Architecture

```
                    ┌─────────────────────────────────────────┐
                    │           VS Code / Cursor              │
                    │  ┌─────────────────────────────────┐    │
                    │  │     RunPod GPU Monitor          │    │
                    │  │  [Status Bar] Pause/Resume/Cost │    │
                    │  └─────────────────────────────────┘    │
                    │                                         │
                    │  ┌──────────────┐ ┌──────────────────┐  │
                    │  │   Roo Code   │ │   Claude Code    │  │
                    │  │  Extension   │ │   (Terminal)     │  │
                    │  └──────────────┘ └──────────────────┘  │
                    └───────────┬───────────────┬─────────────┘
                                │               │
                    ┌───────────┴───────────────┴─────────────┐
                    │              MCP Servers                │
                    │  ┌────────────┐  ┌───────────────────┐  │
                    │  │  RunPod    │  │     Ghidra        │  │
                    │  │   MCP      │  │      MCP          │  │
                    │  └────────────┘  └───────────────────┘  │
                    └───────────┬───────────────┬─────────────┘
                                │               │
        ┌───────────────────────┴───────────────┴───────────────────────┐
        │                         RunPod Cloud                          │
        │  ┌──────────────────────────────────────────────────────────┐ │
        │  │                 Serverless Endpoints                     │ │
        │  │                                                          │ │
        │  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐   │ │
        │  │  │  Architect   │  │    Code      │  │   Research   │   │ │
        │  │  │ DeepSeek-32B │  │  Qwen3-30B   │  │  Qwen3-80B   │   │ │
        │  │  │    A40       │  │    A40       │  │  A100 40GB   │   │ │
        │  │  └──────────────┘  └──────────────┘  └──────────────┘   │ │
        │  └──────────────────────────────────────────────────────────┘ │
        └───────────────────────────────────────────────────────────────┘
```

## Components

### 1. VS Code Status Bar Extension
Real-time GPU monitoring and control directly in VS Code.

**Features:**
- Live endpoint status (active/idle)
- One-click pause/resume
- Running cost display
- Session cost tracking
- Quick pick menu for all controls

**Commands (Cmd+Shift+P):**
- `RunPod: Show GPU Status` - Open control menu
- `RunPod: Pause All Endpoints` - Stop all workers
- `RunPod: Resume All Endpoints` - Start all workers
- `RunPod: Show Cost Report` - View detailed costs

**Installation:**
```bash
cd ~/vscode-runpod-gpu
npm install
npm run compile
npx @vscode/vsce package
code --install-extension *.vsix
```

**Configuration (VS Code Settings):**
```json
{
  "runpod.apiKey": "your_api_key",
  "runpod.refreshInterval": 30,
  "runpod.showCostInStatusBar": true,
  "runpod.endpoints": {
    "endpoint_id_1": {"name": "Architect", "gpu": "A40"},
    "endpoint_id_2": {"name": "Code", "gpu": "A40"}
  }
}
```

### 2. Cost Tracker
SQLite-based cost tracking and analytics.

```bash
# View current status
python3 ~/cost_tracker.py status

# Daily breakdown
python3 ~/cost_tracker.py daily 7

# Model breakdown
python3 ~/cost_tracker.py models

# Set daily budget with 80% alert
python3 ~/cost_tracker.py set-budget daily 5.00

# Check budget alerts
python3 ~/cost_tracker.py check-alerts

# Full JSON report
python3 ~/cost_tracker.py report 30
```

### 3. RE Toolkit
Integrated reverse engineering with AI analysis.

```bash
# Check available tools
python3 ~/re_toolkit.py tools

# Basic binary info
python3 ~/re_toolkit.py info /bin/ls

# Extract and categorize strings
python3 ~/re_toolkit.py strings suspicious.bin

# Full analysis with all tools
python3 ~/re_toolkit.py full firmware.bin

# AI-powered analysis via RunPod
python3 ~/re_toolkit.py ai malware.exe architect
```

**Supported Tools:**
- `strings` - String extraction with categorization
- `binwalk` - Firmware analysis
- `radare2` - Disassembly and analysis
- `ghidra` - Decompilation (headless)
- `file`, `nm`, `readelf`, `objdump`

### 4. MCP Servers

#### RunPod MCP (Official)
Manages RunPod cloud resources.

**Install:**
```bash
npm install -g @runpod/mcp
```

**Available Tools:**
- Pod management (create, list, start, stop, delete)
- Serverless endpoints (create, list, update, delete)
- Templates and network volumes
- Container registry auth

#### Ghidra MCP (LaurieWired)
Binary analysis via MCP.

**Install:**
```bash
pip3 install ghidra-mcp
```

**Available Tools:**
- Decompile functions
- List methods/classes/imports/exports
- Rename methods and data
- Analyze binaries

### 5. RunPod API Wrapper
Direct Python interface to your abliterated models.

```bash
# Ask a question
python3 ~/runpod_api.py ask architect "Explain buffer overflow exploitation"

# Screenshot to code
python3 ~/runpod_api.py screenshot-to-code screenshot.png code "Use React"

# Analyze DevTools output
python3 ~/runpod_api.py analyze-devtools console.json network.json

# Analyze patterns in data
python3 ~/runpod_api.py analyze-patterns reddit_posts.json research
```

## MCP Configuration

### For Claude Code
Edit `~/.claude/mcp_servers.json`:
```json
{
  "mcpServers": {
    "runpod": {
      "command": "npx",
      "args": ["-y", "@runpod/mcp"],
      "env": {
        "RUNPOD_API_KEY": "${RUNPOD_API_KEY}"
      }
    },
    "ghidra": {
      "command": "python3",
      "args": ["-m", "ghidra_mcp"],
      "env": {
        "GHIDRA_INSTALL_PATH": "/Applications/ghidra"
      }
    }
  }
}
```

### For Roo Code
Add to VS Code settings (Settings > Extensions > Roo Code > MCP Servers):
```json
{
  "mcpServers": {
    "runpod": {
      "command": "npx",
      "args": ["-y", "@runpod/mcp"],
      "env": {
        "RUNPOD_API_KEY": "your_key"
      },
      "alwaysAllow": ["list_endpoints", "get_endpoint"]
    }
  }
}
```

## Models & GPU Recommendations

| Mode | Model | GPU | VRAM | Cost/hr |
|------|-------|-----|------|---------|
| `/quick` | Qwen3-4B-Thinking | RTX 3090 | 24GB | $0.44 |
| `/code` | Qwen3-Coder-30B | A40 | 48GB | $0.79 |
| `/architect` | DeepSeek-R1-32B | A40 | 48GB | $0.79 |
| `/research` | Qwen3-Next-80B | A100 40GB | 40GB | $1.14 |

## File Locations

```
~/
├── runpod_api.py           # RunPod API wrapper
├── runpod-control.py       # Endpoint control CLI
├── browser_automation.py   # Playwright automation
├── cost_tracker.py         # Cost tracking system
├── re_toolkit.py           # Reverse engineering toolkit
├── setup-runpod-system.sh  # Full setup script
├── mcp-servers-config.json # Claude Code MCP config
├── roo-code-mcp-settings.json # Roo Code MCP config
└── vscode-runpod-gpu/      # VS Code extension
    ├── package.json
    ├── src/extension.ts
    └── out/extension.js
```

## Environment Variables

```bash
# Required
export RUNPOD_API_KEY='your_runpod_api_key'

# Optional (for screenshot analysis)
export OPENAI_API_KEY='your_openai_key'

# Optional (for Ghidra)
export GHIDRA_INSTALL_PATH='/Applications/ghidra'
```

## Workflows

### Daily Development
1. Open VS Code - GPU Monitor shows in status bar
2. Click status bar to resume endpoints when needed
3. Use Roo Code with custom modes (`/architect`, `/code`)
4. Pause endpoints when done to save costs

### Reverse Engineering Session
```bash
# Full analysis with AI
python3 ~/re_toolkit.py ai suspicious.bin architect

# Or step by step
python3 ~/re_toolkit.py strings suspicious.bin
python3 ~/re_toolkit.py binwalk suspicious.bin
python3 ~/re_toolkit.py radare2 suspicious.bin
```

### Cost Management
```bash
# Set daily budget
python3 ~/cost_tracker.py set-budget daily 10.00

# Check status throughout day
python3 ~/cost_tracker.py status

# End of day review
python3 ~/cost_tracker.py daily
```

## Troubleshooting

**API Key not working:**
```bash
echo $RUNPOD_API_KEY  # Should show your key
source ~/.zshrc       # Reload shell config
```

**VS Code extension not loading:**
```bash
code --list-extensions | grep runpod
# If not listed, reinstall:
cd ~/vscode-runpod-gpu && npm run compile && npx @vscode/vsce package
code --install-extension *.vsix --force
```

**MCP server not connecting:**
```bash
# Test RunPod MCP
npx @runpod/mcp --help

# Test Ghidra MCP
python3 -m ghidra_mcp --help
```

**RE tools missing:**
```bash
brew install radare2 binwalk
python3 ~/re_toolkit.py tools  # Verify installation
```

## Security Notes

- API keys stored in `~/.zshrc` (user-only readable)
- Cost database at `~/.runpod_automation/costs.db`
- No credentials stored in code files
- MCP servers run locally only

## Updates

Check for updates:
```bash
npm update -g @runpod/mcp
pip3 install --upgrade ghidra-mcp
```
